var fF=Object.defineProperty;var pF=(n,e,t)=>e in n?fF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ee=(n,e,t)=>(pF(n,typeof e!="symbol"?e+"":e,t),t);function Sd(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function la(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var GN={exports:{}},Qw={},JN={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=Symbol.for("react.element"),gF=Symbol.for("react.portal"),yF=Symbol.for("react.fragment"),mF=Symbol.for("react.strict_mode"),bF=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),SF=Symbol.for("react.forward_ref"),AF=Symbol.for("react.suspense"),_F=Symbol.for("react.memo"),vF=Symbol.for("react.lazy"),PT=Symbol.iterator;function EF(n){return n===null||typeof n!="object"?null:(n=PT&&n[PT]||n["@@iterator"],typeof n=="function"?n:null)}var QN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZN=Object.assign,XN={};function kp(n,e,t){this.props=n,this.context=e,this.refs=XN,this.updater=t||QN}kp.prototype.isReactComponent={};kp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};kp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function e3(){}e3.prototype=kp.prototype;function tP(n,e,t){this.props=n,this.context=e,this.refs=XN,this.updater=t||QN}var nP=tP.prototype=new e3;nP.constructor=tP;ZN(nP,kp.prototype);nP.isPureReactComponent=!0;var xT=Array.isArray,t3=Object.prototype.hasOwnProperty,rP={current:null},n3={key:!0,ref:!0,__self:!0,__source:!0};function r3(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)t3.call(e,r)&&!n3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wm,type:n,key:s,ref:o,props:i,_owner:rP.current}}function IF(n,e){return{$$typeof:wm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function iP(n){return typeof n=="object"&&n!==null&&n.$$typeof===wm}function RF(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var BT=/\/+/g;function bA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?RF(""+n.key):e.toString(36)}function Qb(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case wm:case gF:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+bA(o,0):r,xT(i)?(t="",n!=null&&(t=n.replace(BT,"$&/")+"/"),Qb(i,e,t,"",function(u){return u})):i!=null&&(iP(i)&&(i=IF(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xT(n))for(var a=0;a<n.length;a++){s=n[a];var c=r+bA(s,a);o+=Qb(s,e,t,c,i)}else if(c=EF(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=r+bA(s,a++),o+=Qb(s,e,t,c,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rb(n,e,t){if(n==null)return n;var r=[],i=0;return Qb(n,r,"","",function(s){return e.call(t,s,i++)}),r}function PF(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var fs={current:null},Zb={transition:null},xF={ReactCurrentDispatcher:fs,ReactCurrentBatchConfig:Zb,ReactCurrentOwner:rP};function i3(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:rb,forEach:function(n,e,t){rb(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return rb(n,function(){e++}),e},toArray:function(n){return rb(n,function(e){return e})||[]},only:function(n){if(!iP(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};en.Component=kp;en.Fragment=yF;en.Profiler=bF;en.PureComponent=tP;en.StrictMode=mF;en.Suspense=AF;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF;en.act=i3;en.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=ZN({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=rP.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)t3.call(e,c)&&!n3.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wm,type:n.type,key:i,ref:s,props:r,_owner:o}};en.createContext=function(n){return n={$$typeof:kF,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wF,_context:n},n.Consumer=n};en.createElement=r3;en.createFactory=function(n){var e=r3.bind(null,n);return e.type=n,e};en.createRef=function(){return{current:null}};en.forwardRef=function(n){return{$$typeof:SF,render:n}};en.isValidElement=iP;en.lazy=function(n){return{$$typeof:vF,_payload:{_status:-1,_result:n},_init:PF}};en.memo=function(n,e){return{$$typeof:_F,type:n,compare:e===void 0?null:e}};en.startTransition=function(n){var e=Zb.transition;Zb.transition={};try{n()}finally{Zb.transition=e}};en.unstable_act=i3;en.useCallback=function(n,e){return fs.current.useCallback(n,e)};en.useContext=function(n){return fs.current.useContext(n)};en.useDebugValue=function(){};en.useDeferredValue=function(n){return fs.current.useDeferredValue(n)};en.useEffect=function(n,e){return fs.current.useEffect(n,e)};en.useId=function(){return fs.current.useId()};en.useImperativeHandle=function(n,e,t){return fs.current.useImperativeHandle(n,e,t)};en.useInsertionEffect=function(n,e){return fs.current.useInsertionEffect(n,e)};en.useLayoutEffect=function(n,e){return fs.current.useLayoutEffect(n,e)};en.useMemo=function(n,e){return fs.current.useMemo(n,e)};en.useReducer=function(n,e,t){return fs.current.useReducer(n,e,t)};en.useRef=function(n){return fs.current.useRef(n)};en.useState=function(n){return fs.current.useState(n)};en.useSyncExternalStore=function(n,e,t){return fs.current.useSyncExternalStore(n,e,t)};en.useTransition=function(){return fs.current.useTransition()};en.version="18.3.1";JN.exports=en;var ke=JN.exports;const Re=Do(ke),BF=Sd({__proto__:null,default:Re},[ke]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF=ke,CF=Symbol.for("react.element"),MF=Symbol.for("react.fragment"),LF=Object.prototype.hasOwnProperty,OF=TF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NF={key:!0,ref:!0,__self:!0,__source:!0};function s3(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LF.call(e,r)&&!NF.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CF,type:n,key:s,ref:o,props:i,_owner:OF.current}}Qw.Fragment=MF;Qw.jsx=s3;Qw.jsxs=s3;GN.exports=Qw;var me=GN.exports,uE={},o3={exports:{}},po={},a3={exports:{}},c3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(C,$){var Q=C.length;C.push($);e:for(;0<Q;){var N=Q-1>>>1,E=C[N];if(0<i(E,$))C[N]=$,C[Q]=E,Q=N;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var $=C[0],Q=C.pop();if(Q!==$){C[0]=Q;e:for(var N=0,E=C.length,Y=E>>>1;N<Y;){var fe=2*(N+1)-1,we=C[fe],ve=fe+1,De=C[ve];if(0>i(we,Q))ve<E&&0>i(De,we)?(C[N]=De,C[ve]=Q,N=ve):(C[N]=we,C[fe]=Q,N=fe);else if(ve<E&&0>i(De,Q))C[N]=De,C[ve]=Q,N=ve;else break e}}return $}function i(C,$){var Q=C.sortIndex-$.sortIndex;return Q!==0?Q:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],l=1,d=null,b=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(C){for(var $=t(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=C)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=t(u)}}function x(C){if(y=!1,R(C),!g)if(t(c)!==null)g=!0,B(K);else{var $=t(u);$!==null&&W(x,$.startTime-C)}}function K(C,$){g=!1,y&&(y=!1,w(Z),Z=-1),p=!0;var Q=b;try{for(R($),d=t(c);d!==null&&(!(d.expirationTime>$)||C&&!ne());){var N=d.callback;if(typeof N=="function"){d.callback=null,b=d.priorityLevel;var E=N(d.expirationTime<=$);$=n.unstable_now(),typeof E=="function"?d.callback=E:d===t(c)&&r(c),R($)}else r(c);d=t(c)}if(d!==null)var Y=!0;else{var fe=t(u);fe!==null&&W(x,fe.startTime-$),Y=!1}return Y}finally{d=null,b=Q,p=!1}}var J=!1,M=null,Z=-1,ie=5,X=-1;function ne(){return!(n.unstable_now()-X<ie)}function ae(){if(M!==null){var C=n.unstable_now();X=C;var $=!0;try{$=M(!0,C)}finally{$?L():(J=!1,M=null)}}else J=!1}var L;if(typeof _=="function")L=function(){_(ae)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,v=m.port2;m.port1.onmessage=ae,L=function(){v.postMessage(null)}}else L=function(){S(ae,0)};function B(C){M=C,J||(J=!0,L())}function W(C,$){Z=S(function(){C(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,B(K))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(C){switch(b){case 1:case 2:case 3:var $=3;break;default:$=b}var Q=b;b=$;try{return C()}finally{b=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Q=b;b=C;try{return $()}finally{b=Q}},n.unstable_scheduleCallback=function(C,$,Q){var N=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?N+Q:N):Q=N,C){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Q+E,C={id:l++,callback:$,priorityLevel:C,startTime:Q,expirationTime:E,sortIndex:-1},Q>N?(C.sortIndex=Q,e(u,C),t(c)===null&&C===t(u)&&(y?(w(Z),Z=-1):y=!0,W(x,Q-N))):(C.sortIndex=E,e(c,C),g||p||(g=!0,B(K))),C},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(C){var $=b;return function(){var Q=b;b=$;try{return C.apply(this,arguments)}finally{b=Q}}}})(c3);a3.exports=c3;var $F=a3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF=ke,ho=$F;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u3=new Set,hy={};function Ad(n,e){Fh(n,e),Fh(n+"Capture",e)}function Fh(n,e){for(hy[n]=e,n=0;n<e.length;n++)u3.add(e[n])}var jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lE=Object.prototype.hasOwnProperty,zF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TT={},CT={};function DF(n){return lE.call(CT,n)?!0:lE.call(TT,n)?!1:zF.test(n)?CT[n]=!0:(TT[n]=!0,!1)}function UF(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function KF(n,e,t,r){if(e===null||typeof e>"u"||UF(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ps(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zi[n]=new ps(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];zi[e]=new ps(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zi[n]=new ps(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zi[n]=new ps(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zi[n]=new ps(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zi[n]=new ps(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zi[n]=new ps(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zi[n]=new ps(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zi[n]=new ps(n,5,!1,n.toLowerCase(),null,!1,!1)});var sP=/[\-:]([a-z])/g;function oP(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(sP,oP);zi[e]=new ps(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(sP,oP);zi[e]=new ps(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(sP,oP);zi[e]=new ps(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zi[n]=new ps(n,1,!1,n.toLowerCase(),null,!1,!1)});zi.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zi[n]=new ps(n,1,!1,n.toLowerCase(),null,!0,!0)});function aP(n,e,t,r){var i=zi.hasOwnProperty(e)?zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KF(e,t,i,r)&&(t=null),r||i===null?DF(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Xc=qF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ib=Symbol.for("react.element"),lh=Symbol.for("react.portal"),dh=Symbol.for("react.fragment"),cP=Symbol.for("react.strict_mode"),dE=Symbol.for("react.profiler"),l3=Symbol.for("react.provider"),d3=Symbol.for("react.context"),uP=Symbol.for("react.forward_ref"),hE=Symbol.for("react.suspense"),fE=Symbol.for("react.suspense_list"),lP=Symbol.for("react.memo"),fu=Symbol.for("react.lazy"),h3=Symbol.for("react.offscreen"),MT=Symbol.iterator;function Xp(n){return n===null||typeof n!="object"?null:(n=MT&&n[MT]||n["@@iterator"],typeof n=="function"?n:null)}var Kr=Object.assign,wA;function vg(n){if(wA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);wA=e&&e[1]||""}return`
`+wA+n}var kA=!1;function SA(n,e){if(!n||kA)return"";kA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{kA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?vg(n):""}function WF(n){switch(n.tag){case 5:return vg(n.type);case 16:return vg("Lazy");case 13:return vg("Suspense");case 19:return vg("SuspenseList");case 0:case 2:case 15:return n=SA(n.type,!1),n;case 11:return n=SA(n.type.render,!1),n;case 1:return n=SA(n.type,!0),n;default:return""}}function pE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case dh:return"Fragment";case lh:return"Portal";case dE:return"Profiler";case cP:return"StrictMode";case hE:return"Suspense";case fE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case d3:return(n.displayName||"Context")+".Consumer";case l3:return(n._context.displayName||"Context")+".Provider";case uP:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case lP:return e=n.displayName||null,e!==null?e:pE(n.type)||"Memo";case fu:e=n._payload,n=n._init;try{return pE(n(e))}catch{}}return null}function FF(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pE(e);case 8:return e===cP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function f3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VF(n){var e=f3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function sb(n){n._valueTracker||(n._valueTracker=VF(n))}function p3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=f3(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function n0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gE(n,e){var t=e.checked;return Kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function LT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Hu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g3(n,e){e=e.checked,e!=null&&aP(n,"checked",e,!1)}function yE(n,e){g3(n,e);var t=Hu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?mE(n,e.type,t):e.hasOwnProperty("defaultValue")&&mE(n,e.type,Hu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function OT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function mE(n,e,t){(e!=="number"||n0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Eg=Array.isArray;function Mh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Hu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function bE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Kr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function NT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(Eg(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hu(t)}}function y3(n,e){var t=Hu(e.value),r=Hu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function $T(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function m3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?m3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ob,b3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ob=ob||document.createElement("div"),ob.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ob.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function fy(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var qg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jF=["Webkit","ms","Moz","O"];Object.keys(qg).forEach(function(n){jF.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),qg[e]=qg[n]})});function w3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||qg.hasOwnProperty(n)&&qg[n]?(""+e).trim():e+"px"}function k3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=w3(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var HF=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kE(n,e){if(e){if(HF[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function SE(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AE=null;function dP(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var _E=null,Lh=null,Oh=null;function qT(n){if(n=Am(n)){if(typeof _E!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=nk(e),_E(n.stateNode,n.type,e))}}function S3(n){Lh?Oh?Oh.push(n):Oh=[n]:Lh=n}function A3(){if(Lh){var n=Lh,e=Oh;if(Oh=Lh=null,qT(n),e)for(n=0;n<e.length;n++)qT(e[n])}}function _3(n,e){return n(e)}function v3(){}var AA=!1;function E3(n,e,t){if(AA)return n(e,t);AA=!0;try{return _3(n,e,t)}finally{AA=!1,(Lh!==null||Oh!==null)&&(v3(),A3())}}function py(n,e){var t=n.stateNode;if(t===null)return null;var r=nk(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var vE=!1;if(jc)try{var eg={};Object.defineProperty(eg,"passive",{get:function(){vE=!0}}),window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{vE=!1}function YF(n,e,t,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(l){this.onError(l)}}var zg=!1,r0=null,i0=!1,EE=null,GF={onError:function(n){zg=!0,r0=n}};function JF(n,e,t,r,i,s,o,a,c){zg=!1,r0=null,YF.apply(GF,arguments)}function QF(n,e,t,r,i,s,o,a,c){if(JF.apply(this,arguments),zg){if(zg){var u=r0;zg=!1,r0=null}else throw Error(Me(198));i0||(i0=!0,EE=u)}}function _d(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function I3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function zT(n){if(_d(n)!==n)throw Error(Me(188))}function ZF(n){var e=n.alternate;if(!e){if(e=_d(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return zT(i),n;if(s===r)return zT(i),e;s=s.sibling}throw Error(Me(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==r)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function R3(n){return n=ZF(n),n!==null?P3(n):null}function P3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=P3(n);if(e!==null)return e;n=n.sibling}return null}var x3=ho.unstable_scheduleCallback,DT=ho.unstable_cancelCallback,XF=ho.unstable_shouldYield,eV=ho.unstable_requestPaint,ni=ho.unstable_now,tV=ho.unstable_getCurrentPriorityLevel,hP=ho.unstable_ImmediatePriority,B3=ho.unstable_UserBlockingPriority,s0=ho.unstable_NormalPriority,nV=ho.unstable_LowPriority,T3=ho.unstable_IdlePriority,Zw=null,Ya=null;function rV(n){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(Zw,n,void 0,(n.current.flags&128)===128)}catch{}}var na=Math.clz32?Math.clz32:oV,iV=Math.log,sV=Math.LN2;function oV(n){return n>>>=0,n===0?32:31-(iV(n)/sV|0)|0}var ab=64,cb=4194304;function Ig(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function o0(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ig(a):(s&=o,s!==0&&(r=Ig(s)))}else o=t&~i,o!==0?r=Ig(o):s!==0&&(r=Ig(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-na(e),i=1<<t,r|=n[t],e&=~i;return r}function aV(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cV(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-na(s),a=1<<o,c=i[o];c===-1?(!(a&t)||a&r)&&(i[o]=aV(a,e)):c<=e&&(n.expiredLanes|=a),s&=~a}}function IE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function C3(){var n=ab;return ab<<=1,!(ab&4194240)&&(ab=64),n}function _A(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function km(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-na(e),n[e]=t}function uV(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-na(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function fP(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-na(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Hn=0;function M3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var L3,pP,O3,N3,$3,RE=!1,ub=[],Ru=null,Pu=null,xu=null,gy=new Map,yy=new Map,yu=[],lV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UT(n,e){switch(n){case"focusin":case"focusout":Ru=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":gy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yy.delete(e.pointerId)}}function tg(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Am(e),e!==null&&pP(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dV(n,e,t,r,i){switch(e){case"focusin":return Ru=tg(Ru,n,e,t,r,i),!0;case"dragenter":return Pu=tg(Pu,n,e,t,r,i),!0;case"mouseover":return xu=tg(xu,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return gy.set(s,tg(gy.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yy.set(s,tg(yy.get(s)||null,n,e,t,r,i)),!0}return!1}function q3(n){var e=xl(n.target);if(e!==null){var t=_d(e);if(t!==null){if(e=t.tag,e===13){if(e=I3(t),e!==null){n.blockedOn=e,$3(n.priority,function(){O3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Xb(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=PE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);AE=r,t.target.dispatchEvent(r),AE=null}else return e=Am(t),e!==null&&pP(e),n.blockedOn=t,!1;e.shift()}return!0}function KT(n,e,t){Xb(n)&&t.delete(e)}function hV(){RE=!1,Ru!==null&&Xb(Ru)&&(Ru=null),Pu!==null&&Xb(Pu)&&(Pu=null),xu!==null&&Xb(xu)&&(xu=null),gy.forEach(KT),yy.forEach(KT)}function ng(n,e){n.blockedOn===e&&(n.blockedOn=null,RE||(RE=!0,ho.unstable_scheduleCallback(ho.unstable_NormalPriority,hV)))}function my(n){function e(i){return ng(i,n)}if(0<ub.length){ng(ub[0],n);for(var t=1;t<ub.length;t++){var r=ub[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ru!==null&&ng(Ru,n),Pu!==null&&ng(Pu,n),xu!==null&&ng(xu,n),gy.forEach(e),yy.forEach(e),t=0;t<yu.length;t++)r=yu[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<yu.length&&(t=yu[0],t.blockedOn===null);)q3(t),t.blockedOn===null&&yu.shift()}var Nh=Xc.ReactCurrentBatchConfig,a0=!0;function fV(n,e,t,r){var i=Hn,s=Nh.transition;Nh.transition=null;try{Hn=1,gP(n,e,t,r)}finally{Hn=i,Nh.transition=s}}function pV(n,e,t,r){var i=Hn,s=Nh.transition;Nh.transition=null;try{Hn=4,gP(n,e,t,r)}finally{Hn=i,Nh.transition=s}}function gP(n,e,t,r){if(a0){var i=PE(n,e,t,r);if(i===null)MA(n,e,r,c0,t),UT(n,r);else if(dV(i,n,e,t,r))r.stopPropagation();else if(UT(n,r),e&4&&-1<lV.indexOf(n)){for(;i!==null;){var s=Am(i);if(s!==null&&L3(s),s=PE(n,e,t,r),s===null&&MA(n,e,r,c0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else MA(n,e,r,null,t)}}var c0=null;function PE(n,e,t,r){if(c0=null,n=dP(r),n=xl(n),n!==null)if(e=_d(n),e===null)n=null;else if(t=e.tag,t===13){if(n=I3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return c0=n,null}function z3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tV()){case hP:return 1;case B3:return 4;case s0:case nV:return 16;case T3:return 536870912;default:return 16}default:return 16}}var ku=null,yP=null,e1=null;function D3(){if(e1)return e1;var n,e=yP,t=e.length,r,i="value"in ku?ku.value:ku.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return e1=i.slice(n,1<r?1-r:void 0)}function t1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function lb(){return!0}function WT(){return!1}function go(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lb:WT,this.isPropagationStopped=WT,this}return Kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=lb)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=lb)},persist:function(){},isPersistent:lb}),e}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mP=go(Sp),Sm=Kr({},Sp,{view:0,detail:0}),gV=go(Sm),vA,EA,rg,Xw=Kr({},Sm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bP,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rg&&(rg&&n.type==="mousemove"?(vA=n.screenX-rg.screenX,EA=n.screenY-rg.screenY):EA=vA=0,rg=n),vA)},movementY:function(n){return"movementY"in n?n.movementY:EA}}),FT=go(Xw),yV=Kr({},Xw,{dataTransfer:0}),mV=go(yV),bV=Kr({},Sm,{relatedTarget:0}),IA=go(bV),wV=Kr({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),kV=go(wV),SV=Kr({},Sp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AV=go(SV),_V=Kr({},Sp,{data:0}),VT=go(_V),vV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RV(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IV[n])?!!e[n]:!1}function bP(){return RV}var PV=Kr({},Sm,{key:function(n){if(n.key){var e=vV[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=t1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EV[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bP,charCode:function(n){return n.type==="keypress"?t1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?t1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xV=go(PV),BV=Kr({},Xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jT=go(BV),TV=Kr({},Sm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bP}),CV=go(TV),MV=Kr({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),LV=go(MV),OV=Kr({},Xw,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),NV=go(OV),$V=[9,13,27,32],wP=jc&&"CompositionEvent"in window,Dg=null;jc&&"documentMode"in document&&(Dg=document.documentMode);var qV=jc&&"TextEvent"in window&&!Dg,U3=jc&&(!wP||Dg&&8<Dg&&11>=Dg),HT=" ",YT=!1;function K3(n,e){switch(n){case"keyup":return $V.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var hh=!1;function zV(n,e){switch(n){case"compositionend":return W3(e);case"keypress":return e.which!==32?null:(YT=!0,HT);case"textInput":return n=e.data,n===HT&&YT?null:n;default:return null}}function DV(n,e){if(hh)return n==="compositionend"||!wP&&K3(n,e)?(n=D3(),e1=yP=ku=null,hh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U3&&e.locale!=="ko"?null:e.data;default:return null}}var UV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!UV[n.type]:e==="textarea"}function F3(n,e,t,r){S3(r),e=u0(e,"onChange"),0<e.length&&(t=new mP("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ug=null,by=null;function KV(n){t$(n,0)}function ek(n){var e=gh(n);if(p3(e))return n}function WV(n,e){if(n==="change")return e}var V3=!1;if(jc){var RA;if(jc){var PA="oninput"in document;if(!PA){var JT=document.createElement("div");JT.setAttribute("oninput","return;"),PA=typeof JT.oninput=="function"}RA=PA}else RA=!1;V3=RA&&(!document.documentMode||9<document.documentMode)}function QT(){Ug&&(Ug.detachEvent("onpropertychange",j3),by=Ug=null)}function j3(n){if(n.propertyName==="value"&&ek(by)){var e=[];F3(e,by,n,dP(n)),E3(KV,e)}}function FV(n,e,t){n==="focusin"?(QT(),Ug=e,by=t,Ug.attachEvent("onpropertychange",j3)):n==="focusout"&&QT()}function VV(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ek(by)}function jV(n,e){if(n==="click")return ek(e)}function HV(n,e){if(n==="input"||n==="change")return ek(e)}function YV(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var oa=typeof Object.is=="function"?Object.is:YV;function wy(n,e){if(oa(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!lE.call(e,i)||!oa(n[i],e[i]))return!1}return!0}function ZT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function XT(n,e){var t=ZT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ZT(t)}}function H3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?H3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Y3(){for(var n=window,e=n0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=n0(n.document)}return e}function kP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function GV(n){var e=Y3(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&H3(t.ownerDocument.documentElement,t)){if(r!==null&&kP(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=XT(t,s);var o=XT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JV=jc&&"documentMode"in document&&11>=document.documentMode,fh=null,xE=null,Kg=null,BE=!1;function e2(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;BE||fh==null||fh!==n0(r)||(r=fh,"selectionStart"in r&&kP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kg&&wy(Kg,r)||(Kg=r,r=u0(xE,"onSelect"),0<r.length&&(e=new mP("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=fh)))}function db(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ph={animationend:db("Animation","AnimationEnd"),animationiteration:db("Animation","AnimationIteration"),animationstart:db("Animation","AnimationStart"),transitionend:db("Transition","TransitionEnd")},xA={},G3={};jc&&(G3=document.createElement("div").style,"AnimationEvent"in window||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),"TransitionEvent"in window||delete ph.transitionend.transition);function tk(n){if(xA[n])return xA[n];if(!ph[n])return n;var e=ph[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in G3)return xA[n]=e[t];return n}var J3=tk("animationend"),Q3=tk("animationiteration"),Z3=tk("animationstart"),X3=tk("transitionend"),e$=new Map,t2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(n,e){e$.set(n,e),Ad(e,[n])}for(var BA=0;BA<t2.length;BA++){var TA=t2[BA],QV=TA.toLowerCase(),ZV=TA[0].toUpperCase()+TA.slice(1);tl(QV,"on"+ZV)}tl(J3,"onAnimationEnd");tl(Q3,"onAnimationIteration");tl(Z3,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(X3,"onTransitionEnd");Fh("onMouseEnter",["mouseout","mouseover"]);Fh("onMouseLeave",["mouseout","mouseover"]);Fh("onPointerEnter",["pointerout","pointerover"]);Fh("onPointerLeave",["pointerout","pointerover"]);Ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rg));function n2(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,QF(r,e,void 0,n),n.currentTarget=null}function t$(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;n2(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;n2(i,a,u),s=c}}}if(i0)throw n=EE,i0=!1,EE=null,n}function kr(n,e){var t=e[OE];t===void 0&&(t=e[OE]=new Set);var r=n+"__bubble";t.has(r)||(n$(e,n,2,!1),t.add(r))}function CA(n,e,t){var r=0;e&&(r|=4),n$(t,n,r,e)}var hb="_reactListening"+Math.random().toString(36).slice(2);function ky(n){if(!n[hb]){n[hb]=!0,u3.forEach(function(t){t!=="selectionchange"&&(XV.has(t)||CA(t,!1,n),CA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[hb]||(e[hb]=!0,CA("selectionchange",!1,e))}}function n$(n,e,t,r){switch(z3(e)){case 1:var i=fV;break;case 4:i=pV;break;default:i=gP}t=i.bind(null,e,t,n),i=void 0,!vE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function MA(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xl(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}E3(function(){var u=s,l=dP(t),d=[];e:{var b=e$.get(n);if(b!==void 0){var p=mP,g=n;switch(n){case"keypress":if(t1(t)===0)break e;case"keydown":case"keyup":p=xV;break;case"focusin":g="focus",p=IA;break;case"focusout":g="blur",p=IA;break;case"beforeblur":case"afterblur":p=IA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CV;break;case J3:case Q3:case Z3:p=kV;break;case X3:p=LV;break;case"scroll":p=gV;break;case"wheel":p=NV;break;case"copy":case"cut":case"paste":p=AV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jT}var y=(e&4)!==0,S=!y&&n==="scroll",w=y?b!==null?b+"Capture":null:b;y=[];for(var _=u,R;_!==null;){R=_;var x=R.stateNode;if(R.tag===5&&x!==null&&(R=x,w!==null&&(x=py(_,w),x!=null&&y.push(Sy(_,x,R)))),S)break;_=_.return}0<y.length&&(b=new p(b,g,null,t,l),d.push({event:b,listeners:y}))}}if(!(e&7)){e:{if(b=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",b&&t!==AE&&(g=t.relatedTarget||t.fromElement)&&(xl(g)||g[Hc]))break e;if((p||b)&&(b=l.window===l?l:(b=l.ownerDocument)?b.defaultView||b.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?xl(g):null,g!==null&&(S=_d(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=FT,x="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=jT,x="onPointerLeave",w="onPointerEnter",_="pointer"),S=p==null?b:gh(p),R=g==null?b:gh(g),b=new y(x,_+"leave",p,t,l),b.target=S,b.relatedTarget=R,x=null,xl(l)===u&&(y=new y(w,_+"enter",g,t,l),y.target=R,y.relatedTarget=S,x=y),S=x,p&&g)t:{for(y=p,w=g,_=0,R=y;R;R=Fd(R))_++;for(R=0,x=w;x;x=Fd(x))R++;for(;0<_-R;)y=Fd(y),_--;for(;0<R-_;)w=Fd(w),R--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=Fd(y),w=Fd(w)}y=null}else y=null;p!==null&&r2(d,b,p,y,!1),g!==null&&S!==null&&r2(d,S,g,y,!0)}}e:{if(b=u?gh(u):window,p=b.nodeName&&b.nodeName.toLowerCase(),p==="select"||p==="input"&&b.type==="file")var K=WV;else if(GT(b))if(V3)K=HV;else{K=VV;var J=FV}else(p=b.nodeName)&&p.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(K=jV);if(K&&(K=K(n,u))){F3(d,K,t,l);break e}J&&J(n,b,u),n==="focusout"&&(J=b._wrapperState)&&J.controlled&&b.type==="number"&&mE(b,"number",b.value)}switch(J=u?gh(u):window,n){case"focusin":(GT(J)||J.contentEditable==="true")&&(fh=J,xE=u,Kg=null);break;case"focusout":Kg=xE=fh=null;break;case"mousedown":BE=!0;break;case"contextmenu":case"mouseup":case"dragend":BE=!1,e2(d,t,l);break;case"selectionchange":if(JV)break;case"keydown":case"keyup":e2(d,t,l)}var M;if(wP)e:{switch(n){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else hh?K3(n,t)&&(Z="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(Z="onCompositionStart");Z&&(U3&&t.locale!=="ko"&&(hh||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&hh&&(M=D3()):(ku=l,yP="value"in ku?ku.value:ku.textContent,hh=!0)),J=u0(u,Z),0<J.length&&(Z=new VT(Z,n,null,t,l),d.push({event:Z,listeners:J}),M?Z.data=M:(M=W3(t),M!==null&&(Z.data=M)))),(M=qV?zV(n,t):DV(n,t))&&(u=u0(u,"onBeforeInput"),0<u.length&&(l=new VT("onBeforeInput","beforeinput",null,t,l),d.push({event:l,listeners:u}),l.data=M))}t$(d,e)})}function Sy(n,e,t){return{instance:n,listener:e,currentTarget:t}}function u0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=py(n,t),s!=null&&r.unshift(Sy(n,s,i)),s=py(n,e),s!=null&&r.push(Sy(n,s,i))),n=n.return}return r}function Fd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function r2(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=py(t,s),c!=null&&o.unshift(Sy(t,c,a))):i||(c=py(t,s),c!=null&&o.push(Sy(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var e9=/\r\n?/g,t9=/\u0000|\uFFFD/g;function i2(n){return(typeof n=="string"?n:""+n).replace(e9,`
`).replace(t9,"")}function fb(n,e,t){if(e=i2(e),i2(n)!==e&&t)throw Error(Me(425))}function l0(){}var TE=null,CE=null;function ME(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var LE=typeof setTimeout=="function"?setTimeout:void 0,n9=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,r9=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(n){return s2.resolve(null).then(n).catch(i9)}:LE;function i9(n){setTimeout(function(){throw n})}function LA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),my(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);my(e)}function Bu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function o2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ap=Math.random().toString(36).slice(2),Ia="__reactFiber$"+Ap,Ay="__reactProps$"+Ap,Hc="__reactContainer$"+Ap,OE="__reactEvents$"+Ap,s9="__reactListeners$"+Ap,o9="__reactHandles$"+Ap;function xl(n){var e=n[Ia];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Hc]||t[Ia]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=o2(n);n!==null;){if(t=n[Ia])return t;n=o2(n)}return e}n=t,t=n.parentNode}return null}function Am(n){return n=n[Ia]||n[Hc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function nk(n){return n[Ay]||null}var NE=[],yh=-1;function nl(n){return{current:n}}function Sr(n){0>yh||(n.current=NE[yh],NE[yh]=null,yh--)}function wr(n,e){yh++,NE[yh]=n.current,n.current=e}var Yu={},Qi=nl(Yu),Ns=nl(!1),ed=Yu;function Vh(n,e){var t=n.type.contextTypes;if(!t)return Yu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function $s(n){return n=n.childContextTypes,n!=null}function d0(){Sr(Ns),Sr(Qi)}function a2(n,e,t){if(Qi.current!==Yu)throw Error(Me(168));wr(Qi,e),wr(Ns,t)}function r$(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,FF(n)||"Unknown",i));return Kr({},t,r)}function h0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yu,ed=Qi.current,wr(Qi,n),wr(Ns,Ns.current),!0}function c2(n,e,t){var r=n.stateNode;if(!r)throw Error(Me(169));t?(n=r$(n,e,ed),r.__reactInternalMemoizedMergedChildContext=n,Sr(Ns),Sr(Qi),wr(Qi,n)):Sr(Ns),wr(Ns,t)}var Rc=null,rk=!1,OA=!1;function i$(n){Rc===null?Rc=[n]:Rc.push(n)}function a9(n){rk=!0,i$(n)}function rl(){if(!OA&&Rc!==null){OA=!0;var n=0,e=Hn;try{var t=Rc;for(Hn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Rc=null,rk=!1}catch(i){throw Rc!==null&&(Rc=Rc.slice(n+1)),x3(hP,rl),i}finally{Hn=e,OA=!1}}return null}var mh=[],bh=0,f0=null,p0=0,Ro=[],Po=0,td=null,zc=1,Dc="";function ll(n,e){mh[bh++]=p0,mh[bh++]=f0,f0=n,p0=e}function s$(n,e,t){Ro[Po++]=zc,Ro[Po++]=Dc,Ro[Po++]=td,td=n;var r=zc;n=Dc;var i=32-na(r)-1;r&=~(1<<i),t+=1;var s=32-na(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zc=1<<32-na(e)+i|t<<i|r,Dc=s+n}else zc=1<<s|t<<i|r,Dc=n}function SP(n){n.return!==null&&(ll(n,1),s$(n,1,0))}function AP(n){for(;n===f0;)f0=mh[--bh],mh[bh]=null,p0=mh[--bh],mh[bh]=null;for(;n===td;)td=Ro[--Po],Ro[Po]=null,Dc=Ro[--Po],Ro[Po]=null,zc=Ro[--Po],Ro[Po]=null}var uo=null,oo=null,Or=!1,Xo=null;function o$(n,e){var t=To(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function u2(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,uo=n,oo=Bu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,uo=n,oo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=td!==null?{id:zc,overflow:Dc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=To(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,uo=n,oo=null,!0):!1;default:return!1}}function $E(n){return(n.mode&1)!==0&&(n.flags&128)===0}function qE(n){if(Or){var e=oo;if(e){var t=e;if(!u2(n,e)){if($E(n))throw Error(Me(418));e=Bu(t.nextSibling);var r=uo;e&&u2(n,e)?o$(r,t):(n.flags=n.flags&-4097|2,Or=!1,uo=n)}}else{if($E(n))throw Error(Me(418));n.flags=n.flags&-4097|2,Or=!1,uo=n}}}function l2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;uo=n}function pb(n){if(n!==uo)return!1;if(!Or)return l2(n),Or=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ME(n.type,n.memoizedProps)),e&&(e=oo)){if($E(n))throw a$(),Error(Me(418));for(;e;)o$(n,e),e=Bu(e.nextSibling)}if(l2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){oo=Bu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}oo=null}}else oo=uo?Bu(n.stateNode.nextSibling):null;return!0}function a$(){for(var n=oo;n;)n=Bu(n.nextSibling)}function jh(){oo=uo=null,Or=!1}function _P(n){Xo===null?Xo=[n]:Xo.push(n)}var c9=Xc.ReactCurrentBatchConfig;function ig(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var r=t.stateNode}if(!r)throw Error(Me(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function gb(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function d2(n){var e=n._init;return e(n._payload)}function c$(n){function e(w,_){if(n){var R=w.deletions;R===null?(w.deletions=[_],w.flags|=16):R.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Lu(w,_),w.index=0,w.sibling=null,w}function s(w,_,R){return w.index=R,n?(R=w.alternate,R!==null?(R=R.index,R<_?(w.flags|=2,_):R):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,_,R,x){return _===null||_.tag!==6?(_=KA(R,w.mode,x),_.return=w,_):(_=i(_,R),_.return=w,_)}function c(w,_,R,x){var K=R.type;return K===dh?l(w,_,R.props.children,x,R.key):_!==null&&(_.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===fu&&d2(K)===_.type)?(x=i(_,R.props),x.ref=ig(w,_,R),x.return=w,x):(x=c1(R.type,R.key,R.props,null,w.mode,x),x.ref=ig(w,_,R),x.return=w,x)}function u(w,_,R,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=WA(R,w.mode,x),_.return=w,_):(_=i(_,R.children||[]),_.return=w,_)}function l(w,_,R,x,K){return _===null||_.tag!==7?(_=Yl(R,w.mode,x,K),_.return=w,_):(_=i(_,R),_.return=w,_)}function d(w,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=KA(""+_,w.mode,R),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ib:return R=c1(_.type,_.key,_.props,null,w.mode,R),R.ref=ig(w,null,_),R.return=w,R;case lh:return _=WA(_,w.mode,R),_.return=w,_;case fu:var x=_._init;return d(w,x(_._payload),R)}if(Eg(_)||Xp(_))return _=Yl(_,w.mode,R,null),_.return=w,_;gb(w,_)}return null}function b(w,_,R,x){var K=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return K!==null?null:a(w,_,""+R,x);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ib:return R.key===K?c(w,_,R,x):null;case lh:return R.key===K?u(w,_,R,x):null;case fu:return K=R._init,b(w,_,K(R._payload),x)}if(Eg(R)||Xp(R))return K!==null?null:l(w,_,R,x,null);gb(w,R)}return null}function p(w,_,R,x,K){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(R)||null,a(_,w,""+x,K);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ib:return w=w.get(x.key===null?R:x.key)||null,c(_,w,x,K);case lh:return w=w.get(x.key===null?R:x.key)||null,u(_,w,x,K);case fu:var J=x._init;return p(w,_,R,J(x._payload),K)}if(Eg(x)||Xp(x))return w=w.get(R)||null,l(_,w,x,K,null);gb(_,x)}return null}function g(w,_,R,x){for(var K=null,J=null,M=_,Z=_=0,ie=null;M!==null&&Z<R.length;Z++){M.index>Z?(ie=M,M=null):ie=M.sibling;var X=b(w,M,R[Z],x);if(X===null){M===null&&(M=ie);break}n&&M&&X.alternate===null&&e(w,M),_=s(X,_,Z),J===null?K=X:J.sibling=X,J=X,M=ie}if(Z===R.length)return t(w,M),Or&&ll(w,Z),K;if(M===null){for(;Z<R.length;Z++)M=d(w,R[Z],x),M!==null&&(_=s(M,_,Z),J===null?K=M:J.sibling=M,J=M);return Or&&ll(w,Z),K}for(M=r(w,M);Z<R.length;Z++)ie=p(M,w,Z,R[Z],x),ie!==null&&(n&&ie.alternate!==null&&M.delete(ie.key===null?Z:ie.key),_=s(ie,_,Z),J===null?K=ie:J.sibling=ie,J=ie);return n&&M.forEach(function(ne){return e(w,ne)}),Or&&ll(w,Z),K}function y(w,_,R,x){var K=Xp(R);if(typeof K!="function")throw Error(Me(150));if(R=K.call(R),R==null)throw Error(Me(151));for(var J=K=null,M=_,Z=_=0,ie=null,X=R.next();M!==null&&!X.done;Z++,X=R.next()){M.index>Z?(ie=M,M=null):ie=M.sibling;var ne=b(w,M,X.value,x);if(ne===null){M===null&&(M=ie);break}n&&M&&ne.alternate===null&&e(w,M),_=s(ne,_,Z),J===null?K=ne:J.sibling=ne,J=ne,M=ie}if(X.done)return t(w,M),Or&&ll(w,Z),K;if(M===null){for(;!X.done;Z++,X=R.next())X=d(w,X.value,x),X!==null&&(_=s(X,_,Z),J===null?K=X:J.sibling=X,J=X);return Or&&ll(w,Z),K}for(M=r(w,M);!X.done;Z++,X=R.next())X=p(M,w,Z,X.value,x),X!==null&&(n&&X.alternate!==null&&M.delete(X.key===null?Z:X.key),_=s(X,_,Z),J===null?K=X:J.sibling=X,J=X);return n&&M.forEach(function(ae){return e(w,ae)}),Or&&ll(w,Z),K}function S(w,_,R,x){if(typeof R=="object"&&R!==null&&R.type===dh&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case ib:e:{for(var K=R.key,J=_;J!==null;){if(J.key===K){if(K=R.type,K===dh){if(J.tag===7){t(w,J.sibling),_=i(J,R.props.children),_.return=w,w=_;break e}}else if(J.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===fu&&d2(K)===J.type){t(w,J.sibling),_=i(J,R.props),_.ref=ig(w,J,R),_.return=w,w=_;break e}t(w,J);break}else e(w,J);J=J.sibling}R.type===dh?(_=Yl(R.props.children,w.mode,x,R.key),_.return=w,w=_):(x=c1(R.type,R.key,R.props,null,w.mode,x),x.ref=ig(w,_,R),x.return=w,w=x)}return o(w);case lh:e:{for(J=R.key;_!==null;){if(_.key===J)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){t(w,_.sibling),_=i(_,R.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=WA(R,w.mode,x),_.return=w,w=_}return o(w);case fu:return J=R._init,S(w,_,J(R._payload),x)}if(Eg(R))return g(w,_,R,x);if(Xp(R))return y(w,_,R,x);gb(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(t(w,_.sibling),_=i(_,R),_.return=w,w=_):(t(w,_),_=KA(R,w.mode,x),_.return=w,w=_),o(w)):t(w,_)}return S}var Hh=c$(!0),u$=c$(!1),g0=nl(null),y0=null,wh=null,vP=null;function EP(){vP=wh=y0=null}function IP(n){var e=g0.current;Sr(g0),n._currentValue=e}function zE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function $h(n,e){y0=n,vP=wh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ls=!0),n.firstContext=null)}function Oo(n){var e=n._currentValue;if(vP!==n)if(n={context:n,memoizedValue:e,next:null},wh===null){if(y0===null)throw Error(Me(308));wh=n,y0.dependencies={lanes:0,firstContext:n}}else wh=wh.next=n;return e}var Bl=null;function RP(n){Bl===null?Bl=[n]:Bl.push(n)}function l$(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,RP(e)):(t.next=i.next,i.next=t),e.interleaved=t,Yc(n,r)}function Yc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var pu=!1;function PP(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d$(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Uc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Tu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yc(n,t)}return i=r.interleaved,i===null?(e.next=e,RP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yc(n,t)}function n1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,fP(n,t)}}function h2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function m0(n,e,t,r){var i=n.updateQueue;pu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var l=n.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,l=u=c=null,a=s;do{var b=a.lane,p=a.eventTime;if((r&b)===b){l!==null&&(l=l.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(b=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,b);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,b=typeof g=="function"?g.call(p,d,b):g,b==null)break e;d=Kr({},d,b);break e;case 2:pu=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,b=i.effects,b===null?i.effects=[a]:b.push(a))}else p={eventTime:p,lane:b,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=p,c=d):l=l.next=p,o|=b;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;b=a,a=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(l===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rd|=o,n.lanes=o,n.memoizedState=d}}function f2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var _m={},Ga=nl(_m),_y=nl(_m),vy=nl(_m);function Tl(n){if(n===_m)throw Error(Me(174));return n}function xP(n,e){switch(wr(vy,e),wr(_y,n),wr(Ga,_m),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=wE(e,n)}Sr(Ga),wr(Ga,e)}function Yh(){Sr(Ga),Sr(_y),Sr(vy)}function h$(n){Tl(vy.current);var e=Tl(Ga.current),t=wE(e,n.type);e!==t&&(wr(_y,n),wr(Ga,t))}function BP(n){_y.current===n&&(Sr(Ga),Sr(_y))}var qr=nl(0);function b0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var NA=[];function TP(){for(var n=0;n<NA.length;n++)NA[n]._workInProgressVersionPrimary=null;NA.length=0}var r1=Xc.ReactCurrentDispatcher,$A=Xc.ReactCurrentBatchConfig,nd=0,Ur=null,yi=null,xi=null,w0=!1,Wg=!1,Ey=0,u9=0;function Ki(){throw Error(Me(321))}function CP(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!oa(n[t],e[t]))return!1;return!0}function MP(n,e,t,r,i,s){if(nd=s,Ur=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,r1.current=n===null||n.memoizedState===null?f9:p9,n=t(r,i),Wg){s=0;do{if(Wg=!1,Ey=0,25<=s)throw Error(Me(301));s+=1,xi=yi=null,e.updateQueue=null,r1.current=g9,n=t(r,i)}while(Wg)}if(r1.current=k0,e=yi!==null&&yi.next!==null,nd=0,xi=yi=Ur=null,w0=!1,e)throw Error(Me(300));return n}function LP(){var n=Ey!==0;return Ey=0,n}function ba(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Ur.memoizedState=xi=n:xi=xi.next=n,xi}function No(){if(yi===null){var n=Ur.alternate;n=n!==null?n.memoizedState:null}else n=yi.next;var e=xi===null?Ur.memoizedState:xi.next;if(e!==null)xi=e,yi=n;else{if(n===null)throw Error(Me(310));yi=n,n={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},xi===null?Ur.memoizedState=xi=n:xi=xi.next=n}return xi}function Iy(n,e){return typeof e=="function"?e(n):e}function qA(n){var e=No(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var r=yi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var l=u.lane;if((nd&l)===l)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Ur.lanes|=l,rd|=l}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,oa(r,e.memoizedState)||(Ls=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ur.lanes|=s,rd|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function zA(n){var e=No(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);oa(s,e.memoizedState)||(Ls=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function f$(){}function p$(n,e){var t=Ur,r=No(),i=e(),s=!oa(r.memoizedState,i);if(s&&(r.memoizedState=i,Ls=!0),r=r.queue,OP(m$.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||xi!==null&&xi.memoizedState.tag&1){if(t.flags|=2048,Ry(9,y$.bind(null,t,r,i,e),void 0,null),Mi===null)throw Error(Me(349));nd&30||g$(t,e,i)}return i}function g$(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function y$(n,e,t,r){e.value=t,e.getSnapshot=r,b$(e)&&w$(n)}function m$(n,e,t){return t(function(){b$(e)&&w$(n)})}function b$(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!oa(n,t)}catch{return!0}}function w$(n){var e=Yc(n,1);e!==null&&ra(e,n,1,-1)}function p2(n){var e=ba();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:n},e.queue=n,n=n.dispatch=h9.bind(null,Ur,n),[e.memoizedState,n]}function Ry(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function k$(){return No().memoizedState}function i1(n,e,t,r){var i=ba();Ur.flags|=n,i.memoizedState=Ry(1|e,t,void 0,r===void 0?null:r)}function ik(n,e,t,r){var i=No();r=r===void 0?null:r;var s=void 0;if(yi!==null){var o=yi.memoizedState;if(s=o.destroy,r!==null&&CP(r,o.deps)){i.memoizedState=Ry(e,t,s,r);return}}Ur.flags|=n,i.memoizedState=Ry(1|e,t,s,r)}function g2(n,e){return i1(8390656,8,n,e)}function OP(n,e){return ik(2048,8,n,e)}function S$(n,e){return ik(4,2,n,e)}function A$(n,e){return ik(4,4,n,e)}function _$(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function v$(n,e,t){return t=t!=null?t.concat([n]):null,ik(4,4,_$.bind(null,e,n),t)}function NP(){}function E$(n,e){var t=No();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&CP(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function I$(n,e){var t=No();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&CP(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function R$(n,e,t){return nd&21?(oa(t,e)||(t=C3(),Ur.lanes|=t,rd|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ls=!0),n.memoizedState=t)}function l9(n,e){var t=Hn;Hn=t!==0&&4>t?t:4,n(!0);var r=$A.transition;$A.transition={};try{n(!1),e()}finally{Hn=t,$A.transition=r}}function P$(){return No().memoizedState}function d9(n,e,t){var r=Mu(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},x$(n))B$(e,t);else if(t=l$(n,e,t,r),t!==null){var i=hs();ra(t,n,r,i),T$(t,e,r)}}function h9(n,e,t){var r=Mu(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(x$(n))B$(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,oa(a,o)){var c=e.interleaved;c===null?(i.next=i,RP(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=l$(n,e,i,r),t!==null&&(i=hs(),ra(t,n,r,i),T$(t,e,r))}}function x$(n){var e=n.alternate;return n===Ur||e!==null&&e===Ur}function B$(n,e){Wg=w0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function T$(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,fP(n,t)}}var k0={readContext:Oo,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useInsertionEffect:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useMutableSource:Ki,useSyncExternalStore:Ki,useId:Ki,unstable_isNewReconciler:!1},f9={readContext:Oo,useCallback:function(n,e){return ba().memoizedState=[n,e===void 0?null:e],n},useContext:Oo,useEffect:g2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,i1(4194308,4,_$.bind(null,e,n),t)},useLayoutEffect:function(n,e){return i1(4194308,4,n,e)},useInsertionEffect:function(n,e){return i1(4,2,n,e)},useMemo:function(n,e){var t=ba();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ba();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=d9.bind(null,Ur,n),[r.memoizedState,n]},useRef:function(n){var e=ba();return n={current:n},e.memoizedState=n},useState:p2,useDebugValue:NP,useDeferredValue:function(n){return ba().memoizedState=n},useTransition:function(){var n=p2(!1),e=n[0];return n=l9.bind(null,n[1]),ba().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ur,i=ba();if(Or){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),Mi===null)throw Error(Me(349));nd&30||g$(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,g2(m$.bind(null,r,s,n),[n]),r.flags|=2048,Ry(9,y$.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ba(),e=Mi.identifierPrefix;if(Or){var t=Dc,r=zc;t=(r&~(1<<32-na(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ey++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=u9++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},p9={readContext:Oo,useCallback:E$,useContext:Oo,useEffect:OP,useImperativeHandle:v$,useInsertionEffect:S$,useLayoutEffect:A$,useMemo:I$,useReducer:qA,useRef:k$,useState:function(){return qA(Iy)},useDebugValue:NP,useDeferredValue:function(n){var e=No();return R$(e,yi.memoizedState,n)},useTransition:function(){var n=qA(Iy)[0],e=No().memoizedState;return[n,e]},useMutableSource:f$,useSyncExternalStore:p$,useId:P$,unstable_isNewReconciler:!1},g9={readContext:Oo,useCallback:E$,useContext:Oo,useEffect:OP,useImperativeHandle:v$,useInsertionEffect:S$,useLayoutEffect:A$,useMemo:I$,useReducer:zA,useRef:k$,useState:function(){return zA(Iy)},useDebugValue:NP,useDeferredValue:function(n){var e=No();return yi===null?e.memoizedState=n:R$(e,yi.memoizedState,n)},useTransition:function(){var n=zA(Iy)[0],e=No().memoizedState;return[n,e]},useMutableSource:f$,useSyncExternalStore:p$,useId:P$,unstable_isNewReconciler:!1};function Jo(n,e){if(n&&n.defaultProps){e=Kr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function DE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Kr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var sk={isMounted:function(n){return(n=n._reactInternals)?_d(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=hs(),i=Mu(n),s=Uc(r,i);s.payload=e,t!=null&&(s.callback=t),e=Tu(n,s,i),e!==null&&(ra(e,n,i,r),n1(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=hs(),i=Mu(n),s=Uc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Tu(n,s,i),e!==null&&(ra(e,n,i,r),n1(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=hs(),r=Mu(n),i=Uc(t,r);i.tag=2,e!=null&&(i.callback=e),e=Tu(n,i,r),e!==null&&(ra(e,n,r,t),n1(e,n,r))}};function y2(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wy(t,r)||!wy(i,s):!0}function C$(n,e,t){var r=!1,i=Yu,s=e.contextType;return typeof s=="object"&&s!==null?s=Oo(s):(i=$s(e)?ed:Qi.current,r=e.contextTypes,s=(r=r!=null)?Vh(n,i):Yu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sk,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function m2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&sk.enqueueReplaceState(e,e.state,null)}function UE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},PP(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Oo(s):(s=$s(e)?ed:Qi.current,i.context=Vh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(DE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&sk.enqueueReplaceState(i,i.state,null),m0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Gh(n,e){try{var t="",r=e;do t+=WF(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function DA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function KE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var y9=typeof WeakMap=="function"?WeakMap:Map;function M$(n,e,t){t=Uc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){A0||(A0=!0,ZE=r),KE(n,e)},t}function L$(n,e,t){t=Uc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){KE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){KE(n,e),typeof r!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function b2(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new y9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=B9.bind(null,n,e,t),e.then(n,n))}function w2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function k2(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Uc(-1,1),e.tag=2,Tu(t,e,1))),t.lanes|=1),n)}var m9=Xc.ReactCurrentOwner,Ls=!1;function rs(n,e,t,r){e.child=n===null?u$(e,null,t,r):Hh(e,n.child,t,r)}function S2(n,e,t,r,i){t=t.render;var s=e.ref;return $h(e,i),r=MP(n,e,t,r,s,i),t=LP(),n!==null&&!Ls?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gc(n,e,i)):(Or&&t&&SP(e),e.flags|=1,rs(n,e,r,i),e.child)}function A2(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!FP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,O$(n,e,s,r,i)):(n=c1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:wy,t(o,r)&&n.ref===e.ref)return Gc(n,e,i)}return e.flags|=1,n=Lu(s,r),n.ref=e.ref,n.return=e,e.child=n}function O$(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(wy(s,r)&&n.ref===e.ref)if(Ls=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ls=!0);else return e.lanes=n.lanes,Gc(n,e,i)}return WE(n,e,t,r,i)}function N$(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(Sh,Xs),Xs|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,wr(Sh,Xs),Xs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,wr(Sh,Xs),Xs|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,wr(Sh,Xs),Xs|=r;return rs(n,e,i,t),e.child}function $$(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function WE(n,e,t,r,i){var s=$s(t)?ed:Qi.current;return s=Vh(e,s),$h(e,i),t=MP(n,e,t,r,s,i),r=LP(),n!==null&&!Ls?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gc(n,e,i)):(Or&&r&&SP(e),e.flags|=1,rs(n,e,t,i),e.child)}function _2(n,e,t,r,i){if($s(t)){var s=!0;h0(e)}else s=!1;if($h(e,i),e.stateNode===null)s1(n,e),C$(e,t,r),UE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=Oo(u):(u=$s(t)?ed:Qi.current,u=Vh(e,u));var l=t.getDerivedStateFromProps,d=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&m2(e,o,r,u),pu=!1;var b=e.memoizedState;o.state=b,m0(e,r,o,i),c=e.memoizedState,a!==r||b!==c||Ns.current||pu?(typeof l=="function"&&(DE(e,t,l,r),c=e.memoizedState),(a=pu||y2(e,t,a,r,b,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,d$(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jo(e.type,a),o.props=u,d=e.pendingProps,b=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=Oo(c):(c=$s(t)?ed:Qi.current,c=Vh(e,c));var p=t.getDerivedStateFromProps;(l=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||b!==c)&&m2(e,o,r,c),pu=!1,b=e.memoizedState,o.state=b,m0(e,r,o,i);var g=e.memoizedState;a!==d||b!==g||Ns.current||pu?(typeof p=="function"&&(DE(e,t,p,r),g=e.memoizedState),(u=pu||y2(e,t,u,r,b,g,c)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),r=!1)}return FE(n,e,t,r,s,i)}function FE(n,e,t,r,i,s){$$(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&c2(e,t,!1),Gc(n,e,s);r=e.stateNode,m9.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Hh(e,n.child,null,s),e.child=Hh(e,null,a,s)):rs(n,e,a,s),e.memoizedState=r.state,i&&c2(e,t,!0),e.child}function q$(n){var e=n.stateNode;e.pendingContext?a2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&a2(n,e.context,!1),xP(n,e.containerInfo)}function v2(n,e,t,r,i){return jh(),_P(i),e.flags|=256,rs(n,e,t,r),e.child}var VE={dehydrated:null,treeContext:null,retryLane:0};function jE(n){return{baseLanes:n,cachePool:null,transitions:null}}function z$(n,e,t){var r=e.pendingProps,i=qr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),wr(qr,i&1),n===null)return qE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ck(o,r,0,null),n=Yl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=jE(t),e.memoizedState=VE,n):$P(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b9(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Lu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Lu(a,s):(s=Yl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?jE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=VE,r}return s=n.child,n=s.sibling,r=Lu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function $P(n,e){return e=ck({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function yb(n,e,t,r){return r!==null&&_P(r),Hh(e,n.child,null,t),n=$P(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function b9(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=DA(Error(Me(422))),yb(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ck({mode:"visible",children:r.children},i,0,null),s=Yl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hh(e,n.child,null,o),e.child.memoizedState=jE(o),e.memoizedState=VE,s);if(!(e.mode&1))return yb(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=DA(s,r,void 0),yb(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ls||a){if(r=Mi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yc(n,i),ra(r,n,i,-1))}return WP(),r=DA(Error(Me(421))),yb(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=T9.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,oo=Bu(i.nextSibling),uo=e,Or=!0,Xo=null,n!==null&&(Ro[Po++]=zc,Ro[Po++]=Dc,Ro[Po++]=td,zc=n.id,Dc=n.overflow,td=e),e=$P(e,r.children),e.flags|=4096,e)}function E2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),zE(n.return,e,t)}function UA(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function D$(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rs(n,e,r.children,t),r=qr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&E2(n,t,e);else if(n.tag===19)E2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(wr(qr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&b0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),UA(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&b0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}UA(e,!0,t,null,s);break;case"together":UA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Gc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rd|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=Lu(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Lu(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function w9(n,e,t){switch(e.tag){case 3:q$(e),jh();break;case 5:h$(e);break;case 1:$s(e.type)&&h0(e);break;case 4:xP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wr(g0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wr(qr,qr.current&1),e.flags|=128,null):t&e.child.childLanes?z$(n,e,t):(wr(qr,qr.current&1),n=Gc(n,e,t),n!==null?n.sibling:null);wr(qr,qr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return D$(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wr(qr,qr.current),r)break;return null;case 22:case 23:return e.lanes=0,N$(n,e,t)}return Gc(n,e,t)}var U$,HE,K$,W$;U$=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};HE=function(){};K$=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Tl(Ga.current);var s=null;switch(t){case"input":i=gE(n,i),r=gE(n,r),s=[];break;case"select":i=Kr({},i,{value:void 0}),r=Kr({},r,{value:void 0}),s=[];break;case"textarea":i=bE(n,i),r=bE(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=l0)}kE(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hy.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hy.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kr("scroll",n),s||a===c||(s=[])):(s=s||[]).push(u,c))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};W$=function(n,e,t,r){t!==r&&(e.flags|=4)};function sg(n,e){if(!Or)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Wi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function k9(n,e,t){var r=e.pendingProps;switch(AP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(e),null;case 1:return $s(e.type)&&d0(),Wi(e),null;case 3:return r=e.stateNode,Yh(),Sr(Ns),Sr(Qi),TP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(pb(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Xo!==null&&(tI(Xo),Xo=null))),HE(n,e),Wi(e),null;case 5:BP(e);var i=Tl(vy.current);if(t=e.type,n!==null&&e.stateNode!=null)K$(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return Wi(e),null}if(n=Tl(Ga.current),pb(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ia]=e,r[Ay]=s,n=(e.mode&1)!==0,t){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(i=0;i<Rg.length;i++)kr(Rg[i],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":LT(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":NT(r,s),kr("invalid",r)}kE(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&fb(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&fb(r.textContent,a,n),i=["children",""+a]):hy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kr("scroll",r)}switch(t){case"input":sb(r),OT(r,s,!0);break;case"textarea":sb(r),$T(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=l0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=m3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ia]=e,n[Ay]=r,U$(n,e,!1,!1),e.stateNode=n;e:{switch(o=SE(t,r),t){case"dialog":kr("cancel",n),kr("close",n),i=r;break;case"iframe":case"object":case"embed":kr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Rg.length;i++)kr(Rg[i],n);i=r;break;case"source":kr("error",n),i=r;break;case"img":case"image":case"link":kr("error",n),kr("load",n),i=r;break;case"details":kr("toggle",n),i=r;break;case"input":LT(n,r),i=gE(n,r),kr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Kr({},r,{value:void 0}),kr("invalid",n);break;case"textarea":NT(n,r),i=bE(n,r),kr("invalid",n);break;default:i=r}kE(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?k3(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&b3(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&fy(n,c):typeof c=="number"&&fy(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hy.hasOwnProperty(s)?c!=null&&s==="onScroll"&&kr("scroll",n):c!=null&&aP(n,s,c,o))}switch(t){case"input":sb(n),OT(n,r,!1);break;case"textarea":sb(n),$T(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Hu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Mh(n,!!r.multiple,s,!1):r.defaultValue!=null&&Mh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=l0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wi(e),null;case 6:if(n&&e.stateNode!=null)W$(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(t=Tl(vy.current),Tl(Ga.current),pb(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ia]=e,(s=r.nodeValue!==t)&&(n=uo,n!==null))switch(n.tag){case 3:fb(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fb(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ia]=e,e.stateNode=r}return Wi(e),null;case 13:if(Sr(qr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Or&&oo!==null&&e.mode&1&&!(e.flags&128))a$(),jh(),e.flags|=98560,s=!1;else if(s=pb(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[Ia]=e}else jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wi(e),s=!1}else Xo!==null&&(tI(Xo),Xo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||qr.current&1?bi===0&&(bi=3):WP())),e.updateQueue!==null&&(e.flags|=4),Wi(e),null);case 4:return Yh(),HE(n,e),n===null&&ky(e.stateNode.containerInfo),Wi(e),null;case 10:return IP(e.type._context),Wi(e),null;case 17:return $s(e.type)&&d0(),Wi(e),null;case 19:if(Sr(qr),s=e.memoizedState,s===null)return Wi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sg(s,!1);else{if(bi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=b0(n),o!==null){for(e.flags|=128,sg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return wr(qr,qr.current&1|2),e.child}n=n.sibling}s.tail!==null&&ni()>Jh&&(e.flags|=128,r=!0,sg(s,!1),e.lanes=4194304)}else{if(!r)if(n=b0(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Or)return Wi(e),null}else 2*ni()-s.renderingStartTime>Jh&&t!==1073741824&&(e.flags|=128,r=!0,sg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ni(),e.sibling=null,t=qr.current,wr(qr,r?t&1|2:t&1),e):(Wi(e),null);case 22:case 23:return KP(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Xs&1073741824&&(Wi(e),e.subtreeFlags&6&&(e.flags|=8192)):Wi(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function S9(n,e){switch(AP(e),e.tag){case 1:return $s(e.type)&&d0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yh(),Sr(Ns),Sr(Qi),TP(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return BP(e),null;case 13:if(Sr(qr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));jh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Sr(qr),null;case 4:return Yh(),null;case 10:return IP(e.type._context),null;case 22:case 23:return KP(),null;case 24:return null;default:return null}}var mb=!1,Ji=!1,A9=typeof WeakSet=="function"?WeakSet:Set,at=null;function kh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Zr(n,e,r)}else t.current=null}function YE(n,e,t){try{t()}catch(r){Zr(n,e,r)}}var I2=!1;function _9(n,e){if(TE=a0,n=Y3(),kP(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,l=0,d=n,b=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)b=d,d=p;for(;;){if(d===n)break t;if(b===t&&++u===i&&(a=o),b===s&&++l===r&&(c=o),(p=d.nextSibling)!==null)break;d=b,b=d.parentNode}d=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(CE={focusedElem:n,selectionRange:t},a0=!1,at=e;at!==null;)if(e=at,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,at=n;else for(;at!==null;){e=at;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Jo(e.type,y),S);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(x){Zr(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,at=n;break}at=e.return}return g=I2,I2=!1,g}function Fg(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&YE(e,t,s)}i=i.next}while(i!==r)}}function ok(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function GE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function F$(n){var e=n.alternate;e!==null&&(n.alternate=null,F$(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ia],delete e[Ay],delete e[OE],delete e[s9],delete e[o9])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function V$(n){return n.tag===5||n.tag===3||n.tag===4}function R2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V$(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function JE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=l0));else if(r!==4&&(n=n.child,n!==null))for(JE(n,e,t),n=n.sibling;n!==null;)JE(n,e,t),n=n.sibling}function QE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(QE(n,e,t),n=n.sibling;n!==null;)QE(n,e,t),n=n.sibling}var Oi=null,Qo=!1;function iu(n,e,t){for(t=t.child;t!==null;)j$(n,e,t),t=t.sibling}function j$(n,e,t){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(Zw,t)}catch{}switch(t.tag){case 5:Ji||kh(t,e);case 6:var r=Oi,i=Qo;Oi=null,iu(n,e,t),Oi=r,Qo=i,Oi!==null&&(Qo?(n=Oi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Oi.removeChild(t.stateNode));break;case 18:Oi!==null&&(Qo?(n=Oi,t=t.stateNode,n.nodeType===8?LA(n.parentNode,t):n.nodeType===1&&LA(n,t),my(n)):LA(Oi,t.stateNode));break;case 4:r=Oi,i=Qo,Oi=t.stateNode.containerInfo,Qo=!0,iu(n,e,t),Oi=r,Qo=i;break;case 0:case 11:case 14:case 15:if(!Ji&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&YE(t,e,o),i=i.next}while(i!==r)}iu(n,e,t);break;case 1:if(!Ji&&(kh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Zr(t,e,a)}iu(n,e,t);break;case 21:iu(n,e,t);break;case 22:t.mode&1?(Ji=(r=Ji)||t.memoizedState!==null,iu(n,e,t),Ji=r):iu(n,e,t);break;default:iu(n,e,t)}}function P2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new A9),e.forEach(function(r){var i=C9.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function jo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oi=a.stateNode,Qo=!1;break e;case 3:Oi=a.stateNode.containerInfo,Qo=!0;break e;case 4:Oi=a.stateNode.containerInfo,Qo=!0;break e}a=a.return}if(Oi===null)throw Error(Me(160));j$(s,o,i),Oi=null,Qo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Zr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H$(e,n),e=e.sibling}function H$(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(jo(e,n),ga(n),r&4){try{Fg(3,n,n.return),ok(3,n)}catch(y){Zr(n,n.return,y)}try{Fg(5,n,n.return)}catch(y){Zr(n,n.return,y)}}break;case 1:jo(e,n),ga(n),r&512&&t!==null&&kh(t,t.return);break;case 5:if(jo(e,n),ga(n),r&512&&t!==null&&kh(t,t.return),n.flags&32){var i=n.stateNode;try{fy(i,"")}catch(y){Zr(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&g3(i,s),SE(a,o);var u=SE(a,s);for(o=0;o<c.length;o+=2){var l=c[o],d=c[o+1];l==="style"?k3(i,d):l==="dangerouslySetInnerHTML"?b3(i,d):l==="children"?fy(i,d):aP(i,l,d,u)}switch(a){case"input":yE(i,s);break;case"textarea":y3(i,s);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Mh(i,!!s.multiple,p,!1):b!==!!s.multiple&&(s.defaultValue!=null?Mh(i,!!s.multiple,s.defaultValue,!0):Mh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ay]=s}catch(y){Zr(n,n.return,y)}}break;case 6:if(jo(e,n),ga(n),r&4){if(n.stateNode===null)throw Error(Me(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Zr(n,n.return,y)}}break;case 3:if(jo(e,n),ga(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{my(e.containerInfo)}catch(y){Zr(n,n.return,y)}break;case 4:jo(e,n),ga(n);break;case 13:jo(e,n),ga(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DP=ni())),r&4&&P2(n);break;case 22:if(l=t!==null&&t.memoizedState!==null,n.mode&1?(Ji=(u=Ji)||l,jo(e,n),Ji=u):jo(e,n),ga(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!l&&n.mode&1)for(at=n,l=n.child;l!==null;){for(d=at=l;at!==null;){switch(b=at,p=b.child,b.tag){case 0:case 11:case 14:case 15:Fg(4,b,b.return);break;case 1:kh(b,b.return);var g=b.stateNode;if(typeof g.componentWillUnmount=="function"){r=b,t=b.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Zr(r,t,y)}}break;case 5:kh(b,b.return);break;case 22:if(b.memoizedState!==null){B2(d);continue}}p!==null?(p.return=b,at=p):B2(d)}l=l.sibling}e:for(l=null,d=n;;){if(d.tag===5){if(l===null){l=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=w3("display",o))}catch(y){Zr(n,n.return,y)}}}else if(d.tag===6){if(l===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Zr(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:jo(e,n),ga(n),r&4&&P2(n);break;case 21:break;default:jo(e,n),ga(n)}}function ga(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(V$(t)){var r=t;break e}t=t.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fy(i,""),r.flags&=-33);var s=R2(n);QE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R2(n);JE(n,a,o);break;default:throw Error(Me(161))}}catch(c){Zr(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function v9(n,e,t){at=n,Y$(n)}function Y$(n,e,t){for(var r=(n.mode&1)!==0;at!==null;){var i=at,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||mb;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ji;a=mb;var u=Ji;if(mb=o,(Ji=c)&&!u)for(at=i;at!==null;)o=at,c=o.child,o.tag===22&&o.memoizedState!==null?T2(i):c!==null?(c.return=o,at=c):T2(i);for(;s!==null;)at=s,Y$(s),s=s.sibling;at=i,mb=a,Ji=u}x2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,at=s):x2(n)}}function x2(n){for(;at!==null;){var e=at;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ji||ok(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ji)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Jo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&f2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}f2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var d=l.dehydrated;d!==null&&my(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Ji||e.flags&512&&GE(e)}catch(b){Zr(e,e.return,b)}}if(e===n){at=null;break}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}}function B2(n){for(;at!==null;){var e=at;if(e===n){at=null;break}var t=e.sibling;if(t!==null){t.return=e.return,at=t;break}at=e.return}}function T2(n){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ok(4,e)}catch(c){Zr(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Zr(e,i,c)}}var s=e.return;try{GE(e)}catch(c){Zr(e,s,c)}break;case 5:var o=e.return;try{GE(e)}catch(c){Zr(e,o,c)}}}catch(c){Zr(e,e.return,c)}if(e===n){at=null;break}var a=e.sibling;if(a!==null){a.return=e.return,at=a;break}at=e.return}}var E9=Math.ceil,S0=Xc.ReactCurrentDispatcher,qP=Xc.ReactCurrentOwner,Co=Xc.ReactCurrentBatchConfig,bn=0,Mi=null,ci=null,qi=0,Xs=0,Sh=nl(0),bi=0,Py=null,rd=0,ak=0,zP=0,Vg=null,Ts=null,DP=0,Jh=1/0,Ic=null,A0=!1,ZE=null,Cu=null,bb=!1,Su=null,_0=0,jg=0,XE=null,o1=-1,a1=0;function hs(){return bn&6?ni():o1!==-1?o1:o1=ni()}function Mu(n){return n.mode&1?bn&2&&qi!==0?qi&-qi:c9.transition!==null?(a1===0&&(a1=C3()),a1):(n=Hn,n!==0||(n=window.event,n=n===void 0?16:z3(n.type)),n):1}function ra(n,e,t,r){if(50<jg)throw jg=0,XE=null,Error(Me(185));km(n,t,r),(!(bn&2)||n!==Mi)&&(n===Mi&&(!(bn&2)&&(ak|=t),bi===4&&mu(n,qi)),qs(n,r),t===1&&bn===0&&!(e.mode&1)&&(Jh=ni()+500,rk&&rl()))}function qs(n,e){var t=n.callbackNode;cV(n,e);var r=o0(n,n===Mi?qi:0);if(r===0)t!==null&&DT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&DT(t),e===1)n.tag===0?a9(C2.bind(null,n)):i$(C2.bind(null,n)),r9(function(){!(bn&6)&&rl()}),t=null;else{switch(M3(r)){case 1:t=hP;break;case 4:t=B3;break;case 16:t=s0;break;case 536870912:t=T3;break;default:t=s0}t=n5(t,G$.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function G$(n,e){if(o1=-1,a1=0,bn&6)throw Error(Me(327));var t=n.callbackNode;if(qh()&&n.callbackNode!==t)return null;var r=o0(n,n===Mi?qi:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=v0(n,r);else{e=r;var i=bn;bn|=2;var s=Q$();(Mi!==n||qi!==e)&&(Ic=null,Jh=ni()+500,Hl(n,e));do try{P9();break}catch(a){J$(n,a)}while(!0);EP(),S0.current=s,bn=i,ci!==null?e=0:(Mi=null,qi=0,e=bi)}if(e!==0){if(e===2&&(i=IE(n),i!==0&&(r=i,e=eI(n,i))),e===1)throw t=Py,Hl(n,0),mu(n,r),qs(n,ni()),t;if(e===6)mu(n,r);else{if(i=n.current.alternate,!(r&30)&&!I9(i)&&(e=v0(n,r),e===2&&(s=IE(n),s!==0&&(r=s,e=eI(n,s))),e===1))throw t=Py,Hl(n,0),mu(n,r),qs(n,ni()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:dl(n,Ts,Ic);break;case 3:if(mu(n,r),(r&130023424)===r&&(e=DP+500-ni(),10<e)){if(o0(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){hs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=LE(dl.bind(null,n,Ts,Ic),e);break}dl(n,Ts,Ic);break;case 4:if(mu(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-na(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ni()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E9(r/1960))-r,10<r){n.timeoutHandle=LE(dl.bind(null,n,Ts,Ic),r);break}dl(n,Ts,Ic);break;case 5:dl(n,Ts,Ic);break;default:throw Error(Me(329))}}}return qs(n,ni()),n.callbackNode===t?G$.bind(null,n):null}function eI(n,e){var t=Vg;return n.current.memoizedState.isDehydrated&&(Hl(n,e).flags|=256),n=v0(n,e),n!==2&&(e=Ts,Ts=t,e!==null&&tI(e)),n}function tI(n){Ts===null?Ts=n:Ts.push.apply(Ts,n)}function I9(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!oa(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mu(n,e){for(e&=~zP,e&=~ak,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-na(e),r=1<<t;n[t]=-1,e&=~r}}function C2(n){if(bn&6)throw Error(Me(327));qh();var e=o0(n,0);if(!(e&1))return qs(n,ni()),null;var t=v0(n,e);if(n.tag!==0&&t===2){var r=IE(n);r!==0&&(e=r,t=eI(n,r))}if(t===1)throw t=Py,Hl(n,0),mu(n,e),qs(n,ni()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,dl(n,Ts,Ic),qs(n,ni()),null}function UP(n,e){var t=bn;bn|=1;try{return n(e)}finally{bn=t,bn===0&&(Jh=ni()+500,rk&&rl())}}function id(n){Su!==null&&Su.tag===0&&!(bn&6)&&qh();var e=bn;bn|=1;var t=Co.transition,r=Hn;try{if(Co.transition=null,Hn=1,n)return n()}finally{Hn=r,Co.transition=t,bn=e,!(bn&6)&&rl()}}function KP(){Xs=Sh.current,Sr(Sh)}function Hl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,n9(t)),ci!==null)for(t=ci.return;t!==null;){var r=t;switch(AP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&d0();break;case 3:Yh(),Sr(Ns),Sr(Qi),TP();break;case 5:BP(r);break;case 4:Yh();break;case 13:Sr(qr);break;case 19:Sr(qr);break;case 10:IP(r.type._context);break;case 22:case 23:KP()}t=t.return}if(Mi=n,ci=n=Lu(n.current,null),qi=Xs=e,bi=0,Py=null,zP=ak=rd=0,Ts=Vg=null,Bl!==null){for(e=0;e<Bl.length;e++)if(t=Bl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Bl=null}return n}function J$(n,e){do{var t=ci;try{if(EP(),r1.current=k0,w0){for(var r=Ur.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}w0=!1}if(nd=0,xi=yi=Ur=null,Wg=!1,Ey=0,qP.current=null,t===null||t.return===null){bi=1,Py=e,ci=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=qi,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,l=a,d=l.tag;if(!(l.mode&1)&&(d===0||d===11||d===15)){var b=l.alternate;b?(l.updateQueue=b.updateQueue,l.memoizedState=b.memoizedState,l.lanes=b.lanes):(l.updateQueue=null,l.memoizedState=null)}var p=w2(o);if(p!==null){p.flags&=-257,k2(p,o,a,s,e),p.mode&1&&b2(s,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){b2(s,u,e),WP();break e}c=Error(Me(426))}}else if(Or&&a.mode&1){var S=w2(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),k2(S,o,a,s,e),_P(Gh(c,a));break e}}s=c=Gh(c,a),bi!==4&&(bi=2),Vg===null?Vg=[s]:Vg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=M$(s,c,e);h2(s,w);break e;case 1:a=c;var _=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Cu===null||!Cu.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=L$(s,a,e);h2(s,x);break e}}s=s.return}while(s!==null)}X$(t)}catch(K){e=K,ci===t&&t!==null&&(ci=t=t.return);continue}break}while(!0)}function Q$(){var n=S0.current;return S0.current=k0,n===null?k0:n}function WP(){(bi===0||bi===3||bi===2)&&(bi=4),Mi===null||!(rd&268435455)&&!(ak&268435455)||mu(Mi,qi)}function v0(n,e){var t=bn;bn|=2;var r=Q$();(Mi!==n||qi!==e)&&(Ic=null,Hl(n,e));do try{R9();break}catch(i){J$(n,i)}while(!0);if(EP(),bn=t,S0.current=r,ci!==null)throw Error(Me(261));return Mi=null,qi=0,bi}function R9(){for(;ci!==null;)Z$(ci)}function P9(){for(;ci!==null&&!XF();)Z$(ci)}function Z$(n){var e=t5(n.alternate,n,Xs);n.memoizedProps=n.pendingProps,e===null?X$(n):ci=e,qP.current=null}function X$(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=S9(t,e),t!==null){t.flags&=32767,ci=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{bi=6,ci=null;return}}else if(t=k9(t,e,Xs),t!==null){ci=t;return}if(e=e.sibling,e!==null){ci=e;return}ci=e=n}while(e!==null);bi===0&&(bi=5)}function dl(n,e,t){var r=Hn,i=Co.transition;try{Co.transition=null,Hn=1,x9(n,e,t,r)}finally{Co.transition=i,Hn=r}return null}function x9(n,e,t,r){do qh();while(Su!==null);if(bn&6)throw Error(Me(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(uV(n,s),n===Mi&&(ci=Mi=null,qi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||bb||(bb=!0,n5(s0,function(){return qh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Co.transition,Co.transition=null;var o=Hn;Hn=1;var a=bn;bn|=4,qP.current=null,_9(n,t),H$(t,n),GV(CE),a0=!!TE,CE=TE=null,n.current=t,v9(t),eV(),bn=a,Hn=o,Co.transition=s}else n.current=t;if(bb&&(bb=!1,Su=n,_0=i),s=n.pendingLanes,s===0&&(Cu=null),rV(t.stateNode),qs(n,ni()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(A0)throw A0=!1,n=ZE,ZE=null,n;return _0&1&&n.tag!==0&&qh(),s=n.pendingLanes,s&1?n===XE?jg++:(jg=0,XE=n):jg=0,rl(),null}function qh(){if(Su!==null){var n=M3(_0),e=Co.transition,t=Hn;try{if(Co.transition=null,Hn=16>n?16:n,Su===null)var r=!1;else{if(n=Su,Su=null,_0=0,bn&6)throw Error(Me(331));var i=bn;for(bn|=4,at=n.current;at!==null;){var s=at,o=s.child;if(at.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(at=u;at!==null;){var l=at;switch(l.tag){case 0:case 11:case 15:Fg(8,l,s)}var d=l.child;if(d!==null)d.return=l,at=d;else for(;at!==null;){l=at;var b=l.sibling,p=l.return;if(F$(l),l===u){at=null;break}if(b!==null){b.return=p,at=b;break}at=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}at=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,at=o;else e:for(;at!==null;){if(s=at,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fg(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,at=w;break e}at=s.return}}var _=n.current;for(at=_;at!==null;){o=at;var R=o.child;if(o.subtreeFlags&2064&&R!==null)R.return=o,at=R;else e:for(o=_;at!==null;){if(a=at,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ok(9,a)}}catch(K){Zr(a,a.return,K)}if(a===o){at=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,at=x;break e}at=a.return}}if(bn=i,rl(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(Zw,n)}catch{}r=!0}return r}finally{Hn=t,Co.transition=e}}return!1}function M2(n,e,t){e=Gh(t,e),e=M$(n,e,1),n=Tu(n,e,1),e=hs(),n!==null&&(km(n,1,e),qs(n,e))}function Zr(n,e,t){if(n.tag===3)M2(n,n,t);else for(;e!==null;){if(e.tag===3){M2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cu===null||!Cu.has(r))){n=Gh(t,n),n=L$(e,n,1),e=Tu(e,n,1),n=hs(),e!==null&&(km(e,1,n),qs(e,n));break}}e=e.return}}function B9(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=hs(),n.pingedLanes|=n.suspendedLanes&t,Mi===n&&(qi&t)===t&&(bi===4||bi===3&&(qi&130023424)===qi&&500>ni()-DP?Hl(n,0):zP|=t),qs(n,e)}function e5(n,e){e===0&&(n.mode&1?(e=cb,cb<<=1,!(cb&130023424)&&(cb=4194304)):e=1);var t=hs();n=Yc(n,e),n!==null&&(km(n,e,t),qs(n,t))}function T9(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),e5(n,t)}function C9(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),e5(n,t)}var t5;t5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ns.current)Ls=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ls=!1,w9(n,e,t);Ls=!!(n.flags&131072)}else Ls=!1,Or&&e.flags&1048576&&s$(e,p0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;s1(n,e),n=e.pendingProps;var i=Vh(e,Qi.current);$h(e,t),i=MP(null,e,r,n,i,t);var s=LP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$s(r)?(s=!0,h0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PP(e),i.updater=sk,e.stateNode=i,i._reactInternals=e,UE(e,r,n,t),e=FE(null,e,r,!0,s,t)):(e.tag=0,Or&&s&&SP(e),rs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(s1(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=L9(r),n=Jo(r,n),i){case 0:e=WE(null,e,r,n,t);break e;case 1:e=_2(null,e,r,n,t);break e;case 11:e=S2(null,e,r,n,t);break e;case 14:e=A2(null,e,r,Jo(r.type,n),t);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),WE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),_2(n,e,r,i,t);case 3:e:{if(q$(e),n===null)throw Error(Me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,d$(n,e),m0(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gh(Error(Me(423)),e),e=v2(n,e,r,t,i);break e}else if(r!==i){i=Gh(Error(Me(424)),e),e=v2(n,e,r,t,i);break e}else for(oo=Bu(e.stateNode.containerInfo.firstChild),uo=e,Or=!0,Xo=null,t=u$(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(jh(),r===i){e=Gc(n,e,t);break e}rs(n,e,r,t)}e=e.child}return e;case 5:return h$(e),n===null&&qE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,ME(r,i)?o=null:s!==null&&ME(r,s)&&(e.flags|=32),$$(n,e),rs(n,e,o,t),e.child;case 6:return n===null&&qE(e),null;case 13:return z$(n,e,t);case 4:return xP(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Hh(e,null,r,t):rs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),S2(n,e,r,i,t);case 7:return rs(n,e,e.pendingProps,t),e.child;case 8:return rs(n,e,e.pendingProps.children,t),e.child;case 12:return rs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,wr(g0,r._currentValue),r._currentValue=o,s!==null)if(oa(s.value,o)){if(s.children===i.children&&!Ns.current){e=Gc(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Uc(-1,t&-t),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?c.next=c:(c.next=l.next,l.next=c),u.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),zE(s.return,t,e),a.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),zE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$h(e,t),i=Oo(i),r=r(i),e.flags|=1,rs(n,e,r,t),e.child;case 14:return r=e.type,i=Jo(r,e.pendingProps),i=Jo(r.type,i),A2(n,e,r,i,t);case 15:return O$(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jo(r,i),s1(n,e),e.tag=1,$s(r)?(n=!0,h0(e)):n=!1,$h(e,t),C$(e,r,i),UE(e,r,i,t),FE(null,e,r,!0,n,t);case 19:return D$(n,e,t);case 22:return N$(n,e,t)}throw Error(Me(156,e.tag))};function n5(n,e){return x3(n,e)}function M9(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function To(n,e,t,r){return new M9(n,e,t,r)}function FP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function L9(n){if(typeof n=="function")return FP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===uP)return 11;if(n===lP)return 14}return 2}function Lu(n,e){var t=n.alternate;return t===null?(t=To(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function c1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")FP(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case dh:return Yl(t.children,i,s,e);case cP:o=8,i|=8;break;case dE:return n=To(12,t,e,i|2),n.elementType=dE,n.lanes=s,n;case hE:return n=To(13,t,e,i),n.elementType=hE,n.lanes=s,n;case fE:return n=To(19,t,e,i),n.elementType=fE,n.lanes=s,n;case h3:return ck(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case l3:o=10;break e;case d3:o=9;break e;case uP:o=11;break e;case lP:o=14;break e;case fu:o=16,r=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=To(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Yl(n,e,t,r){return n=To(7,n,r,e),n.lanes=t,n}function ck(n,e,t,r){return n=To(22,n,r,e),n.elementType=h3,n.lanes=t,n.stateNode={isHidden:!1},n}function KA(n,e,t){return n=To(6,n,null,e),n.lanes=t,n}function WA(n,e,t){return e=To(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function O9(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_A(0),this.expirationTimes=_A(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_A(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function VP(n,e,t,r,i,s,o,a,c){return n=new O9(n,e,t,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=To(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},PP(s),n}function N9(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function r5(n){if(!n)return Yu;n=n._reactInternals;e:{if(_d(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($s(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if($s(t))return r$(n,t,e)}return e}function i5(n,e,t,r,i,s,o,a,c){return n=VP(t,r,!0,n,i,s,o,a,c),n.context=r5(null),t=n.current,r=hs(),i=Mu(t),s=Uc(r,i),s.callback=e??null,Tu(t,s,i),n.current.lanes=i,km(n,i,r),qs(n,r),n}function uk(n,e,t,r){var i=e.current,s=hs(),o=Mu(i);return t=r5(t),e.context===null?e.context=t:e.pendingContext=t,e=Uc(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Tu(i,e,o),n!==null&&(ra(n,i,o,s),n1(n,i,o)),o}function E0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function L2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function jP(n,e){L2(n,e),(n=n.alternate)&&L2(n,e)}function $9(){return null}var s5=typeof reportError=="function"?reportError:function(n){console.error(n)};function HP(n){this._internalRoot=n}lk.prototype.render=HP.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));uk(n,e,null,null)};lk.prototype.unmount=HP.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;id(function(){uk(null,n,null,null)}),e[Hc]=null}};function lk(n){this._internalRoot=n}lk.prototype.unstable_scheduleHydration=function(n){if(n){var e=N3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<yu.length&&e!==0&&e<yu[t].priority;t++);yu.splice(t,0,n),t===0&&q3(n)}};function YP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function dk(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function O2(){}function q9(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=E0(o);s.call(u)}}var o=i5(e,r,n,0,null,!1,!1,"",O2);return n._reactRootContainer=o,n[Hc]=o.current,ky(n.nodeType===8?n.parentNode:n),id(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=E0(c);a.call(u)}}var c=VP(n,0,!1,null,null,!1,!1,"",O2);return n._reactRootContainer=c,n[Hc]=c.current,ky(n.nodeType===8?n.parentNode:n),id(function(){uk(e,c,t,r)}),c}function hk(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=E0(o);a.call(c)}}uk(e,o,n,i)}else o=q9(t,e,n,i,r);return E0(o)}L3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ig(e.pendingLanes);t!==0&&(fP(e,t|1),qs(e,ni()),!(bn&6)&&(Jh=ni()+500,rl()))}break;case 13:id(function(){var r=Yc(n,1);if(r!==null){var i=hs();ra(r,n,1,i)}}),jP(n,1)}};pP=function(n){if(n.tag===13){var e=Yc(n,134217728);if(e!==null){var t=hs();ra(e,n,134217728,t)}jP(n,134217728)}};O3=function(n){if(n.tag===13){var e=Mu(n),t=Yc(n,e);if(t!==null){var r=hs();ra(t,n,e,r)}jP(n,e)}};N3=function(){return Hn};$3=function(n,e){var t=Hn;try{return Hn=n,e()}finally{Hn=t}};_E=function(n,e,t){switch(e){case"input":if(yE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=nk(r);if(!i)throw Error(Me(90));p3(r),yE(r,i)}}}break;case"textarea":y3(n,t);break;case"select":e=t.value,e!=null&&Mh(n,!!t.multiple,e,!1)}};_3=UP;v3=id;var z9={usingClientEntryPoint:!1,Events:[Am,gh,nk,S3,A3,UP]},og={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D9={bundleType:og.bundleType,version:og.version,rendererPackageName:og.rendererPackageName,rendererConfig:og.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=R3(n),n===null?null:n.stateNode},findFiberByHostInstance:og.findFiberByHostInstance||$9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wb.isDisabled&&wb.supportsFiber)try{Zw=wb.inject(D9),Ya=wb}catch{}}po.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z9;po.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!YP(e))throw Error(Me(200));return N9(n,e,null,t)};po.createRoot=function(n,e){if(!YP(n))throw Error(Me(299));var t=!1,r="",i=s5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=VP(n,1,!1,null,null,t,!1,r,i),n[Hc]=e.current,ky(n.nodeType===8?n.parentNode:n),new HP(e)};po.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=R3(e),n=n===null?null:n.stateNode,n};po.flushSync=function(n){return id(n)};po.hydrate=function(n,e,t){if(!dk(e))throw Error(Me(200));return hk(null,n,e,!0,t)};po.hydrateRoot=function(n,e,t){if(!YP(n))throw Error(Me(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=s5;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=i5(e,null,n,1,t??null,i,!1,s,o),n[Hc]=e.current,ky(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new lk(e)};po.render=function(n,e,t){if(!dk(e))throw Error(Me(200));return hk(null,n,e,!1,t)};po.unmountComponentAtNode=function(n){if(!dk(n))throw Error(Me(40));return n._reactRootContainer?(id(function(){hk(null,null,n,!1,function(){n._reactRootContainer=null,n[Hc]=null})}),!0):!1};po.unstable_batchedUpdates=UP;po.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!dk(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return hk(n,e,t,!1,r)};po.version="18.3.1-next-f1338f8080-20240426";function o5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o5)}catch(n){console.error(n)}}o5(),o3.exports=po;var vm=o3.exports;const U9=Do(vm),K9=Sd({__proto__:null,default:U9},[vm]);var N2=vm;uE.createRoot=N2.createRoot,uE.hydrateRoot=N2.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$r.apply(this,arguments)}var oi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(oi||(oi={}));const $2="popstate";function W9(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Em(i)}return V9(e,t,null,n)}function gn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qh(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F9(){return Math.random().toString(36).substr(2,8)}function q2(n,e){return{usr:n.state,key:n.key,idx:e}}function xy(n,e,t,r){return t===void 0&&(t=null),$r({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:t,key:e&&e.key||r||F9()})}function Em(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function V9(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=oi.Pop,c=null,u=l();u==null&&(u=0,o.replaceState($r({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=oi.Pop;let S=l(),w=S==null?null:S-u;u=S,c&&c({action:a,location:y.location,delta:w})}function b(S,w){a=oi.Push;let _=xy(y.location,S,w);u=l()+1;let R=q2(_,u),x=y.createHref(_);try{o.pushState(R,"",x)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(x)}s&&c&&c({action:a,location:y.location,delta:1})}function p(S,w){a=oi.Replace;let _=xy(y.location,S,w);u=l();let R=q2(_,u),x=y.createHref(_);o.replaceState(R,"",x),s&&c&&c({action:a,location:y.location,delta:0})}function g(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:Em(S);return _=_.replace(/ $/,"%20"),gn(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return n(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener($2,d),c=S,()=>{i.removeEventListener($2,d),c=null}},createHref(S){return e(i,S)},createURL:g,encodeLocation(S){let w=g(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:p,go(S){return o.go(S)}};return y}var Mr;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Mr||(Mr={}));const j9=new Set(["lazy","caseSensitive","path","id","index","children"]);function H9(n){return n.index===!0}function nI(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,s],a=typeof i.id=="string"?i.id:o.join("-");if(gn(i.index!==!0||!i.children,"Cannot specify children on an index route"),gn(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),H9(i)){let c=$r({},i,e(i),{id:a});return r[a]=c,c}else{let c=$r({},i,e(i),{id:a,children:void 0});return r[a]=c,i.children&&(c.children=nI(i.children,e,o,r)),c}})}function Ah(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?il(e):e,i=Im(r.pathname||"/",t);if(i==null)return null;let s=a5(n);G9(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let c=aj(i);o=ij(s[a],c)}return o}function Y9(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function a5(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(gn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gl([r,c.relativePath]),l=t.concat(c);s.children&&s.children.length>0&&(gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),a5(s.children,e,l,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:nj(u,s.index),routesMeta:l})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of c5(s.path))i(s,o,c)}),e}function c5(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=c5(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function G9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const J9=/^:[\w-]+$/,Q9=3,Z9=2,X9=1,ej=10,tj=-2,z2=n=>n==="*";function nj(n,e){let t=n.split("/"),r=t.length;return t.some(z2)&&(r+=tj),e&&(r+=Z9),t.filter(i=>!z2(i)).reduce((i,s)=>i+(J9.test(s)?Q9:s===""?X9:ej),r)}function rj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ij(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],c=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",l=sj({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u);if(!l)return null;Object.assign(r,l.params);let d=a.route;s.push({params:r,pathname:Gl([i,l.pathname]),pathnameBase:hj(Gl([i,l.pathnameBase])),route:d}),l.pathnameBase!=="/"&&(i=Gl([i,l.pathnameBase]))}return s}function sj(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=oj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,l,d)=>{let{paramName:b,isOptional:p}=l;if(b==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?u[b]=void 0:u[b]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function oj(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Qh(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qh(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Im(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function cj(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:uj(t,e):e,search:fj(r),hash:pj(i)}}function uj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function FA(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lj(n,e){let t=u5(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function dj(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=il(n):(i=$r({},n),gn(!i.pathname||!i.pathname.includes("?"),FA("?","pathname","search",i)),gn(!i.pathname||!i.pathname.includes("#"),FA("#","pathname","hash",i)),gn(!i.search||!i.search.includes("#"),FA("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),d-=1;i.pathname=b.join("/")}a=d>=0?e[d]:"/"}let c=cj(i,a),u=o&&o!=="/"&&o.endsWith("/"),l=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Gl=n=>n.join("/").replace(/\/\/+/g,"/"),hj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class GP{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function JP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const l5=["post","put","patch","delete"],gj=new Set(l5),yj=["get",...l5],mj=new Set(yj),bj=new Set([301,302,303,307,308]),wj=new Set([307,308]),VA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ag={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},QP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sj=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),d5="remix-router-transitions";function Aj(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;gn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let se=n.detectErrorBoundary;i=le=>({hasErrorBoundary:se(le)})}else i=Sj;let s={},o=nI(n.routes,i,void 0,s),a,c=n.basename||"/",u=n.unstable_dataStrategy||Ij,l=$r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),d=null,b=new Set,p=null,g=null,y=null,S=n.hydrationData!=null,w=Ah(o,n.history.location,c),_=null;if(w==null){let se=vo(404,{pathname:n.history.location.pathname}),{matches:le,route:de}=G2(o);w=le,_={[de.id]:se}}let R,x=w.some(se=>se.route.lazy),K=w.some(se=>se.route.loader);if(x)R=!1;else if(!K)R=!0;else if(l.v7_partialHydration){let se=n.hydrationData?n.hydrationData.loaderData:null,le=n.hydrationData?n.hydrationData.errors:null,de=Ae=>Ae.route.loader?typeof Ae.route.loader=="function"&&Ae.route.loader.hydrate===!0?!1:se&&se[Ae.route.id]!==void 0||le&&le[Ae.route.id]!==void 0:!0;if(le){let Ae=w.findIndex(et=>le[et.route.id]!==void 0);R=w.slice(0,Ae+1).every(de)}else R=w.every(de)}else R=n.hydrationData!=null;let J,M={historyAction:n.history.action,location:n.history.location,matches:w,initialized:R,navigation:VA,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||_,fetchers:new Map,blockers:new Map},Z=oi.Pop,ie=!1,X,ne=!1,ae=new Map,L=null,m=!1,v=!1,B=[],W=[],C=new Map,$=0,Q=-1,N=new Map,E=new Set,Y=new Map,fe=new Map,we=new Set,ve=new Map,De=new Map,Ge=!1;function Ke(){if(d=n.history.listen(se=>{let{action:le,location:de,delta:Ae}=se;if(Ge){Ge=!1;return}Qh(De.size===0||Ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=Oe({currentLocation:M.location,nextLocation:de,historyAction:le});if(et&&Ae!=null){Ge=!0,n.history.go(Ae*-1),mt(et,{state:"blocked",location:de,proceed(){mt(et,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),n.history.go(Ae)},reset(){let Ne=new Map(M.blockers);Ne.set(et,ag),yt({blockers:Ne})}});return}return dr(le,de)}),t){qj(e,ae);let se=()=>zj(e,ae);e.addEventListener("pagehide",se),L=()=>e.removeEventListener("pagehide",se)}return M.initialized||dr(oi.Pop,M.location,{initialHydration:!0}),J}function Pn(){d&&d(),L&&L(),b.clear(),X&&X.abort(),M.fetchers.forEach((se,le)=>f(le)),M.blockers.forEach((se,le)=>We(le))}function wt(se){return b.add(se),()=>b.delete(se)}function yt(se,le){le===void 0&&(le={}),M=$r({},M,se);let de=[],Ae=[];l.v7_fetcherPersist&&M.fetchers.forEach((et,Ne)=>{et.state==="idle"&&(we.has(Ne)?Ae.push(Ne):de.push(Ne))}),[...b].forEach(et=>et(M,{deletedFetchers:Ae,unstable_viewTransitionOpts:le.viewTransitionOpts,unstable_flushSync:le.flushSync===!0})),l.v7_fetcherPersist&&(de.forEach(et=>M.fetchers.delete(et)),Ae.forEach(et=>f(et)))}function kt(se,le,de){var Ae,et;let{flushSync:Ne}=de===void 0?{}:de,Fe=M.actionData!=null&&M.navigation.formMethod!=null&&Zo(M.navigation.formMethod)&&M.navigation.state==="loading"&&((Ae=se.state)==null?void 0:Ae._isRedirect)!==!0,it;le.actionData?Object.keys(le.actionData).length>0?it=le.actionData:it=null:Fe?it=M.actionData:it=null;let ct=le.loaderData?H2(M.loaderData,le.loaderData,le.matches||[],le.errors):M.loaderData,st=M.blockers;st.size>0&&(st=new Map(st),st.forEach((rt,Wn)=>st.set(Wn,ag)));let Wr=ie===!0||M.navigation.formMethod!=null&&Zo(M.navigation.formMethod)&&((et=se.state)==null?void 0:et._isRedirect)!==!0;a&&(o=a,a=void 0),m||Z===oi.Pop||(Z===oi.Push?n.history.push(se,se.state):Z===oi.Replace&&n.history.replace(se,se.state));let Ct;if(Z===oi.Pop){let rt=ae.get(M.location.pathname);rt&&rt.has(se.pathname)?Ct={currentLocation:M.location,nextLocation:se}:ae.has(se.pathname)&&(Ct={currentLocation:se,nextLocation:M.location})}else if(ne){let rt=ae.get(M.location.pathname);rt?rt.add(se.pathname):(rt=new Set([se.pathname]),ae.set(M.location.pathname,rt)),Ct={currentLocation:M.location,nextLocation:se}}yt($r({},le,{actionData:it,loaderData:ct,historyAction:Z,location:se,initialized:!0,navigation:VA,revalidation:"idle",restoreScrollPosition:ii(se,le.matches||M.matches),preventScrollReset:Wr,blockers:st}),{viewTransitionOpts:Ct,flushSync:Ne===!0}),Z=oi.Pop,ie=!1,ne=!1,m=!1,v=!1,B=[],W=[]}async function bt(se,le){if(typeof se=="number"){n.history.go(se);return}let de=rI(M.location,M.matches,c,l.v7_prependBasename,se,l.v7_relativeSplatPath,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:Ae,submission:et,error:Ne}=D2(l.v7_normalizeFormMethod,!1,de,le),Fe=M.location,it=xy(M.location,Ae,le&&le.state);it=$r({},it,n.history.encodeLocation(it));let ct=le&&le.replace!=null?le.replace:void 0,st=oi.Push;ct===!0?st=oi.Replace:ct===!1||et!=null&&Zo(et.formMethod)&&et.formAction===M.location.pathname+M.location.search&&(st=oi.Replace);let Wr=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,Ct=(le&&le.unstable_flushSync)===!0,rt=Oe({currentLocation:Fe,nextLocation:it,historyAction:st});if(rt){mt(rt,{state:"blocked",location:it,proceed(){mt(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),bt(se,le)},reset(){let Wn=new Map(M.blockers);Wn.set(rt,ag),yt({blockers:Wn})}});return}return await dr(st,it,{submission:et,pendingError:Ne,preventScrollReset:Wr,replace:le&&le.replace,enableViewTransition:le&&le.unstable_viewTransition,flushSync:Ct})}function tn(){if(xn(),yt({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){dr(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}dr(Z||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation})}}async function dr(se,le,de){X&&X.abort(),X=null,Z=se,m=(de&&de.startUninterruptedRevalidation)===!0,Zn(M.location,M.matches),ie=(de&&de.preventScrollReset)===!0,ne=(de&&de.enableViewTransition)===!0;let Ae=a||o,et=de&&de.overrideNavigation,Ne=Ah(Ae,le,c),Fe=(de&&de.flushSync)===!0;if(!Ne){let rt=vo(404,{pathname:le.pathname}),{matches:Wn,route:xt}=G2(Ae);Qn(),kt(le,{matches:Wn,loaderData:{},errors:{[xt.id]:rt}},{flushSync:Fe});return}if(M.initialized&&!v&&Cj(M.location,le)&&!(de&&de.submission&&Zo(de.submission.formMethod))){kt(le,{matches:Ne},{flushSync:Fe});return}X=new AbortController;let it=Vd(n.history,le,X.signal,de&&de.submission),ct;if(de&&de.pendingError)ct=[Hg(Ne).route.id,{type:Mr.error,error:de.pendingError}];else if(de&&de.submission&&Zo(de.submission.formMethod)){let rt=await Ht(it,le,de.submission,Ne,{replace:de.replace,flushSync:Fe});if(rt.shortCircuited)return;ct=rt.pendingActionResult,et=jA(le,de.submission),Fe=!1,it=Vd(n.history,it.url,it.signal)}let{shortCircuited:st,loaderData:Wr,errors:Ct}=await On(it,le,Ne,et,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,Fe,ct);st||(X=null,kt(le,$r({matches:Ne},Y2(ct),{loaderData:Wr,errors:Ct})))}async function Ht(se,le,de,Ae,et){et===void 0&&(et={}),xn();let Ne=Nj(le,de);yt({navigation:Ne},{flushSync:et.flushSync===!0});let Fe,it=sI(Ae,le);if(!it.route.action&&!it.route.lazy)Fe={type:Mr.error,error:vo(405,{method:se.method,pathname:le.pathname,routeId:it.route.id})};else if(Fe=(await Bt("action",se,[it],Ae))[0],se.signal.aborted)return{shortCircuited:!0};if(Ml(Fe)){let ct;return et&&et.replace!=null?ct=et.replace:ct=F2(Fe.response.headers.get("Location"),new URL(se.url),c)===M.location.pathname+M.location.search,await on(se,Fe,{submission:de,replace:ct}),{shortCircuited:!0}}if(Cl(Fe))throw vo(400,{type:"defer-action"});if(xo(Fe)){let ct=Hg(Ae,it.route.id);return(et&&et.replace)!==!0&&(Z=oi.Push),{pendingActionResult:[ct.route.id,Fe]}}return{pendingActionResult:[it.route.id,Fe]}}async function On(se,le,de,Ae,et,Ne,Fe,it,ct,st){let Wr=Ae||jA(le,et),Ct=et||Ne||Z2(Wr),rt=a||o,[Wn,xt]=U2(n.history,M,de,Ct,le,l.v7_partialHydration&&it===!0,l.unstable_skipActionErrorRevalidation,v,B,W,we,Y,E,rt,c,st);if(Qn(Mt=>!(de&&de.some(ti=>ti.route.id===Mt))||Wn&&Wn.some(ti=>ti.route.id===Mt)),Q=++$,Wn.length===0&&xt.length===0){let Mt=ee();return kt(le,$r({matches:de,loaderData:{},errors:st&&xo(st[1])?{[st[0]]:st[1].error}:null},Y2(st),Mt?{fetchers:new Map(M.fetchers)}:{}),{flushSync:ct}),{shortCircuited:!0}}if(!m&&(!l.v7_partialHydration||!it)){xt.forEach(ti=>{let Si=M.fetchers.get(ti.key),Nr=cg(void 0,Si?Si.data:void 0);M.fetchers.set(ti.key,Nr)});let Mt;st&&!xo(st[1])?Mt={[st[0]]:st[1].data}:M.actionData&&(Object.keys(M.actionData).length===0?Mt=null:Mt=M.actionData),yt($r({navigation:Wr},Mt!==void 0?{actionData:Mt}:{},xt.length>0?{fetchers:new Map(M.fetchers)}:{}),{flushSync:ct})}xt.forEach(Mt=>{C.has(Mt.key)&&z(Mt.key),Mt.controller&&C.set(Mt.key,Mt.controller)});let Xn=()=>xt.forEach(Mt=>z(Mt.key));X&&X.signal.addEventListener("abort",Xn);let{loaderResults:Hs,fetcherResults:Fn}=await yn(M.matches,de,Wn,xt,se);if(se.signal.aborted)return{shortCircuited:!0};X&&X.signal.removeEventListener("abort",Xn),xt.forEach(Mt=>C.delete(Mt.key));let Vn=J2([...Hs,...Fn]);if(Vn){if(Vn.idx>=Wn.length){let Mt=xt[Vn.idx-Wn.length].key;E.add(Mt)}return await on(se,Vn.result,{replace:Fe}),{shortCircuited:!0}}let{loaderData:So,errors:Di}=j2(M,de,Wn,Hs,st,xt,Fn,ve);ve.forEach((Mt,ti)=>{Mt.subscribe(Si=>{(Si||Mt.done)&&ve.delete(ti)})}),l.v7_partialHydration&&it&&M.errors&&Object.entries(M.errors).filter(Mt=>{let[ti]=Mt;return!Wn.some(Si=>Si.route.id===ti)}).forEach(Mt=>{let[ti,Si]=Mt;Di=Object.assign(Di||{},{[ti]:Si})});let ha=ee(),fa=Le(Q),pa=ha||fa||xt.length>0;return $r({loaderData:So,errors:Di},pa?{fetchers:new Map(M.fetchers)}:{})}function ko(se,le,de,Ae){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(se)&&z(se);let et=(Ae&&Ae.unstable_flushSync)===!0,Ne=a||o,Fe=rI(M.location,M.matches,c,l.v7_prependBasename,de,l.v7_relativeSplatPath,le,Ae==null?void 0:Ae.relative),it=Ah(Ne,Fe,c);if(!it){A(se,le,vo(404,{pathname:Fe}),{flushSync:et});return}let{path:ct,submission:st,error:Wr}=D2(l.v7_normalizeFormMethod,!0,Fe,Ae);if(Wr){A(se,le,Wr,{flushSync:et});return}let Ct=sI(it,ct);if(ie=(Ae&&Ae.preventScrollReset)===!0,st&&Zo(st.formMethod)){wn(se,le,ct,Ct,it,et,st);return}Y.set(se,{routeId:le,path:ct}),nn(se,le,ct,Ct,it,et,st)}async function wn(se,le,de,Ae,et,Ne,Fe){if(xn(),Y.delete(se),!Ae.route.action&&!Ae.route.lazy){let Nr=vo(405,{method:Fe.formMethod,pathname:de,routeId:le});A(se,le,Nr,{flushSync:Ne});return}let it=M.fetchers.get(se);Tt(se,$j(Fe,it),{flushSync:Ne});let ct=new AbortController,st=Vd(n.history,de,ct.signal,Fe);C.set(se,ct);let Wr=$,rt=(await Bt("action",st,[Ae],et))[0];if(st.signal.aborted){C.get(se)===ct&&C.delete(se);return}if(l.v7_fetcherPersist&&we.has(se)){if(Ml(rt)||xo(rt)){Tt(se,hu(void 0));return}}else{if(Ml(rt))if(C.delete(se),Q>Wr){Tt(se,hu(void 0));return}else return E.add(se),Tt(se,cg(Fe)),on(st,rt,{fetcherSubmission:Fe});if(xo(rt)){A(se,le,rt.error);return}}if(Cl(rt))throw vo(400,{type:"defer-action"});let Wn=M.navigation.location||M.location,xt=Vd(n.history,Wn,ct.signal),Xn=a||o,Hs=M.navigation.state!=="idle"?Ah(Xn,M.navigation.location,c):M.matches;gn(Hs,"Didn't find any matches after fetcher action");let Fn=++$;N.set(se,Fn);let Vn=cg(Fe,rt.data);M.fetchers.set(se,Vn);let[So,Di]=U2(n.history,M,Hs,Fe,Wn,!1,l.unstable_skipActionErrorRevalidation,v,B,W,we,Y,E,Xn,c,[Ae.route.id,rt]);Di.filter(Nr=>Nr.key!==se).forEach(Nr=>{let Fo=Nr.key,ru=M.fetchers.get(Fo),cl=cg(void 0,ru?ru.data:void 0);M.fetchers.set(Fo,cl),C.has(Fo)&&z(Fo),Nr.controller&&C.set(Fo,Nr.controller)}),yt({fetchers:new Map(M.fetchers)});let ha=()=>Di.forEach(Nr=>z(Nr.key));ct.signal.addEventListener("abort",ha);let{loaderResults:fa,fetcherResults:pa}=await yn(M.matches,Hs,So,Di,xt);if(ct.signal.aborted)return;ct.signal.removeEventListener("abort",ha),N.delete(se),C.delete(se),Di.forEach(Nr=>C.delete(Nr.key));let Mt=J2([...fa,...pa]);if(Mt){if(Mt.idx>=So.length){let Nr=Di[Mt.idx-So.length].key;E.add(Nr)}return on(xt,Mt.result)}let{loaderData:ti,errors:Si}=j2(M,M.matches,So,fa,void 0,Di,pa,ve);if(M.fetchers.has(se)){let Nr=hu(rt.data);M.fetchers.set(se,Nr)}Le(Fn),M.navigation.state==="loading"&&Fn>Q?(gn(Z,"Expected pending action"),X&&X.abort(),kt(M.navigation.location,{matches:Hs,loaderData:ti,errors:Si,fetchers:new Map(M.fetchers)})):(yt({errors:Si,loaderData:H2(M.loaderData,ti,Hs,Si),fetchers:new Map(M.fetchers)}),v=!1)}async function nn(se,le,de,Ae,et,Ne,Fe){let it=M.fetchers.get(se);Tt(se,cg(Fe,it?it.data:void 0),{flushSync:Ne});let ct=new AbortController,st=Vd(n.history,de,ct.signal);C.set(se,ct);let Wr=$,rt=(await Bt("loader",st,[Ae],et))[0];if(Cl(rt)&&(rt=await g5(rt,st.signal,!0)||rt),C.get(se)===ct&&C.delete(se),!st.signal.aborted){if(we.has(se)){Tt(se,hu(void 0));return}if(Ml(rt))if(Q>Wr){Tt(se,hu(void 0));return}else{E.add(se),await on(st,rt);return}if(xo(rt)){A(se,le,rt.error);return}gn(!Cl(rt),"Unhandled fetcher deferred data"),Tt(se,hu(rt.data))}}async function on(se,le,de){let{submission:Ae,fetcherSubmission:et,replace:Ne}=de===void 0?{}:de;le.response.headers.has("X-Remix-Revalidate")&&(v=!0);let Fe=le.response.headers.get("Location");gn(Fe,"Expected a Location header on the redirect Response"),Fe=F2(Fe,new URL(se.url),c);let it=xy(M.location,Fe,{_isRedirect:!0});if(t){let Wn=!1;if(le.response.headers.has("X-Remix-Reload-Document"))Wn=!0;else if(QP.test(Fe)){const xt=n.history.createURL(Fe);Wn=xt.origin!==e.location.origin||Im(xt.pathname,c)==null}if(Wn){Ne?e.location.replace(Fe):e.location.assign(Fe);return}}X=null;let ct=Ne===!0?oi.Replace:oi.Push,{formMethod:st,formAction:Wr,formEncType:Ct}=M.navigation;!Ae&&!et&&st&&Wr&&Ct&&(Ae=Z2(M.navigation));let rt=Ae||et;if(wj.has(le.response.status)&&rt&&Zo(rt.formMethod))await dr(ct,it,{submission:$r({},rt,{formAction:Fe}),preventScrollReset:ie});else{let Wn=jA(it,Ae);await dr(ct,it,{overrideNavigation:Wn,fetcherSubmission:et,preventScrollReset:ie})}}async function Bt(se,le,de,Ae){try{let et=await Rj(u,se,le,de,Ae,s,i);return await Promise.all(et.map((Ne,Fe)=>{if(Mj(Ne)){let it=Ne.result;return{type:Mr.redirect,response:Bj(it,le,de[Fe].route.id,Ae,c,l.v7_relativeSplatPath)}}return xj(Ne)}))}catch(et){return de.map(()=>({type:Mr.error,error:et}))}}async function yn(se,le,de,Ae,et){let[Ne,...Fe]=await Promise.all([de.length?Bt("loader",et,de,le):[],...Ae.map(it=>{if(it.matches&&it.match&&it.controller){let ct=Vd(n.history,it.path,it.controller.signal);return Bt("loader",ct,[it.match],it.matches).then(st=>st[0])}else return Promise.resolve({type:Mr.error,error:vo(404,{pathname:it.path})})})]);return await Promise.all([Q2(se,de,Ne,Ne.map(()=>et.signal),!1,M.loaderData),Q2(se,Ae.map(it=>it.match),Fe,Ae.map(it=>it.controller?it.controller.signal:null),!0)]),{loaderResults:Ne,fetcherResults:Fe}}function xn(){v=!0,B.push(...Qn()),Y.forEach((se,le)=>{C.has(le)&&(W.push(le),z(le))})}function Tt(se,le,de){de===void 0&&(de={}),M.fetchers.set(se,le),yt({fetchers:new Map(M.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function A(se,le,de,Ae){Ae===void 0&&(Ae={});let et=Hg(M.matches,le);f(se),yt({errors:{[et.route.id]:de},fetchers:new Map(M.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function h(se){return l.v7_fetcherPersist&&(fe.set(se,(fe.get(se)||0)+1),we.has(se)&&we.delete(se)),M.fetchers.get(se)||kj}function f(se){let le=M.fetchers.get(se);C.has(se)&&!(le&&le.state==="loading"&&N.has(se))&&z(se),Y.delete(se),N.delete(se),E.delete(se),we.delete(se),M.fetchers.delete(se)}function I(se){if(l.v7_fetcherPersist){let le=(fe.get(se)||0)-1;le<=0?(fe.delete(se),we.add(se)):fe.set(se,le)}else f(se);yt({fetchers:new Map(M.fetchers)})}function z(se){let le=C.get(se);gn(le,"Expected fetch controller: "+se),le.abort(),C.delete(se)}function G(se){for(let le of se){let de=h(le),Ae=hu(de.data);M.fetchers.set(le,Ae)}}function ee(){let se=[],le=!1;for(let de of E){let Ae=M.fetchers.get(de);gn(Ae,"Expected fetcher: "+de),Ae.state==="loading"&&(E.delete(de),se.push(de),le=!0)}return G(se),le}function Le(se){let le=[];for(let[de,Ae]of N)if(Ae<se){let et=M.fetchers.get(de);gn(et,"Expected fetcher: "+de),et.state==="loading"&&(z(de),N.delete(de),le.push(de))}return G(le),le.length>0}function Xe(se,le){let de=M.blockers.get(se)||ag;return De.get(se)!==le&&De.set(se,le),de}function We(se){M.blockers.delete(se),De.delete(se)}function mt(se,le){let de=M.blockers.get(se)||ag;gn(de.state==="unblocked"&&le.state==="blocked"||de.state==="blocked"&&le.state==="blocked"||de.state==="blocked"&&le.state==="proceeding"||de.state==="blocked"&&le.state==="unblocked"||de.state==="proceeding"&&le.state==="unblocked","Invalid blocker state transition: "+de.state+" -> "+le.state);let Ae=new Map(M.blockers);Ae.set(se,le),yt({blockers:Ae})}function Oe(se){let{currentLocation:le,nextLocation:de,historyAction:Ae}=se;if(De.size===0)return;De.size>1&&Qh(!1,"A router only supports one blocker at a time");let et=Array.from(De.entries()),[Ne,Fe]=et[et.length-1],it=M.blockers.get(Ne);if(!(it&&it.state==="proceeding")&&Fe({currentLocation:le,nextLocation:de,historyAction:Ae}))return Ne}function Qn(se){let le=[];return ve.forEach((de,Ae)=>{(!se||se(Ae))&&(de.cancel(),le.push(Ae),ve.delete(Ae))}),le}function mc(se,le,de){if(p=se,y=le,g=de||null,!S&&M.navigation===VA){S=!0;let Ae=ii(M.location,M.matches);Ae!=null&&yt({restoreScrollPosition:Ae})}return()=>{p=null,y=null,g=null}}function Nn(se,le){return g&&g(se,le.map(Ae=>Y9(Ae,M.loaderData)))||se.key}function Zn(se,le){if(p&&y){let de=Nn(se,le);p[de]=y()}}function ii(se,le){if(p){let de=Nn(se,le),Ae=p[de];if(typeof Ae=="number")return Ae}return null}function rn(se){s={},a=nI(se,i,void 0,s)}return J={get basename(){return c},get future(){return l},get state(){return M},get routes(){return o},get window(){return e},initialize:Ke,subscribe:wt,enableScrollRestoration:mc,navigate:bt,fetch:ko,revalidate:tn,createHref:se=>n.history.createHref(se),encodeLocation:se=>n.history.encodeLocation(se),getFetcher:h,deleteFetcher:I,dispose:Pn,getBlocker:Xe,deleteBlocker:We,_internalFetchControllers:C,_internalActiveDeferreds:ve,_internalSetRoutes:rn},J}function _j(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function rI(n,e,t,r,i,s,o,a){let c,u;if(o){c=[];for(let d of e)if(c.push(d),d.route.id===o){u=d;break}}else c=e,u=e[e.length-1];let l=dj(i||".",lj(c,s),Im(n.pathname,t)||n.pathname,a==="path");return i==null&&(l.search=n.search,l.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!ZP(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(l.pathname=l.pathname==="/"?t:Gl([t,l.pathname])),Em(l)}function D2(n,e,t,r){if(!r||!_j(r))return{path:t};if(r.formMethod&&!Oj(r.formMethod))return{path:t,error:vo(405,{method:r.formMethod})};let i=()=>({path:t,error:vo(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=f5(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Zo(o))return i();let b=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[y,S]=g;return""+p+y+"="+S+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:b}}}else if(r.formEncType==="application/json"){if(!Zo(o))return i();try{let b=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:b,text:void 0}}}catch{return i()}}}gn(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=iI(r.formData),u=r.formData;else if(r.body instanceof FormData)c=iI(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=V2(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=V2(c)}catch{return i()}let l={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Zo(l.formMethod))return{path:t,submission:l};let d=il(t);return e&&d.search&&ZP(d.search)&&c.append("index",""),d.search="?"+c,{path:Em(d),submission:l}}function vj(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function U2(n,e,t,r,i,s,o,a,c,u,l,d,b,p,g,y){let S=y?xo(y[1])?y[1].error:y[1].data:void 0,w=n.createURL(e.location),_=n.createURL(i),R=y&&xo(y[1])?y[0]:void 0,x=R?vj(t,R):t,K=y?y[1].statusCode:void 0,J=o&&K&&K>=400,M=x.filter((ie,X)=>{let{route:ne}=ie;if(ne.lazy)return!0;if(ne.loader==null)return!1;if(s)return typeof ne.loader!="function"||ne.loader.hydrate?!0:e.loaderData[ne.id]===void 0&&(!e.errors||e.errors[ne.id]===void 0);if(Ej(e.loaderData,e.matches[X],ie)||c.some(m=>m===ie.route.id))return!0;let ae=e.matches[X],L=ie;return K2(ie,$r({currentUrl:w,currentParams:ae.params,nextUrl:_,nextParams:L.params},r,{actionResult:S,unstable_actionStatus:K,defaultShouldRevalidate:J?!1:a||w.pathname+w.search===_.pathname+_.search||w.search!==_.search||h5(ae,L)}))}),Z=[];return d.forEach((ie,X)=>{if(s||!t.some(v=>v.route.id===ie.routeId)||l.has(X))return;let ne=Ah(p,ie.path,g);if(!ne){Z.push({key:X,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let ae=e.fetchers.get(X),L=sI(ne,ie.path),m=!1;b.has(X)?m=!1:u.includes(X)?m=!0:ae&&ae.state!=="idle"&&ae.data===void 0?m=a:m=K2(L,$r({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:t[t.length-1].params},r,{actionResult:S,unstable_actionStatus:K,defaultShouldRevalidate:J?!1:a})),m&&Z.push({key:X,routeId:ie.routeId,path:ie.path,matches:ne,match:L,controller:new AbortController})}),[M,Z]}function Ej(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function h5(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function K2(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function W2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];gn(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";Qh(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!j9.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$r({},e(i),{lazy:void 0}))}function Ij(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function Rj(n,e,t,r,i,s,o,a){let c=r.reduce((d,b)=>d.add(b.route.id),new Set),u=new Set,l=await n({matches:i.map(d=>{let b=c.has(d.route.id);return $r({},d,{shouldLoad:b,resolve:g=>(u.add(d.route.id),b?Pj(e,t,d,s,o,g,a):Promise.resolve({type:Mr.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(d=>gn(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),l.filter((d,b)=>c.has(i[b].route.id))}async function Pj(n,e,t,r,i,s,o){let a,c,u=l=>{let d,b=new Promise((y,S)=>d=S);c=()=>d(),e.signal.addEventListener("abort",c);let p=y=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):l({request:e,params:t.params,context:o},...y!==void 0?[y]:[]),g;return s?g=s(y=>p(y)):g=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([g,b])};try{let l=t.route[n];if(t.route.lazy)if(l){let d,[b]=await Promise.all([u(l).catch(p=>{d=p}),W2(t.route,i,r)]);if(d!==void 0)throw d;a=b}else if(await W2(t.route,i,r),l=t.route[n],l)a=await u(l);else if(n==="action"){let d=new URL(e.url),b=d.pathname+d.search;throw vo(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:Mr.data,result:void 0};else if(l)a=await u(l);else{let d=new URL(e.url),b=d.pathname+d.search;throw vo(404,{pathname:b})}gn(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:Mr.error,result:l}}finally{c&&e.signal.removeEventListener("abort",c)}return a}async function xj(n){let{result:e,type:t,status:r}=n;if(p5(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Mr.error,error:a}}return t===Mr.error?{type:Mr.error,error:new GP(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Mr.data,data:o,statusCode:e.status,headers:e.headers}}if(t===Mr.error)return{type:Mr.error,error:e,statusCode:JP(e)?e.status:r};if(Lj(e)){var i,s;return{type:Mr.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Mr.data,data:e,statusCode:r}}function Bj(n,e,t,r,i,s){let o=n.headers.get("Location");if(gn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!QP.test(o)){let a=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=rI(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function F2(n,e,t){if(QP.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Im(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function Vd(n,e,t,r){let i=n.createURL(f5(e)).toString(),s={signal:t};if(r&&Zo(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=iI(r.formData):s.body=r.formData}return new Request(i,s)}function iI(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function V2(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Tj(n,e,t,r,i,s){let o={},a=null,c,u=!1,l={},d=r&&xo(r[1])?r[1].error:void 0;return t.forEach((b,p)=>{let g=e[p].route.id;if(gn(!Ml(b),"Cannot handle redirect results in processLoaderData"),xo(b)){let y=b.error;d!==void 0&&(y=d,d=void 0),a=a||{};{let S=Hg(n,g);a[S.route.id]==null&&(a[S.route.id]=y)}o[g]=void 0,u||(u=!0,c=JP(b.error)?b.error.status:500),b.headers&&(l[g]=b.headers)}else Cl(b)?(i.set(g,b.deferredData),o[g]=b.deferredData.data,b.statusCode!=null&&b.statusCode!==200&&!u&&(c=b.statusCode),b.headers&&(l[g]=b.headers)):(o[g]=b.data,b.statusCode&&b.statusCode!==200&&!u&&(c=b.statusCode),b.headers&&(l[g]=b.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:c||200,loaderHeaders:l}}function j2(n,e,t,r,i,s,o,a){let{loaderData:c,errors:u}=Tj(e,t,r,i,a);for(let l=0;l<s.length;l++){let{key:d,match:b,controller:p}=s[l];gn(o!==void 0&&o[l]!==void 0,"Did not find corresponding fetcher result");let g=o[l];if(!(p&&p.signal.aborted))if(xo(g)){let y=Hg(n.matches,b==null?void 0:b.route.id);u&&u[y.route.id]||(u=$r({},u,{[y.route.id]:g.error})),n.fetchers.delete(d)}else if(Ml(g))gn(!1,"Unhandled fetcher revalidation redirect");else if(Cl(g))gn(!1,"Unhandled fetcher deferred data");else{let y=hu(g.data);n.fetchers.set(d,y)}}return{loaderData:c,errors:u}}function H2(n,e,t,r){let i=$r({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function Y2(n){return n?xo(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Hg(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function G2(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vo(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&t&&r?a="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):n===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",i&&t&&r?a="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new GP(n||500,o,new Error(a),!0)}function J2(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Ml(t))return{result:t,idx:e}}}function f5(n){let e=typeof n=="string"?il(n):n;return Em($r({},e,{hash:""}))}function Cj(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Mj(n){return p5(n.result)&&bj.has(n.result.status)}function Cl(n){return n.type===Mr.deferred}function xo(n){return n.type===Mr.error}function Ml(n){return(n&&n.type)===Mr.redirect}function Lj(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function p5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Oj(n){return mj.has(n.toLowerCase())}function Zo(n){return gj.has(n.toLowerCase())}async function Q2(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],c=e[o];if(!c)continue;let u=n.find(d=>d.route.id===c.route.id),l=u!=null&&!h5(u,c)&&(s&&s[c.route.id])!==void 0;if(Cl(a)&&(i||l)){let d=r[o];gn(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await g5(a,d,i).then(b=>{b&&(t[o]=b||t[o])})}}}async function g5(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Mr.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Mr.error,error:i}}return{type:Mr.data,data:n.deferredData.data}}}function ZP(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function sI(n,e){let t=typeof e=="string"?il(e).search:e.search;if(n[n.length-1].route.index&&ZP(t||""))return n[n.length-1];let r=u5(n);return r[r.length-1]}function Z2(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function jA(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nj(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function cg(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $j(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function hu(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function qj(n,e){try{let t=n.sessionStorage.getItem(d5);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function zj(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(d5,JSON.stringify(t))}catch(r){Qh(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oI(){return oI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oI.apply(this,arguments)}const y5=ke.createContext(null),m5=ke.createContext(null),b5=ke.createContext(null),XP=ke.createContext(null),fk=ke.createContext({outlet:null,matches:[],isDataRoute:!1}),w5=ke.createContext(null);function ex(){return ke.useContext(XP)!=null}function Dj(){return ex()||gn(!1),ke.useContext(XP).location}function Uj(n,e,t,r){ex()||gn(!1);let{navigator:i}=ke.useContext(b5),{matches:s}=ke.useContext(fk),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Dj(),l;l=u;let d=l.pathname||"/",b=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");b="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Ah(n,{pathname:b});return jj(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Gl([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Gl([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r)}function Kj(){let n=Jj(),e=JP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ke.createElement(ke.Fragment,null,ke.createElement("h2",null,"Unexpected Application Error!"),ke.createElement("h3",{style:{fontStyle:"italic"}},e),t?ke.createElement("pre",{style:i},t):null,null)}const Wj=ke.createElement(Kj,null);class Fj extends ke.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ke.createElement(fk.Provider,{value:this.props.routeContext},ke.createElement(w5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vj(n){let{routeContext:e,match:t,children:r}=n,i=ke.useContext(y5);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ke.createElement(fk.Provider,{value:e},r)}function jj(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||gn(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:b,errors:p}=t,g=d.route.loader&&b[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,b)=>{let p,g=!1,y=null,S=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Wj,c&&(u<0&&b===0?(Qj("route-fallback"),g=!0,S=null):u===b&&(g=!0,S=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,b+1)),_=()=>{let R;return p?R=y:g?R=S:d.route.Component?R=ke.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=l,ke.createElement(Vj,{match:d,routeContext:{outlet:l,matches:w,isDataRoute:t!=null},children:R})};return t&&(d.route.ErrorBoundary||d.route.errorElement||b===0)?ke.createElement(Fj,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var aI=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(aI||{});function Hj(n){let e=ke.useContext(m5);return e||gn(!1),e}function Yj(n){let e=ke.useContext(fk);return e||gn(!1),e}function Gj(n){let e=Yj(),t=e.matches[e.matches.length-1];return t.route.id||gn(!1),t.route.id}function Jj(){var n;let e=ke.useContext(w5),t=Hj(aI.UseRouteError),r=Gj(aI.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}const X2={};function Qj(n,e,t){X2[n]||(X2[n]=!0)}function Zj(n){let{basename:e="/",children:t=null,location:r,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:a}=n;ex()&&gn(!1);let c=e.replace(/^\/*/,"/"),u=ke.useMemo(()=>({basename:c,navigator:s,static:o,future:oI({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=il(r));let{pathname:l="/",search:d="",hash:b="",state:p=null,key:g="default"}=r,y=ke.useMemo(()=>{let S=Im(l,c);return S==null?null:{location:{pathname:S,search:d,hash:b,state:p,key:g},navigationType:i}},[c,l,d,b,p,g,i]);return y==null?null:ke.createElement(b5.Provider,{value:u},ke.createElement(XP.Provider,{children:t,value:y}))}new Promise(()=>{});function Xj(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:ke.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:ke.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:ke.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I0(){return I0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},I0.apply(this,arguments)}const eH="6";try{window.__reactRouterVersion=eH}catch{}function tH(n,e){return Aj({basename:void 0,future:I0({},void 0,{v7_prependBasename:!0}),history:W9({window:void 0}),hydrationData:nH(),routes:n,mapRouteProperties:Xj,unstable_dataStrategy:void 0,window:void 0}).initialize()}function nH(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=I0({},e,{errors:rH(e.errors)})),e}function rH(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new GP(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const iH=ke.createContext({isTransitioning:!1}),sH=ke.createContext(new Map),oH="startTransition",eC=BF[oH],aH="flushSync",tC=K9[aH];function cH(n){eC?eC(n):n()}function ug(n){tC?tC(n):n()}class uH{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function lH(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=ke.useState(t.state),[o,a]=ke.useState(),[c,u]=ke.useState({isTransitioning:!1}),[l,d]=ke.useState(),[b,p]=ke.useState(),[g,y]=ke.useState(),S=ke.useRef(new Map),{v7_startTransition:w}=r||{},_=ke.useCallback(M=>{w?cH(M):M()},[w]),R=ke.useCallback((M,Z)=>{let{deletedFetchers:ie,unstable_flushSync:X,unstable_viewTransitionOpts:ne}=Z;ie.forEach(L=>S.current.delete(L)),M.fetchers.forEach((L,m)=>{L.data!==void 0&&S.current.set(m,L.data)});let ae=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!ne||ae){X?ug(()=>s(M)):_(()=>s(M));return}if(X){ug(()=>{b&&(l&&l.resolve(),b.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})});let L=t.window.document.startViewTransition(()=>{ug(()=>s(M))});L.finished.finally(()=>{ug(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),ug(()=>p(L));return}b?(l&&l.resolve(),b.skipTransition(),y({state:M,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})):(a(M),u({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}))},[t.window,b,l,S,_]);ke.useLayoutEffect(()=>t.subscribe(R),[t,R]),ke.useEffect(()=>{c.isTransitioning&&!c.flushSync&&d(new uH)},[c]),ke.useEffect(()=>{if(l&&o&&t.window){let M=o,Z=l.promise,ie=t.window.document.startViewTransition(async()=>{_(()=>s(M)),await Z});ie.finished.finally(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(ie)}},[_,o,l,t.window]),ke.useEffect(()=>{l&&o&&i.location.key===o.location.key&&l.resolve()},[l,b,i.location,o]),ke.useEffect(()=>{!c.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[c.isTransitioning,g]),ke.useEffect(()=>{},[]);let x=ke.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:M=>t.navigate(M),push:(M,Z,ie)=>t.navigate(M,{state:Z,preventScrollReset:ie==null?void 0:ie.preventScrollReset}),replace:(M,Z,ie)=>t.navigate(M,{replace:!0,state:Z,preventScrollReset:ie==null?void 0:ie.preventScrollReset})}),[t]),K=t.basename||"/",J=ke.useMemo(()=>({router:t,navigator:x,static:!1,basename:K}),[t,x,K]);return ke.createElement(ke.Fragment,null,ke.createElement(y5.Provider,{value:J},ke.createElement(m5.Provider,{value:i},ke.createElement(sH.Provider,{value:S.current},ke.createElement(iH.Provider,{value:c},ke.createElement(Zj,{basename:K,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?ke.createElement(dH,{routes:t.routes,future:t.future,state:i}):e))))),null)}function dH(n){let{routes:e,future:t,state:r}=n;return Uj(e,void 0,r,t)}var nC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nC||(nC={}));var rC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rC||(rC={}));function k5(n,e){return function(){return n.apply(e,arguments)}}const{toString:hH}=Object.prototype,{getPrototypeOf:tx}=Object,pk=(n=>e=>{const t=hH.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),da=n=>(n=n.toLowerCase(),e=>pk(e)===n),gk=n=>e=>typeof e===n,{isArray:_p}=Array,By=gk("undefined");function fH(n){return n!==null&&!By(n)&&n.constructor!==null&&!By(n.constructor)&&Mo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const S5=da("ArrayBuffer");function pH(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&S5(n.buffer),e}const gH=gk("string"),Mo=gk("function"),A5=gk("number"),yk=n=>n!==null&&typeof n=="object",yH=n=>n===!0||n===!1,u1=n=>{if(pk(n)!=="object")return!1;const e=tx(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mH=da("Date"),bH=da("File"),wH=da("Blob"),kH=da("FileList"),SH=n=>yk(n)&&Mo(n.pipe),AH=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Mo(n.append)&&((e=pk(n))==="formdata"||e==="object"&&Mo(n.toString)&&n.toString()==="[object FormData]"))},_H=da("URLSearchParams"),[vH,EH,IH,RH]=["ReadableStream","Request","Response","Headers"].map(da),PH=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),_p(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function _5(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const v5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E5=n=>!By(n)&&n!==v5;function cI(){const{caseless:n}=E5(this)&&this||{},e={},t=(r,i)=>{const s=n&&_5(e,i)||i;u1(e[s])&&u1(r)?e[s]=cI(e[s],r):u1(r)?e[s]=cI({},r):_p(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Rm(arguments[r],t);return e}const xH=(n,e,t,{allOwnKeys:r}={})=>(Rm(e,(i,s)=>{t&&Mo(i)?n[s]=k5(i,t):n[s]=i},{allOwnKeys:r}),n),BH=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),TH=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},CH=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&tx(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},MH=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},LH=n=>{if(!n)return null;if(_p(n))return n;let e=n.length;if(!A5(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},OH=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&tx(Uint8Array)),NH=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},$H=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},qH=da("HTMLFormElement"),zH=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),iC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),DH=da("RegExp"),I5=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Rm(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},UH=n=>{I5(n,(e,t)=>{if(Mo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Mo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KH=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return _p(n)?r(n):r(String(n).split(e)),t},WH=()=>{},FH=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,HA="abcdefghijklmnopqrstuvwxyz",sC="0123456789",R5={DIGIT:sC,ALPHA:HA,ALPHA_DIGIT:HA+HA.toUpperCase()+sC},VH=(n=16,e=R5.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function jH(n){return!!(n&&Mo(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const HH=n=>{const e=new Array(10),t=(r,i)=>{if(yk(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=_p(r)?[]:{};return Rm(r,(o,a)=>{const c=t(o,i+1);!By(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},YH=da("AsyncFunction"),GH=n=>n&&(yk(n)||Mo(n))&&Mo(n.then)&&Mo(n.catch),be={isArray:_p,isArrayBuffer:S5,isBuffer:fH,isFormData:AH,isArrayBufferView:pH,isString:gH,isNumber:A5,isBoolean:yH,isObject:yk,isPlainObject:u1,isReadableStream:vH,isRequest:EH,isResponse:IH,isHeaders:RH,isUndefined:By,isDate:mH,isFile:bH,isBlob:wH,isRegExp:DH,isFunction:Mo,isStream:SH,isURLSearchParams:_H,isTypedArray:OH,isFileList:kH,forEach:Rm,merge:cI,extend:xH,trim:PH,stripBOM:BH,inherits:TH,toFlatObject:CH,kindOf:pk,kindOfTest:da,endsWith:MH,toArray:LH,forEachEntry:NH,matchAll:$H,isHTMLForm:qH,hasOwnProperty:iC,hasOwnProp:iC,reduceDescriptors:I5,freezeMethods:UH,toObjectSet:KH,toCamelCase:zH,noop:WH,toFiniteNumber:FH,findKey:_5,global:v5,isContextDefined:E5,ALPHABET:R5,generateString:VH,isSpecCompliantForm:jH,toJSONObject:HH,isAsyncFn:YH,isThenable:GH};function Pt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}be.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const P5=Pt.prototype,x5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{x5[n]={value:n}});Object.defineProperties(Pt,x5);Object.defineProperty(P5,"isAxiosError",{value:!0});Pt.from=(n,e,t,r,i,s)=>{const o=Object.create(P5);return be.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Pt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const JH=null;function uI(n){return be.isPlainObject(n)||be.isArray(n)}function B5(n){return be.endsWith(n,"[]")?n.slice(0,-2):n}function oC(n,e,t){return n?n.concat(e).map(function(i,s){return i=B5(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function QH(n){return be.isArray(n)&&!n.some(uI)}const ZH=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function mk(n,e,t){if(!be.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=be.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!be.isUndefined(S[y])});const r=t.metaTokens,i=t.visitor||l,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(be.isDate(g))return g.toISOString();if(!c&&be.isBlob(g))throw new Pt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(g)||be.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,y,S){let w=g;if(g&&!S&&typeof g=="object"){if(be.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(be.isArray(g)&&QH(g)||(be.isFileList(g)||be.endsWith(y,"[]"))&&(w=be.toArray(g)))return y=B5(y),w.forEach(function(R,x){!(be.isUndefined(R)||R===null)&&e.append(o===!0?oC([y],x,s):o===null?y:y+"[]",u(R))}),!1}return uI(g)?!0:(e.append(oC(S,y,s),u(g)),!1)}const d=[],b=Object.assign(ZH,{defaultVisitor:l,convertValue:u,isVisitable:uI});function p(g,y){if(!be.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),be.forEach(g,function(w,_){(!(be.isUndefined(w)||w===null)&&i.call(e,w,be.isString(_)?_.trim():_,y,b))===!0&&p(w,y?y.concat(_):[_])}),d.pop()}}if(!be.isObject(n))throw new TypeError("data must be an object");return p(n),e}function aC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nx(n,e){this._pairs=[],n&&mk(n,this,e)}const T5=nx.prototype;T5.append=function(e,t){this._pairs.push([e,t])};T5.toString=function(e){const t=e?function(r){return e.call(this,r,aC)}:aC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function XH(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C5(n,e,t){if(!e)return n;const r=t&&t.encode||XH,i=t&&t.serialize;let s;if(i?s=i(e,t):s=be.isURLSearchParams(e)?e.toString():new nx(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}let cC=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(r){r!==null&&e(r)})}};const M5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e7=typeof URLSearchParams<"u"?URLSearchParams:nx,t7=typeof FormData<"u"?FormData:null,n7=typeof Blob<"u"?Blob:null,r7={isBrowser:!0,classes:{URLSearchParams:e7,FormData:t7,Blob:n7},protocols:["http","https","file","blob","url","data"]},rx=typeof window<"u"&&typeof document<"u",i7=(n=>rx&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),s7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o7=rx&&window.location.href||"http://localhost",a7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:rx,hasStandardBrowserEnv:i7,hasStandardBrowserWebWorkerEnv:s7,origin:o7},Symbol.toStringTag,{value:"Module"})),ia={...a7,...r7};function c7(n,e){return mk(n,new ia.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return ia.isNode&&be.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function u7(n){return be.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function l7(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function L5(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&be.isArray(i)?i.length:o,c?(be.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!be.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&be.isArray(i[o])&&(i[o]=l7(i[o])),!a)}if(be.isFormData(n)&&be.isFunction(n.entries)){const t={};return be.forEachEntry(n,(r,i)=>{e(u7(r),i,t,0)}),t}return null}function d7(n,e,t){if(be.isString(n))try{return(e||JSON.parse)(n),be.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Pm={transitional:M5,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=be.isObject(e);if(s&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return i?JSON.stringify(L5(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return c7(e,this.formSerializer).toString();if((a=be.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return mk(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),d7(e)):e}],transformResponse:[function(e){const t=this.transitional||Pm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pt.from(a,Pt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],n=>{Pm.headers[n]={}});const h7=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f7=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&h7[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},uC=Symbol("internals");function lg(n){return n&&String(n).trim().toLowerCase()}function l1(n){return n===!1||n==null?n:be.isArray(n)?n.map(l1):String(n)}function p7(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const g7=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function YA(n,e,t,r,i){if(be.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!be.isString(e)){if(be.isString(r))return e.indexOf(r)!==-1;if(be.isRegExp(r))return r.test(e)}}function y7(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function m7(n,e){const t=be.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class zs{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,c,u){const l=lg(c);if(!l)throw new Error("header name must be a non-empty string");const d=be.findKey(i,l);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=l1(a))}const o=(a,c)=>be.forEach(a,(u,l)=>s(u,l,c));if(be.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(be.isString(e)&&(e=e.trim())&&!g7(e))o(f7(e),t);else if(be.isHeaders(e))for(const[a,c]of e.entries())s(c,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=lg(e),e){const r=be.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return p7(i);if(be.isFunction(t))return t.call(this,i,r);if(be.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lg(e),e){const r=be.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||YA(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=lg(o),o){const a=be.findKey(r,o);a&&(!t||YA(r,r[a],a,t))&&(delete r[a],i=!0)}}return be.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||YA(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return be.forEach(this,(i,s)=>{const o=be.findKey(r,s);if(o){t[o]=l1(i),delete t[s];return}const a=e?y7(s):String(s).trim();a!==s&&delete t[s],t[a]=l1(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return be.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&be.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[uC]=this[uC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=lg(o);r[a]||(m7(i,o),r[a]=!0)}return be.isArray(e)?e.forEach(s):s(e),this}}zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(zs.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});be.freezeMethods(zs);function GA(n,e){const t=this||Pm,r=e||t,i=zs.from(r.headers);let s=r.data;return be.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function O5(n){return!!(n&&n.__CANCEL__)}function vp(n,e,t){Pt.call(this,n??"canceled",Pt.ERR_CANCELED,e,t),this.name="CanceledError"}be.inherits(vp,Pt,{__CANCEL__:!0});function N5(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Pt("Request failed with status code "+t.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function b7(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function w7(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=r[s];o||(o=u),t[i]=c,r[i]=u;let d=s,b=0;for(;d!==i;)b+=t[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const p=l&&u-l;return p?Math.round(b*1e3/p):void 0}}function k7(n,e){let t=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>r)return i&&(clearTimeout(i),i=null),t=a,n.apply(null,arguments);i||(i=setTimeout(()=>(i=null,t=Date.now(),n.apply(null,arguments)),r-(a-t)))}}const R0=(n,e,t=3)=>{let r=0;const i=w7(50,250);return k7(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,n(d)},t)},S7=ia.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=be.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),A7=ia.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];be.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),be.isString(r)&&o.push("path="+r),be.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _7(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function v7(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function $5(n,e){return n&&!_7(e)?v7(n,e):e}const lC=n=>n instanceof zs?{...n}:n;function sd(n,e){e=e||{};const t={};function r(u,l,d){return be.isPlainObject(u)&&be.isPlainObject(l)?be.merge.call({caseless:d},u,l):be.isPlainObject(l)?be.merge({},l):be.isArray(l)?l.slice():l}function i(u,l,d){if(be.isUndefined(l)){if(!be.isUndefined(u))return r(void 0,u,d)}else return r(u,l,d)}function s(u,l){if(!be.isUndefined(l))return r(void 0,l)}function o(u,l){if(be.isUndefined(l)){if(!be.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in e)return r(u,l);if(d in n)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l)=>i(lC(u),lC(l),!0)};return be.forEach(Object.keys(Object.assign({},n,e)),function(l){const d=c[l]||i,b=d(n[l],e[l],l);be.isUndefined(b)&&d!==a||(t[l]=b)}),t}const q5=n=>{const e=sd({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=zs.from(o),e.url=C5($5(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(be.isFormData(t)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(ia.hasStandardBrowserEnv&&(r&&be.isFunction(r)&&(r=r(e)),r||r!==!1&&S7(e.url))){const u=i&&s&&A7.read(s);u&&o.set(i,u)}return e},E7=typeof XMLHttpRequest<"u",I7=E7&&function(n){return new Promise(function(t,r){const i=q5(n);let s=i.data;const o=zs.from(i.headers).normalize();let{responseType:a}=i,c;function u(){i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let l=new XMLHttpRequest;l.open(i.method.toUpperCase(),i.url,!0),l.timeout=i.timeout;function d(){if(!l)return;const p=zs.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:p,config:n,request:l};N5(function(w){t(w),u()},function(w){r(w),u()},y),l=null}"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(r(new Pt("Request aborted",Pt.ECONNABORTED,i,l)),l=null)},l.onerror=function(){r(new Pt("Network Error",Pt.ERR_NETWORK,i,l)),l=null},l.ontimeout=function(){let g=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const y=i.transitional||M5;i.timeoutErrorMessage&&(g=i.timeoutErrorMessage),r(new Pt(g,y.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,i,l)),l=null},s===void 0&&o.setContentType(null),"setRequestHeader"in l&&be.forEach(o.toJSON(),function(g,y){l.setRequestHeader(y,g)}),be.isUndefined(i.withCredentials)||(l.withCredentials=!!i.withCredentials),a&&a!=="json"&&(l.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&l.addEventListener("progress",R0(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",R0(i.onUploadProgress)),(i.cancelToken||i.signal)&&(c=p=>{l&&(r(!p||p.type?new vp(null,n,l):p),l.abort(),l=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const b=b7(i.url);if(b&&ia.protocols.indexOf(b)===-1){r(new Pt("Unsupported protocol "+b+":",Pt.ERR_BAD_REQUEST,n));return}l.send(s||null)})},R7=(n,e)=>{let t=new AbortController,r;const i=function(c){if(!r){r=!0,o();const u=c instanceof Error?c:this.reason;t.abort(u instanceof Pt?u:new vp(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new Pt(`timeout ${e} of ms exceeded`,Pt.ETIMEDOUT))},e);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),n=null)};n.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},P7=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},x7=async function*(n,e,t){for await(const r of n)yield*P7(ArrayBuffer.isView(r)?r:await t(String(r)),e)},dC=(n,e,t,r,i)=>{const s=x7(n,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:c,value:u}=await s.next();if(c){a.close(),r();return}let l=u.byteLength;t&&t(o+=l),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},hC=(n,e)=>{const t=n!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:r}))},bk=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",z5=bk&&typeof ReadableStream=="function",lI=bk&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),B7=z5&&(()=>{let n=!1;const e=new Request(ia.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),fC=64*1024,dI=z5&&!!(()=>{try{return be.isReadableStream(new Response("").body)}catch{}})(),P0={stream:dI&&(n=>n.body)};bk&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!P0[e]&&(P0[e]=be.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Pt(`Response type '${e}' is not supported`,Pt.ERR_NOT_SUPPORT,r)})})})(new Response);const T7=async n=>{if(n==null)return 0;if(be.isBlob(n))return n.size;if(be.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(be.isArrayBufferView(n))return n.byteLength;if(be.isURLSearchParams(n)&&(n=n+""),be.isString(n))return(await lI(n)).byteLength},C7=async(n,e)=>{const t=be.toFiniteNumber(n.getContentLength());return t??T7(e)},M7=bk&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:b}=q5(n);u=u?(u+"").toLowerCase():"text";let[p,g]=i||s||o?R7([i,s],o):[],y,S;const w=()=>{!y&&setTimeout(()=>{p&&p.unsubscribe()}),y=!0};let _;try{if(c&&B7&&t!=="get"&&t!=="head"&&(_=await C7(l,r))!==0){let J=new Request(e,{method:"POST",body:r,duplex:"half"}),M;be.isFormData(r)&&(M=J.headers.get("content-type"))&&l.setContentType(M),J.body&&(r=dC(J.body,fC,hC(_,R0(c)),null,lI))}be.isString(d)||(d=d?"cors":"omit"),S=new Request(e,{...b,signal:p,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let R=await fetch(S);const x=dI&&(u==="stream"||u==="response");if(dI&&(a||x)){const J={};["status","statusText","headers"].forEach(Z=>{J[Z]=R[Z]});const M=be.toFiniteNumber(R.headers.get("content-length"));R=new Response(dC(R.body,fC,a&&hC(M,R0(a,!0)),x&&w,lI),J)}u=u||"text";let K=await P0[be.findKey(P0,u)||"text"](R,n);return!x&&w(),g&&g(),await new Promise((J,M)=>{N5(J,M,{data:K,headers:zs.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:S})})}catch(R){throw w(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,n,S),{cause:R.cause||R}):Pt.from(R,R&&R.code,n,S)}}),hI={http:JH,xhr:I7,fetch:M7};be.forEach(hI,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const pC=n=>`- ${n}`,L7=n=>be.isFunction(n)||n===null||n===!1,D5={getAdapter:n=>{n=be.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!L7(t)&&(r=hI[(o=String(t)).toLowerCase()],r===void 0))throw new Pt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(pC).join(`
`):" "+pC(s[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:hI};function JA(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vp(null,n)}function gC(n){return JA(n),n.headers=zs.from(n.headers),n.data=GA.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),D5.getAdapter(n.adapter||Pm.adapter)(n).then(function(r){return JA(n),r.data=GA.call(n,n.transformResponse,r),r.headers=zs.from(r.headers),r},function(r){return O5(r)||(JA(n),r&&r.response&&(r.response.data=GA.call(n,n.transformResponse,r.response),r.response.headers=zs.from(r.response.headers))),Promise.reject(r)})}const U5="1.7.2",ix={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ix[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const yC={};ix.transitional=function(e,t,r){function i(s,o){return"[Axios v"+U5+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Pt(i(o," has been removed"+(t?" in "+t:"")),Pt.ERR_DEPRECATED);return t&&!yC[o]&&(yC[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function O7(n,e,t){if(typeof n!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new Pt("option "+s+" must be "+c,Pt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pt("Unknown option "+s,Pt.ERR_BAD_OPTION)}}const fI={assertOptions:O7,validators:ix},su=fI.validators;let Jl=class{constructor(e){this.defaults=e,this.interceptors={request:new cC,response:new cC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sd(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&fI.assertOptions(r,{silentJSONParsing:su.transitional(su.boolean),forcedJSONParsing:su.transitional(su.boolean),clarifyTimeoutError:su.transitional(su.boolean)},!1),i!=null&&(be.isFunction(i)?t.paramsSerializer={serialize:i}:fI.assertOptions(i,{encode:su.function,serialize:su.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&be.merge(s.common,s[t.method]);s&&be.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=zs.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let l,d=0,b;if(!c){const g=[gC.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),b=g.length,l=Promise.resolve(t);d<b;)l=l.then(g[d++],g[d++]);return l}b=a.length;let p=t;for(d=0;d<b;){const g=a[d++],y=a[d++];try{p=g(p)}catch(S){y.call(this,S);break}}try{l=gC.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,b=u.length;d<b;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=sd(this.defaults,e);const t=$5(e.baseURL,e.url);return C5(t,e.params,e.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){Jl.prototype[e]=function(t,r){return this.request(sd(r||{},{method:e,url:t,data:(r||{}).data}))}});be.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(sd(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Jl.prototype[e]=t(),Jl.prototype[e+"Form"]=t(!0)});class sx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new vp(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new sx(function(i){e=i}),cancel:e}}}function N7(n){return function(t){return n.apply(null,t)}}function $7(n){return be.isObject(n)&&n.isAxiosError===!0}const pI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pI).forEach(([n,e])=>{pI[e]=n});function K5(n){const e=new Jl(n),t=k5(Jl.prototype.request,e);return be.extend(t,Jl.prototype,e,{allOwnKeys:!0}),be.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return K5(sd(n,i))},t}const ri=K5(Pm);ri.Axios=Jl;ri.CanceledError=vp;ri.CancelToken=sx;ri.isCancel=O5;ri.VERSION=U5;ri.toFormData=mk;ri.AxiosError=Pt;ri.Cancel=ri.CanceledError;ri.all=function(e){return Promise.all(e)};ri.spread=N7;ri.isAxiosError=$7;ri.mergeConfig=sd;ri.AxiosHeaders=zs;ri.formToJSON=n=>L5(be.isHTMLForm(n)?new FormData(n):n);ri.getAdapter=D5.getAdapter;ri.HttpStatusCode=pI;ri.default=ri;var H={},wk={};wk.byteLength=D7;wk.toByteArray=K7;wk.fromByteArray=V7;var Ra=[],Ao=[],q7=typeof Uint8Array<"u"?Uint8Array:Array,QA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var jd=0,z7=QA.length;jd<z7;++jd)Ra[jd]=QA[jd],Ao[QA.charCodeAt(jd)]=jd;Ao[45]=62;Ao[95]=63;function W5(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function D7(n){var e=W5(n),t=e[0],r=e[1];return(t+r)*3/4-r}function U7(n,e,t){return(e+t)*3/4-t}function K7(n){var e,t=W5(n),r=t[0],i=t[1],s=new q7(U7(n,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=Ao[n.charCodeAt(c)]<<18|Ao[n.charCodeAt(c+1)]<<12|Ao[n.charCodeAt(c+2)]<<6|Ao[n.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Ao[n.charCodeAt(c)]<<2|Ao[n.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Ao[n.charCodeAt(c)]<<10|Ao[n.charCodeAt(c+1)]<<4|Ao[n.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function W7(n){return Ra[n>>18&63]+Ra[n>>12&63]+Ra[n>>6&63]+Ra[n&63]}function F7(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(W7(r));return i.join("")}function V7(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(F7(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(Ra[e>>2]+Ra[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Ra[e>>10]+Ra[e>>4&63]+Ra[e<<2&63]+"=")),i.join("")}var ox={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ox.read=function(n,e,t,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,b=t?-1:1,p=n[e+d];for(d+=b,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=s*256+n[e+d],d+=b,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+n[e+d],d+=b,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(p?-1:1)*o*Math.pow(2,s-r)};ox.write=function(n,e,t,r,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,d=l>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,g=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=b/c:e+=b*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+p]=a&255,p+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;n[t+p]=o&255,p+=g,o/=256,u-=8);n[t+p-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=wk,t=ox,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=_,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(A,h),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const h=new Uint8Array(A);return Object.setPrototypeOf(h,a.prototype),h}function a(A,h,f){if(typeof A=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,h,f)}a.poolSize=8192;function c(A,h,f){if(typeof A=="string")return b(A,h);if(ArrayBuffer.isView(A))return g(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(on(A,ArrayBuffer)||A&&on(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(on(A,SharedArrayBuffer)||A&&on(A.buffer,SharedArrayBuffer)))return y(A,h,f);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=A.valueOf&&A.valueOf();if(I!=null&&I!==A)return a.from(I,h,f);const z=S(A);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),h,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,h,f){return c(A,h,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function l(A,h,f){return u(A),A<=0?o(A):h!==void 0?typeof f=="string"?o(A).fill(h,f):o(A).fill(h):o(A)}a.alloc=function(A,h,f){return l(A,h,f)};function d(A){return u(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function b(A,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const f=R(A,h)|0;let I=o(f);const z=I.write(A,h);return z!==f&&(I=I.slice(0,z)),I}function p(A){const h=A.length<0?0:w(A.length)|0,f=o(h);for(let I=0;I<h;I+=1)f[I]=A[I]&255;return f}function g(A){if(on(A,Uint8Array)){const h=new Uint8Array(A);return y(h.buffer,h.byteOffset,h.byteLength)}return p(A)}function y(A,h,f){if(h<0||A.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<h+(f||0))throw new RangeError('"length" is outside of buffer bounds');let I;return h===void 0&&f===void 0?I=new Uint8Array(A):f===void 0?I=new Uint8Array(A,h):I=new Uint8Array(A,h,f),Object.setPrototypeOf(I,a.prototype),I}function S(A){if(a.isBuffer(A)){const h=w(A.length)|0,f=o(h);return f.length===0||A.copy(f,0,0,h),f}if(A.length!==void 0)return typeof A.length!="number"||Bt(A.length)?o(0):p(A);if(A.type==="Buffer"&&Array.isArray(A.data))return p(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function _(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,f){if(on(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),on(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(h)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===f)return 0;let I=h.length,z=f.length;for(let G=0,ee=Math.min(I,z);G<ee;++G)if(h[G]!==f[G]){I=h[G],z=f[G];break}return I<z?-1:z<I?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,f){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let I;if(f===void 0)for(f=0,I=0;I<h.length;++I)f+=h[I].length;const z=a.allocUnsafe(f);let G=0;for(I=0;I<h.length;++I){let ee=h[I];if(on(ee,Uint8Array))G+ee.length>z.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(z,G)):Uint8Array.prototype.set.call(z,ee,G);else if(a.isBuffer(ee))ee.copy(z,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=ee.length}return z};function R(A,h){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||on(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const f=A.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&f===0)return 0;let z=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return Ht(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return wn(A).length;default:if(z)return I?-1:Ht(A).length;h=(""+h).toLowerCase(),z=!0}}a.byteLength=R;function x(A,h,f){let I=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,h>>>=0,f<=h))return"";for(A||(A="utf8");;)switch(A){case"hex":return $(this,h,f);case"utf8":case"utf-8":return m(this,h,f);case"ascii":return W(this,h,f);case"latin1":case"binary":return C(this,h,f);case"base64":return L(this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,h,f);default:if(I)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function K(A,h,f){const I=A[h];A[h]=A[f],A[f]=I}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<h;f+=2)K(this,f,f+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<h;f+=4)K(this,f,f+3),K(this,f+1,f+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<h;f+=8)K(this,f,f+7),K(this,f+1,f+6),K(this,f+2,f+5),K(this,f+3,f+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?m(this,0,h):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const f=n.INSPECT_MAX_BYTES;return h=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,f,I,z,G){if(on(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(f===void 0&&(f=0),I===void 0&&(I=h?h.length:0),z===void 0&&(z=0),G===void 0&&(G=this.length),f<0||I>h.length||z<0||G>this.length)throw new RangeError("out of range index");if(z>=G&&f>=I)return 0;if(z>=G)return-1;if(f>=I)return 1;if(f>>>=0,I>>>=0,z>>>=0,G>>>=0,this===h)return 0;let ee=G-z,Le=I-f;const Xe=Math.min(ee,Le),We=this.slice(z,G),mt=h.slice(f,I);for(let Oe=0;Oe<Xe;++Oe)if(We[Oe]!==mt[Oe]){ee=We[Oe],Le=mt[Oe];break}return ee<Le?-1:Le<ee?1:0};function J(A,h,f,I,z){if(A.length===0)return-1;if(typeof f=="string"?(I=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Bt(f)&&(f=z?0:A.length-1),f<0&&(f=A.length+f),f>=A.length){if(z)return-1;f=A.length-1}else if(f<0)if(z)f=0;else return-1;if(typeof h=="string"&&(h=a.from(h,I)),a.isBuffer(h))return h.length===0?-1:M(A,h,f,I,z);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(A,h,f):Uint8Array.prototype.lastIndexOf.call(A,h,f):M(A,[h],f,I,z);throw new TypeError("val must be string, number or Buffer")}function M(A,h,f,I,z){let G=1,ee=A.length,Le=h.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(A.length<2||h.length<2)return-1;G=2,ee/=2,Le/=2,f/=2}function Xe(mt,Oe){return G===1?mt[Oe]:mt.readUInt16BE(Oe*G)}let We;if(z){let mt=-1;for(We=f;We<ee;We++)if(Xe(A,We)===Xe(h,mt===-1?0:We-mt)){if(mt===-1&&(mt=We),We-mt+1===Le)return mt*G}else mt!==-1&&(We-=We-mt),mt=-1}else for(f+Le>ee&&(f=ee-Le),We=f;We>=0;We--){let mt=!0;for(let Oe=0;Oe<Le;Oe++)if(Xe(A,We+Oe)!==Xe(h,Oe)){mt=!1;break}if(mt)return We}return-1}a.prototype.includes=function(h,f,I){return this.indexOf(h,f,I)!==-1},a.prototype.indexOf=function(h,f,I){return J(this,h,f,I,!0)},a.prototype.lastIndexOf=function(h,f,I){return J(this,h,f,I,!1)};function Z(A,h,f,I){f=Number(f)||0;const z=A.length-f;I?(I=Number(I),I>z&&(I=z)):I=z;const G=h.length;I>G/2&&(I=G/2);let ee;for(ee=0;ee<I;++ee){const Le=parseInt(h.substr(ee*2,2),16);if(Bt(Le))return ee;A[f+ee]=Le}return ee}function ie(A,h,f,I){return nn(Ht(h,A.length-f),A,f,I)}function X(A,h,f,I){return nn(On(h),A,f,I)}function ne(A,h,f,I){return nn(wn(h),A,f,I)}function ae(A,h,f,I){return nn(ko(h,A.length-f),A,f,I)}a.prototype.write=function(h,f,I,z){if(f===void 0)z="utf8",I=this.length,f=0;else if(I===void 0&&typeof f=="string")z=f,I=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(I)?(I=I>>>0,z===void 0&&(z="utf8")):(z=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-f;if((I===void 0||I>G)&&(I=G),h.length>0&&(I<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let ee=!1;for(;;)switch(z){case"hex":return Z(this,h,f,I);case"utf8":case"utf-8":return ie(this,h,f,I);case"ascii":case"latin1":case"binary":return X(this,h,f,I);case"base64":return ne(this,h,f,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,h,f,I);default:if(ee)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(A,h,f){return h===0&&f===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(h,f))}function m(A,h,f){f=Math.min(A.length,f);const I=[];let z=h;for(;z<f;){const G=A[z];let ee=null,Le=G>239?4:G>223?3:G>191?2:1;if(z+Le<=f){let Xe,We,mt,Oe;switch(Le){case 1:G<128&&(ee=G);break;case 2:Xe=A[z+1],(Xe&192)===128&&(Oe=(G&31)<<6|Xe&63,Oe>127&&(ee=Oe));break;case 3:Xe=A[z+1],We=A[z+2],(Xe&192)===128&&(We&192)===128&&(Oe=(G&15)<<12|(Xe&63)<<6|We&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ee=Oe));break;case 4:Xe=A[z+1],We=A[z+2],mt=A[z+3],(Xe&192)===128&&(We&192)===128&&(mt&192)===128&&(Oe=(G&15)<<18|(Xe&63)<<12|(We&63)<<6|mt&63,Oe>65535&&Oe<1114112&&(ee=Oe))}}ee===null?(ee=65533,Le=1):ee>65535&&(ee-=65536,I.push(ee>>>10&1023|55296),ee=56320|ee&1023),I.push(ee),z+=Le}return B(I)}const v=4096;function B(A){const h=A.length;if(h<=v)return String.fromCharCode.apply(String,A);let f="",I=0;for(;I<h;)f+=String.fromCharCode.apply(String,A.slice(I,I+=v));return f}function W(A,h,f){let I="";f=Math.min(A.length,f);for(let z=h;z<f;++z)I+=String.fromCharCode(A[z]&127);return I}function C(A,h,f){let I="";f=Math.min(A.length,f);for(let z=h;z<f;++z)I+=String.fromCharCode(A[z]);return I}function $(A,h,f){const I=A.length;(!h||h<0)&&(h=0),(!f||f<0||f>I)&&(f=I);let z="";for(let G=h;G<f;++G)z+=yn[A[G]];return z}function Q(A,h,f){const I=A.slice(h,f);let z="";for(let G=0;G<I.length-1;G+=2)z+=String.fromCharCode(I[G]+I[G+1]*256);return z}a.prototype.slice=function(h,f){const I=this.length;h=~~h,f=f===void 0?I:~~f,h<0?(h+=I,h<0&&(h=0)):h>I&&(h=I),f<0?(f+=I,f<0&&(f=0)):f>I&&(f=I),f<h&&(f=h);const z=this.subarray(h,f);return Object.setPrototypeOf(z,a.prototype),z};function N(A,h,f){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+h>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=this[h],G=1,ee=0;for(;++ee<f&&(G*=256);)z+=this[h+ee]*G;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=this[h+--f],G=1;for(;f>0&&(G*=256);)z+=this[h+--f]*G;return z},a.prototype.readUint8=a.prototype.readUInt8=function(h,f){return h=h>>>0,f||N(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,f){return h=h>>>0,f||N(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,f){return h=h>>>0,f||N(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,f){return h=h>>>0,f||N(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,f){return h=h>>>0,f||N(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,G=this[++h]+this[++h]*2**8+this[++h]*2**16+I*2**24;return BigInt(z)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=f*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],G=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I;return(BigInt(z)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=this[h],G=1,ee=0;for(;++ee<f&&(G*=256);)z+=this[h+ee]*G;return G*=128,z>=G&&(z-=Math.pow(2,8*f)),z},a.prototype.readIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=f,G=1,ee=this[h+--z];for(;z>0&&(G*=256);)ee+=this[h+--z]*G;return G*=128,ee>=G&&(ee-=Math.pow(2,8*f)),ee},a.prototype.readInt8=function(h,f){return h=h>>>0,f||N(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,f){h=h>>>0,f||N(h,2,this.length);const I=this[h]|this[h+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(h,f){h=h>>>0,f||N(h,2,this.length);const I=this[h+1]|this[h]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(h,f){return h=h>>>0,f||N(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,f){return h=h>>>0,f||N(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(I<<24);return(BigInt(z)<<BigInt(32))+BigInt(f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=(f<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(z)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I)}),a.prototype.readFloatLE=function(h,f){return h=h>>>0,f||N(h,4,this.length),t.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,f){return h=h>>>0,f||N(h,4,this.length),t.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,f){return h=h>>>0,f||N(h,8,this.length),t.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,f){return h=h>>>0,f||N(h,8,this.length),t.read(this,h,!1,52,8)};function E(A,h,f,I,z,G){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>z||h<G)throw new RangeError('"value" argument is out of bounds');if(f+I>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,f,I,z){if(h=+h,f=f>>>0,I=I>>>0,!z){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let G=1,ee=0;for(this[f]=h&255;++ee<I&&(G*=256);)this[f+ee]=h/G&255;return f+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,f,I,z){if(h=+h,f=f>>>0,I=I>>>0,!z){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let G=I-1,ee=1;for(this[f+G]=h&255;--G>=0&&(ee*=256);)this[f+G]=h/ee&255;return f+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,255,0),this[f]=h&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f+3]=h>>>24,this[f+2]=h>>>16,this[f+1]=h>>>8,this[f]=h&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4};function Y(A,h,f,I,z){yt(h,I,z,A,f,7);let G=Number(h&BigInt(4294967295));A[f++]=G,G=G>>8,A[f++]=G,G=G>>8,A[f++]=G,G=G>>8,A[f++]=G;let ee=Number(h>>BigInt(32)&BigInt(4294967295));return A[f++]=ee,ee=ee>>8,A[f++]=ee,ee=ee>>8,A[f++]=ee,ee=ee>>8,A[f++]=ee,f}function fe(A,h,f,I,z){yt(h,I,z,A,f,7);let G=Number(h&BigInt(4294967295));A[f+7]=G,G=G>>8,A[f+6]=G,G=G>>8,A[f+5]=G,G=G>>8,A[f+4]=G;let ee=Number(h>>BigInt(32)&BigInt(4294967295));return A[f+3]=ee,ee=ee>>8,A[f+2]=ee,ee=ee>>8,A[f+1]=ee,ee=ee>>8,A[f]=ee,f+8}a.prototype.writeBigUInt64LE=xn(function(h,f=0){return Y(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xn(function(h,f=0){return fe(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,f,I,z){if(h=+h,f=f>>>0,!z){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let G=0,ee=1,Le=0;for(this[f]=h&255;++G<I&&(ee*=256);)h<0&&Le===0&&this[f+G-1]!==0&&(Le=1),this[f+G]=(h/ee>>0)-Le&255;return f+I},a.prototype.writeIntBE=function(h,f,I,z){if(h=+h,f=f>>>0,!z){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let G=I-1,ee=1,Le=0;for(this[f+G]=h&255;--G>=0&&(ee*=256);)h<0&&Le===0&&this[f+G+1]!==0&&(Le=1),this[f+G]=(h/ee>>0)-Le&255;return f+I},a.prototype.writeInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,127,-128),h<0&&(h=255+h+1),this[f]=h&255,f+1},a.prototype.writeInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),this[f]=h&255,this[f+1]=h>>>8,this[f+2]=h>>>16,this[f+3]=h>>>24,f+4},a.prototype.writeInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4},a.prototype.writeBigInt64LE=xn(function(h,f=0){return Y(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xn(function(h,f=0){return fe(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(A,h,f,I,z,G){if(f+I>A.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ve(A,h,f,I,z){return h=+h,f=f>>>0,z||we(A,h,f,4),t.write(A,h,f,I,23,4),f+4}a.prototype.writeFloatLE=function(h,f,I){return ve(this,h,f,!0,I)},a.prototype.writeFloatBE=function(h,f,I){return ve(this,h,f,!1,I)};function De(A,h,f,I,z){return h=+h,f=f>>>0,z||we(A,h,f,8),t.write(A,h,f,I,52,8),f+8}a.prototype.writeDoubleLE=function(h,f,I){return De(this,h,f,!0,I)},a.prototype.writeDoubleBE=function(h,f,I){return De(this,h,f,!1,I)},a.prototype.copy=function(h,f,I,z){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(I||(I=0),!z&&z!==0&&(z=this.length),f>=h.length&&(f=h.length),f||(f=0),z>0&&z<I&&(z=I),z===I||h.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),h.length-f<z-I&&(z=h.length-f+I);const G=z-I;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,I,z):Uint8Array.prototype.set.call(h,this.subarray(I,z),f),G},a.prototype.fill=function(h,f,I,z){if(typeof h=="string"){if(typeof f=="string"?(z=f,f=0,I=this.length):typeof I=="string"&&(z=I,I=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(h.length===1){const ee=h.charCodeAt(0);(z==="utf8"&&ee<128||z==="latin1")&&(h=ee)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(f<0||this.length<f||this.length<I)throw new RangeError("Out of range index");if(I<=f)return this;f=f>>>0,I=I===void 0?this.length:I>>>0,h||(h=0);let G;if(typeof h=="number")for(G=f;G<I;++G)this[G]=h;else{const ee=a.isBuffer(h)?h:a.from(h,z),Le=ee.length;if(Le===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(G=0;G<I-f;++G)this[G+f]=ee[G%Le]}return this};const Ge={};function Ke(A,h,f){Ge[A]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(A,h){return`The "${A}" argument must be of type number. Received type ${typeof h}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(A,h,f){let I=`The value of "${A}" is out of range.`,z=f;return Number.isInteger(f)&&Math.abs(f)>2**32?z=Pn(String(f)):typeof f=="bigint"&&(z=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(z=Pn(z)),z+="n"),I+=` It must be ${h}. Received ${z}`,I},RangeError);function Pn(A){let h="",f=A.length;const I=A[0]==="-"?1:0;for(;f>=I+4;f-=3)h=`_${A.slice(f-3,f)}${h}`;return`${A.slice(0,f)}${h}`}function wt(A,h,f){kt(h,"offset"),(A[h]===void 0||A[h+f]===void 0)&&bt(h,A.length-(f+1))}function yt(A,h,f,I,z,G){if(A>f||A<h){const ee=typeof h=="bigint"?"n":"";let Le;throw h===0||h===BigInt(0)?Le=`>= 0${ee} and < 2${ee} ** ${(G+1)*8}${ee}`:Le=`>= -(2${ee} ** ${(G+1)*8-1}${ee}) and < 2 ** ${(G+1)*8-1}${ee}`,new Ge.ERR_OUT_OF_RANGE("value",Le,A)}wt(I,z,G)}function kt(A,h){if(typeof A!="number")throw new Ge.ERR_INVALID_ARG_TYPE(h,"number",A)}function bt(A,h,f){throw Math.floor(A)!==A?(kt(A,f),new Ge.ERR_OUT_OF_RANGE("offset","an integer",A)):h<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,A)}const tn=/[^+/0-9A-Za-z-_]/g;function dr(A){if(A=A.split("=")[0],A=A.trim().replace(tn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Ht(A,h){h=h||1/0;let f;const I=A.length;let z=null;const G=[];for(let ee=0;ee<I;++ee){if(f=A.charCodeAt(ee),f>55295&&f<57344){if(!z){if(f>56319){(h-=3)>-1&&G.push(239,191,189);continue}else if(ee+1===I){(h-=3)>-1&&G.push(239,191,189);continue}z=f;continue}if(f<56320){(h-=3)>-1&&G.push(239,191,189),z=f;continue}f=(z-55296<<10|f-56320)+65536}else z&&(h-=3)>-1&&G.push(239,191,189);if(z=null,f<128){if((h-=1)<0)break;G.push(f)}else if(f<2048){if((h-=2)<0)break;G.push(f>>6|192,f&63|128)}else if(f<65536){if((h-=3)<0)break;G.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((h-=4)<0)break;G.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return G}function On(A){const h=[];for(let f=0;f<A.length;++f)h.push(A.charCodeAt(f)&255);return h}function ko(A,h){let f,I,z;const G=[];for(let ee=0;ee<A.length&&!((h-=2)<0);++ee)f=A.charCodeAt(ee),I=f>>8,z=f%256,G.push(z),G.push(I);return G}function wn(A){return e.toByteArray(dr(A))}function nn(A,h,f,I){let z;for(z=0;z<I&&!(z+f>=h.length||z>=A.length);++z)h[z+f]=A[z];return z}function on(A,h){return A instanceof h||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===h.name}function Bt(A){return A!==A}const yn=function(){const A="0123456789abcdef",h=new Array(256);for(let f=0;f<16;++f){const I=f*16;for(let z=0;z<16;++z)h[I+z]=A[f]+A[z]}return h}();function xn(A){return typeof BigInt>"u"?Tt:A}function Tt(){throw new Error("BigInt not supported")}})(H);function x0(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function j7(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function xm(n,...e){if(!j7(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function H7(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");x0(n.outputLen),x0(n.blockLen)}function Zh(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function F5(n,e){xm(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const ZA=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y7=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),XA=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),ya=(n,e)=>n<<32-e|n>>>e,mC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,G7=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function bC(n){for(let e=0;e<n.length;e++)n[e]=G7(n[e])}function V5(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function kk(n){return typeof n=="string"&&(n=V5(n)),xm(n),n}function j5(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];xm(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}class ax{clone(){return this._cloneInto()}}function cx(n){const e=r=>n().update(kk(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function H5(n=32){if(ZA&&typeof ZA.getRandomValues=="function")return ZA.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function J7(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Q7=(n,e,t)=>n&e^~n&t,Z7=(n,e,t)=>n&e^n&t^e&t;class Y5 extends ax{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=XA(this.buffer)}update(e){Zh(this);const{view:t,buffer:r,blockLen:i}=this;e=kk(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=XA(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zh(this),F5(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)t[d]=0;J7(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=XA(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}}const kb=BigInt(2**32-1),gI=BigInt(32);function G5(n,e=!1){return e?{h:Number(n&kb),l:Number(n>>gI&kb)}:{h:Number(n>>gI&kb)|0,l:Number(n&kb)|0}}function J5(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:o}=G5(n[i],e);[t[i],r[i]]=[s,o]}return[t,r]}const X7=(n,e)=>BigInt(n>>>0)<<gI|BigInt(e>>>0),eY=(n,e,t)=>n>>>t,tY=(n,e,t)=>n<<32-t|e>>>t,nY=(n,e,t)=>n>>>t|e<<32-t,rY=(n,e,t)=>n<<32-t|e>>>t,iY=(n,e,t)=>n<<64-t|e>>>t-32,sY=(n,e,t)=>n>>>t-32|e<<64-t,oY=(n,e)=>e,aY=(n,e)=>n,Q5=(n,e,t)=>n<<t|e>>>32-t,Z5=(n,e,t)=>e<<t|n>>>32-t,X5=(n,e,t)=>e<<t-32|n>>>64-t,e8=(n,e,t)=>n<<t-32|e>>>64-t;function cY(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const uY=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),lY=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,dY=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),hY=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,fY=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),pY=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,Lt={fromBig:G5,split:J5,toBig:X7,shrSH:eY,shrSL:tY,rotrSH:nY,rotrSL:rY,rotrBH:iY,rotrBL:sY,rotr32H:oY,rotr32L:aY,rotlSH:Q5,rotlSL:Z5,rotlBH:X5,rotlBL:e8,add:cY,add3L:uY,add3H:lY,add4L:dY,add4H:hY,add5H:pY,add5L:fY},[gY,yY]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ou=new Uint32Array(80),au=new Uint32Array(80);class mY extends Y5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:b,Gh:p,Gl:g,Hh:y,Hl:S}=this;return[e,t,r,i,s,o,a,c,u,l,d,b,p,g,y,S]}set(e,t,r,i,s,o,a,c,u,l,d,b,p,g,y,S){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=b|0,this.Gh=p|0,this.Gl=g|0,this.Hh=y|0,this.Hl=S|0}process(e,t){for(let R=0;R<16;R++,t+=4)ou[R]=e.getUint32(t),au[R]=e.getUint32(t+=4);for(let R=16;R<80;R++){const x=ou[R-15]|0,K=au[R-15]|0,J=Lt.rotrSH(x,K,1)^Lt.rotrSH(x,K,8)^Lt.shrSH(x,K,7),M=Lt.rotrSL(x,K,1)^Lt.rotrSL(x,K,8)^Lt.shrSL(x,K,7),Z=ou[R-2]|0,ie=au[R-2]|0,X=Lt.rotrSH(Z,ie,19)^Lt.rotrBH(Z,ie,61)^Lt.shrSH(Z,ie,6),ne=Lt.rotrSL(Z,ie,19)^Lt.rotrBL(Z,ie,61)^Lt.shrSL(Z,ie,6),ae=Lt.add4L(M,ne,au[R-7],au[R-16]),L=Lt.add4H(ae,J,X,ou[R-7],ou[R-16]);ou[R]=L|0,au[R]=ae|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:b,Fh:p,Fl:g,Gh:y,Gl:S,Hh:w,Hl:_}=this;for(let R=0;R<80;R++){const x=Lt.rotrSH(d,b,14)^Lt.rotrSH(d,b,18)^Lt.rotrBH(d,b,41),K=Lt.rotrSL(d,b,14)^Lt.rotrSL(d,b,18)^Lt.rotrBL(d,b,41),J=d&p^~d&y,M=b&g^~b&S,Z=Lt.add5L(_,K,M,yY[R],au[R]),ie=Lt.add5H(Z,w,x,J,gY[R],ou[R]),X=Z|0,ne=Lt.rotrSH(r,i,28)^Lt.rotrBH(r,i,34)^Lt.rotrBH(r,i,39),ae=Lt.rotrSL(r,i,28)^Lt.rotrBL(r,i,34)^Lt.rotrBL(r,i,39),L=r&s^r&a^s&a,m=i&o^i&c^o&c;w=y|0,_=S|0,y=p|0,S=g|0,p=d|0,g=b|0,{h:d,l:b}=Lt.add(u|0,l|0,ie|0,X|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const v=Lt.add3L(X,ae,m);r=Lt.add3H(v,ie,ne,L),i=v|0}({h:r,l:i}=Lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Lt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:b}=Lt.add(this.Eh|0,this.El|0,d|0,b|0),{h:p,l:g}=Lt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:y,l:S}=Lt.add(this.Gh|0,this.Gl|0,y|0,S|0),{h:w,l:_}=Lt.add(this.Hh|0,this.Hl|0,w|0,_|0),this.set(r,i,s,o,a,c,u,l,d,b,p,g,y,S,w,_)}roundClean(){ou.fill(0),au.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const t8=cx(()=>new mY);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=BigInt(0),Sk=BigInt(1),bY=BigInt(2);function od(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Bm(n){if(!od(n))throw new Error("Uint8Array expected")}const wY=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ad(n){Bm(n);let e="";for(let t=0;t<n.length;t++)e+=wY[n[t]];return e}function r8(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function ux(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const bc={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wC(n){if(n>=bc._0&&n<=bc._9)return n-bc._0;if(n>=bc._A&&n<=bc._F)return n-(bc._A-10);if(n>=bc._a&&n<=bc._f)return n-(bc._a-10)}function Xh(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const o=wC(n.charCodeAt(s)),a=wC(n.charCodeAt(s+1));if(o===void 0||a===void 0){const c=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ql(n){return ux(ad(n))}function zh(n){return Bm(n),ux(ad(Uint8Array.from(n).reverse()))}function ef(n,e){return Xh(n.toString(16).padStart(e*2,"0"))}function Ty(n,e){return ef(n,e).reverse()}function kY(n){return Xh(r8(n))}function mi(n,e,t){let r;if(typeof e=="string")try{r=Xh(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(od(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function cd(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];Bm(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}function SY(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function AY(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function _Y(n){let e;for(e=0;n>n8;n>>=Sk,e+=1);return e}function vY(n,e){return n>>BigInt(e)&Sk}function EY(n,e,t){return n|(t?Sk:n8)<<BigInt(e)}const lx=n=>(bY<<BigInt(n-1))-Sk,e_=n=>new Uint8Array(n),kC=n=>Uint8Array.from(n);function i8(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=e_(n),i=e_(n),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>t(i,r,...d),c=(d=e_())=>{i=a(kC([0]),d),r=a(),d.length!==0&&(i=a(kC([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const b=[];for(;d<e;){r=a();const p=r.slice();b.push(p),d+=r.length}return cd(...b)};return(d,b)=>{o(),c(d);let p;for(;!(p=b(u()));)c();return o(),p}}const IY={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||od(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ep(n,e,t={}){const r=(i,s,o)=>{const a=IY[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=n[i];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const RY=Object.freeze(Object.defineProperty({__proto__:null,abytes:Bm,bitGet:vY,bitLen:_Y,bitMask:lx,bitSet:EY,bytesToHex:ad,bytesToNumberBE:Ql,bytesToNumberLE:zh,concatBytes:cd,createHmacDrbg:i8,ensureBytes:mi,equalBytes:SY,hexToBytes:Xh,hexToNumber:ux,isBytes:od,numberToBytesBE:ef,numberToBytesLE:Ty,numberToHexUnpadded:r8,numberToVarBytesBE:kY,utf8ToBytes:AY,validateObject:Ep},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ci=BigInt(0),Dr=BigInt(1),pl=BigInt(2),PY=BigInt(3),yI=BigInt(4),SC=BigInt(5),AC=BigInt(8);BigInt(9);BigInt(16);function Lr(n,e){const t=n%e;return t>=Ci?t:e+t}function xY(n,e,t){if(t<=Ci||e<Ci)throw new Error("Expected power/modulo > 0");if(t===Dr)return Ci;let r=Dr;for(;e>Ci;)e&Dr&&(r=r*n%t),n=n*n%t,e>>=Dr;return r}function Vr(n,e,t){let r=n;for(;e-- >Ci;)r*=r,r%=t;return r}function mI(n,e){if(n===Ci||e<=Ci)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Lr(n,e),r=e,i=Ci,s=Dr;for(;t!==Ci;){const a=r/t,c=r%t,u=i-s*a;r=t,t=c,i=s,s=u}if(r!==Dr)throw new Error("invert: does not exist");return Lr(i,e)}function BY(n){const e=(n-Dr)/pl;let t,r,i;for(t=n-Dr,r=0;t%pl===Ci;t/=pl,r++);for(i=pl;i<n&&xY(i,e,n)!==n-Dr;i++);if(r===1){const o=(n+Dr)/yI;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(t+Dr)/pl;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,i),t),d=a.pow(c,s),b=a.pow(c,t);for(;!a.eql(b,a.ONE);){if(a.eql(b,a.ZERO))return a.ZERO;let p=1;for(let y=a.sqr(b);p<u&&!a.eql(y,a.ONE);p++)y=a.sqr(y);const g=a.pow(l,Dr<<BigInt(u-p-1));l=a.sqr(g),d=a.mul(d,g),b=a.mul(b,l),u=p}return d}}function TY(n){if(n%yI===PY){const e=(n+Dr)/yI;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%AC===SC){const e=(n-SC)/AC;return function(r,i){const s=r.mul(i,pl),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,pl),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return BY(n)}const CY=(n,e)=>(Lr(n,e)&Dr)===Dr,MY=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LY(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=MY.reduce((r,i)=>(r[i]="function",r),e);return Ep(n,t)}function OY(n,e,t){if(t<Ci)throw new Error("Expected power > 0");if(t===Ci)return n.ONE;if(t===Dr)return e;let r=n.ONE,i=e;for(;t>Ci;)t&Dr&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Dr;return r}function NY(n,e){const t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function s8(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function o8(n,e,t=!1,r={}){if(n<=Ci)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=s8(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=TY(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:lx(i),ZERO:Ci,ONE:Dr,create:c=>Lr(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ci<=c&&c<n},is0:c=>c===Ci,isOdd:c=>(c&Dr)===Dr,neg:c=>Lr(-c,n),eql:(c,u)=>c===u,sqr:c=>Lr(c*c,n),add:(c,u)=>Lr(c+u,n),sub:(c,u)=>Lr(c-u,n),mul:(c,u)=>Lr(c*u,n),pow:(c,u)=>OY(a,c,u),div:(c,u)=>Lr(c*mI(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>mI(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>NY(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Ty(c,s):ef(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return t?zh(c):Ql(c)}});return Object.freeze(a)}function $Y(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function a8(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function c8(n){const e=a8(n);return e+Math.ceil(e/2)}function qY(n,e,t=!1){const r=n.length,i=a8(e),s=c8(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=t?Ql(n):zh(n),a=Lr(o,e-Dr)+Dr;return t?Ty(a,i):ef(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zY=BigInt(0),t_=BigInt(1);function u8(n,e){const t=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=n.ZERO,a=i;for(;s>zY;)s&t_&&(o=o.add(a)),a=a.double(),s>>=t_;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let b=1;b<a;b++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=n.ZERO,l=n.BASE;const d=BigInt(2**i-1),b=2**i,p=BigInt(i);for(let g=0;g<a;g++){const y=g*c;let S=Number(o&d);o>>=p,S>c&&(S-=b,o+=t_);const w=y,_=y+Math.abs(S)-1,R=g%2!==0,x=S<0;S===0?l=l.add(t(R,s[w])):u=u.add(t(x,s[_]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function dx(n){return LY(n.Fp),Ep(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...s8(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ho=BigInt(0),Ys=BigInt(1),Sb=BigInt(2),DY=BigInt(8),UY={zip215:!0};function KY(n){const e=dx(n);return Ep(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function hx(n){const e=KY(n),{Fp:t,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=Sb<<BigInt(a*8)-Ys,l=t.create,d=e.uvRatio||((C,$)=>{try{return{isValid:!0,value:t.sqrt(C*t.inv($))}}catch{return{isValid:!1,value:Ho}}}),b=e.adjustScalarBytes||(C=>C),p=e.domain||((C,$,Q)=>{if($.length||Q)throw new Error("Contexts/pre-hash are not supported");return C}),g=C=>typeof C=="bigint"&&Ho<C,y=(C,$)=>g(C)&&g($)&&C<$,S=C=>C===Ho||y(C,u);function w(C,$){if(y(C,$))return C;throw new Error(`Expected valid scalar < ${$}, got ${typeof C} ${C}`)}function _(C){return C===Ho?C:w(C,r)}const R=new Map;function x(C){if(!(C instanceof K))throw new Error("ExtendedPoint expected")}class K{constructor($,Q,N,E){if(this.ex=$,this.ey=Q,this.ez=N,this.et=E,!S($))throw new Error("x required");if(!S(Q))throw new Error("y required");if(!S(N))throw new Error("z required");if(!S(E))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine($){if($ instanceof K)throw new Error("extended point not allowed");const{x:Q,y:N}=$||{};if(!S(Q)||!S(N))throw new Error("invalid affine point");return new K(Q,N,Ys,l(Q*N))}static normalizeZ($){const Q=t.invertBatch($.map(N=>N.ez));return $.map((N,E)=>N.toAffine(Q[E])).map(K.fromAffine)}_setWindowSize($){this._WINDOW_SIZE=$,R.delete(this)}assertValidity(){const{a:$,d:Q}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:N,ey:E,ez:Y,et:fe}=this,we=l(N*N),ve=l(E*E),De=l(Y*Y),Ge=l(De*De),Ke=l(we*$),Pn=l(De*l(Ke+ve)),wt=l(Ge+l(Q*l(we*ve)));if(Pn!==wt)throw new Error("bad point: equation left != right (1)");const yt=l(N*E),kt=l(Y*fe);if(yt!==kt)throw new Error("bad point: equation left != right (2)")}equals($){x($);const{ex:Q,ey:N,ez:E}=this,{ex:Y,ey:fe,ez:we}=$,ve=l(Q*we),De=l(Y*E),Ge=l(N*we),Ke=l(fe*E);return ve===De&&Ge===Ke}is0(){return this.equals(K.ZERO)}negate(){return new K(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:$}=e,{ex:Q,ey:N,ez:E}=this,Y=l(Q*Q),fe=l(N*N),we=l(Sb*l(E*E)),ve=l($*Y),De=Q+N,Ge=l(l(De*De)-Y-fe),Ke=ve+fe,Pn=Ke-we,wt=ve-fe,yt=l(Ge*Pn),kt=l(Ke*wt),bt=l(Ge*wt),tn=l(Pn*Ke);return new K(yt,kt,tn,bt)}add($){x($);const{a:Q,d:N}=e,{ex:E,ey:Y,ez:fe,et:we}=this,{ex:ve,ey:De,ez:Ge,et:Ke}=$;if(Q===BigInt(-1)){const on=l((Y-E)*(De+ve)),Bt=l((Y+E)*(De-ve)),yn=l(Bt-on);if(yn===Ho)return this.double();const xn=l(fe*Sb*Ke),Tt=l(we*Sb*Ge),A=Tt+xn,h=Bt+on,f=Tt-xn,I=l(A*yn),z=l(h*f),G=l(A*f),ee=l(yn*h);return new K(I,z,ee,G)}const Pn=l(E*ve),wt=l(Y*De),yt=l(we*N*Ke),kt=l(fe*Ge),bt=l((E+Y)*(ve+De)-Pn-wt),tn=kt-yt,dr=kt+yt,Ht=l(wt-Q*Pn),On=l(bt*tn),ko=l(dr*Ht),wn=l(bt*Ht),nn=l(tn*dr);return new K(On,ko,nn,wn)}subtract($){return this.add($.negate())}wNAF($){return Z.wNAFCached(this,R,$,K.normalizeZ)}multiply($){const{p:Q,f:N}=this.wNAF(w($,r));return K.normalizeZ([Q,N])[0]}multiplyUnsafe($){let Q=_($);return Q===Ho?M:this.equals(M)||Q===Ys?this:this.equals(J)?this.wNAF(Q).p:Z.unsafeLadder(this,Q)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return Z.unsafeLadder(this,r).is0()}toAffine($){const{ex:Q,ey:N,ez:E}=this,Y=this.is0();$==null&&($=Y?DY:t.inv(E));const fe=l(Q*$),we=l(N*$),ve=l(E*$);if(Y)return{x:Ho,y:Ys};if(ve!==Ys)throw new Error("invZ was invalid");return{x:fe,y:we}}clearCofactor(){const{h:$}=e;return $===Ys?this:this.multiplyUnsafe($)}static fromHex($,Q=!1){const{d:N,a:E}=e,Y=t.BYTES;$=mi("pointHex",$,Y);const fe=$.slice(),we=$[Y-1];fe[Y-1]=we&-129;const ve=zh(fe);ve===Ho||(Q?w(ve,u):w(ve,t.ORDER));const De=l(ve*ve),Ge=l(De-Ys),Ke=l(N*De-E);let{isValid:Pn,value:wt}=d(Ge,Ke);if(!Pn)throw new Error("Point.fromHex: invalid y coordinate");const yt=(wt&Ys)===Ys,kt=(we&128)!==0;if(!Q&&wt===Ho&&kt)throw new Error("Point.fromHex: x=0 and x_0=1");return kt!==yt&&(wt=l(-wt)),K.fromAffine({x:wt,y:ve})}static fromPrivateKey($){return ne($).point}toRawBytes(){const{x:$,y:Q}=this.toAffine(),N=Ty(Q,t.BYTES);return N[N.length-1]|=$&Ys?128:0,N}toHex(){return ad(this.toRawBytes())}}K.BASE=new K(e.Gx,e.Gy,Ys,l(e.Gx*e.Gy)),K.ZERO=new K(Ho,Ys,Ys,Ho);const{BASE:J,ZERO:M}=K,Z=u8(K,a*8);function ie(C){return Lr(C,r)}function X(C){return ie(zh(C))}function ne(C){const $=a;C=mi("private key",C,$);const Q=mi("hashed private key",s(C),2*$),N=b(Q.slice(0,$)),E=Q.slice($,2*$),Y=X(N),fe=J.multiply(Y),we=fe.toRawBytes();return{head:N,prefix:E,scalar:Y,point:fe,pointBytes:we}}function ae(C){return ne(C).pointBytes}function L(C=new Uint8Array,...$){const Q=cd(...$);return X(s(p(Q,mi("context",C),!!i)))}function m(C,$,Q={}){C=mi("message",C),i&&(C=i(C));const{prefix:N,scalar:E,pointBytes:Y}=ne($),fe=L(Q.context,N,C),we=J.multiply(fe).toRawBytes(),ve=L(Q.context,we,Y,C),De=ie(fe+ve*E);_(De);const Ge=cd(we,Ty(De,t.BYTES));return mi("result",Ge,a*2)}const v=UY;function B(C,$,Q,N=v){const{context:E,zip215:Y}=N,fe=t.BYTES;C=mi("signature",C,2*fe),$=mi("message",$),i&&($=i($));const we=zh(C.slice(fe,2*fe));let ve,De,Ge;try{ve=K.fromHex(Q,Y),De=K.fromHex(C.slice(0,fe),Y),Ge=J.multiplyUnsafe(we)}catch{return!1}if(!Y&&ve.isSmallOrder())return!1;const Ke=L(E,De.toRawBytes(),ve.toRawBytes(),$);return De.add(ve.multiplyUnsafe(Ke)).subtract(Ge).clearCofactor().equals(K.ZERO)}return J._setWindowSize(8),{CURVE:e,getPublicKey:ae,sign:m,verify:B,ExtendedPoint:K,utils:{getExtendedPublicKey:ne,randomPrivateKey:()=>o(t.BYTES),precompute(C=8,$=K.BASE){return $._setWindowSize(C),$.multiply(BigInt(3)),$}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fx=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_C=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const WY=BigInt(1),bI=BigInt(2),FY=BigInt(5),vC=BigInt(10),VY=BigInt(20),jY=BigInt(40),EC=BigInt(80);function HY(n){const e=fx,r=n*n%e*n%e,i=Vr(r,bI,e)*r%e,s=Vr(i,WY,e)*n%e,o=Vr(s,FY,e)*s%e,a=Vr(o,vC,e)*o%e,c=Vr(a,VY,e)*a%e,u=Vr(c,jY,e)*c%e,l=Vr(u,EC,e)*u%e,d=Vr(l,EC,e)*u%e,b=Vr(d,vC,e)*o%e;return{pow_p_5_8:Vr(b,bI,e)*n%e,b2:r}}function YY(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function GY(n,e){const t=fx,r=Lr(e*e*e,t),i=Lr(r*r*e,t),s=HY(n*i).pow_p_5_8;let o=Lr(n*r*s,t);const a=Lr(e*o*o,t),c=o,u=Lr(o*_C,t),l=a===n,d=a===Lr(-n,t),b=a===Lr(-n*_C,t);return l&&(o=c),(d||b)&&(o=u),CY(o,t)&&(o=Lr(-o,t)),{isValid:l||d,value:o}}const Kc=o8(fx,void 0,!0),px={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Kc,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t8,randomBytes:H5,adjustScalarBytes:YY,uvRatio:GY},sn=hx(px);function l8(n,e,t){if(e.length>255)throw new Error("Context is too big");return j5(V5("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...px});({...px});const JY=(Kc.ORDER+BigInt(3))/BigInt(8);Kc.pow(bI,JY);Kc.sqrt(Kc.neg(Kc.ONE));(Kc.ORDER-BigInt(5))/BigInt(8);BigInt(486662);$Y(Kc,Kc.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var gx={exports:{}};const QY={},ZY=Object.freeze(Object.defineProperty({__proto__:null,default:QY},Symbol.toStringTag,{value:"Module"})),XY=la(ZY);gx.exports;(function(n){(function(e,t){function r(L,m){if(!L)throw new Error(m||"Assertion failed")}function i(L,m){L.super_=m;var v=function(){};v.prototype=m.prototype,L.prototype=new v,L.prototype.constructor=L}function s(L,m,v){if(s.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((m==="le"||m==="be")&&(v=m,m=10),this._init(L||0,m||10,v||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=XY.Buffer}catch{}s.isBN=function(m){return m instanceof s?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===s.wordSize&&Array.isArray(m.words)},s.max=function(m,v){return m.cmp(v)>0?m:v},s.min=function(m,v){return m.cmp(v)<0?m:v},s.prototype._init=function(m,v,B){if(typeof m=="number")return this._initNumber(m,v,B);if(typeof m=="object")return this._initArray(m,v,B);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),m=m.toString().replace(/\s+/g,"");var W=0;m[0]==="-"&&(W++,this.negative=1),W<m.length&&(v===16?this._parseHex(m,W,B):(this._parseBase(m,v,W),B==="le"&&this._initArray(this.toArray(),v,B)))},s.prototype._initNumber=function(m,v,B){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),B==="le"&&this._initArray(this.toArray(),v,B)},s.prototype._initArray=function(m,v,B){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var C,$,Q=0;if(B==="be")for(W=m.length-1,C=0;W>=0;W-=3)$=m[W]|m[W-1]<<8|m[W-2]<<16,this.words[C]|=$<<Q&67108863,this.words[C+1]=$>>>26-Q&67108863,Q+=24,Q>=26&&(Q-=26,C++);else if(B==="le")for(W=0,C=0;W<m.length;W+=3)$=m[W]|m[W+1]<<8|m[W+2]<<16,this.words[C]|=$<<Q&67108863,this.words[C+1]=$>>>26-Q&67108863,Q+=24,Q>=26&&(Q-=26,C++);return this._strip()};function a(L,m){var v=L.charCodeAt(m);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+L)}function c(L,m,v){var B=a(L,v);return v-1>=m&&(B|=a(L,v-1)<<4),B}s.prototype._parseHex=function(m,v,B){this.length=Math.ceil((m.length-v)/6),this.words=new Array(this.length);for(var W=0;W<this.length;W++)this.words[W]=0;var C=0,$=0,Q;if(B==="be")for(W=m.length-1;W>=v;W-=2)Q=c(m,v,W)<<C,this.words[$]|=Q&67108863,C>=18?(C-=18,$+=1,this.words[$]|=Q>>>26):C+=8;else{var N=m.length-v;for(W=N%2===0?v+1:v;W<m.length;W+=2)Q=c(m,v,W)<<C,this.words[$]|=Q&67108863,C>=18?(C-=18,$+=1,this.words[$]|=Q>>>26):C+=8}this._strip()};function u(L,m,v,B){for(var W=0,C=0,$=Math.min(L.length,v),Q=m;Q<$;Q++){var N=L.charCodeAt(Q)-48;W*=B,N>=49?C=N-49+10:N>=17?C=N-17+10:C=N,r(N>=0&&C<B,"Invalid character"),W+=C}return W}s.prototype._parseBase=function(m,v,B){this.words=[0],this.length=1;for(var W=0,C=1;C<=67108863;C*=v)W++;W--,C=C/v|0;for(var $=m.length-B,Q=$%W,N=Math.min($,$-Q)+B,E=0,Y=B;Y<N;Y+=W)E=u(m,Y,Y+W,v),this.imuln(C),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(Q!==0){var fe=1;for(E=u(m,Y,m.length,v),Y=0;Y<Q;Y++)fe*=v;this.imuln(fe),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(m){m.words=new Array(this.length);for(var v=0;v<this.length;v++)m.words[v]=this.words[v];m.length=this.length,m.negative=this.negative,m.red=this.red};function l(L,m){L.words=m.words,L.length=m.length,L.negative=m.negative,L.red=m.red}if(s.prototype._move=function(m){l(m,this)},s.prototype.clone=function(){var m=new s(null);return this.copy(m),m},s.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(m,v){m=m||10,v=v|0||1;var B;if(m===16||m==="hex"){B="";for(var W=0,C=0,$=0;$<this.length;$++){var Q=this.words[$],N=((Q<<W|C)&16777215).toString(16);C=Q>>>24-W&16777215,W+=2,W>=26&&(W-=26,$--),C!==0||$!==this.length-1?B=b[6-N.length]+N+B:B=N+B}for(C!==0&&(B=C.toString(16)+B);B.length%v!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}if(m===(m|0)&&m>=2&&m<=36){var E=p[m],Y=g[m];B="";var fe=this.clone();for(fe.negative=0;!fe.isZero();){var we=fe.modrn(Y).toString(m);fe=fe.idivn(Y),fe.isZero()?B=we+B:B=b[E-we.length]+we+B}for(this.isZero()&&(B="0"+B);B.length%v!==0;)B="0"+B;return this.negative!==0&&(B="-"+B),B}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(m,v){return this.toArrayLike(o,m,v)}),s.prototype.toArray=function(m,v){return this.toArrayLike(Array,m,v)};var y=function(m,v){return m.allocUnsafe?m.allocUnsafe(v):new m(v)};s.prototype.toArrayLike=function(m,v,B){this._strip();var W=this.byteLength(),C=B||Math.max(1,W);r(W<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var $=y(m,C),Q=v==="le"?"LE":"BE";return this["_toArrayLike"+Q]($,W),$},s.prototype._toArrayLikeLE=function(m,v){for(var B=0,W=0,C=0,$=0;C<this.length;C++){var Q=this.words[C]<<$|W;m[B++]=Q&255,B<m.length&&(m[B++]=Q>>8&255),B<m.length&&(m[B++]=Q>>16&255),$===6?(B<m.length&&(m[B++]=Q>>24&255),W=0,$=0):(W=Q>>>24,$+=2)}if(B<m.length)for(m[B++]=W;B<m.length;)m[B++]=0},s.prototype._toArrayLikeBE=function(m,v){for(var B=m.length-1,W=0,C=0,$=0;C<this.length;C++){var Q=this.words[C]<<$|W;m[B--]=Q&255,B>=0&&(m[B--]=Q>>8&255),B>=0&&(m[B--]=Q>>16&255),$===6?(B>=0&&(m[B--]=Q>>24&255),W=0,$=0):(W=Q>>>24,$+=2)}if(B>=0)for(m[B--]=W;B>=0;)m[B--]=0},Math.clz32?s.prototype._countBits=function(m){return 32-Math.clz32(m)}:s.prototype._countBits=function(m){var v=m,B=0;return v>=4096&&(B+=13,v>>>=13),v>=64&&(B+=7,v>>>=7),v>=8&&(B+=4,v>>>=4),v>=2&&(B+=2,v>>>=2),B+v},s.prototype._zeroBits=function(m){if(m===0)return 26;var v=m,B=0;return v&8191||(B+=13,v>>>=13),v&127||(B+=7,v>>>=7),v&15||(B+=4,v>>>=4),v&3||(B+=2,v>>>=2),v&1||B++,B},s.prototype.bitLength=function(){var m=this.words[this.length-1],v=this._countBits(m);return(this.length-1)*26+v};function S(L){for(var m=new Array(L.bitLength()),v=0;v<m.length;v++){var B=v/26|0,W=v%26;m[v]=L.words[B]>>>W&1}return m}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,v=0;v<this.length;v++){var B=this._zeroBits(this.words[v]);if(m+=B,B!==26)break}return m},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},s.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]|m.words[v];return this._strip()},s.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},s.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},s.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},s.prototype.iuand=function(m){var v;this.length>m.length?v=m:v=this;for(var B=0;B<v.length;B++)this.words[B]=this.words[B]&m.words[B];return this.length=v.length,this._strip()},s.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},s.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},s.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},s.prototype.iuxor=function(m){var v,B;this.length>m.length?(v=this,B=m):(v=m,B=this);for(var W=0;W<B.length;W++)this.words[W]=v.words[W]^B.words[W];if(this!==v)for(;W<v.length;W++)this.words[W]=v.words[W];return this.length=v.length,this._strip()},s.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},s.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},s.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},s.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var v=Math.ceil(m/26)|0,B=m%26;this._expand(v),B>0&&v--;for(var W=0;W<v;W++)this.words[W]=~this.words[W]&67108863;return B>0&&(this.words[W]=~this.words[W]&67108863>>26-B),this._strip()},s.prototype.notn=function(m){return this.clone().inotn(m)},s.prototype.setn=function(m,v){r(typeof m=="number"&&m>=0);var B=m/26|0,W=m%26;return this._expand(B+1),v?this.words[B]=this.words[B]|1<<W:this.words[B]=this.words[B]&~(1<<W),this._strip()},s.prototype.iadd=function(m){var v;if(this.negative!==0&&m.negative===0)return this.negative=0,v=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,v=this.isub(m),m.negative=1,v._normSign();var B,W;this.length>m.length?(B=this,W=m):(B=m,W=this);for(var C=0,$=0;$<W.length;$++)v=(B.words[$]|0)+(W.words[$]|0)+C,this.words[$]=v&67108863,C=v>>>26;for(;C!==0&&$<B.length;$++)v=(B.words[$]|0)+C,this.words[$]=v&67108863,C=v>>>26;if(this.length=B.length,C!==0)this.words[this.length]=C,this.length++;else if(B!==this)for(;$<B.length;$++)this.words[$]=B.words[$];return this},s.prototype.add=function(m){var v;return m.negative!==0&&this.negative===0?(m.negative=0,v=this.sub(m),m.negative^=1,v):m.negative===0&&this.negative!==0?(this.negative=0,v=m.sub(this),this.negative=1,v):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},s.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var v=this.iadd(m);return m.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var B=this.cmp(m);if(B===0)return this.negative=0,this.length=1,this.words[0]=0,this;var W,C;B>0?(W=this,C=m):(W=m,C=this);for(var $=0,Q=0;Q<C.length;Q++)v=(W.words[Q]|0)-(C.words[Q]|0)+$,$=v>>26,this.words[Q]=v&67108863;for(;$!==0&&Q<W.length;Q++)v=(W.words[Q]|0)+$,$=v>>26,this.words[Q]=v&67108863;if($===0&&Q<W.length&&W!==this)for(;Q<W.length;Q++)this.words[Q]=W.words[Q];return this.length=Math.max(this.length,Q),W!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(m){return this.clone().isub(m)};function w(L,m,v){v.negative=m.negative^L.negative;var B=L.length+m.length|0;v.length=B,B=B-1|0;var W=L.words[0]|0,C=m.words[0]|0,$=W*C,Q=$&67108863,N=$/67108864|0;v.words[0]=Q;for(var E=1;E<B;E++){for(var Y=N>>>26,fe=N&67108863,we=Math.min(E,m.length-1),ve=Math.max(0,E-L.length+1);ve<=we;ve++){var De=E-ve|0;W=L.words[De]|0,C=m.words[ve]|0,$=W*C+fe,Y+=$/67108864|0,fe=$&67108863}v.words[E]=fe|0,N=Y|0}return N!==0?v.words[E]=N|0:v.length--,v._strip()}var _=function(m,v,B){var W=m.words,C=v.words,$=B.words,Q=0,N,E,Y,fe=W[0]|0,we=fe&8191,ve=fe>>>13,De=W[1]|0,Ge=De&8191,Ke=De>>>13,Pn=W[2]|0,wt=Pn&8191,yt=Pn>>>13,kt=W[3]|0,bt=kt&8191,tn=kt>>>13,dr=W[4]|0,Ht=dr&8191,On=dr>>>13,ko=W[5]|0,wn=ko&8191,nn=ko>>>13,on=W[6]|0,Bt=on&8191,yn=on>>>13,xn=W[7]|0,Tt=xn&8191,A=xn>>>13,h=W[8]|0,f=h&8191,I=h>>>13,z=W[9]|0,G=z&8191,ee=z>>>13,Le=C[0]|0,Xe=Le&8191,We=Le>>>13,mt=C[1]|0,Oe=mt&8191,Qn=mt>>>13,mc=C[2]|0,Nn=mc&8191,Zn=mc>>>13,ii=C[3]|0,rn=ii&8191,se=ii>>>13,le=C[4]|0,de=le&8191,Ae=le>>>13,et=C[5]|0,Ne=et&8191,Fe=et>>>13,it=C[6]|0,ct=it&8191,st=it>>>13,Wr=C[7]|0,Ct=Wr&8191,rt=Wr>>>13,Wn=C[8]|0,xt=Wn&8191,Xn=Wn>>>13,Hs=C[9]|0,Fn=Hs&8191,Vn=Hs>>>13;B.negative=m.negative^v.negative,B.length=19,N=Math.imul(we,Xe),E=Math.imul(we,We),E=E+Math.imul(ve,Xe)|0,Y=Math.imul(ve,We);var So=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(So>>>26)|0,So&=67108863,N=Math.imul(Ge,Xe),E=Math.imul(Ge,We),E=E+Math.imul(Ke,Xe)|0,Y=Math.imul(Ke,We),N=N+Math.imul(we,Oe)|0,E=E+Math.imul(we,Qn)|0,E=E+Math.imul(ve,Oe)|0,Y=Y+Math.imul(ve,Qn)|0;var Di=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Di>>>26)|0,Di&=67108863,N=Math.imul(wt,Xe),E=Math.imul(wt,We),E=E+Math.imul(yt,Xe)|0,Y=Math.imul(yt,We),N=N+Math.imul(Ge,Oe)|0,E=E+Math.imul(Ge,Qn)|0,E=E+Math.imul(Ke,Oe)|0,Y=Y+Math.imul(Ke,Qn)|0,N=N+Math.imul(we,Nn)|0,E=E+Math.imul(we,Zn)|0,E=E+Math.imul(ve,Nn)|0,Y=Y+Math.imul(ve,Zn)|0;var ha=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(ha>>>26)|0,ha&=67108863,N=Math.imul(bt,Xe),E=Math.imul(bt,We),E=E+Math.imul(tn,Xe)|0,Y=Math.imul(tn,We),N=N+Math.imul(wt,Oe)|0,E=E+Math.imul(wt,Qn)|0,E=E+Math.imul(yt,Oe)|0,Y=Y+Math.imul(yt,Qn)|0,N=N+Math.imul(Ge,Nn)|0,E=E+Math.imul(Ge,Zn)|0,E=E+Math.imul(Ke,Nn)|0,Y=Y+Math.imul(Ke,Zn)|0,N=N+Math.imul(we,rn)|0,E=E+Math.imul(we,se)|0,E=E+Math.imul(ve,rn)|0,Y=Y+Math.imul(ve,se)|0;var fa=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(fa>>>26)|0,fa&=67108863,N=Math.imul(Ht,Xe),E=Math.imul(Ht,We),E=E+Math.imul(On,Xe)|0,Y=Math.imul(On,We),N=N+Math.imul(bt,Oe)|0,E=E+Math.imul(bt,Qn)|0,E=E+Math.imul(tn,Oe)|0,Y=Y+Math.imul(tn,Qn)|0,N=N+Math.imul(wt,Nn)|0,E=E+Math.imul(wt,Zn)|0,E=E+Math.imul(yt,Nn)|0,Y=Y+Math.imul(yt,Zn)|0,N=N+Math.imul(Ge,rn)|0,E=E+Math.imul(Ge,se)|0,E=E+Math.imul(Ke,rn)|0,Y=Y+Math.imul(Ke,se)|0,N=N+Math.imul(we,de)|0,E=E+Math.imul(we,Ae)|0,E=E+Math.imul(ve,de)|0,Y=Y+Math.imul(ve,Ae)|0;var pa=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(pa>>>26)|0,pa&=67108863,N=Math.imul(wn,Xe),E=Math.imul(wn,We),E=E+Math.imul(nn,Xe)|0,Y=Math.imul(nn,We),N=N+Math.imul(Ht,Oe)|0,E=E+Math.imul(Ht,Qn)|0,E=E+Math.imul(On,Oe)|0,Y=Y+Math.imul(On,Qn)|0,N=N+Math.imul(bt,Nn)|0,E=E+Math.imul(bt,Zn)|0,E=E+Math.imul(tn,Nn)|0,Y=Y+Math.imul(tn,Zn)|0,N=N+Math.imul(wt,rn)|0,E=E+Math.imul(wt,se)|0,E=E+Math.imul(yt,rn)|0,Y=Y+Math.imul(yt,se)|0,N=N+Math.imul(Ge,de)|0,E=E+Math.imul(Ge,Ae)|0,E=E+Math.imul(Ke,de)|0,Y=Y+Math.imul(Ke,Ae)|0,N=N+Math.imul(we,Ne)|0,E=E+Math.imul(we,Fe)|0,E=E+Math.imul(ve,Ne)|0,Y=Y+Math.imul(ve,Fe)|0;var Mt=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,N=Math.imul(Bt,Xe),E=Math.imul(Bt,We),E=E+Math.imul(yn,Xe)|0,Y=Math.imul(yn,We),N=N+Math.imul(wn,Oe)|0,E=E+Math.imul(wn,Qn)|0,E=E+Math.imul(nn,Oe)|0,Y=Y+Math.imul(nn,Qn)|0,N=N+Math.imul(Ht,Nn)|0,E=E+Math.imul(Ht,Zn)|0,E=E+Math.imul(On,Nn)|0,Y=Y+Math.imul(On,Zn)|0,N=N+Math.imul(bt,rn)|0,E=E+Math.imul(bt,se)|0,E=E+Math.imul(tn,rn)|0,Y=Y+Math.imul(tn,se)|0,N=N+Math.imul(wt,de)|0,E=E+Math.imul(wt,Ae)|0,E=E+Math.imul(yt,de)|0,Y=Y+Math.imul(yt,Ae)|0,N=N+Math.imul(Ge,Ne)|0,E=E+Math.imul(Ge,Fe)|0,E=E+Math.imul(Ke,Ne)|0,Y=Y+Math.imul(Ke,Fe)|0,N=N+Math.imul(we,ct)|0,E=E+Math.imul(we,st)|0,E=E+Math.imul(ve,ct)|0,Y=Y+Math.imul(ve,st)|0;var ti=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(ti>>>26)|0,ti&=67108863,N=Math.imul(Tt,Xe),E=Math.imul(Tt,We),E=E+Math.imul(A,Xe)|0,Y=Math.imul(A,We),N=N+Math.imul(Bt,Oe)|0,E=E+Math.imul(Bt,Qn)|0,E=E+Math.imul(yn,Oe)|0,Y=Y+Math.imul(yn,Qn)|0,N=N+Math.imul(wn,Nn)|0,E=E+Math.imul(wn,Zn)|0,E=E+Math.imul(nn,Nn)|0,Y=Y+Math.imul(nn,Zn)|0,N=N+Math.imul(Ht,rn)|0,E=E+Math.imul(Ht,se)|0,E=E+Math.imul(On,rn)|0,Y=Y+Math.imul(On,se)|0,N=N+Math.imul(bt,de)|0,E=E+Math.imul(bt,Ae)|0,E=E+Math.imul(tn,de)|0,Y=Y+Math.imul(tn,Ae)|0,N=N+Math.imul(wt,Ne)|0,E=E+Math.imul(wt,Fe)|0,E=E+Math.imul(yt,Ne)|0,Y=Y+Math.imul(yt,Fe)|0,N=N+Math.imul(Ge,ct)|0,E=E+Math.imul(Ge,st)|0,E=E+Math.imul(Ke,ct)|0,Y=Y+Math.imul(Ke,st)|0,N=N+Math.imul(we,Ct)|0,E=E+Math.imul(we,rt)|0,E=E+Math.imul(ve,Ct)|0,Y=Y+Math.imul(ve,rt)|0;var Si=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Si>>>26)|0,Si&=67108863,N=Math.imul(f,Xe),E=Math.imul(f,We),E=E+Math.imul(I,Xe)|0,Y=Math.imul(I,We),N=N+Math.imul(Tt,Oe)|0,E=E+Math.imul(Tt,Qn)|0,E=E+Math.imul(A,Oe)|0,Y=Y+Math.imul(A,Qn)|0,N=N+Math.imul(Bt,Nn)|0,E=E+Math.imul(Bt,Zn)|0,E=E+Math.imul(yn,Nn)|0,Y=Y+Math.imul(yn,Zn)|0,N=N+Math.imul(wn,rn)|0,E=E+Math.imul(wn,se)|0,E=E+Math.imul(nn,rn)|0,Y=Y+Math.imul(nn,se)|0,N=N+Math.imul(Ht,de)|0,E=E+Math.imul(Ht,Ae)|0,E=E+Math.imul(On,de)|0,Y=Y+Math.imul(On,Ae)|0,N=N+Math.imul(bt,Ne)|0,E=E+Math.imul(bt,Fe)|0,E=E+Math.imul(tn,Ne)|0,Y=Y+Math.imul(tn,Fe)|0,N=N+Math.imul(wt,ct)|0,E=E+Math.imul(wt,st)|0,E=E+Math.imul(yt,ct)|0,Y=Y+Math.imul(yt,st)|0,N=N+Math.imul(Ge,Ct)|0,E=E+Math.imul(Ge,rt)|0,E=E+Math.imul(Ke,Ct)|0,Y=Y+Math.imul(Ke,rt)|0,N=N+Math.imul(we,xt)|0,E=E+Math.imul(we,Xn)|0,E=E+Math.imul(ve,xt)|0,Y=Y+Math.imul(ve,Xn)|0;var Nr=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,N=Math.imul(G,Xe),E=Math.imul(G,We),E=E+Math.imul(ee,Xe)|0,Y=Math.imul(ee,We),N=N+Math.imul(f,Oe)|0,E=E+Math.imul(f,Qn)|0,E=E+Math.imul(I,Oe)|0,Y=Y+Math.imul(I,Qn)|0,N=N+Math.imul(Tt,Nn)|0,E=E+Math.imul(Tt,Zn)|0,E=E+Math.imul(A,Nn)|0,Y=Y+Math.imul(A,Zn)|0,N=N+Math.imul(Bt,rn)|0,E=E+Math.imul(Bt,se)|0,E=E+Math.imul(yn,rn)|0,Y=Y+Math.imul(yn,se)|0,N=N+Math.imul(wn,de)|0,E=E+Math.imul(wn,Ae)|0,E=E+Math.imul(nn,de)|0,Y=Y+Math.imul(nn,Ae)|0,N=N+Math.imul(Ht,Ne)|0,E=E+Math.imul(Ht,Fe)|0,E=E+Math.imul(On,Ne)|0,Y=Y+Math.imul(On,Fe)|0,N=N+Math.imul(bt,ct)|0,E=E+Math.imul(bt,st)|0,E=E+Math.imul(tn,ct)|0,Y=Y+Math.imul(tn,st)|0,N=N+Math.imul(wt,Ct)|0,E=E+Math.imul(wt,rt)|0,E=E+Math.imul(yt,Ct)|0,Y=Y+Math.imul(yt,rt)|0,N=N+Math.imul(Ge,xt)|0,E=E+Math.imul(Ge,Xn)|0,E=E+Math.imul(Ke,xt)|0,Y=Y+Math.imul(Ke,Xn)|0,N=N+Math.imul(we,Fn)|0,E=E+Math.imul(we,Vn)|0,E=E+Math.imul(ve,Fn)|0,Y=Y+Math.imul(ve,Vn)|0;var Fo=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Fo>>>26)|0,Fo&=67108863,N=Math.imul(G,Oe),E=Math.imul(G,Qn),E=E+Math.imul(ee,Oe)|0,Y=Math.imul(ee,Qn),N=N+Math.imul(f,Nn)|0,E=E+Math.imul(f,Zn)|0,E=E+Math.imul(I,Nn)|0,Y=Y+Math.imul(I,Zn)|0,N=N+Math.imul(Tt,rn)|0,E=E+Math.imul(Tt,se)|0,E=E+Math.imul(A,rn)|0,Y=Y+Math.imul(A,se)|0,N=N+Math.imul(Bt,de)|0,E=E+Math.imul(Bt,Ae)|0,E=E+Math.imul(yn,de)|0,Y=Y+Math.imul(yn,Ae)|0,N=N+Math.imul(wn,Ne)|0,E=E+Math.imul(wn,Fe)|0,E=E+Math.imul(nn,Ne)|0,Y=Y+Math.imul(nn,Fe)|0,N=N+Math.imul(Ht,ct)|0,E=E+Math.imul(Ht,st)|0,E=E+Math.imul(On,ct)|0,Y=Y+Math.imul(On,st)|0,N=N+Math.imul(bt,Ct)|0,E=E+Math.imul(bt,rt)|0,E=E+Math.imul(tn,Ct)|0,Y=Y+Math.imul(tn,rt)|0,N=N+Math.imul(wt,xt)|0,E=E+Math.imul(wt,Xn)|0,E=E+Math.imul(yt,xt)|0,Y=Y+Math.imul(yt,Xn)|0,N=N+Math.imul(Ge,Fn)|0,E=E+Math.imul(Ge,Vn)|0,E=E+Math.imul(Ke,Fn)|0,Y=Y+Math.imul(Ke,Vn)|0;var ru=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(ru>>>26)|0,ru&=67108863,N=Math.imul(G,Nn),E=Math.imul(G,Zn),E=E+Math.imul(ee,Nn)|0,Y=Math.imul(ee,Zn),N=N+Math.imul(f,rn)|0,E=E+Math.imul(f,se)|0,E=E+Math.imul(I,rn)|0,Y=Y+Math.imul(I,se)|0,N=N+Math.imul(Tt,de)|0,E=E+Math.imul(Tt,Ae)|0,E=E+Math.imul(A,de)|0,Y=Y+Math.imul(A,Ae)|0,N=N+Math.imul(Bt,Ne)|0,E=E+Math.imul(Bt,Fe)|0,E=E+Math.imul(yn,Ne)|0,Y=Y+Math.imul(yn,Fe)|0,N=N+Math.imul(wn,ct)|0,E=E+Math.imul(wn,st)|0,E=E+Math.imul(nn,ct)|0,Y=Y+Math.imul(nn,st)|0,N=N+Math.imul(Ht,Ct)|0,E=E+Math.imul(Ht,rt)|0,E=E+Math.imul(On,Ct)|0,Y=Y+Math.imul(On,rt)|0,N=N+Math.imul(bt,xt)|0,E=E+Math.imul(bt,Xn)|0,E=E+Math.imul(tn,xt)|0,Y=Y+Math.imul(tn,Xn)|0,N=N+Math.imul(wt,Fn)|0,E=E+Math.imul(wt,Vn)|0,E=E+Math.imul(yt,Fn)|0,Y=Y+Math.imul(yt,Vn)|0;var cl=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(cl>>>26)|0,cl&=67108863,N=Math.imul(G,rn),E=Math.imul(G,se),E=E+Math.imul(ee,rn)|0,Y=Math.imul(ee,se),N=N+Math.imul(f,de)|0,E=E+Math.imul(f,Ae)|0,E=E+Math.imul(I,de)|0,Y=Y+Math.imul(I,Ae)|0,N=N+Math.imul(Tt,Ne)|0,E=E+Math.imul(Tt,Fe)|0,E=E+Math.imul(A,Ne)|0,Y=Y+Math.imul(A,Fe)|0,N=N+Math.imul(Bt,ct)|0,E=E+Math.imul(Bt,st)|0,E=E+Math.imul(yn,ct)|0,Y=Y+Math.imul(yn,st)|0,N=N+Math.imul(wn,Ct)|0,E=E+Math.imul(wn,rt)|0,E=E+Math.imul(nn,Ct)|0,Y=Y+Math.imul(nn,rt)|0,N=N+Math.imul(Ht,xt)|0,E=E+Math.imul(Ht,Xn)|0,E=E+Math.imul(On,xt)|0,Y=Y+Math.imul(On,Xn)|0,N=N+Math.imul(bt,Fn)|0,E=E+Math.imul(bt,Vn)|0,E=E+Math.imul(tn,Fn)|0,Y=Y+Math.imul(tn,Vn)|0;var Vp=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Vp>>>26)|0,Vp&=67108863,N=Math.imul(G,de),E=Math.imul(G,Ae),E=E+Math.imul(ee,de)|0,Y=Math.imul(ee,Ae),N=N+Math.imul(f,Ne)|0,E=E+Math.imul(f,Fe)|0,E=E+Math.imul(I,Ne)|0,Y=Y+Math.imul(I,Fe)|0,N=N+Math.imul(Tt,ct)|0,E=E+Math.imul(Tt,st)|0,E=E+Math.imul(A,ct)|0,Y=Y+Math.imul(A,st)|0,N=N+Math.imul(Bt,Ct)|0,E=E+Math.imul(Bt,rt)|0,E=E+Math.imul(yn,Ct)|0,Y=Y+Math.imul(yn,rt)|0,N=N+Math.imul(wn,xt)|0,E=E+Math.imul(wn,Xn)|0,E=E+Math.imul(nn,xt)|0,Y=Y+Math.imul(nn,Xn)|0,N=N+Math.imul(Ht,Fn)|0,E=E+Math.imul(Ht,Vn)|0,E=E+Math.imul(On,Fn)|0,Y=Y+Math.imul(On,Vn)|0;var jp=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(jp>>>26)|0,jp&=67108863,N=Math.imul(G,Ne),E=Math.imul(G,Fe),E=E+Math.imul(ee,Ne)|0,Y=Math.imul(ee,Fe),N=N+Math.imul(f,ct)|0,E=E+Math.imul(f,st)|0,E=E+Math.imul(I,ct)|0,Y=Y+Math.imul(I,st)|0,N=N+Math.imul(Tt,Ct)|0,E=E+Math.imul(Tt,rt)|0,E=E+Math.imul(A,Ct)|0,Y=Y+Math.imul(A,rt)|0,N=N+Math.imul(Bt,xt)|0,E=E+Math.imul(Bt,Xn)|0,E=E+Math.imul(yn,xt)|0,Y=Y+Math.imul(yn,Xn)|0,N=N+Math.imul(wn,Fn)|0,E=E+Math.imul(wn,Vn)|0,E=E+Math.imul(nn,Fn)|0,Y=Y+Math.imul(nn,Vn)|0;var Hp=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Hp>>>26)|0,Hp&=67108863,N=Math.imul(G,ct),E=Math.imul(G,st),E=E+Math.imul(ee,ct)|0,Y=Math.imul(ee,st),N=N+Math.imul(f,Ct)|0,E=E+Math.imul(f,rt)|0,E=E+Math.imul(I,Ct)|0,Y=Y+Math.imul(I,rt)|0,N=N+Math.imul(Tt,xt)|0,E=E+Math.imul(Tt,Xn)|0,E=E+Math.imul(A,xt)|0,Y=Y+Math.imul(A,Xn)|0,N=N+Math.imul(Bt,Fn)|0,E=E+Math.imul(Bt,Vn)|0,E=E+Math.imul(yn,Fn)|0,Y=Y+Math.imul(yn,Vn)|0;var Yp=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,N=Math.imul(G,Ct),E=Math.imul(G,rt),E=E+Math.imul(ee,Ct)|0,Y=Math.imul(ee,rt),N=N+Math.imul(f,xt)|0,E=E+Math.imul(f,Xn)|0,E=E+Math.imul(I,xt)|0,Y=Y+Math.imul(I,Xn)|0,N=N+Math.imul(Tt,Fn)|0,E=E+Math.imul(Tt,Vn)|0,E=E+Math.imul(A,Fn)|0,Y=Y+Math.imul(A,Vn)|0;var Gp=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Gp>>>26)|0,Gp&=67108863,N=Math.imul(G,xt),E=Math.imul(G,Xn),E=E+Math.imul(ee,xt)|0,Y=Math.imul(ee,Xn),N=N+Math.imul(f,Fn)|0,E=E+Math.imul(f,Vn)|0,E=E+Math.imul(I,Fn)|0,Y=Y+Math.imul(I,Vn)|0;var Jp=(Q+N|0)+((E&8191)<<13)|0;Q=(Y+(E>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,N=Math.imul(G,Fn),E=Math.imul(G,Vn),E=E+Math.imul(ee,Fn)|0,Y=Math.imul(ee,Vn);var Qp=(Q+N|0)+((E&8191)<<13)|0;return Q=(Y+(E>>>13)|0)+(Qp>>>26)|0,Qp&=67108863,$[0]=So,$[1]=Di,$[2]=ha,$[3]=fa,$[4]=pa,$[5]=Mt,$[6]=ti,$[7]=Si,$[8]=Nr,$[9]=Fo,$[10]=ru,$[11]=cl,$[12]=Vp,$[13]=jp,$[14]=Hp,$[15]=Yp,$[16]=Gp,$[17]=Jp,$[18]=Qp,Q!==0&&($[19]=Q,B.length++),B};Math.imul||(_=w);function R(L,m,v){v.negative=m.negative^L.negative,v.length=L.length+m.length;for(var B=0,W=0,C=0;C<v.length-1;C++){var $=W;W=0;for(var Q=B&67108863,N=Math.min(C,m.length-1),E=Math.max(0,C-L.length+1);E<=N;E++){var Y=C-E,fe=L.words[Y]|0,we=m.words[E]|0,ve=fe*we,De=ve&67108863;$=$+(ve/67108864|0)|0,De=De+Q|0,Q=De&67108863,$=$+(De>>>26)|0,W+=$>>>26,$&=67108863}v.words[C]=Q,B=$,$=W}return B!==0?v.words[C]=B:v.length--,v._strip()}function x(L,m,v){return R(L,m,v)}s.prototype.mulTo=function(m,v){var B,W=this.length+m.length;return this.length===10&&m.length===10?B=_(this,m,v):W<63?B=w(this,m,v):W<1024?B=R(this,m,v):B=x(this,m,v),B},s.prototype.mul=function(m){var v=new s(null);return v.words=new Array(this.length+m.length),this.mulTo(m,v)},s.prototype.mulf=function(m){var v=new s(null);return v.words=new Array(this.length+m.length),x(this,m,v)},s.prototype.imul=function(m){return this.clone().mulTo(m,this)},s.prototype.imuln=function(m){var v=m<0;v&&(m=-m),r(typeof m=="number"),r(m<67108864);for(var B=0,W=0;W<this.length;W++){var C=(this.words[W]|0)*m,$=(C&67108863)+(B&67108863);B>>=26,B+=C/67108864|0,B+=$>>>26,this.words[W]=$&67108863}return B!==0&&(this.words[W]=B,this.length++),v?this.ineg():this},s.prototype.muln=function(m){return this.clone().imuln(m)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(m){var v=S(m);if(v.length===0)return new s(1);for(var B=this,W=0;W<v.length&&v[W]===0;W++,B=B.sqr());if(++W<v.length)for(var C=B.sqr();W<v.length;W++,C=C.sqr())v[W]!==0&&(B=B.mul(C));return B},s.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var v=m%26,B=(m-v)/26,W=67108863>>>26-v<<26-v,C;if(v!==0){var $=0;for(C=0;C<this.length;C++){var Q=this.words[C]&W,N=(this.words[C]|0)-Q<<v;this.words[C]=N|$,$=Q>>>26-v}$&&(this.words[C]=$,this.length++)}if(B!==0){for(C=this.length-1;C>=0;C--)this.words[C+B]=this.words[C];for(C=0;C<B;C++)this.words[C]=0;this.length+=B}return this._strip()},s.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},s.prototype.iushrn=function(m,v,B){r(typeof m=="number"&&m>=0);var W;v?W=(v-v%26)/26:W=0;var C=m%26,$=Math.min((m-C)/26,this.length),Q=67108863^67108863>>>C<<C,N=B;if(W-=$,W=Math.max(0,W),N){for(var E=0;E<$;E++)N.words[E]=this.words[E];N.length=$}if($!==0)if(this.length>$)for(this.length-=$,E=0;E<this.length;E++)this.words[E]=this.words[E+$];else this.words[0]=0,this.length=1;var Y=0;for(E=this.length-1;E>=0&&(Y!==0||E>=W);E--){var fe=this.words[E]|0;this.words[E]=Y<<26-C|fe>>>C,Y=fe&Q}return N&&Y!==0&&(N.words[N.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(m,v,B){return r(this.negative===0),this.iushrn(m,v,B)},s.prototype.shln=function(m){return this.clone().ishln(m)},s.prototype.ushln=function(m){return this.clone().iushln(m)},s.prototype.shrn=function(m){return this.clone().ishrn(m)},s.prototype.ushrn=function(m){return this.clone().iushrn(m)},s.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var v=m%26,B=(m-v)/26,W=1<<v;if(this.length<=B)return!1;var C=this.words[B];return!!(C&W)},s.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var v=m%26,B=(m-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=B)return this;if(v!==0&&B++,this.length=Math.min(B,this.length),v!==0){var W=67108863^67108863>>>v<<v;this.words[this.length-1]&=W}return this._strip()},s.prototype.maskn=function(m){return this.clone().imaskn(m)},s.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},s.prototype._iaddn=function(m){this.words[0]+=m;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(m){return this.clone().iaddn(m)},s.prototype.subn=function(m){return this.clone().isubn(m)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(m,v,B){var W=m.length+B,C;this._expand(W);var $,Q=0;for(C=0;C<m.length;C++){$=(this.words[C+B]|0)+Q;var N=(m.words[C]|0)*v;$-=N&67108863,Q=($>>26)-(N/67108864|0),this.words[C+B]=$&67108863}for(;C<this.length-B;C++)$=(this.words[C+B]|0)+Q,Q=$>>26,this.words[C+B]=$&67108863;if(Q===0)return this._strip();for(r(Q===-1),Q=0,C=0;C<this.length;C++)$=-(this.words[C]|0)+Q,Q=$>>26,this.words[C]=$&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(m,v){var B=this.length-m.length,W=this.clone(),C=m,$=C.words[C.length-1]|0,Q=this._countBits($);B=26-Q,B!==0&&(C=C.ushln(B),W.iushln(B),$=C.words[C.length-1]|0);var N=W.length-C.length,E;if(v!=="mod"){E=new s(null),E.length=N+1,E.words=new Array(E.length);for(var Y=0;Y<E.length;Y++)E.words[Y]=0}var fe=W.clone()._ishlnsubmul(C,1,N);fe.negative===0&&(W=fe,E&&(E.words[N]=1));for(var we=N-1;we>=0;we--){var ve=(W.words[C.length+we]|0)*67108864+(W.words[C.length+we-1]|0);for(ve=Math.min(ve/$|0,67108863),W._ishlnsubmul(C,ve,we);W.negative!==0;)ve--,W.negative=0,W._ishlnsubmul(C,1,we),W.isZero()||(W.negative^=1);E&&(E.words[we]=ve)}return E&&E._strip(),W._strip(),v!=="div"&&B!==0&&W.iushrn(B),{div:E||null,mod:W}},s.prototype.divmod=function(m,v,B){if(r(!m.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var W,C,$;return this.negative!==0&&m.negative===0?($=this.neg().divmod(m,v),v!=="mod"&&(W=$.div.neg()),v!=="div"&&(C=$.mod.neg(),B&&C.negative!==0&&C.iadd(m)),{div:W,mod:C}):this.negative===0&&m.negative!==0?($=this.divmod(m.neg(),v),v!=="mod"&&(W=$.div.neg()),{div:W,mod:$.mod}):this.negative&m.negative?($=this.neg().divmod(m.neg(),v),v!=="div"&&(C=$.mod.neg(),B&&C.negative!==0&&C.isub(m)),{div:$.div,mod:C}):m.length>this.length||this.cmp(m)<0?{div:new s(0),mod:this}:m.length===1?v==="div"?{div:this.divn(m.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new s(this.modrn(m.words[0]))}:this._wordDiv(m,v)},s.prototype.div=function(m){return this.divmod(m,"div",!1).div},s.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},s.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},s.prototype.divRound=function(m){var v=this.divmod(m);if(v.mod.isZero())return v.div;var B=v.div.negative!==0?v.mod.isub(m):v.mod,W=m.ushrn(1),C=m.andln(1),$=B.cmp(W);return $<0||C===1&&$===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(m){var v=m<0;v&&(m=-m),r(m<=67108863);for(var B=(1<<26)%m,W=0,C=this.length-1;C>=0;C--)W=(B*W+(this.words[C]|0))%m;return v?-W:W},s.prototype.modn=function(m){return this.modrn(m)},s.prototype.idivn=function(m){var v=m<0;v&&(m=-m),r(m<=67108863);for(var B=0,W=this.length-1;W>=0;W--){var C=(this.words[W]|0)+B*67108864;this.words[W]=C/m|0,B=C%m}return this._strip(),v?this.ineg():this},s.prototype.divn=function(m){return this.clone().idivn(m)},s.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var v=this,B=m.clone();v.negative!==0?v=v.umod(m):v=v.clone();for(var W=new s(1),C=new s(0),$=new s(0),Q=new s(1),N=0;v.isEven()&&B.isEven();)v.iushrn(1),B.iushrn(1),++N;for(var E=B.clone(),Y=v.clone();!v.isZero();){for(var fe=0,we=1;!(v.words[0]&we)&&fe<26;++fe,we<<=1);if(fe>0)for(v.iushrn(fe);fe-- >0;)(W.isOdd()||C.isOdd())&&(W.iadd(E),C.isub(Y)),W.iushrn(1),C.iushrn(1);for(var ve=0,De=1;!(B.words[0]&De)&&ve<26;++ve,De<<=1);if(ve>0)for(B.iushrn(ve);ve-- >0;)($.isOdd()||Q.isOdd())&&($.iadd(E),Q.isub(Y)),$.iushrn(1),Q.iushrn(1);v.cmp(B)>=0?(v.isub(B),W.isub($),C.isub(Q)):(B.isub(v),$.isub(W),Q.isub(C))}return{a:$,b:Q,gcd:B.iushln(N)}},s.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var v=this,B=m.clone();v.negative!==0?v=v.umod(m):v=v.clone();for(var W=new s(1),C=new s(0),$=B.clone();v.cmpn(1)>0&&B.cmpn(1)>0;){for(var Q=0,N=1;!(v.words[0]&N)&&Q<26;++Q,N<<=1);if(Q>0)for(v.iushrn(Q);Q-- >0;)W.isOdd()&&W.iadd($),W.iushrn(1);for(var E=0,Y=1;!(B.words[0]&Y)&&E<26;++E,Y<<=1);if(E>0)for(B.iushrn(E);E-- >0;)C.isOdd()&&C.iadd($),C.iushrn(1);v.cmp(B)>=0?(v.isub(B),W.isub(C)):(B.isub(v),C.isub(W))}var fe;return v.cmpn(1)===0?fe=W:fe=C,fe.cmpn(0)<0&&fe.iadd(m),fe},s.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var v=this.clone(),B=m.clone();v.negative=0,B.negative=0;for(var W=0;v.isEven()&&B.isEven();W++)v.iushrn(1),B.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;B.isEven();)B.iushrn(1);var C=v.cmp(B);if(C<0){var $=v;v=B,B=$}else if(C===0||B.cmpn(1)===0)break;v.isub(B)}while(!0);return B.iushln(W)},s.prototype.invm=function(m){return this.egcd(m).a.umod(m)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(m){return this.words[0]&m},s.prototype.bincn=function(m){r(typeof m=="number");var v=m%26,B=(m-v)/26,W=1<<v;if(this.length<=B)return this._expand(B+1),this.words[B]|=W,this;for(var C=W,$=B;C!==0&&$<this.length;$++){var Q=this.words[$]|0;Q+=C,C=Q>>>26,Q&=67108863,this.words[$]=Q}return C!==0&&(this.words[$]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(m){var v=m<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var B;if(this.length>1)B=1;else{v&&(m=-m),r(m<=67108863,"Number is too big");var W=this.words[0]|0;B=W===m?0:W<m?-1:1}return this.negative!==0?-B|0:B},s.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var v=this.ucmp(m);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var v=0,B=this.length-1;B>=0;B--){var W=this.words[B]|0,C=m.words[B]|0;if(W!==C){W<C?v=-1:W>C&&(v=1);break}}return v},s.prototype.gtn=function(m){return this.cmpn(m)===1},s.prototype.gt=function(m){return this.cmp(m)===1},s.prototype.gten=function(m){return this.cmpn(m)>=0},s.prototype.gte=function(m){return this.cmp(m)>=0},s.prototype.ltn=function(m){return this.cmpn(m)===-1},s.prototype.lt=function(m){return this.cmp(m)===-1},s.prototype.lten=function(m){return this.cmpn(m)<=0},s.prototype.lte=function(m){return this.cmp(m)<=0},s.prototype.eqn=function(m){return this.cmpn(m)===0},s.prototype.eq=function(m){return this.cmp(m)===0},s.red=function(m){return new ne(m)},s.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(m){return this.red=m,this},s.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},s.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},s.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},s.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},s.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},s.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},s.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},s.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var K={k256:null,p224:null,p192:null,p25519:null};function J(L,m){this.name=L,this.p=new s(m,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}J.prototype._tmp=function(){var m=new s(null);return m.words=new Array(Math.ceil(this.n/13)),m},J.prototype.ireduce=function(m){var v=m,B;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),B=v.bitLength();while(B>this.n);var W=B<this.n?-1:v.ucmp(this.p);return W===0?(v.words[0]=0,v.length=1):W>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},J.prototype.split=function(m,v){m.iushrn(this.n,0,v)},J.prototype.imulK=function(m){return m.imul(this.k)};function M(){J.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(M,J),M.prototype.split=function(m,v){for(var B=4194303,W=Math.min(m.length,9),C=0;C<W;C++)v.words[C]=m.words[C];if(v.length=W,m.length<=9){m.words[0]=0,m.length=1;return}var $=m.words[9];for(v.words[v.length++]=$&B,C=10;C<m.length;C++){var Q=m.words[C]|0;m.words[C-10]=(Q&B)<<4|$>>>22,$=Q}$>>>=22,m.words[C-10]=$,$===0&&m.length>10?m.length-=10:m.length-=9},M.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var v=0,B=0;B<m.length;B++){var W=m.words[B]|0;v+=W*977,m.words[B]=v&67108863,v=W*64+(v/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function Z(){J.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Z,J);function ie(){J.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ie,J);function X(){J.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,J),X.prototype.imulK=function(m){for(var v=0,B=0;B<m.length;B++){var W=(m.words[B]|0)*19+v,C=W&67108863;W>>>=26,m.words[B]=C,v=W}return v!==0&&(m.words[m.length++]=v),m},s._prime=function(m){if(K[m])return K[m];var v;if(m==="k256")v=new M;else if(m==="p224")v=new Z;else if(m==="p192")v=new ie;else if(m==="p25519")v=new X;else throw new Error("Unknown prime "+m);return K[m]=v,v};function ne(L){if(typeof L=="string"){var m=s._prime(L);this.m=m.p,this.prime=m}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}ne.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},ne.prototype._verify2=function(m,v){r((m.negative|v.negative)===0,"red works only with positives"),r(m.red&&m.red===v.red,"red works only with red numbers")},ne.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(l(m,m.umod(this.m)._forceRed(this)),m)},ne.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},ne.prototype.add=function(m,v){this._verify2(m,v);var B=m.add(v);return B.cmp(this.m)>=0&&B.isub(this.m),B._forceRed(this)},ne.prototype.iadd=function(m,v){this._verify2(m,v);var B=m.iadd(v);return B.cmp(this.m)>=0&&B.isub(this.m),B},ne.prototype.sub=function(m,v){this._verify2(m,v);var B=m.sub(v);return B.cmpn(0)<0&&B.iadd(this.m),B._forceRed(this)},ne.prototype.isub=function(m,v){this._verify2(m,v);var B=m.isub(v);return B.cmpn(0)<0&&B.iadd(this.m),B},ne.prototype.shl=function(m,v){return this._verify1(m),this.imod(m.ushln(v))},ne.prototype.imul=function(m,v){return this._verify2(m,v),this.imod(m.imul(v))},ne.prototype.mul=function(m,v){return this._verify2(m,v),this.imod(m.mul(v))},ne.prototype.isqr=function(m){return this.imul(m,m.clone())},ne.prototype.sqr=function(m){return this.mul(m,m)},ne.prototype.sqrt=function(m){if(m.isZero())return m.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var B=this.m.add(new s(1)).iushrn(2);return this.pow(m,B)}for(var W=this.m.subn(1),C=0;!W.isZero()&&W.andln(1)===0;)C++,W.iushrn(1);r(!W.isZero());var $=new s(1).toRed(this),Q=$.redNeg(),N=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,N).cmp(Q)!==0;)E.redIAdd(Q);for(var Y=this.pow(E,W),fe=this.pow(m,W.addn(1).iushrn(1)),we=this.pow(m,W),ve=C;we.cmp($)!==0;){for(var De=we,Ge=0;De.cmp($)!==0;Ge++)De=De.redSqr();r(Ge<ve);var Ke=this.pow(Y,new s(1).iushln(ve-Ge-1));fe=fe.redMul(Ke),Y=Ke.redSqr(),we=we.redMul(Y),ve=Ge}return fe},ne.prototype.invm=function(m){var v=m._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},ne.prototype.pow=function(m,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return m.clone();var B=4,W=new Array(1<<B);W[0]=new s(1).toRed(this),W[1]=m;for(var C=2;C<W.length;C++)W[C]=this.mul(W[C-1],m);var $=W[0],Q=0,N=0,E=v.bitLength()%26;for(E===0&&(E=26),C=v.length-1;C>=0;C--){for(var Y=v.words[C],fe=E-1;fe>=0;fe--){var we=Y>>fe&1;if($!==W[0]&&($=this.sqr($)),we===0&&Q===0){N=0;continue}Q<<=1,Q|=we,N++,!(N!==B&&(C!==0||fe!==0))&&($=this.mul($,W[Q]),N=0,Q=0)}E=26}return $},ne.prototype.convertTo=function(m){var v=m.umod(this.m);return v===m?v.clone():v},ne.prototype.convertFrom=function(m){var v=m.clone();return v.red=null,v},s.mont=function(m){return new ae(m)};function ae(L){ne.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,ne),ae.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},ae.prototype.convertFrom=function(m){var v=this.imod(m.mul(this.rinv));return v.red=null,v},ae.prototype.imul=function(m,v){if(m.isZero()||v.isZero())return m.words[0]=0,m.length=1,m;var B=m.imul(v),W=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=B.isub(W).iushrn(this.shift),$=C;return C.cmp(this.m)>=0?$=C.isub(this.m):C.cmpn(0)<0&&($=C.iadd(this.m)),$._forceRed(this)},ae.prototype.mul=function(m,v){if(m.isZero()||v.isZero())return new s(0)._forceRed(this);var B=m.mul(v),W=B.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=B.isub(W).iushrn(this.shift),$=C;return C.cmp(this.m)>=0?$=C.isub(this.m):C.cmpn(0)<0&&($=C.iadd(this.m)),$._forceRed(this)},ae.prototype.invm=function(m){var v=this.imod(m._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(n,ce)})(gx);var Ws=gx.exports;const Zi=Do(Ws);var wI={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=H,r=t.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(wI,wI.exports);var eG=wI.exports,Ab=eG.Buffer;function tG(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=Ab.from(p)),!Ab.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var g=0,y=0,S=0,w=p.length;S!==w&&p[S]===0;)S++,g++;for(var _=(w-S)*u+1>>>0,R=new Uint8Array(_);S!==w;){for(var x=p[S],K=0,J=_-1;(x!==0||K<y)&&J!==-1;J--,K++)x+=256*R[J]>>>0,R[J]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");y=K,S++}for(var M=_-y;M!==_&&R[M]===0;)M++;for(var Z=a.repeat(g);M<_;++M)Z+=n.charAt(R[M]);return Z}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return Ab.alloc(0);for(var g=0,y=0,S=0;p[g]===a;)y++,g++;for(var w=(p.length-g)*c+1>>>0,_=new Uint8Array(w);p[g];){var R=e[p.charCodeAt(g)];if(R===255)return;for(var x=0,K=w-1;(R!==0||x<S)&&K!==-1;K--,x++)R+=o*_[K]>>>0,_[K]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");S=x,g++}for(var J=w-S;J!==w&&_[J]===0;)J++;var M=Ab.allocUnsafe(y+(w-J));M.fill(0,0,y);for(var Z=y;J!==w;)M[Z++]=_[J++];return M}function b(p){var g=d(p);if(g)return g;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:b}}var nG=tG,rG=nG,iG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Fs=rG(iG);const Pe=Do(Fs),sG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uu=new Uint32Array(64);class oG extends Y5{constructor(){super(64,32,8,!1),this.A=cu[0]|0,this.B=cu[1]|0,this.C=cu[2]|0,this.D=cu[3]|0,this.E=cu[4]|0,this.F=cu[5]|0,this.G=cu[6]|0,this.H=cu[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,r,i,s,o,a,c]}set(e,t,r,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)uu[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const b=uu[d-15],p=uu[d-2],g=ya(b,7)^ya(b,18)^b>>>3,y=ya(p,17)^ya(p,19)^p>>>10;uu[d]=y+uu[d-7]+g+uu[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const b=ya(a,6)^ya(a,11)^ya(a,25),p=l+b+Q7(a,c,u)+sG[d]+uu[d]|0,y=(ya(r,2)^ya(r,13)^ya(r,22))+Z7(r,i,s)|0;l=u,u=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){uu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const fo=cx(()=>new oG);var Bi={};function Bc(n,e,t){return e<=n&&n<=t}function Ak(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function aG(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===t-1)i.push(65533);else{var o=n.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function cG(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var B0=-1;function yx(n){this.tokens=[].slice.call(n)}yx.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():B0},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var tf=-1;function n_(n,e){if(n)throw TypeError("Decoder error");return e||65533}var T0="utf-8";function C0(n,e){if(!(this instanceof C0))return new C0(n,e);if(n=n!==void 0?String(n).toLowerCase():T0,n!==T0)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ak(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}C0.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=Ak(t),this._streaming||(this._decoder=new uG({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new yx(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==tf);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===tf)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),cG(s)}};function M0(n,e){if(!(this instanceof M0))return new M0(n,e);if(n=n!==void 0?String(n).toLowerCase():T0,n!==T0)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ak(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}M0.prototype={encode:function(e,t){e=e?String(e):"",t=Ak(t),this._streaming||(this._encoder=new lG(this._options)),this._streaming=!!t.stream;for(var r=[],i=new yx(aG(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==tf);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==tf;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function uG(n){var e=n.fatal,t=0,r=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===B0&&i!==0)return i=0,n_(e);if(c===B0)return tf;if(i===0){if(Bc(c,0,127))return c;if(Bc(c,194,223))i=1,t=c-192;else if(Bc(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,t=c-224;else if(Bc(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,t=c-240;else return n_(e);return t=t<<6*i,null}if(!Bc(c,s,o))return t=i=r=0,s=128,o=191,a.prepend(c),n_(e);if(s=128,o=191,r+=1,t+=c-128<<6*(i-r),r!==i)return null;var u=t;return t=i=r=0,u}}function lG(n){n.fatal,this.handler=function(e,t){if(t===B0)return tf;if(Bc(t,0,127))return t;var r,i;Bc(t,128,2047)?(r=1,i=192):Bc(t,2048,65535)?(r=2,i=224):Bc(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var o=t>>6*(r-1);s.push(128|o&63),r-=1}return s}}const dG=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:C0,TextEncoder:M0},Symbol.toStringTag,{value:"Module"})),d8=la(dG);var hG=ce&&ce.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),fG=ce&&ce.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),sc=ce&&ce.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pG=ce&&ce.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&hG(e,n,t);return fG(e,n),e},h8=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bi,"__esModule",{value:!0});var Ip=Bi.deserializeUnchecked=Pp=Bi.deserialize=Rp=Bi.serialize=Bi.BinaryReader=Bi.BinaryWriter=Bi.BorshError=Bi.baseDecode=Bi.baseEncode=void 0;const Au=h8(Ws),f8=h8(Fs),gG=pG(d8),yG=typeof TextDecoder!="function"?gG.TextDecoder:TextDecoder,mG=new yG("utf-8",{fatal:!0});function bG(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),f8.default.encode(Buffer.from(n))}Bi.baseEncode=bG;function wG(n){return Buffer.from(f8.default.decode(n))}Bi.baseDecode=wG;const r_=1024;let us=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Bi.BorshError=us;let p8=class{constructor(){this.buf=Buffer.alloc(r_),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(r_)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(r_)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}};Bi.BinaryWriter=p8;function oc(n,e,t){const r=t.value;t.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new us("Reached the end of buffer when deserializing")}throw s}}}let yo=class{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Au.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Au.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Au.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Au.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new us(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return mG.decode(t)}catch(r){throw new us(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let i=0;i<t;++i)r.push(e());return r}};sc([oc],yo.prototype,"readU8",null);sc([oc],yo.prototype,"readU16",null);sc([oc],yo.prototype,"readU32",null);sc([oc],yo.prototype,"readU64",null);sc([oc],yo.prototype,"readU128",null);sc([oc],yo.prototype,"readU256",null);sc([oc],yo.prototype,"readU512",null);sc([oc],yo.prototype,"readString",null);sc([oc],yo.prototype,"readFixedArray",null);sc([oc],yo.prototype,"readArray",null);Bi.BinaryReader=yo;function g8(n){return n.charAt(0).toUpperCase()+n.slice(1)}function gl(n,e,t,r,i){try{if(typeof r=="string")i[`write${g8(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new us(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new us(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let s=0;s<r[1];s++)gl(n,null,t[s],r[0],i)}else i.writeArray(t,s=>{gl(n,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),gl(n,e,t,r.type,i));break}case"map":{i.writeU32(t.size),t.forEach((s,o)=>{gl(n,e,o,r.key,i),gl(n,e,s,r.value,i)});break}default:throw new us(`FieldType ${r} unrecognized`)}else y8(n,t,i)}catch(s){throw s instanceof us&&s.addToFieldPath(e),s}}function y8(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new us(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{gl(n,i,e[i],s,t)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){t.writeU8(s),gl(n,o,e[o],a,t);break}}}else throw new us(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function kG(n,e,t=p8){const r=new t;return y8(n,e,r),r.toArray()}var Rp=Bi.serialize=kG;function yl(n,e,t,r){try{if(typeof t=="string")return r[`read${g8(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let s=0;s<t[1];s++)i.push(yl(n,null,t[0],r));return i}else return r.readArray(()=>yl(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?yl(n,e,t.type,r):void 0;if(t.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=yl(n,e,t.key,r),c=yl(n,e,t.value,r);i.set(a,c)}return i}return mx(n,t,r)}catch(i){throw i instanceof us&&i.addToFieldPath(e),i}}function mx(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new us(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of n.get(e).fields)i[s]=yl(n,s,o,t);return new e(i)}if(r.kind==="enum"){const i=t.readU8();if(i>=r.values.length)throw new us(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=yl(n,s,o,t);return new e({[s]:a})}throw new us(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function SG(n,e,t,r=yo){const i=new r(t),s=mx(n,e,i);if(i.offset<t.length)throw new us(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return s}var Pp=Bi.deserialize=SG;function AG(n,e,t,r=yo){const i=new r(t);return mx(n,e,i)}Ip=Bi.deserializeUnchecked=AG;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.s16=he.s8=he.nu64be=he.u48be=he.u40be=he.u32be=he.u24be=he.u16be=Be=he.nu64=he.u48=he.u40=D=he.u32=he.u24=ot=he.u16=oe=he.u8=Rt=he.offset=he.greedy=he.Constant=he.UTF8=he.CString=he.Blob=he.Boolean=he.BitField=he.BitStructure=he.VariantLayout=he.Union=he.UnionLayoutDiscriminator=he.UnionDiscriminator=he.Structure=he.Sequence=he.DoubleBE=he.Double=he.FloatBE=he.Float=he.NearInt64BE=he.NearInt64=he.NearUInt64BE=he.NearUInt64=he.IntBE=he.Int=he.UIntBE=he.UInt=he.OffsetLayout=he.GreedyCount=he.ExternalLayout=he.bindConstructorLayout=he.nameWithProperty=he.Layout=he.uint8ArrayToBuffer=he.checkUint8Array=void 0;he.constant=he.utf8=he.cstr=pe=he.blob=he.unionLayoutDiscriminator=he.union=Te=he.seq=he.bits=U=he.struct=he.f64be=he.f64=he.f32be=he.f32=he.ns64be=he.s48be=he.s40be=he.s32be=he.s24be=he.s16be=Je=he.ns64=he.s48=he.s40=he.s32=he.s24=void 0;const bx=H;function xp(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}he.checkUint8Array=xp;function Rn(n){return xp(n),bx.Buffer.from(n.buffer,n.byteOffset,n.length)}he.uint8ArrayToBuffer=Rn;let Yn=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};he.Layout=Yn;function wx(n,e){return e.property?n+"["+e.property+"]":n}he.nameWithProperty=wx;function _G(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Yn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}he.bindConstructorLayout=_G;let Cs=class extends Yn{isCount(){throw new Error("ExternalLayout is abstract")}};he.ExternalLayout=Cs;let m8=class extends Cs{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){xp(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};he.GreedyCount=m8;let kx=class extends Cs{constructor(e,t=0,r){if(!(e instanceof Yn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Lo||this.layout instanceof sa}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};he.OffsetLayout=kx;let Lo=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readUIntLE(t,this.span)}encode(e,t,r=0){return Rn(t).writeUIntLE(e,r,this.span),this.span}};he.UInt=Lo;let sa=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readUIntBE(t,this.span)}encode(e,t,r=0){return Rn(t).writeUIntBE(e,r,this.span),this.span}};he.UIntBE=sa;let vd=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readIntLE(t,this.span)}encode(e,t,r=0){return Rn(t).writeIntLE(e,r,this.span),this.span}};he.Int=vd;let Bp=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readIntBE(t,this.span)}encode(e,t,r=0){return Rn(t).writeIntBE(e,r,this.span),this.span}};he.IntBE=Bp;const kI=Math.pow(2,32);function _k(n){const e=Math.floor(n/kI),t=n-e*kI;return{hi32:e,lo32:t}}function vk(n,e){return n*kI+e}let b8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readUInt32LE(t),s=r.readUInt32LE(t+4);return vk(s,i)}encode(e,t,r=0){const i=_k(e),s=Rn(t);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}};he.NearUInt64=b8;let w8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readUInt32BE(t),s=r.readUInt32BE(t+4);return vk(i,s)}encode(e,t,r=0){const i=_k(e),s=Rn(t);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}};he.NearUInt64BE=w8;let k8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readUInt32LE(t),s=r.readInt32LE(t+4);return vk(s,i)}encode(e,t,r=0){const i=_k(e),s=Rn(t);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}};he.NearInt64=k8;let S8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readInt32BE(t),s=r.readUInt32BE(t+4);return vk(i,s)}encode(e,t,r=0){const i=_k(e),s=Rn(t);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}};he.NearInt64BE=S8;let A8=class extends Yn{constructor(e){super(4,e)}decode(e,t=0){return Rn(e).readFloatLE(t)}encode(e,t,r=0){return Rn(t).writeFloatLE(e,r),4}};he.Float=A8;let _8=class extends Yn{constructor(e){super(4,e)}decode(e,t=0){return Rn(e).readFloatBE(t)}encode(e,t,r=0){return Rn(t).writeFloatBE(e,r),4}};he.FloatBE=_8;let v8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){return Rn(e).readDoubleLE(t)}encode(e,t,r=0){return Rn(t).writeDoubleLE(e,r),8}};he.Double=v8;let E8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){return Rn(e).readDoubleBE(t)}encode(e,t,r=0){return Rn(t).writeDoubleBE(e,r),8}};he.DoubleBE=E8;let I8=class extends Yn{constructor(e,t,r){if(!(e instanceof Yn))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Cs&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Cs)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Cs&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,t+r),++s}return r}decode(e,t=0){const r=[];let i=0,s=this.count;for(s instanceof Cs&&(s=s.decode(e,t));i<s;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,t,r+o),0);return this.count instanceof Cs&&this.count.encode(e.length,t,r),s}};he.Sequence=I8;let R8=class extends Yn{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Yn,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){xp(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};he.Structure=R8;let Sx=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};he.UnionDiscriminator=Sx;let L0=class extends Sx{constructor(e,t){if(!(e instanceof Cs&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};he.UnionLayoutDiscriminator=L0;let Ax=class extends Yn{constructor(e,t,r){let i;if(e instanceof Lo||e instanceof sa)i=new L0(new kx(e));else if(e instanceof Cs&&e.isCount())i=new L0(e);else if(e instanceof Sx)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Yn))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof Lo||e instanceof sa)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Lo||e instanceof sa,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,t+c)}else r=o.decode(e,t);return r}encode(e,t,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,r),a+o.encode(e[o.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new P8(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}};he.Union=Ax;let P8=class extends Yn{constructor(e,t,r,i){if(!(e instanceof Ax))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Yn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};he.VariantLayout=P8;function eh(n){return 0>n&&(n+=4294967296),n}let _x=class extends Yn{constructor(e,t,r){if(!(e instanceof Lo||e instanceof sa))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=eh(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){const r=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,t,r=0){const i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new vx(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new x8(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}};he.BitStructure=_x;let vx=class{constructor(e,t,r){if(!(e instanceof _x))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=eh(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return eh(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==eh(e&this.valueMask))throw new TypeError(wx("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=eh(e<<this.start);this.container._packedSetValue(eh(t&~this.wordMask)|r)}};he.BitField=vx;let x8=class extends vx{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};he.Boolean=x8;let B8=class extends Yn{constructor(e,t){if(!(e instanceof Cs&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Cs||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),Rn(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Cs&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(wx("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw new RangeError("encoding overruns Uint8Array");const s=Rn(e);return Rn(t).write(s.toString("hex"),r,i,"hex"),this.length instanceof Cs&&this.length.encode(i,t,r),i}};he.Blob=B8;let T8=class extends Yn{constructor(e){super(-1,e)}getSpan(e,t=0){xp(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return Rn(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const i=bx.Buffer.from(e,"utf8"),s=i.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");const o=Rn(t);return i.copy(o,r),o[r+s]=0,s+1}};he.CString=T8;let C8=class extends Yn{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return xp(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Rn(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const i=bx.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(Rn(t),r),s}};he.UTF8=C8;let M8=class extends Yn{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};he.Constant=M8;he.greedy=(n,e)=>new m8(n,e);var Rt=he.offset=(n,e,t)=>new kx(n,e,t),oe=he.u8=n=>new Lo(1,n),ot=he.u16=n=>new Lo(2,n);he.u24=n=>new Lo(3,n);var D=he.u32=n=>new Lo(4,n);he.u40=n=>new Lo(5,n);he.u48=n=>new Lo(6,n);var Be=he.nu64=n=>new b8(n);he.u16be=n=>new sa(2,n);he.u24be=n=>new sa(3,n);he.u32be=n=>new sa(4,n);he.u40be=n=>new sa(5,n);he.u48be=n=>new sa(6,n);he.nu64be=n=>new w8(n);he.s8=n=>new vd(1,n);he.s16=n=>new vd(2,n);he.s24=n=>new vd(3,n);he.s32=n=>new vd(4,n);he.s40=n=>new vd(5,n);he.s48=n=>new vd(6,n);var Je=he.ns64=n=>new k8(n);he.s16be=n=>new Bp(2,n);he.s24be=n=>new Bp(3,n);he.s32be=n=>new Bp(4,n);he.s40be=n=>new Bp(5,n);he.s48be=n=>new Bp(6,n);he.ns64be=n=>new S8(n);he.f32=n=>new A8(n);he.f32be=n=>new _8(n);he.f64=n=>new v8(n);he.f64be=n=>new E8(n);var U=he.struct=(n,e,t)=>new R8(n,e,t);he.bits=(n,e,t)=>new _x(n,e,t);var Te=he.seq=(n,e,t)=>new I8(n,e,t);he.union=(n,e,t)=>new Ax(n,e,t);he.unionLayoutDiscriminator=(n,e)=>new L0(n,e);var pe=he.blob=(n,e)=>new B8(n,e);he.cstr=n=>new T8(n);he.utf8=(n,e)=>new C8(n,e);he.constant=(n,e)=>new M8(n,e);var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});function vG(n){{const e=Buffer.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Tp=Tm.toBigIntLE=vG;function EG(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Tm.toBigIntBE=EG;function IG(n,e){{const t=n.toString(16),r=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Uo=Tm.toBufferLE=IG;function RG(n,e){{const t=n.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}Tm.toBufferBE=RG;let PG=class extends TypeError{constructor(e,t){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}};function xG(n){return Ou(n)&&typeof n[Symbol.iterator]=="function"}function Ou(n){return typeof n=="object"&&n!=null}function aa(n){return typeof n=="string"?JSON.stringify(n):""+n}function BG(n){const{done:e,value:t}=n.next();return e?void 0:t}function TG(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+aa(r)+"`"}=n;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...n,message:c}}function*IC(n,e,t,r){xG(n)||(n=[n]);for(const i of n){const s=TG(i,e,t,r);s&&(yield s)}}function*Ex(n,e,t={}){const{path:r=[],branch:i=[n],coerce:s=!1,mask:o=!1}=t,a={path:r,branch:i};if(s&&(n=e.coercer(n,a),o&&e.type!=="type"&&Ou(e.schema)&&Ou(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const b=Ex(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const p of b)p[0]?(c=!1,yield[p[0],void 0]):s&&(l=p[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Ou(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}let ac=class{constructor(e){const{type:t,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return IC(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return IC(l,u,this,c)}:this.refiner=()=>[]}assert(e){return L8(e,this)}create(e){return Ue(e,this)}is(e){return O8(e,this)}mask(e){return CG(e,this)}validate(e,t={}){return Cm(e,this,t)}};function L8(n,e){const t=Cm(n,e);if(t[0])throw t[0]}function Ue(n,e){const t=Cm(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function CG(n,e){const t=Cm(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function O8(n,e){return!Cm(n,e)[0]}function Cm(n,e,t={}){const r=Ex(n,e,t),i=BG(r);return i[0]?[new PG(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ed(n,e){return new ac({type:n,schema:null,validator:e})}function MG(){return Ed("any",()=>!0)}function Ze(n){return new ac({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+aa(e)}})}function ic(){return Ed("boolean",n=>typeof n=="boolean")}function Ix(n){return Ed("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+aa(e))}function zr(n){const e=aa(n),t=typeof n;return new ac({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+aa(r)}})}function LG(){return Ed("never",()=>!1)}function Qe(n){return new ac({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ue(){return Ed("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+aa(n))}function At(n){return new ac({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function N8(n,e){return new ac({type:"record",schema:null,*entries(t){if(Ou(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Ou(t)||"Expected an object, but received: "+aa(t)}})}function qe(){return Ed("string",n=>typeof n=="string"||"Expected a string, but received: "+aa(n))}function Rx(n){const e=LG();return new ac({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+aa(t)}})}function xe(n){const e=Object.keys(n);return new ac({type:"type",schema:n,*entries(t){if(Ou(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Ou(t)||"Expected an object, but received: "+aa(t)}})}function Ds(n){const e=n.map(t=>t.type).join(" | ");return new ac({type:"union",schema:null,validator(t,r){const i=[];for(const s of n){const[...o]=Ex(t,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+aa(t),...i]}})}function Mm(){return Ed("unknown",()=>!0)}function Lm(n,e,t){return new ac({...n,coercer:(r,i)=>O8(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var _b,OG=new Uint8Array(16);function $8(){if(!_b&&(_b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _b(OG)}const NG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ek(n){return typeof n=="string"&&NG.test(n)}var Li=[];for(var i_=0;i_<256;++i_)Li.push((i_+256).toString(16).substr(1));function Ik(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Li[n[e+0]]+Li[n[e+1]]+Li[n[e+2]]+Li[n[e+3]]+"-"+Li[n[e+4]]+Li[n[e+5]]+"-"+Li[n[e+6]]+Li[n[e+7]]+"-"+Li[n[e+8]]+Li[n[e+9]]+"-"+Li[n[e+10]]+Li[n[e+11]]+Li[n[e+12]]+Li[n[e+13]]+Li[n[e+14]]+Li[n[e+15]]).toLowerCase();if(!Ek(t))throw TypeError("Stringified UUID is invalid");return t}var RC,s_,o_=0,a_=0;function $G(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var s=n.node||RC,o=n.clockseq!==void 0?n.clockseq:s_;if(s==null||o==null){var a=n.random||(n.rng||$8)();s==null&&(s=RC=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=s_=(a[6]<<8|a[7])&16383)}var c=n.msecs!==void 0?n.msecs:Date.now(),u=n.nsecs!==void 0?n.nsecs:a_+1,l=c-o_+(u-a_)/1e4;if(l<0&&n.clockseq===void 0&&(o=o+1&16383),(l<0||c>o_)&&n.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o_=c,a_=u,s_=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var b=c/4294967296*1e4&268435455;i[r++]=b>>>8&255,i[r++]=b&255,i[r++]=b>>>24&15|16,i[r++]=b>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return e||Ik(i)}function q8(n){if(!Ek(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function qG(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var zG="6ba7b810-9dad-11d1-80b4-00c04fd430c8",DG="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function z8(n,e,t){function r(i,s,o,a){if(typeof i=="string"&&(i=qG(i)),typeof s=="string"&&(s=q8(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return Ik(c)}try{r.name=n}catch{}return r.DNS=zG,r.URL=DG,r}function UG(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return KG(WG(FG(n),n.length*8))}function KG(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var s=n[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function D8(n){return(n+64>>>9<<4)+14+1}function WG(n,e){n[e>>5]|=128<<e%32,n[D8(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<n.length;o+=16){var a=t,c=r,u=i,l=s;t=Fi(t,r,i,s,n[o],7,-680876936),s=Fi(s,t,r,i,n[o+1],12,-389564586),i=Fi(i,s,t,r,n[o+2],17,606105819),r=Fi(r,i,s,t,n[o+3],22,-1044525330),t=Fi(t,r,i,s,n[o+4],7,-176418897),s=Fi(s,t,r,i,n[o+5],12,1200080426),i=Fi(i,s,t,r,n[o+6],17,-1473231341),r=Fi(r,i,s,t,n[o+7],22,-45705983),t=Fi(t,r,i,s,n[o+8],7,1770035416),s=Fi(s,t,r,i,n[o+9],12,-1958414417),i=Fi(i,s,t,r,n[o+10],17,-42063),r=Fi(r,i,s,t,n[o+11],22,-1990404162),t=Fi(t,r,i,s,n[o+12],7,1804603682),s=Fi(s,t,r,i,n[o+13],12,-40341101),i=Fi(i,s,t,r,n[o+14],17,-1502002290),r=Fi(r,i,s,t,n[o+15],22,1236535329),t=Vi(t,r,i,s,n[o+1],5,-165796510),s=Vi(s,t,r,i,n[o+6],9,-1069501632),i=Vi(i,s,t,r,n[o+11],14,643717713),r=Vi(r,i,s,t,n[o],20,-373897302),t=Vi(t,r,i,s,n[o+5],5,-701558691),s=Vi(s,t,r,i,n[o+10],9,38016083),i=Vi(i,s,t,r,n[o+15],14,-660478335),r=Vi(r,i,s,t,n[o+4],20,-405537848),t=Vi(t,r,i,s,n[o+9],5,568446438),s=Vi(s,t,r,i,n[o+14],9,-1019803690),i=Vi(i,s,t,r,n[o+3],14,-187363961),r=Vi(r,i,s,t,n[o+8],20,1163531501),t=Vi(t,r,i,s,n[o+13],5,-1444681467),s=Vi(s,t,r,i,n[o+2],9,-51403784),i=Vi(i,s,t,r,n[o+7],14,1735328473),r=Vi(r,i,s,t,n[o+12],20,-1926607734),t=ji(t,r,i,s,n[o+5],4,-378558),s=ji(s,t,r,i,n[o+8],11,-2022574463),i=ji(i,s,t,r,n[o+11],16,1839030562),r=ji(r,i,s,t,n[o+14],23,-35309556),t=ji(t,r,i,s,n[o+1],4,-1530992060),s=ji(s,t,r,i,n[o+4],11,1272893353),i=ji(i,s,t,r,n[o+7],16,-155497632),r=ji(r,i,s,t,n[o+10],23,-1094730640),t=ji(t,r,i,s,n[o+13],4,681279174),s=ji(s,t,r,i,n[o],11,-358537222),i=ji(i,s,t,r,n[o+3],16,-722521979),r=ji(r,i,s,t,n[o+6],23,76029189),t=ji(t,r,i,s,n[o+9],4,-640364487),s=ji(s,t,r,i,n[o+12],11,-421815835),i=ji(i,s,t,r,n[o+15],16,530742520),r=ji(r,i,s,t,n[o+2],23,-995338651),t=Hi(t,r,i,s,n[o],6,-198630844),s=Hi(s,t,r,i,n[o+7],10,1126891415),i=Hi(i,s,t,r,n[o+14],15,-1416354905),r=Hi(r,i,s,t,n[o+5],21,-57434055),t=Hi(t,r,i,s,n[o+12],6,1700485571),s=Hi(s,t,r,i,n[o+3],10,-1894986606),i=Hi(i,s,t,r,n[o+10],15,-1051523),r=Hi(r,i,s,t,n[o+1],21,-2054922799),t=Hi(t,r,i,s,n[o+8],6,1873313359),s=Hi(s,t,r,i,n[o+15],10,-30611744),i=Hi(i,s,t,r,n[o+6],15,-1560198380),r=Hi(r,i,s,t,n[o+13],21,1309151649),t=Hi(t,r,i,s,n[o+4],6,-145523070),s=Hi(s,t,r,i,n[o+11],10,-1120210379),i=Hi(i,s,t,r,n[o+2],15,718787259),r=Hi(r,i,s,t,n[o+9],21,-343485551),t=_u(t,a),r=_u(r,c),i=_u(i,u),s=_u(s,l)}return[t,r,i,s]}function FG(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(D8(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function _u(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function VG(n,e){return n<<e|n>>>32-e}function Rk(n,e,t,r,i,s){return _u(VG(_u(_u(e,n),_u(r,s)),i),t)}function Fi(n,e,t,r,i,s,o){return Rk(e&t|~e&r,n,e,i,s,o)}function Vi(n,e,t,r,i,s,o){return Rk(e&r|t&~r,n,e,i,s,o)}function ji(n,e,t,r,i,s,o){return Rk(e^t^r,n,e,i,s,o)}function Hi(n,e,t,r,i,s,o){return Rk(t^(e|~r),n,e,i,s,o)}var jG=z8("v3",48,UG);const HG=jG;function YG(n,e,t){n=n||{};var r=n.random||(n.rng||$8)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return Ik(r)}function GG(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function c_(n,e){return n<<e|n>>>32-e}function JG(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var s=n.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=n[c*64+l*4]<<24|n[c*64+l*4+1]<<16|n[c*64+l*4+2]<<8|n[c*64+l*4+3];a[c]=u}a[o-1][14]=(n.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(n.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var b=new Uint32Array(80),p=0;p<16;++p)b[p]=a[d][p];for(var g=16;g<80;++g)b[g]=c_(b[g-3]^b[g-8]^b[g-14]^b[g-16],1);for(var y=t[0],S=t[1],w=t[2],_=t[3],R=t[4],x=0;x<80;++x){var K=Math.floor(x/20),J=c_(y,5)+GG(K,S,w,_)+R+e[K]+b[x]>>>0;R=_,_=w,w=c_(S,30)>>>0,S=y,y=J}t[0]=t[0]+y>>>0,t[1]=t[1]+S>>>0,t[2]=t[2]+w>>>0,t[3]=t[3]+_>>>0,t[4]=t[4]+R>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var QG=z8("v5",80,JG);const ZG=QG,XG="00000000-0000-0000-0000-000000000000";function eJ(n){if(!Ek(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const tJ=Object.freeze(Object.defineProperty({__proto__:null,NIL:XG,parse:q8,stringify:Ik,v1:$G,v3:HG,v4:YG,v5:ZG,validate:Ek,version:eJ},Symbol.toStringTag,{value:"Module"})),U8=la(tJ),nJ=U8.v4,rJ=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:n};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return nJ()};s.id=o(s,r)}else i===2&&t===null?r.notificationIdNull&&(s.id=null):s.id=t;return s};var iJ=rJ;const sJ=U8.v4,oJ=iJ,Cy=function(n,e){if(!(this instanceof Cy))return new Cy(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return sJ()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var aJ=Cy;Cy.prototype.request=function(n,e,t,r){const i=this;let s=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,s=n;else{typeof t=="function"&&(r=t,t=void 0);const u=typeof r=="function";try{s=oJ(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,r)}),s};Cy.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return t(null,r.filter(i),r.filter(s))}else return t(null,r.error,r.result);t(null,r)};const Cp=Do(aJ);var K8={},W8={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,b){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,d||c,b),g=t?t+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=t?t+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var b=0,p=d.length,g=new Array(p);b<p;b++)g[b]=d[b].fn;return g},a.prototype.listenerCount=function(u){var l=t?t+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,b,p,g){var y=t?t+u:u;if(!this._events[y])return!1;var S=this._events[y],w=arguments.length,_,R;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),w){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,l),!0;case 3:return S.fn.call(S.context,l,d),!0;case 4:return S.fn.call(S.context,l,d,b),!0;case 5:return S.fn.call(S.context,l,d,b,p),!0;case 6:return S.fn.call(S.context,l,d,b,p,g),!0}for(R=1,_=new Array(w-1);R<w;R++)_[R-1]=arguments[R];S.fn.apply(S.context,_)}else{var x=S.length,K;for(R=0;R<x;R++)switch(S[R].once&&this.removeListener(u,S[R].fn,void 0,!0),w){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,l);break;case 3:S[R].fn.call(S[R].context,l,d);break;case 4:S[R].fn.call(S[R].context,l,d,b);break;default:if(!_)for(K=1,_=new Array(w-1);K<w;K++)_[K-1]=arguments[K];S[R].fn.apply(S[R].context,_)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,b){var p=t?t+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===l&&(!b||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var y=0,S=[],w=g.length;y<w;y++)(g[y].fn!==l||b&&!g[y].once||d&&g[y].context!==d)&&S.push(g[y]);S.length?this._events[p]=S.length===1?S[0]:S:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=t?t+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(W8);var Ko=W8.exports,nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.createError=nf.DefaultDataPack=void 0;const cJ=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let uJ=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};nf.DefaultDataPack=uJ;function lJ(n,e){const t={code:n,message:cJ.get(n)||"Internal Server Error"};return e&&(t.data=e),t}nf.createError=lJ;Object.defineProperty(K8,"__esModule",{value:!0});const dJ=Ko,hJ=nf;let fJ=class extends dJ.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new hJ.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var pJ=K8.default=fJ,F8={};Object.defineProperty(F8,"__esModule",{value:!0});const gJ=Ko;let yJ=class extends gJ.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function mJ(n,e){return new yJ(n,e)}var bJ=F8.default=mJ;const V8=[],j8=[],H8=[],wJ=BigInt(0),dg=BigInt(1),kJ=BigInt(2),SJ=BigInt(7),AJ=BigInt(256),_J=BigInt(113);for(let n=0,e=dg,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],V8.push(2*(5*r+t)),j8.push((n+1)*(n+2)/2%64);let i=wJ;for(let s=0;s<7;s++)e=(e<<dg^(e>>SJ)*_J)%AJ,e&kJ&&(i^=dg<<(dg<<BigInt(s))-dg);H8.push(i)}const[vJ,EJ]=J5(H8,!0),PC=(n,e,t)=>t>32?X5(n,e,t):Q5(n,e,t),xC=(n,e,t)=>t>32?e8(n,e,t):Z5(n,e,t);function IJ(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=PC(u,l,1)^t[a],b=xC(u,l,1)^t[a+1];for(let p=0;p<50;p+=10)n[o+p]^=d,n[o+p+1]^=b}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=j8[o],c=PC(i,s,a),u=xC(i,s,a),l=V8[o];i=n[l],s=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=vJ[r],n[1]^=EJ[r]}t.fill(0)}class Px extends ax{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,x0(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Y7(this.state)}keccak(){mC||bC(this.state32),IJ(this.state32,this.rounds),mC||bC(this.state32),this.posOut=0,this.pos=0}update(e){Zh(this);const{blockLen:t,state:r}=this;e=kk(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Zh(this,!1),xm(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return x0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(F5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Px(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const RJ=(n,e,t)=>cx(()=>new Px(e,n,t)),$o=RJ(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PJ(n){const e=dx(n);Ep(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:xJ,hexToBytes:BJ}=RY,Ll={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Ll;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:xJ(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Ll,t=typeof n=="string"?BJ(n):n;Bm(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ll._parseInt(t.subarray(2)),{d:o,l:a}=Ll._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),c=t(o);return`30${t(o+s+4)}02${c}${i}02${a}${r}`}},Tc=BigInt(0),Eo=BigInt(1);BigInt(2);const BC=BigInt(3);BigInt(4);function TJ(n){const e=PJ(n),{Fp:t}=e,r=e.toBytes||((g,y,S)=>{const w=y.toAffine();return cd(Uint8Array.from([4]),t.toBytes(w.x),t.toBytes(w.y))}),i=e.fromBytes||(g=>{const y=g.subarray(1),S=t.fromBytes(y.subarray(0,t.BYTES)),w=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:S,y:w}});function s(g){const{a:y,b:S}=e,w=t.sqr(g),_=t.mul(w,g);return t.add(t.add(_,t.mul(g,y)),S)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&Tc<g&&g<e.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:y,nByteLength:S,wrapPrivateKey:w,n:_}=e;if(y&&typeof g!="bigint"){if(od(g)&&(g=ad(g)),typeof g!="string"||!y.includes(g.length))throw new Error("Invalid key");g=g.padStart(S*2,"0")}let R;try{R=typeof g=="bigint"?g:Ql(mi("private key",g,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof g}`)}return w&&(R=Lr(R,_)),a(R),R}const u=new Map;function l(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(y,S,w){if(this.px=y,this.py=S,this.pz=w,y==null||!t.isValid(y))throw new Error("x required");if(S==null||!t.isValid(S))throw new Error("y required");if(w==null||!t.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:S,y:w}=y||{};if(!y||!t.isValid(S)||!t.isValid(w))throw new Error("invalid affine point");if(y instanceof d)throw new Error("projective point not allowed");const _=R=>t.eql(R,t.ZERO);return _(S)&&_(w)?d.ZERO:new d(S,w,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const S=t.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(S[_])).map(d.fromAffine)}static fromHex(y){const S=d.fromAffine(i(mi("pointHex",y)));return S.assertValidity(),S}static fromPrivateKey(y){return d.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:S}=this.toAffine();if(!t.isValid(y)||!t.isValid(S))throw new Error("bad point: x or y not FE");const w=t.sqr(S),_=s(y);if(!t.eql(w,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(t.isOdd)return!t.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:S,py:w,pz:_}=this,{px:R,py:x,pz:K}=y,J=t.eql(t.mul(S,K),t.mul(R,_)),M=t.eql(t.mul(w,K),t.mul(x,_));return J&&M}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:y,b:S}=e,w=t.mul(S,BC),{px:_,py:R,pz:x}=this;let K=t.ZERO,J=t.ZERO,M=t.ZERO,Z=t.mul(_,_),ie=t.mul(R,R),X=t.mul(x,x),ne=t.mul(_,R);return ne=t.add(ne,ne),M=t.mul(_,x),M=t.add(M,M),K=t.mul(y,M),J=t.mul(w,X),J=t.add(K,J),K=t.sub(ie,J),J=t.add(ie,J),J=t.mul(K,J),K=t.mul(ne,K),M=t.mul(w,M),X=t.mul(y,X),ne=t.sub(Z,X),ne=t.mul(y,ne),ne=t.add(ne,M),M=t.add(Z,Z),Z=t.add(M,Z),Z=t.add(Z,X),Z=t.mul(Z,ne),J=t.add(J,Z),X=t.mul(R,x),X=t.add(X,X),Z=t.mul(X,ne),K=t.sub(K,Z),M=t.mul(X,ie),M=t.add(M,M),M=t.add(M,M),new d(K,J,M)}add(y){l(y);const{px:S,py:w,pz:_}=this,{px:R,py:x,pz:K}=y;let J=t.ZERO,M=t.ZERO,Z=t.ZERO;const ie=e.a,X=t.mul(e.b,BC);let ne=t.mul(S,R),ae=t.mul(w,x),L=t.mul(_,K),m=t.add(S,w),v=t.add(R,x);m=t.mul(m,v),v=t.add(ne,ae),m=t.sub(m,v),v=t.add(S,_);let B=t.add(R,K);return v=t.mul(v,B),B=t.add(ne,L),v=t.sub(v,B),B=t.add(w,_),J=t.add(x,K),B=t.mul(B,J),J=t.add(ae,L),B=t.sub(B,J),Z=t.mul(ie,v),J=t.mul(X,L),Z=t.add(J,Z),J=t.sub(ae,Z),Z=t.add(ae,Z),M=t.mul(J,Z),ae=t.add(ne,ne),ae=t.add(ae,ne),L=t.mul(ie,L),v=t.mul(X,v),ae=t.add(ae,L),L=t.sub(ne,L),L=t.mul(ie,L),v=t.add(v,L),ne=t.mul(ae,v),M=t.add(M,ne),ne=t.mul(B,v),J=t.mul(m,J),J=t.sub(J,ne),ne=t.mul(m,ae),Z=t.mul(B,Z),Z=t.add(Z,ne),new d(J,M,Z)}subtract(y){return this.add(y.negate())}is0(){return this.equals(d.ZERO)}wNAF(y){return p.wNAFCached(this,u,y,S=>{const w=t.invertBatch(S.map(_=>_.pz));return S.map((_,R)=>_.toAffine(w[R])).map(d.fromAffine)})}multiplyUnsafe(y){const S=d.ZERO;if(y===Tc)return S;if(a(y),y===Eo)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,y);let{k1neg:_,k1:R,k2neg:x,k2:K}=w.splitScalar(y),J=S,M=S,Z=this;for(;R>Tc||K>Tc;)R&Eo&&(J=J.add(Z)),K&Eo&&(M=M.add(Z)),Z=Z.double(),R>>=Eo,K>>=Eo;return _&&(J=J.negate()),x&&(M=M.negate()),M=new d(t.mul(M.px,w.beta),M.py,M.pz),J.add(M)}multiply(y){a(y);let S=y,w,_;const{endo:R}=e;if(R){const{k1neg:x,k1:K,k2neg:J,k2:M}=R.splitScalar(S);let{p:Z,f:ie}=this.wNAF(K),{p:X,f:ne}=this.wNAF(M);Z=p.constTimeNegate(x,Z),X=p.constTimeNegate(J,X),X=new d(t.mul(X.px,R.beta),X.py,X.pz),w=Z.add(X),_=ie.add(ne)}else{const{p:x,f:K}=this.wNAF(S);w=x,_=K}return d.normalizeZ([w,_])[0]}multiplyAndAddUnsafe(y,S,w){const _=d.BASE,R=(K,J)=>J===Tc||J===Eo||!K.equals(_)?K.multiplyUnsafe(J):K.multiply(J),x=R(this,S).add(R(y,w));return x.is0()?void 0:x}toAffine(y){const{px:S,py:w,pz:_}=this,R=this.is0();y==null&&(y=R?t.ONE:t.inv(_));const x=t.mul(S,y),K=t.mul(w,y),J=t.mul(_,y);if(R)return{x:t.ZERO,y:t.ZERO};if(!t.eql(J,t.ONE))throw new Error("invZ was invalid");return{x,y:K}}isTorsionFree(){const{h:y,isTorsionFree:S}=e;if(y===Eo)return!0;if(S)return S(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:S}=e;return y===Eo?this:S?S(d,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(d,this,y)}toHex(y=!0){return ad(this.toRawBytes(y))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const b=e.nBitLength,p=u8(d,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function CJ(n){const e=dx(n);return Ep(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function MJ(n){const e=CJ(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(v){return Tc<v&&v<t.ORDER}function a(v){return Lr(v,r)}function c(v){return mI(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:b}=TJ({...e,toBytes(v,B,W){const C=B.toAffine(),$=t.toBytes(C.x),Q=cd;return W?Q(Uint8Array.from([B.hasEvenY()?2:3]),$):Q(Uint8Array.from([4]),$,t.toBytes(C.y))},fromBytes(v){const B=v.length,W=v[0],C=v.subarray(1);if(B===i&&(W===2||W===3)){const $=Ql(C);if(!o($))throw new Error("Point is not on curve");const Q=d($);let N;try{N=t.sqrt(Q)}catch(fe){const we=fe instanceof Error?": "+fe.message:"";throw new Error("Point is not on curve"+we)}const E=(N&Eo)===Eo;return(W&1)===1!==E&&(N=t.neg(N)),{x:$,y:N}}else if(B===s&&W===4){const $=t.fromBytes(C.subarray(0,t.BYTES)),Q=t.fromBytes(C.subarray(t.BYTES,2*t.BYTES));return{x:$,y:Q}}else throw new Error(`Point of length ${B} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=v=>ad(ef(v,e.nByteLength));function g(v){const B=r>>Eo;return v>B}function y(v){return g(v)?a(-v):v}const S=(v,B,W)=>Ql(v.slice(B,W));class w{constructor(B,W,C){this.r=B,this.s=W,this.recovery=C,this.assertValidity()}static fromCompact(B){const W=e.nByteLength;return B=mi("compactSignature",B,W*2),new w(S(B,0,W),S(B,W,2*W))}static fromDER(B){const{r:W,s:C}=Ll.toSig(mi("DER",B));return new w(W,C)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(B){return new w(this.r,this.s,B)}recoverPublicKey(B){const{r:W,s:C,recovery:$}=this,Q=M(mi("msgHash",B));if($==null||![0,1,2,3].includes($))throw new Error("recovery id invalid");const N=$===2||$===3?W+e.n:W;if(N>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const E=$&1?"03":"02",Y=u.fromHex(E+p(N)),fe=c(N),we=a(-Q*fe),ve=a(C*fe),De=u.BASE.multiplyAndAddUnsafe(Y,we,ve);if(!De)throw new Error("point at infinify");return De.assertValidity(),De}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Xh(this.toDERHex())}toDERHex(){return Ll.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xh(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const _={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const v=c8(e.n);return qY(e.randomBytes(v),e.n)},precompute(v=8,B=u.BASE){return B._setWindowSize(v),B.multiply(BigInt(3)),B}};function R(v,B=!0){return u.fromPrivateKey(v).toRawBytes(B)}function x(v){const B=od(v),W=typeof v=="string",C=(B||W)&&v.length;return B?C===i||C===s:W?C===2*i||C===2*s:v instanceof u}function K(v,B,W=!0){if(x(v))throw new Error("first arg must be private key");if(!x(B))throw new Error("second arg must be public key");return u.fromHex(B).multiply(l(v)).toRawBytes(W)}const J=e.bits2int||function(v){const B=Ql(v),W=v.length*8-e.nBitLength;return W>0?B>>BigInt(W):B},M=e.bits2int_modN||function(v){return a(J(v))},Z=lx(e.nBitLength);function ie(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Tc<=v&&v<Z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ef(v,e.nByteLength)}function X(v,B,W=ne){if(["recovered","canonical"].some(Ke=>Ke in W))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:$}=e;let{lowS:Q,prehash:N,extraEntropy:E}=W;Q==null&&(Q=!0),v=mi("msgHash",v),N&&(v=mi("prehashed msgHash",C(v)));const Y=M(v),fe=l(B),we=[ie(fe),ie(Y)];if(E!=null&&E!==!1){const Ke=E===!0?$(t.BYTES):E;we.push(mi("extraEntropy",Ke))}const ve=cd(...we),De=Y;function Ge(Ke){const Pn=J(Ke);if(!b(Pn))return;const wt=c(Pn),yt=u.BASE.multiply(Pn).toAffine(),kt=a(yt.x);if(kt===Tc)return;const bt=a(wt*a(De+kt*fe));if(bt===Tc)return;let tn=(yt.x===kt?0:2)|Number(yt.y&Eo),dr=bt;return Q&&g(bt)&&(dr=y(bt),tn^=1),new w(kt,dr,tn)}return{seed:ve,k2sig:Ge}}const ne={lowS:e.lowS,prehash:!1},ae={lowS:e.lowS,prehash:!1};function L(v,B,W=ne){const{seed:C,k2sig:$}=X(v,B,W),Q=e;return i8(Q.hash.outputLen,Q.nByteLength,Q.hmac)(C,$)}u.BASE._setWindowSize(8);function m(v,B,W,C=ae){var yt;const $=v;if(B=mi("msgHash",B),W=mi("publicKey",W),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:Q,prehash:N}=C;let E,Y;try{if(typeof $=="string"||od($))try{E=w.fromDER($)}catch(kt){if(!(kt instanceof Ll.Err))throw kt;E=w.fromCompact($)}else if(typeof $=="object"&&typeof $.r=="bigint"&&typeof $.s=="bigint"){const{r:kt,s:bt}=$;E=new w(kt,bt)}else throw new Error("PARSE");Y=u.fromHex(W)}catch(kt){if(kt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Q&&E.hasHighS())return!1;N&&(B=e.hash(B));const{r:fe,s:we}=E,ve=M(B),De=c(we),Ge=a(ve*De),Ke=a(fe*De),Pn=(yt=u.BASE.multiplyAndAddUnsafe(Y,Ge,Ke))==null?void 0:yt.toAffine();return Pn?a(Pn.x)===fe:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:K,sign:L,verify:m,ProjectivePoint:u,Signature:w,utils:_}}class Y8 extends ax{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,H7(e);const r=kk(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Zh(this),this.iHash.update(e),this}digestInto(e){Zh(this),xm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const G8=(n,e,t)=>new Y8(n,e).update(t).digest();G8.create=(n,e)=>new Y8(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LJ(n){return{hash:n,hmac:(e,...t)=>G8(n,e,j5(...t)),randomBytes:H5}}function OJ(n,e){const t=r=>MJ({...n,...LJ(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),TC=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),NJ=BigInt(1),SI=BigInt(2),CC=(n,e)=>(n+e/SI)/e;function $J(n){const e=J8,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Vr(l,t,e)*l%e,b=Vr(d,t,e)*l%e,p=Vr(b,SI,e)*u%e,g=Vr(p,i,e)*p%e,y=Vr(g,s,e)*g%e,S=Vr(y,a,e)*y%e,w=Vr(S,c,e)*S%e,_=Vr(w,a,e)*y%e,R=Vr(_,t,e)*l%e,x=Vr(R,o,e)*g%e,K=Vr(x,r,e)*u%e,J=Vr(K,SI,e);if(!AI.eql(AI.sqr(J),n))throw new Error("Cannot find square root");return J}const AI=o8(J8,void 0,void 0,{sqrt:$J}),ki=OJ({a:BigInt(0),b:BigInt(7),Fp:AI,n:TC,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=TC,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-NJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=CC(s*n,e),c=CC(-r*n,e);let u=Lr(n-a*t-c*i,e),l=Lr(-a*r-c*s,e);const d=u>o,b=l>o;if(d&&(u=e-u),b&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:b,k2:l}}}},fo);BigInt(0);ki.ProjectivePoint;const qJ=sn.utils.randomPrivateKey,MC=()=>{const n=sn.utils.randomPrivateKey(),e=O0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},O0=sn.getPublicKey;function LC(n){try{return sn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const xx=(n,e)=>sn.sign(n,e.slice(0,32)),zJ=sn.verify,Ut=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let Bx=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(Yg,this))}static decode(e){return Pp(Yg,this,e)}static decodeUnchecked(e){return Ip(Yg,this,e)}},DJ=class extends Bx{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const Yg=new Map;var Q8;const Z8=32,Ja=32;function UJ(n){return n._bn!==void 0}let OC=1,Se=class th extends Bx{constructor(e){if(super({}),this._bn=void 0,UJ(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Ja)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Ja)throw new Error("Invalid public key input")}}static unique(){const e=new th(OC);return OC+=1,new th(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Ja)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=fo(i);return new th(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>Z8)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Ut(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=fo(r);if(LC(i))throw new Error("Invalid seeds, address must fall off the curve");return new th(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new th(e);return LC(t.toBytes())}};Q8=Se;Se.default=new Q8("11111111111111111111111111111111");Yg.set(Se,{kind:"struct",fields:[["_bn","u256"]]});let KJ=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Ut(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Ut(qJ()),this._publicKey=Ut(O0(this._secretKey))}get publicKey(){return new Se(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const WJ=new Se("BPFLoader1111111111111111111111111111111111"),Nu=1232,Pk=127,My=64;let Tx=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Tx.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Cx=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Cx.prototype,"name",{value:"TransactionExpiredTimeoutError"});let _h=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(_h.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Ly=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Yt=(n="publicKey")=>pe(32,n),FJ=(n="signature")=>pe(64,n),Ol=(n="string")=>{const e=U([D("length"),D("lengthPadding"),pe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},VJ=(n="authorized")=>U([Yt("staker"),Yt("withdrawer")],n),jJ=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Yt("custodian")],n),HJ=(n="voteInit")=>U([Yt("nodePubkey"),Yt("authorizedVoter"),Yt("authorizedWithdrawer"),oe("commission")],n),YJ=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Yt("currentAuthorityDerivedKeyOwnerPubkey"),Ol("currentAuthorityDerivedKeySeed"),Yt("newAuthorized")],n);function X8(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return X8({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function ws(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function eo(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Sn(n,e){if(!n)throw new Error(e||"Assertion failed")}let e4=class t4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Sn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Sn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Sn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Se(c)),...r.map(([c])=>new Se(c)),...i.map(([c])=>new Se(c)),...s.map(([c])=>new Se(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new Se(s),c=e.findIndex(u=>u.equals(a));c>=0&&(Sn(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const n4="Reached end of buffer unexpectedly";function Pa(n){if(n.length===0)throw new Error(n4);return n.shift()}function ks(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(n4);return n.splice(...e)}let Gu=class _I{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Se(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ly(this.staticAccountKeys)}static compile(e){const t=e4.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Ly(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new _I({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];eo(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];eo(y,b.length);let S=[];return eo(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];eo(i,r.length);let s=H.Buffer.alloc(Nu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([oe("programIdIndex"),pe(d.keyIndicesCount.length,"keyIndicesCount"),Te(oe("keyIndex"),d.keyIndices.length,"keyIndices"),pe(d.dataLength.length,"dataLength"),Te(oe("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([pe(1,"numRequiredSignatures"),pe(1,"numReadonlySignedAccounts"),pe(1,"numReadonlyUnsignedAccounts"),pe(t.length,"keyCount"),Te(Yt("key"),e,"keys"),Yt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Ut(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Pa(t);if(r!==(r&Pk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Pa(t),s=Pa(t),o=ws(t);let a=[];for(let b=0;b<o;b++){const p=ks(t,0,Ja);a.push(new Se(H.Buffer.from(p)))}const c=ks(t,0,Ja),u=ws(t);let l=[];for(let b=0;b<u;b++){const p=Pa(t),g=ws(t),y=ks(t,0,g),S=ws(t),w=ks(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new _I(d)}},xk=class vI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ly(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=e4.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Ly(a,i).compileInstructions(e.instructions);return new vI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();eo(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();eo(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();eo(s,this.addressTableLookups.length);const o=U([oe("prefix"),U([oe("numRequiredSignatures"),oe("numReadonlySignedAccounts"),oe("numReadonlyUnsignedAccounts")],"header"),pe(e.length,"staticAccountKeysLength"),Te(Yt(),this.staticAccountKeys.length,"staticAccountKeys"),Yt("recentBlockhash"),pe(r.length,"instructionsLength"),pe(t.length,"serializedInstructions"),pe(s.length,"addressTableLookupsLength"),pe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Nu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Nu);for(const r of this.compiledInstructions){const i=Array();eo(i,r.accountKeyIndexes.length);const s=Array();eo(s,r.data.length);const o=U([oe("programIdIndex"),pe(i.length,"encodedAccountKeyIndexesLength"),Te(oe(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe(s.length,"encodedDataLength"),pe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Nu);for(const r of this.addressTableLookups){const i=Array();eo(i,r.writableIndexes.length);const s=Array();eo(s,r.readonlyIndexes.length);const o=U([Yt("accountKey"),pe(i.length,"encodedWritableIndexesLength"),Te(oe(),r.writableIndexes.length,"writableIndexes"),pe(s.length,"encodedReadonlyIndexesLength"),Te(oe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Pa(t),i=r&Pk;Sn(r!==i,"Expected versioned message but received legacy message");const s=i;Sn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Pa(t),numReadonlySignedAccounts:Pa(t),numReadonlyUnsignedAccounts:Pa(t)},a=[],c=ws(t);for(let g=0;g<c;g++)a.push(new Se(ks(t,0,Ja)));const u=Pe.encode(ks(t,0,Ja)),l=ws(t),d=[];for(let g=0;g<l;g++){const y=Pa(t),S=ws(t),w=ks(t,0,S),_=ws(t),R=new Uint8Array(ks(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=ws(t),p=[];for(let g=0;g<b;g++){const y=new Se(ks(t,0,Ja)),S=ws(t),w=ks(t,0,S),_=ws(t),R=ks(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new vI({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const Mx={deserializeMessageVersion(n){const e=n[0],t=e&Pk;return t===e?"legacy":t},deserialize:n=>{const e=Mx.deserializeMessageVersion(n);if(e==="legacy")return Gu.from(n);if(e===0)return xk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let kc=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const GJ=H.Buffer.alloc(My).fill(0);let Et=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},_t=class EI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Et(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new Se(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{Sn(y.programIdIndex>=0),y.accounts.forEach(S=>Sn(S>=0))}),new Gu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=xx(r,i.secretKey);this._addSignature(i.publicKey,Ut(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Sn(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):zJ(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];eo(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return Sn(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(Sn(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),Sn(s.length<=Nu,`Transaction too large: ${s.length} > ${Nu}`),s}get keys(){return Sn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Sn(this.instructions.length===1),this.instructions[0].programId}get data(){return Sn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ws(t);let i=[];for(let s=0;s<r;s++){const o=ks(t,0,My);i.push(Pe.encode(H.Buffer.from(o)))}return EI.populate(Gu.from(t),i)}static populate(e,t=[]){const r=new EI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(GJ)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Et({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},r4=class i4{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Sn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Sn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new Et({programId:S,data:Ut(g.data),keys:y}))}return new i4({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Gu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return xk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},s4=class o4{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Sn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(My));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();eo(t,this.signatures.length);const r=U([pe(t.length,"encodedSignaturesLength"),Te(FJ(),this.signatures.length,"signatures"),pe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=ws(t);for(let o=0;o<i;o++)r.push(new Uint8Array(ks(t,0,My)));const s=Mx.deserialize(new Uint8Array(t));return new o4(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));Sn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=xx(t,i.secretKey)}}addSignature(e,t){Sn(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Sn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const JJ=160,QJ=64,ZJ=JJ/QJ,a4=1e3/ZJ,ka=new Se("SysvarC1ock11111111111111111111111111111111"),XJ=new Se("SysvarEpochSchedu1e111111111111111111111111"),eQ=new Se("Sysvar1nstructions1111111111111111111111111"),d1=new Se("SysvarRecentB1ockHashes11111111111111111111"),ea=new Se("SysvarRent111111111111111111111111111111111"),tQ=new Se("SysvarRewards111111111111111111111111111111"),nQ=new Se("SysvarS1otHashes111111111111111111111111111"),rQ=new Se("SysvarS1otHistory11111111111111111111111111"),h1=new Se("SysvarStakeHistory1111111111111111111111111");async function N0(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function ml(n){return new Promise(e=>setTimeout(e,n))}function un(n,e){const t=n.layout.span>=0?n.layout.span:X8(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function $n(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const c4=Be("lamportsPerSignature"),u4=U([D("version"),D("state"),Yt("authorizedPubkey"),Yt("nonce"),U([c4],"feeCalculator")]),II=u4.span;let l4=class d4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=u4.decode(Ut(e),0);return new d4({authorizedPubkey:new Se(t.authorizedPubkey),nonce:new Se(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const iQ=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},sQ=n=>e=>{const t=pe(n,e),{encode:r,decode:i}=iQ(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Uo(o,n);return r(u,a,c)},s},rf=sQ(8);let oQ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(hr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=$n(hr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Se(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=$n(hr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=$n(hr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Se(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=$n(hr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=$n(hr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Se(t),seed:r,space:i,programId:new Se(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=$n(hr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Se(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=$n(hr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Se(t),seed:r,programId:new Se(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=$n(hr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Se(t),seed:r,lamports:i,space:s,programId:new Se(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=$n(hr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Se(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(hr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=$n(hr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=$n(hr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Se(t)}}static checkProgramId(e){if(!e.equals(br.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const hr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Yt("programId")])},Assign:{index:1,layout:U([D("instruction"),Yt("programId")])},Transfer:{index:2,layout:U([D("instruction"),rf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Yt("base"),Ol("seed"),Je("lamports"),Je("space"),Yt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Yt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Yt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Yt("base"),Ol("seed"),Je("space"),Yt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Yt("base"),Ol("seed"),Yt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),rf("lamports"),Ol("seed"),Yt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let br=class RI{constructor(){}static createAccount(e){const t=hr.Create,r=un(t,{lamports:e.lamports,space:e.space,programId:Ut(e.programId.toBuffer())});return new Et({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=hr.TransferWithSeed;t=un(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=hr.Transfer;t=un(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Et({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=hr.AssignWithSeed;t=un(i,{base:Ut(e.basePubkey.toBuffer()),seed:e.seed,programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=hr.Assign;t=un(i,{programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Et({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=hr.CreateWithSeed,r=un(t,{base:Ut(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ut(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Et({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new _t;"basePubkey"in e&&"seed"in e?t.add(RI.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:II,programId:this.programId})):t.add(RI.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:II,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=hr.InitializeNonceAccount,r=un(t,{authorized:Ut(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:d1,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Et(i)}static nonceAdvance(e){const t=hr.AdvanceNonceAccount,r=un(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:d1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Et(i)}static nonceWithdraw(e){const t=hr.WithdrawNonceAccount,r=un(t,{lamports:e.lamports});return new Et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:d1,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=hr.AuthorizeNonceAccount,r=un(t,{authorized:Ut(e.newAuthorizedPubkey.toBuffer())});return new Et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=hr.AllocateWithSeed;t=un(i,{base:Ut(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=hr.Allocate;t=un(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Et({keys:r,programId:this.programId,data:t})}};br.programId=new Se("11111111111111111111111111111111");const aQ=Nu-300;let $0=class PI{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/PI.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new _t,p.add(br.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new _t,p.add(br.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new _t,p.add(br.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new _t().add(br.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await N0(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(oe("byte"),Rt(D(),-8),"bytes")]),a=PI.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new _t().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(N0(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ml(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new _t().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(a4/2)))}}return!0}};$0.chunkSize=aQ;const cQ=new Se("BPFLoader2111111111111111111111111111111111");let uQ=class{static getMinNumSignatures(e){return $0.getMinNumSignatures(e)}static load(e,t,r,i,s){return $0.load(e,t,r,s,i)}};function lQ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dQ=Object.prototype.toString,hQ=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Pg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Pg(n.toJSON(),e);if(c=dQ.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Pg(n[t],!0)+",";return r>-1&&(i+=Pg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=hQ(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Pg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var fQ=function(n){var e=Pg(n,!1);if(e!==void 0)return""+e},NC=lQ(fQ);const hg=32;function u_(n){let e=0;for(;n>1;)n/=2,e++;return e}function pQ(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let h4=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=u_(pQ(e+hg+1))-u_(hg)-1,r=this.getSlotsInEpoch(t),i=e-(r-hg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*hg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+u_(hg)):this.slotsPerEpoch}},xI=class extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}};const gQ={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let lt=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};var yQ=globalThis.fetch;let mQ=class extends pJ{constructor(e,t,r){const i=s=>{const o=bJ(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function bQ(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const $C=56;let BI=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=bQ(wQ,e),r=e.length-$C;Sn(r>=0,"lookup table is invalid"),Sn(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Yt(),i,"addresses")]).decode(e.slice($C));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Se(t.authority[0]):void 0,addresses:s.map(o=>new Se(o))}}};const wQ={index:1,layout:U([D("typeIndex"),rf("deactivationSlot"),Be("lastExtendedSlot"),oe("lastExtendedStartIndex"),oe(),Te(Yt(),Rt(oe(),-1),"authority")])},kQ=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function SQ(n){const e=n.match(kQ);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const ui=Lm(Ix(Se),qe(),n=>new Se(n)),f4=Rx([qe(),zr("base64")]),Lx=Lm(Ix(H.Buffer),f4,n=>H.Buffer.from(n[0],"base64")),p4=30*1e3;function AQ(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ir(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function g4(n){return Ds([xe({jsonrpc:zr("2.0"),id:qe(),result:n}),xe({jsonrpc:zr("2.0"),id:qe(),error:xe({code:Mm(),message:qe(),data:At(MG())})})])}const _Q=g4(Mm());function Ot(n){return Lm(g4(n),_Q,e=>"error"in e?e:{...e,result:Ue(e.result,n)})}function jr(n){return Ot(xe({context:xe({slot:ue()}),value:n}))}function Bk(n){return xe({context:xe({slot:ue()}),value:n})}function l_(n,e){return n===0?new xk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Se(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Gu(e)}const vQ=xe({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),EQ=Ot(Ze(Qe(xe({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:At(Qe(ue()))})))),IQ=Ze(xe({slot:ue(),prioritizationFee:ue()})),RQ=xe({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),PQ=xe({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:At(ue()),transactionCount:At(ue())}),xQ=xe({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:ic(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),BQ=N8(qe(),Ze(ue())),Id=Qe(Ds([xe({}),qe()])),TQ=xe({err:Id}),CQ=zr("receivedSignature"),MQ=xe({"solana-core":qe(),"feature-set":At(ue())}),qC=jr(xe({err:Qe(Ds([xe({}),qe()])),logs:Qe(Ze(qe())),accounts:At(Qe(Ze(Qe(xe({executable:ic(),owner:qe(),lamports:ue(),data:Ze(qe()),rentEpoch:At(ue())}))))),unitsConsumed:At(ue()),returnData:At(Qe(xe({programId:qe(),data:Rx([qe(),zr("base64")])})))})),LQ=jr(xe({byIdentity:N8(qe(),Ze(ue())),range:xe({firstSlot:ue(),lastSlot:ue()})}));function OQ(n,e,t,r,i,s){const o=t||yQ;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},NZ)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await ml(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function NQ(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function $Q(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const qQ=Ot(vQ),zQ=Ot(RQ),DQ=Ot(IQ),UQ=Ot(PQ),KQ=Ot(xQ),WQ=Ot(BQ),FQ=Ot(ue()),VQ=jr(xe({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:Ze(ui)})),TI=xe({amount:qe(),uiAmount:Qe(ue()),decimals:ue(),uiAmountString:At(qe())}),jQ=jr(Ze(xe({address:ui,amount:qe(),uiAmount:Qe(ue()),decimals:ue(),uiAmountString:At(qe())}))),HQ=jr(Ze(xe({pubkey:ui,account:xe({executable:ic(),owner:ui,lamports:ue(),data:Lx,rentEpoch:ue()})}))),CI=xe({program:qe(),parsed:Mm(),space:ue()}),YQ=jr(Ze(xe({pubkey:ui,account:xe({executable:ic(),owner:ui,lamports:ue(),data:CI,rentEpoch:ue()})}))),GQ=jr(Ze(xe({lamports:ue(),address:ui}))),Oy=xe({executable:ic(),owner:ui,lamports:ue(),data:Lx,rentEpoch:ue()}),JQ=xe({pubkey:ui,account:Oy}),QQ=Lm(Ds([Ix(H.Buffer),CI]),Ds([f4,CI]),n=>Array.isArray(n)?Ue(n,Lx):n),MI=xe({executable:ic(),owner:ui,lamports:ue(),data:QQ,rentEpoch:ue()}),ZQ=xe({pubkey:ui,account:MI}),XQ=xe({state:Ds([zr("active"),zr("inactive"),zr("activating"),zr("deactivating")]),active:ue(),inactive:ue()}),eZ=Ot(Ze(xe({signature:qe(),slot:ue(),err:Id,memo:Qe(qe()),blockTime:At(Qe(ue()))}))),tZ=Ot(Ze(xe({signature:qe(),slot:ue(),err:Id,memo:Qe(qe()),blockTime:At(Qe(ue()))}))),nZ=xe({subscription:ue(),result:Bk(Oy)}),rZ=xe({pubkey:ui,account:Oy}),iZ=xe({subscription:ue(),result:Bk(rZ)}),sZ=xe({parent:ue(),slot:ue(),root:ue()}),oZ=xe({subscription:ue(),result:sZ}),aZ=Ds([xe({type:Ds([zr("firstShredReceived"),zr("completed"),zr("optimisticConfirmation"),zr("root")]),slot:ue(),timestamp:ue()}),xe({type:zr("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),xe({type:zr("frozen"),slot:ue(),timestamp:ue(),stats:xe({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),xe({type:zr("dead"),slot:ue(),timestamp:ue(),err:qe()})]),cZ=xe({subscription:ue(),result:aZ}),uZ=xe({subscription:ue(),result:Bk(Ds([TQ,CQ]))}),lZ=xe({subscription:ue(),result:ue()}),dZ=xe({pubkey:qe(),gossip:Qe(qe()),tpu:Qe(qe()),rpc:Qe(qe()),version:Qe(qe())}),zC=xe({votePubkey:qe(),nodePubkey:qe(),activatedStake:ue(),epochVoteAccount:ic(),epochCredits:Ze(Rx([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:Qe(ue())}),hZ=Ot(xe({current:Ze(zC),delinquent:Ze(zC)})),fZ=Ds([zr("processed"),zr("confirmed"),zr("finalized")]),pZ=xe({slot:ue(),confirmations:Qe(ue()),err:Id,confirmationStatus:At(fZ)}),gZ=jr(Ze(Qe(pZ))),yZ=Ot(ue()),y4=xe({accountKey:ui,writableIndexes:Ze(ue()),readonlyIndexes:Ze(ue())}),Ox=xe({signatures:Ze(qe()),message:xe({accountKeys:Ze(qe()),header:xe({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:Ze(xe({accounts:Ze(ue()),data:qe(),programIdIndex:ue()})),recentBlockhash:qe(),addressTableLookups:At(Ze(y4))})}),m4=xe({pubkey:ui,signer:ic(),writable:ic(),source:At(Ds([zr("transaction"),zr("lookupTable")]))}),b4=xe({accountKeys:Ze(m4),signatures:Ze(qe())}),w4=xe({parsed:Mm(),program:qe(),programId:ui}),k4=xe({accounts:Ze(ui),data:qe(),programId:ui}),mZ=Ds([k4,w4]),bZ=Ds([xe({parsed:Mm(),program:qe(),programId:qe()}),xe({accounts:Ze(qe()),data:qe(),programId:qe()})]),S4=Lm(mZ,bZ,n=>"accounts"in n?Ue(n,k4):Ue(n,w4)),A4=xe({signatures:Ze(qe()),message:xe({accountKeys:Ze(m4),instructions:Ze(S4),recentBlockhash:qe(),addressTableLookups:At(Qe(Ze(y4)))})}),q0=xe({accountIndex:ue(),mint:qe(),owner:At(qe()),uiTokenAmount:TI}),_4=xe({writable:Ze(ui),readonly:Ze(ui)}),Tk=xe({err:Id,fee:ue(),innerInstructions:At(Qe(Ze(xe({index:ue(),instructions:Ze(xe({accounts:Ze(ue()),data:qe(),programIdIndex:ue()}))})))),preBalances:Ze(ue()),postBalances:Ze(ue()),logMessages:At(Qe(Ze(qe()))),preTokenBalances:At(Qe(Ze(q0))),postTokenBalances:At(Qe(Ze(q0))),loadedAddresses:At(_4),computeUnitsConsumed:At(ue())}),Nx=xe({err:Id,fee:ue(),innerInstructions:At(Qe(Ze(xe({index:ue(),instructions:Ze(S4)})))),preBalances:Ze(ue()),postBalances:Ze(ue()),logMessages:At(Qe(Ze(qe()))),preTokenBalances:At(Qe(Ze(q0))),postTokenBalances:At(Qe(Ze(q0))),loadedAddresses:At(_4),computeUnitsConsumed:At(ue())}),Mp=Ds([zr(0),zr("legacy")]),Rd=xe({pubkey:qe(),lamports:ue(),postBalance:Qe(ue()),rewardType:Qe(qe()),commission:At(Qe(ue()))}),wZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:Ox,meta:Qe(Tk),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),kZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),SZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:b4,meta:Qe(Tk),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),AZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:A4,meta:Qe(Nx),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),_Z=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:b4,meta:Qe(Nx),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),vZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),EZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:Ox,meta:Qe(Tk)})),rewards:At(Ze(Rd)),blockTime:Qe(ue())}))),DC=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),signatures:Ze(qe()),blockTime:Qe(ue())}))),d_=Ot(Qe(xe({slot:ue(),meta:Qe(Tk),blockTime:At(Qe(ue())),transaction:Ox,version:At(Mp)}))),vb=Ot(Qe(xe({slot:ue(),transaction:A4,meta:Qe(Nx),blockTime:At(Qe(ue())),version:At(Mp)}))),IZ=jr(xe({blockhash:qe(),feeCalculator:xe({lamportsPerSignature:ue()})})),RZ=jr(xe({blockhash:qe(),lastValidBlockHeight:ue()})),PZ=jr(ic()),xZ=xe({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}),BZ=Ot(Ze(xZ)),TZ=jr(Qe(xe({feeCalculator:xe({lamportsPerSignature:ue()})}))),CZ=Ot(qe()),MZ=Ot(qe()),LZ=xe({err:Id,logs:Ze(qe()),signature:qe()}),OZ=xe({result:Bk(LZ),subscription:ue()}),NZ={"solana-client":"js/0.0.0-development"};let f1=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Ir(l),p=this._buildArgs([],d,void 0,b),g=NC(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=Ue(y,Ot(ue()));if("error"in S)throw new lt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=AQ(e),this._rpcWsEndpoint=r||SQ(e),this._rpcClient=OQ(e,i,s,o,a,c),this._rpcRequest=NQ(this._rpcClient),this._rpcBatchRequest=$Q(this._rpcClient),this._rpcWebSocket=new mQ(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=Ue(o,jr(ue()));if("error"in a)throw new lt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=Ue(t,Ot(Qe(ue())));if("error"in r)throw new lt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Ue(e,Ot(ue()));if("error"in t)throw new lt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Ue(e,FQ);if("error"in t)throw new lt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=Ue(r,VQ);if("error"in i)throw new lt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=Ue(i,jr(TI));if("error"in s)throw new lt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=Ue(i,jr(TI));if("error"in s)throw new lt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Ir(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Ue(c,HQ);if("error"in u)throw new lt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Ue(o,YQ);if("error"in a)throw new lt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=Ue(i,GQ);if("error"in s)throw new lt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=Ue(i,jQ);if("error"in s)throw new lt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Ue(o,jr(Qe(Oy)));if("error"in a)throw new lt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Ue(o,jr(Qe(MI)));if("error"in a)throw new lt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Ue(a,jr(Ze(Qe(MI))));if("error"in c)throw new lt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Ue(a,jr(Ze(Qe(Oy))));if("error"in c)throw new lt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Ir(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=Ue(a,Ot(XQ));if("error"in c)throw new lt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Ir(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ze(JQ),l=o.withContext===!0?Ue(c,jr(u)):Ue(c,Ot(u));if("error"in l)throw new lt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Ue(o,Ot(Ze(ZQ)));if("error"in a)throw new lt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Sn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:kc.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:kc.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await ml(1e3),s||(p=await b(),s))return;d({__type:kc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===kc.PROCESSED)l=d.response;else throw new Tx(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:kc.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await ml(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===kc.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await ml(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new _h(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new _h(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new _h(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new _h(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:kc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===kc.PROCESSED)a=c.response;else throw new Cx(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Ue(e,Ot(Ze(dZ)));if("error"in t)throw new lt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=Ue(r,hZ);if("error"in i)throw new lt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=Ue(s,Ot(ue()));if("error"in o)throw new lt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=Ue(s,Ot(qe()));if("error"in o)throw new lt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=Ue(i,Ot(Ze(ui)));if("error"in s)throw new lt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);Sn(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=Ue(i,gZ);if("error"in s)throw new lt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=Ue(s,Ot(ue()));if("error"in o)throw new lt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=Ue(r,qQ);if("error"in i)throw new lt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Ir(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=Ue(a,EQ);if("error"in c)throw new lt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Ue(e,zQ);if("error"in t)throw new lt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=Ue(s,UQ);if("error"in o)throw new lt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Ue(e,KQ);if("error"in t)throw new lt(t.error,"failed to get epoch schedule");const r=t.result;return new h4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Ue(e,WQ);if("error"in t)throw new lt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=Ue(i,yZ);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=Ue(r,IZ);if("error"in i)throw new lt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Ue(t,BZ);if("error"in r)throw new lt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=Ue(i,TZ);if("error"in s)throw new lt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Ut(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=Ue(s,jr(Qe(ue())));if("error"in o)throw new lt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=Ue(i,DQ);if("error"in s)throw new lt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=Ue(s,RZ);if("error"in o)throw new lt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Ue(o,PZ);if("error"in a)throw new lt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Ue(e,Ot(MQ));if("error"in t)throw new lt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Ue(e,Ot(qe()));if("error"in t)throw new lt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ue(o,SZ);if("error"in a)throw a.error;return a.result}case"none":{const a=Ue(o,kZ);if("error"in a)throw a.error;return a.result}default:{const a=Ue(o,wZ);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:l_(d,u.message)},version:d}))}:null}}}catch(a){throw new lt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ue(o,_Z);if("error"in a)throw a.error;return a.result}case"none":{const a=Ue(o,vZ);if("error"in a)throw a.error;return a.result}default:{const a=Ue(o,AZ);if("error"in a)throw a.error;return a.result}}}catch(a){throw new lt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=Ue(s,LQ);if("error"in o)throw new lt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Ue(o,d_);if("error"in a)throw new lt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:l_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Ue(o,vb);if("error"in a)throw new lt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Ue(c,vb);if("error"in u)throw new lt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Ue(c,d_);if("error"in u)throw new lt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:l_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=Ue(i,EZ);if("error"in s)throw new lt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Gu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:_t.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=Ue(s,Ot(Ze(ue())));if("error"in o)throw new lt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Ue(i,DC);if("error"in s)throw new lt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=Ue(i,DC);if("error"in s)throw new lt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=Ue(i,d_);if("error"in s)throw new lt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Gu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:_t.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=Ue(i,vb);if("error"in s)throw new lt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=Ue(o,vb);if("error"in a)throw new lt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ue(s,eZ);if("error"in o)throw new lt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ue(s,tZ);if("error"in o)throw new lt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new BI({key:e,state:BI.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=l4.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=Ue(r,CZ);if("error"in i)throw new lt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ml(100);const r=Date.now()-this._blockhashInfo.lastFetch>=p4;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await ml(a4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ue(s,jr(ue()));if("error"in o)throw new lt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=Ue(R,qC);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof _t){let g=e;i=new _t,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=_t.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=Ue(b,qC);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new xI("failed to simulate transaction: "+p.error.message,g)}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Ut(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=Ue(a,MZ);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new xI("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=Ue(e,nZ);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=NC([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Sn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Ue(e,iZ);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Ue(e,OZ);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Ue(e,oZ);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Ue(e,cZ);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Ue(e,uZ);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Ue(e,lZ);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},vh=class p1{constructor(e){this._keypair=void 0,this._keypair=e??MC()}static generate(){return new p1(MC())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=O0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new p1({publicKey:r,secretKey:e})}static fromSeed(e){const t=O0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new p1({publicKey:t,secretKey:r})}get publicKey(){return new Se(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Cc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),rf("recentSlot"),oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),rf(),Te(Yt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let $Z=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Cc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=$n(Cc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=$n(Cc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Se(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals($x.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},$x=class{constructor(){}static createLookupTable(e){const[t,r]=Se.findProgramAddressSync([e.authority.toBuffer(),Uo(BigInt(e.recentSlot),8)],this.programId),i=Cc.CreateLookupTable,s=un(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:br.programId,isSigner:!1,isWritable:!1}];return[new Et({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Cc.FreezeLookupTable,r=un(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Et({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Cc.ExtendLookupTable,r=un(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:br.programId,isSigner:!1,isWritable:!1}),new Et({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Cc.DeactivateLookupTable,r=un(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Et({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Cc.CloseLookupTable,r=un(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Et({programId:this.programId,keys:i,data:r})}};$x.programId=new Se("AddressLookupTab1e1111111111111111111111111");let qZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(xa))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=$n(xa.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=$n(xa.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=$n(xa.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=$n(xa.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(qx.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const xa=Object.freeze({RequestUnits:{index:0,layout:U([oe("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([oe("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([oe("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([oe("instruction"),rf("microLamports")])}});let qx=class{constructor(){}static requestUnits(e){const t=xa.RequestUnits,r=un(t,e);return new Et({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=xa.RequestHeapFrame,r=un(t,e);return new Et({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=xa.SetComputeUnitLimit,r=un(t,e);return new Et({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=xa.SetComputeUnitPrice,r=un(t,{microLamports:BigInt(e.microLamports)});return new Et({keys:[],programId:this.programId,data:r})}};qx.programId=new Se("ComputeBudget111111111111111111111111111111");const UC=64,KC=32,WC=64,FC=U([oe("numSignatures"),oe("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let v4=class E4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;Sn(t.length===KC,`Public Key must be ${KC} bytes but received ${t.length} bytes`),Sn(i.length===WC,`Signature must be ${WC} bytes but received ${i.length} bytes`);const o=FC.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return FC.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new Et({keys:[],programId:E4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Sn(t.length===UC,`Private key must be ${UC} bytes but received ${t.length} bytes`);try{const s=vh.fromSecretKey(t),o=s.publicKey.toBytes(),a=xx(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};v4.programId=new Se("Ed25519SigVerify111111111111111111111111111");const zZ=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const DZ=ki.getPublicKey,VC=32,h_=20,jC=64,UZ=11,f_=U([oe("numSignatures"),ot("signatureOffset"),oe("signatureInstructionIndex"),ot("ethAddressOffset"),oe("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),oe("messageInstructionIndex"),pe(20,"ethAddress"),pe(64,"signature"),oe("recoveryId")]);let I4=class g1{constructor(){}static publicKeyToEthAddress(e){Sn(e.length===jC,`Public key must be ${jC} bytes but received ${e.length} bytes`);try{return H.Buffer.from($o(Ut(e))).slice(-h_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return g1.createInstructionWithEthAddress({ethAddress:g1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,Sn(a.length===h_,`Address must be ${h_} bytes but received ${a.length} bytes`);const c=1+UZ,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(f_.span+r.length);return f_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Ut(i),ethAddress:Ut(a),recoveryId:s},p),p.fill(Ut(r),f_.span),new Et({keys:[],programId:g1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Sn(t.length===VC,`Private key must be ${VC} bytes but received ${t.length} bytes`);try{const s=Ut(t),o=DZ(s,!1).slice(1),a=H.Buffer.from($o(Ut(r))),[c,u]=zZ(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};I4.programId=new Se("KeccakSecp256k11111111111111111111111111111");var R4;const P4=new Se("StakeConfig11111111111111111111111111111111");let x4=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Om=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};R4=Om;Om.default=new R4(0,0,Se.default);let KZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(_i))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=$n(_i.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new x4(new Se(t.staker),new Se(t.withdrawer)),lockup:new Om(r.unixTimestamp,r.epoch,new Se(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),$n(_i.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=$n(_i.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Se(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=$n(_i.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Se(s),newAuthorizedPubkey:new Se(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=$n(_i.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(_i.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=$n(_i.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(_i.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ck.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const _i=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),VJ(),jJ()])},Authorize:{index:1,layout:U([D("instruction"),Yt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Yt("newAuthorized"),D("stakeAuthorizationType"),Ol("authoritySeed"),Yt("authorityOwner")])}}),WZ=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let Ck=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Om.default,o=_i.Initialize,a=un(o,{authorized:{staker:Ut(r.staker.toBuffer()),withdrawer:Ut(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ut(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Et(c)}static createAccountWithSeed(e){const t=new _t;t.add(br.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new _t;t.add(br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=_i.Delegate,o=un(s);return new _t().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:h1,isSigner:!1,isWritable:!1},{pubkey:P4,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=_i.Authorize,c=un(a,{newAuthorized:Ut(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new _t().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=_i.AuthorizeWithSeed,l=un(u,{newAuthorized:Ut(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ut(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new _t().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=_i.Split,a=un(o,{lamports:s});return new Et({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new _t;return r.add(br.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new _t;return u.add(br.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(br.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=_i.Merge,o=un(s);return new _t().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:h1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=_i.Withdraw,c=un(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:h1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new _t().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=_i.Deactivate,s=un(i);return new _t().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Ck.programId=new Se("Stake11111111111111111111111111111111111111");Ck.space=200;let B4=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},FZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ba))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=$n(Ba.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new B4(new Se(t.nodePubkey),new Se(t.authorizedVoter),new Se(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=$n(Ba.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Se(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=$n(Ba.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Se(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Se(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=$n(Ba.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Mk.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ba=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),HJ()])},Authorize:{index:1,layout:U([D("instruction"),Yt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),YJ()])}}),VZ=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let Mk=class T4{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=Ba.InitializeAccount,o=un(s,{voteInit:{nodePubkey:Ut(i.nodePubkey.toBuffer()),authorizedVoter:Ut(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ut(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Et(a)}static createAccount(e){const t=new _t;return t.add(br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Ba.Authorize,a=un(o,{newAuthorized:Ut(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new _t().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Ba.AuthorizeWithSeed,u=un(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ut(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ut(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new _t().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Ba.Withdraw,a=un(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new _t().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return T4.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Ba.UpdateValidatorIdentity,o=un(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new _t().add({keys:a,programId:this.programId,data:o})}};Mk.programId=new Se("Vote111111111111111111111111111111111111111");Mk.space=3762;const C4=new Se("Va1idator1nfo111111111111111111111111111111"),jZ=xe({name:qe(),website:At(qe()),details:At(qe()),keybaseUsername:At(qe())});let HZ=class M4{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ws(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Se(ks(t,0,Ja)),a=Pa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(C4)&&i[1].isSigner){const s=Ol().decode(H.Buffer.from(t)),o=JSON.parse(s);return L8(o,jZ),new M4(i[1].publicKey,o)}return null}};const YZ=new Se("Vote111111111111111111111111111111111111111"),GZ=U([Yt("nodePubkey"),Yt("authorizedWithdrawer"),oe("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),oe("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Yt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Yt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),oe("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let JZ=class L4{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=GZ.decode(Ut(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new L4({nodePubkey:new Se(r.nodePubkey),authorizedWithdrawer:new Se(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(QZ),priorVoters:ZZ(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function QZ({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Se(n)}}function HC({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Se(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function ZZ({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(HC),...n.slice(0,e).map(HC)]}const YC={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function LI(n,e){const t=e===!1?"http":"https";if(!n)return YC[t].devnet;const r=YC[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function XZ(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const eX=1e9,tX=Object.freeze(Object.defineProperty({__proto__:null,Account:KJ,AddressLookupTableAccount:BI,AddressLookupTableInstruction:$Z,AddressLookupTableProgram:$x,Authorized:x4,BLOCKHASH_CACHE_TIMEOUT_MS:p4,BPF_LOADER_DEPRECATED_PROGRAM_ID:WJ,BPF_LOADER_PROGRAM_ID:cQ,BpfLoader:uQ,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:xa,ComputeBudgetInstruction:qZ,ComputeBudgetProgram:qx,Connection:f1,Ed25519Program:v4,Enum:DJ,EpochSchedule:h4,FeeCalculatorLayout:c4,Keypair:vh,LAMPORTS_PER_SOL:eX,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Cc,Loader:$0,Lockup:Om,MAX_SEED_LENGTH:Z8,Message:Gu,MessageAccountKeys:Ly,MessageV0:xk,NONCE_ACCOUNT_LENGTH:II,NonceAccount:l4,PACKET_DATA_SIZE:Nu,PUBLIC_KEY_LENGTH:Ja,PublicKey:Se,SIGNATURE_LENGTH_IN_BYTES:My,SOLANA_SCHEMA:Yg,STAKE_CONFIG_ID:P4,STAKE_INSTRUCTION_LAYOUTS:_i,SYSTEM_INSTRUCTION_LAYOUTS:hr,SYSVAR_CLOCK_PUBKEY:ka,SYSVAR_EPOCH_SCHEDULE_PUBKEY:XJ,SYSVAR_INSTRUCTIONS_PUBKEY:eQ,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:d1,SYSVAR_RENT_PUBKEY:ea,SYSVAR_REWARDS_PUBKEY:tQ,SYSVAR_SLOT_HASHES_PUBKEY:nQ,SYSVAR_SLOT_HISTORY_PUBKEY:rQ,SYSVAR_STAKE_HISTORY_PUBKEY:h1,Secp256k1Program:I4,SendTransactionError:xI,SolanaJSONRPCError:lt,SolanaJSONRPCErrorCode:gQ,StakeAuthorizationLayout:WZ,StakeInstruction:KZ,StakeProgram:Ck,Struct:Bx,SystemInstruction:oQ,SystemProgram:br,Transaction:_t,TransactionExpiredBlockheightExceededError:Tx,TransactionExpiredNonceInvalidError:_h,TransactionExpiredTimeoutError:Cx,TransactionInstruction:Et,TransactionMessage:r4,TransactionStatus:kc,VALIDATOR_INFO_KEY:C4,VERSION_PREFIX_MASK:Pk,VOTE_PROGRAM_ID:YZ,ValidatorInfo:HZ,VersionedMessage:Mx,VersionedTransaction:s4,VoteAccount:JZ,VoteAuthorizationLayout:VZ,VoteInit:B4,VoteInstruction:FZ,VoteProgram:Mk,clusterApiUrl:LI,sendAndConfirmRawTransaction:XZ,sendAndConfirmTransaction:N0},Symbol.toStringTag,{value:"Module"}));function Ny(n){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(n)}function nX(n,e){if(Ny(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rX(n){var e=nX(n,"string");return Ny(e)=="symbol"?e:e+""}function fg(n,e,t){return e=rX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Cn={},Lk={};Lk.byteLength=oX;Lk.toByteArray=cX;Lk.fromByteArray=dX;var Ta=[],_o=[],iX=typeof Uint8Array<"u"?Uint8Array:Array,p_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Hd=0,sX=p_.length;Hd<sX;++Hd)Ta[Hd]=p_[Hd],_o[p_.charCodeAt(Hd)]=Hd;_o[45]=62;_o[95]=63;function O4(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function oX(n){var e=O4(n),t=e[0],r=e[1];return(t+r)*3/4-r}function aX(n,e,t){return(e+t)*3/4-t}function cX(n){var e,t=O4(n),r=t[0],i=t[1],s=new iX(aX(n,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=_o[n.charCodeAt(c)]<<18|_o[n.charCodeAt(c+1)]<<12|_o[n.charCodeAt(c+2)]<<6|_o[n.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=_o[n.charCodeAt(c)]<<2|_o[n.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=_o[n.charCodeAt(c)]<<10|_o[n.charCodeAt(c+1)]<<4|_o[n.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function uX(n){return Ta[n>>18&63]+Ta[n>>12&63]+Ta[n>>6&63]+Ta[n&63]}function lX(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(uX(r));return i.join("")}function dX(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(lX(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(Ta[e>>2]+Ta[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Ta[e>>10]+Ta[e>>4&63]+Ta[e<<2&63]+"=")),i.join("")}var zx={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */zx.read=function(n,e,t,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,b=t?-1:1,p=n[e+d];for(d+=b,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=s*256+n[e+d],d+=b,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+n[e+d],d+=b,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(p?-1:1)*o*Math.pow(2,s-r)};zx.write=function(n,e,t,r,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,d=l>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,g=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=b/c:e+=b*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+p]=a&255,p+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;n[t+p]=o&255,p+=g,o/=256,u-=8);n[t+p-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Lk,t=zx,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=_,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(A,h),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const h=new Uint8Array(A);return Object.setPrototypeOf(h,a.prototype),h}function a(A,h,f){if(typeof A=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,h,f)}a.poolSize=8192;function c(A,h,f){if(typeof A=="string")return b(A,h);if(ArrayBuffer.isView(A))return g(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(on(A,ArrayBuffer)||A&&on(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(on(A,SharedArrayBuffer)||A&&on(A.buffer,SharedArrayBuffer)))return y(A,h,f);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=A.valueOf&&A.valueOf();if(I!=null&&I!==A)return a.from(I,h,f);const z=S(A);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),h,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,h,f){return c(A,h,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function l(A,h,f){return u(A),A<=0?o(A):h!==void 0?typeof f=="string"?o(A).fill(h,f):o(A).fill(h):o(A)}a.alloc=function(A,h,f){return l(A,h,f)};function d(A){return u(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function b(A,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const f=R(A,h)|0;let I=o(f);const z=I.write(A,h);return z!==f&&(I=I.slice(0,z)),I}function p(A){const h=A.length<0?0:w(A.length)|0,f=o(h);for(let I=0;I<h;I+=1)f[I]=A[I]&255;return f}function g(A){if(on(A,Uint8Array)){const h=new Uint8Array(A);return y(h.buffer,h.byteOffset,h.byteLength)}return p(A)}function y(A,h,f){if(h<0||A.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<h+(f||0))throw new RangeError('"length" is outside of buffer bounds');let I;return h===void 0&&f===void 0?I=new Uint8Array(A):f===void 0?I=new Uint8Array(A,h):I=new Uint8Array(A,h,f),Object.setPrototypeOf(I,a.prototype),I}function S(A){if(a.isBuffer(A)){const h=w(A.length)|0,f=o(h);return f.length===0||A.copy(f,0,0,h),f}if(A.length!==void 0)return typeof A.length!="number"||Bt(A.length)?o(0):p(A);if(A.type==="Buffer"&&Array.isArray(A.data))return p(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function _(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,f){if(on(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),on(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(h)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===f)return 0;let I=h.length,z=f.length;for(let G=0,ee=Math.min(I,z);G<ee;++G)if(h[G]!==f[G]){I=h[G],z=f[G];break}return I<z?-1:z<I?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,f){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let I;if(f===void 0)for(f=0,I=0;I<h.length;++I)f+=h[I].length;const z=a.allocUnsafe(f);let G=0;for(I=0;I<h.length;++I){let ee=h[I];if(on(ee,Uint8Array))G+ee.length>z.length?(a.isBuffer(ee)||(ee=a.from(ee)),ee.copy(z,G)):Uint8Array.prototype.set.call(z,ee,G);else if(a.isBuffer(ee))ee.copy(z,G);else throw new TypeError('"list" argument must be an Array of Buffers');G+=ee.length}return z};function R(A,h){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||on(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const f=A.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&f===0)return 0;let z=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return Ht(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return wn(A).length;default:if(z)return I?-1:Ht(A).length;h=(""+h).toLowerCase(),z=!0}}a.byteLength=R;function x(A,h,f){let I=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,h>>>=0,f<=h))return"";for(A||(A="utf8");;)switch(A){case"hex":return $(this,h,f);case"utf8":case"utf-8":return m(this,h,f);case"ascii":return W(this,h,f);case"latin1":case"binary":return C(this,h,f);case"base64":return L(this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,h,f);default:if(I)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function K(A,h,f){const I=A[h];A[h]=A[f],A[f]=I}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<h;f+=2)K(this,f,f+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<h;f+=4)K(this,f,f+3),K(this,f+1,f+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<h;f+=8)K(this,f,f+7),K(this,f+1,f+6),K(this,f+2,f+5),K(this,f+3,f+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?m(this,0,h):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const f=n.INSPECT_MAX_BYTES;return h=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,f,I,z,G){if(on(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(f===void 0&&(f=0),I===void 0&&(I=h?h.length:0),z===void 0&&(z=0),G===void 0&&(G=this.length),f<0||I>h.length||z<0||G>this.length)throw new RangeError("out of range index");if(z>=G&&f>=I)return 0;if(z>=G)return-1;if(f>=I)return 1;if(f>>>=0,I>>>=0,z>>>=0,G>>>=0,this===h)return 0;let ee=G-z,Le=I-f;const Xe=Math.min(ee,Le),We=this.slice(z,G),mt=h.slice(f,I);for(let Oe=0;Oe<Xe;++Oe)if(We[Oe]!==mt[Oe]){ee=We[Oe],Le=mt[Oe];break}return ee<Le?-1:Le<ee?1:0};function J(A,h,f,I,z){if(A.length===0)return-1;if(typeof f=="string"?(I=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Bt(f)&&(f=z?0:A.length-1),f<0&&(f=A.length+f),f>=A.length){if(z)return-1;f=A.length-1}else if(f<0)if(z)f=0;else return-1;if(typeof h=="string"&&(h=a.from(h,I)),a.isBuffer(h))return h.length===0?-1:M(A,h,f,I,z);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(A,h,f):Uint8Array.prototype.lastIndexOf.call(A,h,f):M(A,[h],f,I,z);throw new TypeError("val must be string, number or Buffer")}function M(A,h,f,I,z){let G=1,ee=A.length,Le=h.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(A.length<2||h.length<2)return-1;G=2,ee/=2,Le/=2,f/=2}function Xe(mt,Oe){return G===1?mt[Oe]:mt.readUInt16BE(Oe*G)}let We;if(z){let mt=-1;for(We=f;We<ee;We++)if(Xe(A,We)===Xe(h,mt===-1?0:We-mt)){if(mt===-1&&(mt=We),We-mt+1===Le)return mt*G}else mt!==-1&&(We-=We-mt),mt=-1}else for(f+Le>ee&&(f=ee-Le),We=f;We>=0;We--){let mt=!0;for(let Oe=0;Oe<Le;Oe++)if(Xe(A,We+Oe)!==Xe(h,Oe)){mt=!1;break}if(mt)return We}return-1}a.prototype.includes=function(h,f,I){return this.indexOf(h,f,I)!==-1},a.prototype.indexOf=function(h,f,I){return J(this,h,f,I,!0)},a.prototype.lastIndexOf=function(h,f,I){return J(this,h,f,I,!1)};function Z(A,h,f,I){f=Number(f)||0;const z=A.length-f;I?(I=Number(I),I>z&&(I=z)):I=z;const G=h.length;I>G/2&&(I=G/2);let ee;for(ee=0;ee<I;++ee){const Le=parseInt(h.substr(ee*2,2),16);if(Bt(Le))return ee;A[f+ee]=Le}return ee}function ie(A,h,f,I){return nn(Ht(h,A.length-f),A,f,I)}function X(A,h,f,I){return nn(On(h),A,f,I)}function ne(A,h,f,I){return nn(wn(h),A,f,I)}function ae(A,h,f,I){return nn(ko(h,A.length-f),A,f,I)}a.prototype.write=function(h,f,I,z){if(f===void 0)z="utf8",I=this.length,f=0;else if(I===void 0&&typeof f=="string")z=f,I=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(I)?(I=I>>>0,z===void 0&&(z="utf8")):(z=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const G=this.length-f;if((I===void 0||I>G)&&(I=G),h.length>0&&(I<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let ee=!1;for(;;)switch(z){case"hex":return Z(this,h,f,I);case"utf8":case"utf-8":return ie(this,h,f,I);case"ascii":case"latin1":case"binary":return X(this,h,f,I);case"base64":return ne(this,h,f,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,h,f,I);default:if(ee)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),ee=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(A,h,f){return h===0&&f===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(h,f))}function m(A,h,f){f=Math.min(A.length,f);const I=[];let z=h;for(;z<f;){const G=A[z];let ee=null,Le=G>239?4:G>223?3:G>191?2:1;if(z+Le<=f){let Xe,We,mt,Oe;switch(Le){case 1:G<128&&(ee=G);break;case 2:Xe=A[z+1],(Xe&192)===128&&(Oe=(G&31)<<6|Xe&63,Oe>127&&(ee=Oe));break;case 3:Xe=A[z+1],We=A[z+2],(Xe&192)===128&&(We&192)===128&&(Oe=(G&15)<<12|(Xe&63)<<6|We&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ee=Oe));break;case 4:Xe=A[z+1],We=A[z+2],mt=A[z+3],(Xe&192)===128&&(We&192)===128&&(mt&192)===128&&(Oe=(G&15)<<18|(Xe&63)<<12|(We&63)<<6|mt&63,Oe>65535&&Oe<1114112&&(ee=Oe))}}ee===null?(ee=65533,Le=1):ee>65535&&(ee-=65536,I.push(ee>>>10&1023|55296),ee=56320|ee&1023),I.push(ee),z+=Le}return B(I)}const v=4096;function B(A){const h=A.length;if(h<=v)return String.fromCharCode.apply(String,A);let f="",I=0;for(;I<h;)f+=String.fromCharCode.apply(String,A.slice(I,I+=v));return f}function W(A,h,f){let I="";f=Math.min(A.length,f);for(let z=h;z<f;++z)I+=String.fromCharCode(A[z]&127);return I}function C(A,h,f){let I="";f=Math.min(A.length,f);for(let z=h;z<f;++z)I+=String.fromCharCode(A[z]);return I}function $(A,h,f){const I=A.length;(!h||h<0)&&(h=0),(!f||f<0||f>I)&&(f=I);let z="";for(let G=h;G<f;++G)z+=yn[A[G]];return z}function Q(A,h,f){const I=A.slice(h,f);let z="";for(let G=0;G<I.length-1;G+=2)z+=String.fromCharCode(I[G]+I[G+1]*256);return z}a.prototype.slice=function(h,f){const I=this.length;h=~~h,f=f===void 0?I:~~f,h<0?(h+=I,h<0&&(h=0)):h>I&&(h=I),f<0?(f+=I,f<0&&(f=0)):f>I&&(f=I),f<h&&(f=h);const z=this.subarray(h,f);return Object.setPrototypeOf(z,a.prototype),z};function N(A,h,f){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+h>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=this[h],G=1,ee=0;for(;++ee<f&&(G*=256);)z+=this[h+ee]*G;return z},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=this[h+--f],G=1;for(;f>0&&(G*=256);)z+=this[h+--f]*G;return z},a.prototype.readUint8=a.prototype.readUInt8=function(h,f){return h=h>>>0,f||N(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,f){return h=h>>>0,f||N(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,f){return h=h>>>0,f||N(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,f){return h=h>>>0,f||N(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,f){return h=h>>>0,f||N(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,G=this[++h]+this[++h]*2**8+this[++h]*2**16+I*2**24;return BigInt(z)+(BigInt(G)<<BigInt(32))}),a.prototype.readBigUInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=f*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],G=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I;return(BigInt(z)<<BigInt(32))+BigInt(G)}),a.prototype.readIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=this[h],G=1,ee=0;for(;++ee<f&&(G*=256);)z+=this[h+ee]*G;return G*=128,z>=G&&(z-=Math.pow(2,8*f)),z},a.prototype.readIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||N(h,f,this.length);let z=f,G=1,ee=this[h+--z];for(;z>0&&(G*=256);)ee+=this[h+--z]*G;return G*=128,ee>=G&&(ee-=Math.pow(2,8*f)),ee},a.prototype.readInt8=function(h,f){return h=h>>>0,f||N(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,f){h=h>>>0,f||N(h,2,this.length);const I=this[h]|this[h+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(h,f){h=h>>>0,f||N(h,2,this.length);const I=this[h+1]|this[h]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(h,f){return h=h>>>0,f||N(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,f){return h=h>>>0,f||N(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(I<<24);return(BigInt(z)<<BigInt(32))+BigInt(f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const z=(f<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(z)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I)}),a.prototype.readFloatLE=function(h,f){return h=h>>>0,f||N(h,4,this.length),t.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,f){return h=h>>>0,f||N(h,4,this.length),t.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,f){return h=h>>>0,f||N(h,8,this.length),t.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,f){return h=h>>>0,f||N(h,8,this.length),t.read(this,h,!1,52,8)};function E(A,h,f,I,z,G){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>z||h<G)throw new RangeError('"value" argument is out of bounds');if(f+I>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,f,I,z){if(h=+h,f=f>>>0,I=I>>>0,!z){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let G=1,ee=0;for(this[f]=h&255;++ee<I&&(G*=256);)this[f+ee]=h/G&255;return f+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,f,I,z){if(h=+h,f=f>>>0,I=I>>>0,!z){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let G=I-1,ee=1;for(this[f+G]=h&255;--G>=0&&(ee*=256);)this[f+G]=h/ee&255;return f+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,255,0),this[f]=h&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f+3]=h>>>24,this[f+2]=h>>>16,this[f+1]=h>>>8,this[f]=h&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4};function Y(A,h,f,I,z){yt(h,I,z,A,f,7);let G=Number(h&BigInt(4294967295));A[f++]=G,G=G>>8,A[f++]=G,G=G>>8,A[f++]=G,G=G>>8,A[f++]=G;let ee=Number(h>>BigInt(32)&BigInt(4294967295));return A[f++]=ee,ee=ee>>8,A[f++]=ee,ee=ee>>8,A[f++]=ee,ee=ee>>8,A[f++]=ee,f}function fe(A,h,f,I,z){yt(h,I,z,A,f,7);let G=Number(h&BigInt(4294967295));A[f+7]=G,G=G>>8,A[f+6]=G,G=G>>8,A[f+5]=G,G=G>>8,A[f+4]=G;let ee=Number(h>>BigInt(32)&BigInt(4294967295));return A[f+3]=ee,ee=ee>>8,A[f+2]=ee,ee=ee>>8,A[f+1]=ee,ee=ee>>8,A[f]=ee,f+8}a.prototype.writeBigUInt64LE=xn(function(h,f=0){return Y(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xn(function(h,f=0){return fe(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,f,I,z){if(h=+h,f=f>>>0,!z){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let G=0,ee=1,Le=0;for(this[f]=h&255;++G<I&&(ee*=256);)h<0&&Le===0&&this[f+G-1]!==0&&(Le=1),this[f+G]=(h/ee>>0)-Le&255;return f+I},a.prototype.writeIntBE=function(h,f,I,z){if(h=+h,f=f>>>0,!z){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let G=I-1,ee=1,Le=0;for(this[f+G]=h&255;--G>=0&&(ee*=256);)h<0&&Le===0&&this[f+G+1]!==0&&(Le=1),this[f+G]=(h/ee>>0)-Le&255;return f+I},a.prototype.writeInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,127,-128),h<0&&(h=255+h+1),this[f]=h&255,f+1},a.prototype.writeInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),this[f]=h&255,this[f+1]=h>>>8,this[f+2]=h>>>16,this[f+3]=h>>>24,f+4},a.prototype.writeInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4},a.prototype.writeBigInt64LE=xn(function(h,f=0){return Y(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xn(function(h,f=0){return fe(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function we(A,h,f,I,z,G){if(f+I>A.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ve(A,h,f,I,z){return h=+h,f=f>>>0,z||we(A,h,f,4),t.write(A,h,f,I,23,4),f+4}a.prototype.writeFloatLE=function(h,f,I){return ve(this,h,f,!0,I)},a.prototype.writeFloatBE=function(h,f,I){return ve(this,h,f,!1,I)};function De(A,h,f,I,z){return h=+h,f=f>>>0,z||we(A,h,f,8),t.write(A,h,f,I,52,8),f+8}a.prototype.writeDoubleLE=function(h,f,I){return De(this,h,f,!0,I)},a.prototype.writeDoubleBE=function(h,f,I){return De(this,h,f,!1,I)},a.prototype.copy=function(h,f,I,z){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(I||(I=0),!z&&z!==0&&(z=this.length),f>=h.length&&(f=h.length),f||(f=0),z>0&&z<I&&(z=I),z===I||h.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),h.length-f<z-I&&(z=h.length-f+I);const G=z-I;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,I,z):Uint8Array.prototype.set.call(h,this.subarray(I,z),f),G},a.prototype.fill=function(h,f,I,z){if(typeof h=="string"){if(typeof f=="string"?(z=f,f=0,I=this.length):typeof I=="string"&&(z=I,I=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(h.length===1){const ee=h.charCodeAt(0);(z==="utf8"&&ee<128||z==="latin1")&&(h=ee)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(f<0||this.length<f||this.length<I)throw new RangeError("Out of range index");if(I<=f)return this;f=f>>>0,I=I===void 0?this.length:I>>>0,h||(h=0);let G;if(typeof h=="number")for(G=f;G<I;++G)this[G]=h;else{const ee=a.isBuffer(h)?h:a.from(h,z),Le=ee.length;if(Le===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(G=0;G<I-f;++G)this[G+f]=ee[G%Le]}return this};const Ge={};function Ke(A,h,f){Ge[A]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(A,h){return`The "${A}" argument must be of type number. Received type ${typeof h}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(A,h,f){let I=`The value of "${A}" is out of range.`,z=f;return Number.isInteger(f)&&Math.abs(f)>2**32?z=Pn(String(f)):typeof f=="bigint"&&(z=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(z=Pn(z)),z+="n"),I+=` It must be ${h}. Received ${z}`,I},RangeError);function Pn(A){let h="",f=A.length;const I=A[0]==="-"?1:0;for(;f>=I+4;f-=3)h=`_${A.slice(f-3,f)}${h}`;return`${A.slice(0,f)}${h}`}function wt(A,h,f){kt(h,"offset"),(A[h]===void 0||A[h+f]===void 0)&&bt(h,A.length-(f+1))}function yt(A,h,f,I,z,G){if(A>f||A<h){const ee=typeof h=="bigint"?"n":"";let Le;throw h===0||h===BigInt(0)?Le=`>= 0${ee} and < 2${ee} ** ${(G+1)*8}${ee}`:Le=`>= -(2${ee} ** ${(G+1)*8-1}${ee}) and < 2 ** ${(G+1)*8-1}${ee}`,new Ge.ERR_OUT_OF_RANGE("value",Le,A)}wt(I,z,G)}function kt(A,h){if(typeof A!="number")throw new Ge.ERR_INVALID_ARG_TYPE(h,"number",A)}function bt(A,h,f){throw Math.floor(A)!==A?(kt(A,f),new Ge.ERR_OUT_OF_RANGE("offset","an integer",A)):h<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,A)}const tn=/[^+/0-9A-Za-z-_]/g;function dr(A){if(A=A.split("=")[0],A=A.trim().replace(tn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Ht(A,h){h=h||1/0;let f;const I=A.length;let z=null;const G=[];for(let ee=0;ee<I;++ee){if(f=A.charCodeAt(ee),f>55295&&f<57344){if(!z){if(f>56319){(h-=3)>-1&&G.push(239,191,189);continue}else if(ee+1===I){(h-=3)>-1&&G.push(239,191,189);continue}z=f;continue}if(f<56320){(h-=3)>-1&&G.push(239,191,189),z=f;continue}f=(z-55296<<10|f-56320)+65536}else z&&(h-=3)>-1&&G.push(239,191,189);if(z=null,f<128){if((h-=1)<0)break;G.push(f)}else if(f<2048){if((h-=2)<0)break;G.push(f>>6|192,f&63|128)}else if(f<65536){if((h-=3)<0)break;G.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((h-=4)<0)break;G.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return G}function On(A){const h=[];for(let f=0;f<A.length;++f)h.push(A.charCodeAt(f)&255);return h}function ko(A,h){let f,I,z;const G=[];for(let ee=0;ee<A.length&&!((h-=2)<0);++ee)f=A.charCodeAt(ee),I=f>>8,z=f%256,G.push(z),G.push(I);return G}function wn(A){return e.toByteArray(dr(A))}function nn(A,h,f,I){let z;for(z=0;z<I&&!(z+f>=h.length||z>=A.length);++z)h[z+f]=A[z];return z}function on(A,h){return A instanceof h||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===h.name}function Bt(A){return A!==A}const yn=function(){const A="0123456789abcdef",h=new Array(256);for(let f=0;f<16;++f){const I=f*16;for(let z=0;z<16;++z)h[I+z]=A[f]+A[z]}return h}();function xn(A){return typeof BigInt>"u"?Tt:A}function Tt(){throw new Error("BigInt not supported")}})(Cn);var hX=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},OI;typeof Object.create=="function"?OI=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:OI=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var fX=OI;function Zl(n,e){var t={seen:[],stylize:gX};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),N4(e)?t.showHidden=e:e&&AX(t,e),Eh(t.showHidden)&&(t.showHidden=!1),Eh(t.depth)&&(t.depth=2),Eh(t.colors)&&(t.colors=!1),Eh(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=pX),z0(t,n,t.depth)}Zl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Zl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function pX(n,e){var t=Zl.styles[e];return t?"\x1B["+Zl.colors[t][0]+"m"+n+"\x1B["+Zl.colors[t][1]+"m":n}function gX(n,e){return n}function yX(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function z0(n,e,t){if(n.customInspect&&e&&Jg(e.inspect)&&e.inspect!==Zl&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return q4(r)||(r=z0(n,r,t)),r}var i=mX(n,e);if(i)return i;var s=Object.keys(e),o=yX(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),y1(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return g_(e);if(s.length===0){if(Jg(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(Gg(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(D0(e))return n.stylize(Date.prototype.toString.call(e),"date");if(y1(e))return g_(e)}var c="",u=!1,l=["{","}"];if(kX(e)&&(u=!0,l=["[","]"]),Jg(e)){var d=e.name?": "+e.name:"";c=" [Function"+d+"]"}if(Gg(e)&&(c=" "+RegExp.prototype.toString.call(e)),D0(e)&&(c=" "+Date.prototype.toUTCString.call(e)),y1(e)&&(c=" "+g_(e)),s.length===0&&(!u||e.length==0))return l[0]+c+l[1];if(t<0)return Gg(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var b;return u?b=bX(n,e,t,o,s):b=s.map(function(p){return NI(n,e,t,o,p,u)}),n.seen.pop(),wX(b,c,l)}function mX(n,e){if(Eh(e))return n.stylize("undefined","undefined");if(q4(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(SX(e))return n.stylize(""+e,"number");if(N4(e))return n.stylize(""+e,"boolean");if($4(e))return n.stylize("null","null")}function g_(n){return"["+Error.prototype.toString.call(n)+"]"}function bX(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)z4(e,String(o))?s.push(NI(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push(NI(n,e,t,r,c,!0))}),s}function NI(n,e,t,r,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):c.set&&(a=n.stylize("[Setter]","special")),z4(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(c.value)<0?($4(t)?a=z0(n,c.value,null):a=z0(n,c.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=n.stylize("[Circular]","special")),Eh(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function wX(n,e,t){var r=n.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}function kX(n){return Array.isArray(n)}function N4(n){return typeof n=="boolean"}function $4(n){return n===null}function SX(n){return typeof n=="number"}function q4(n){return typeof n=="string"}function Eh(n){return n===void 0}function Gg(n){return Ok(n)&&Dx(n)==="[object RegExp]"}function Ok(n){return typeof n=="object"&&n!==null}function D0(n){return Ok(n)&&Dx(n)==="[object Date]"}function y1(n){return Ok(n)&&(Dx(n)==="[object Error]"||n instanceof Error)}function Jg(n){return typeof n=="function"}function GC(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n>"u"}function Dx(n){return Object.prototype.toString.call(n)}function AX(n,e){if(!e||!Ok(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n}function z4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function JC(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var _X=Object.prototype.hasOwnProperty,QC=Object.keys||function(n){var e=[];for(var t in n)_X.call(n,t)&&e.push(t);return e},ZC=Array.prototype.slice,y_;function D4(){return typeof y_<"u"?y_:y_=function(){return(function(){}).name==="foo"}()}function XC(n){return Object.prototype.toString.call(n)}function eM(n){return Cn.isBuffer(n)||typeof hX.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n?!!(n instanceof DataView||n.buffer&&n.buffer instanceof ArrayBuffer):!1}function Xi(n,e){n||Us(n,!0,e,"==",Kx)}var vX=/\s*function\s+([^\(\s]*)\s*/;function U4(n){if(Jg(n)){if(D4())return n.name;var e=n.toString(),t=e.match(vX);return t&&t[1]}}Xi.AssertionError=Ux;function Ux(n){this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=EX(this),this.generatedMessage=!0);var e=n.stackStartFunction||Us;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var t=new Error;if(t.stack){var r=t.stack,i=U4(e),s=r.indexOf(`
`+i);if(s>=0){var o=r.indexOf(`
`,s+1);r=r.substring(o+1)}this.stack=r}}}fX(Ux,Error);function tM(n,e){return typeof n=="string"?n.length<e?n:n.slice(0,e):n}function nM(n){if(D4()||!Jg(n))return Zl(n);var e=U4(n),t=e?": "+e:"";return"[Function"+t+"]"}function EX(n){return tM(nM(n.actual),128)+" "+n.operator+" "+tM(nM(n.expected),128)}function Us(n,e,t,r,i){throw new Ux({message:t,actual:n,expected:e,operator:r,stackStartFunction:i})}Xi.fail=Us;function Kx(n,e){n||Us(n,!0,e,"==",Kx)}Xi.ok=Kx;Xi.equal=K4;function K4(n,e,t){n!=e&&Us(n,e,t,"==",K4)}Xi.notEqual=W4;function W4(n,e,t){n==e&&Us(n,e,t,"!=",W4)}Xi.deepEqual=F4;function F4(n,e,t){sf(n,e,!1)||Us(n,e,t,"deepEqual",F4)}Xi.deepStrictEqual=V4;function V4(n,e,t){sf(n,e,!0)||Us(n,e,t,"deepStrictEqual",V4)}function sf(n,e,t,r){if(n===e)return!0;if(Cn.isBuffer(n)&&Cn.isBuffer(e))return JC(n,e)===0;if(D0(n)&&D0(e))return n.getTime()===e.getTime();if(Gg(n)&&Gg(e))return n.source===e.source&&n.global===e.global&&n.multiline===e.multiline&&n.lastIndex===e.lastIndex&&n.ignoreCase===e.ignoreCase;if((n===null||typeof n!="object")&&(e===null||typeof e!="object"))return t?n===e:n==e;if(eM(n)&&eM(e)&&XC(n)===XC(e)&&!(n instanceof Float32Array||n instanceof Float64Array))return JC(new Uint8Array(n.buffer),new Uint8Array(e.buffer))===0;if(Cn.isBuffer(n)!==Cn.isBuffer(e))return!1;r=r||{actual:[],expected:[]};var i=r.actual.indexOf(n);return i!==-1&&i===r.expected.indexOf(e)?!0:(r.actual.push(n),r.expected.push(e),IX(n,e,t,r))}function rM(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function IX(n,e,t,r){if(n==null||e===null||e===void 0)return!1;if(GC(n)||GC(e))return n===e;if(t&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1;var i=rM(n),s=rM(e);if(i&&!s||!i&&s)return!1;if(i)return n=ZC.call(n),e=ZC.call(e),sf(n,e,t);var o=QC(n),a=QC(e),c,u;if(o.length!==a.length)return!1;for(o.sort(),a.sort(),u=o.length-1;u>=0;u--)if(o[u]!==a[u])return!1;for(u=o.length-1;u>=0;u--)if(c=o[u],!sf(n[c],e[c],t,r))return!1;return!0}Xi.notDeepEqual=j4;function j4(n,e,t){sf(n,e,!1)&&Us(n,e,t,"notDeepEqual",j4)}Xi.notDeepStrictEqual=H4;function H4(n,e,t){sf(n,e,!0)&&Us(n,e,t,"notDeepStrictEqual",H4)}Xi.strictEqual=Y4;function Y4(n,e,t){n!==e&&Us(n,e,t,"===",Y4)}Xi.notStrictEqual=G4;function G4(n,e,t){n===e&&Us(n,e,t,"!==",G4)}function iM(n,e){if(!n||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(n);try{if(n instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function RX(n){var e;try{n()}catch(t){e=t}return e}function J4(n,e,t,r){var i;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof t=="string"&&(r=t,t=null),i=RX(e),r=(t&&t.name?" ("+t.name+").":".")+(r?" "+r:"."),n&&!i&&Us(i,t,"Missing expected exception"+r);var s=typeof r=="string",o=!n&&y1(i),a=!n&&i&&!t;if((o&&s&&iM(i,t)||a)&&Us(i,t,"Got unwanted exception"+r),n&&i&&t&&!iM(i,t)||!n&&i)throw i}Xi.throws=PX;function PX(n,e,t){J4(!0,n,e,t)}Xi.doesNotThrow=xX;function xX(n,e,t){J4(!1,n,e,t)}Xi.ifError=BX;function BX(n){if(n)throw n}let $y=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};function TX(n,e){return e.property?n+"["+e.property+"]":n}let Eb=class extends $y{isCount(){throw new Error("ExternalLayout is abstract")}},Q4=class extends $y{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},CX=class extends $y{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof $y,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},MX=class extends $y{constructor(e,t){if(!(e instanceof Eb&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Eb||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Eb&&(i=e.length),!(Cn.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(TX("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Eb&&this.length.encode(i,t,r),i}};var kn=n=>new Q4(1,n),Qg=n=>new Q4(4,n),si=(n,e,t)=>new CX(n,e,t),Z4=(n,e)=>new MX(n,e);const ai=(n="publicKey")=>Z4(32,n),Io=(n="uint64")=>Z4(8,n);function gi(n,e,t,...r){return N0(e,t,r,{skipPreflight:!1})}const ta=new Se("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Wx=new Se("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),sM="Failed to find account",oM="Invalid account owner";function m_(n){return Cn.Buffer.from(n.toBuffer())}let bs=class X4 extends Zi{toBuffer(){const e=super.toArray().reverse(),t=Cn.Buffer.from(e);if(t.length===8)return t;Xi(t.length<8,"u64 too large");const r=Cn.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){return Xi(e.length===8,`Invalid buffer length: ${e.length}`),new X4([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};function Gs(n){return"publicKey"in n}const LX={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},eq=new Se("So11111111111111111111111111111111111111112"),Ih=si([Qg("mintAuthorityOption"),ai("mintAuthority"),Io("supply"),kn("decimals"),kn("isInitialized"),Qg("freezeAuthorityOption"),ai("freezeAuthority")]),bl=si([ai("mint"),ai("owner"),Io("amount"),Qg("delegateOption"),ai("delegate"),kn("state"),Qg("isNativeOption"),Io("isNative"),Io("delegatedAmount"),Qg("closeAuthorityOption"),ai("closeAuthority")]),Ib=si([kn("m"),kn("n"),kn("is_initialized"),ai("signer1"),ai("signer2"),ai("signer3"),ai("signer4"),ai("signer5"),ai("signer6"),ai("signer7"),ai("signer8"),ai("signer9"),ai("signer10"),ai("signer11")]);class mn{constructor(e,t,r,i){fg(this,"connection",void 0),fg(this,"publicKey",void 0),fg(this,"programId",void 0),fg(this,"associatedProgramId",void 0),fg(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:r,payer:i,associatedProgramId:Wx})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(Ih.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(bl.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(Ib.span)}static async createMint(e,t,r,i,s,o){const a=vh.generate(),c=new mn(e,a.publicKey,o,t),u=await mn.getMinBalanceRentForExemptMint(e),l=new _t;return l.add(br.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,lamports:u,space:Ih.span,programId:o})),l.add(mn.createInitMintInstruction(o,a.publicKey,s,r,i)),await gi("createAccount and InitializeMint",e,l,t,a),c}async createAccount(e){const t=await mn.getMinBalanceRentForExemptAccount(this.connection),r=vh.generate(),i=new _t;i.add(br.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:t,space:bl.span,programId:this.programId}));const s=this.publicKey;return i.add(mn.createInitAccountInstruction(this.programId,s,r.publicKey,e)),await gi("createAccount and InitializeAccount",this.connection,i,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const t=await mn.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await gi("CreateAssociatedTokenAccount",this.connection,new _t().add(mn.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await mn.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(r){if(r.message===sM||r.message===oM){try{await this.createAssociatedTokenAccountInternal(e,t)}catch{}return await this.getAccountInfo(t)}else throw r}}static async createWrappedNativeAccount(e,t,r,i,s){const o=await mn.getMinBalanceRentForExemptAccount(e),a=vh.generate(),c=new _t;return c.add(br.createAccount({fromPubkey:i.publicKey,newAccountPubkey:a.publicKey,lamports:o,space:bl.span,programId:t})),c.add(br.transfer({fromPubkey:i.publicKey,toPubkey:a.publicKey,lamports:s})),c.add(mn.createInitAccountInstruction(t,eq,a.publicKey,r)),await gi("createAccount, transfer, and initializeAccount",e,c,i,a),a.publicKey}async createMultisig(e,t){const r=vh.generate(),i=await mn.getMinBalanceRentForExemptMultisig(this.connection),s=new _t;s.add(br.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:i,space:Ib.span,programId:this.programId}));let o=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1}];t.forEach(u=>o.push({pubkey:u,isSigner:!1,isWritable:!1}));const a=si([kn("instruction"),kn("m")]),c=Cn.Buffer.alloc(a.span);return a.encode({instruction:2,m:e},c),s.add({keys:o,programId:this.programId,data:c}),await gi("createAccount and InitializeMultisig",this.connection,s,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=Ih.span)throw new Error("Invalid mint size");const t=Cn.Buffer.from(e.data),r=Ih.decode(t);return r.mintAuthorityOption===0?r.mintAuthority=null:r.mintAuthority=new Se(r.mintAuthority),r.supply=bs.fromBuffer(r.supply),r.isInitialized=r.isInitialized!=0,r.freezeAuthorityOption===0?r.freezeAuthority=null:r.freezeAuthority=new Se(r.freezeAuthority),r}async getAccountInfo(e,t){const r=await this.connection.getAccountInfo(e,t);if(r===null)throw new Error(sM);if(!r.owner.equals(this.programId))throw new Error(oM);if(r.data.length!=bl.span)throw new Error("Invalid account size");const i=Cn.Buffer.from(r.data),s=bl.decode(i);if(s.address=e,s.mint=new Se(s.mint),s.owner=new Se(s.owner),s.amount=bs.fromBuffer(s.amount),s.delegateOption===0?(s.delegate=null,s.delegatedAmount=new bs):(s.delegate=new Se(s.delegate),s.delegatedAmount=bs.fromBuffer(s.delegatedAmount)),s.isInitialized=s.state!==0,s.isFrozen=s.state===2,s.isNativeOption===1?(s.rentExemptReserve=bs.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),s.closeAuthorityOption===0?s.closeAuthority=null:s.closeAuthority=new Se(s.closeAuthority),!s.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(s.mint)} !== ${JSON.stringify(this.publicKey)}`);return s}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(t===null)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=Ib.span)throw new Error("Invalid multisig size");const r=Cn.Buffer.from(t.data),i=Ib.decode(r);return i.signer1=new Se(i.signer1),i.signer2=new Se(i.signer2),i.signer3=new Se(i.signer3),i.signer4=new Se(i.signer4),i.signer5=new Se(i.signer5),i.signer6=new Se(i.signer6),i.signer7=new Se(i.signer7),i.signer8=new Se(i.signer8),i.signer9=new Se(i.signer9),i.signer10=new Se(i.signer10),i.signer11=new Se(i.signer11),i}async transfer(e,t,r,i,s){let o,a;return Gs(r)?(o=r.publicKey,a=[r]):(o=r,a=i),await gi("Transfer",this.connection,new _t().add(mn.createTransferInstruction(this.programId,e,t,o,i,s)),this.payer,...a)}async approve(e,t,r,i,s){let o,a;Gs(r)?(o=r.publicKey,a=[r]):(o=r,a=i),await gi("Approve",this.connection,new _t().add(mn.createApproveInstruction(this.programId,e,t,o,i,s)),this.payer,...a)}async revoke(e,t,r){let i,s;Gs(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await gi("Revoke",this.connection,new _t().add(mn.createRevokeInstruction(this.programId,e,i,r)),this.payer,...s)}async setAuthority(e,t,r,i,s){let o,a;Gs(i)?(o=i.publicKey,a=[i]):(o=i,a=s),await gi("SetAuthority",this.connection,new _t().add(mn.createSetAuthorityInstruction(this.programId,e,t,r,o,s)),this.payer,...a)}async mintTo(e,t,r,i){let s,o;Gs(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await gi("MintTo",this.connection,new _t().add(mn.createMintToInstruction(this.programId,this.publicKey,e,s,r,i)),this.payer,...o)}async burn(e,t,r,i){let s,o;Gs(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await gi("Burn",this.connection,new _t().add(mn.createBurnInstruction(this.programId,this.publicKey,e,s,r,i)),this.payer,...o)}async closeAccount(e,t,r,i){let s,o;Gs(r)?(s=r.publicKey,o=[r]):(s=r,o=i),await gi("CloseAccount",this.connection,new _t().add(mn.createCloseAccountInstruction(this.programId,e,t,s,i)),this.payer,...o)}async freezeAccount(e,t,r){let i,s;Gs(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await gi("FreezeAccount",this.connection,new _t().add(mn.createFreezeAccountInstruction(this.programId,e,this.publicKey,i,r)),this.payer,...s)}async thawAccount(e,t,r){let i,s;Gs(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await gi("ThawAccount",this.connection,new _t().add(mn.createThawAccountInstruction(this.programId,e,this.publicKey,i,r)),this.payer,...s)}async transferChecked(e,t,r,i,s,o){let a,c;return Gs(r)?(a=r.publicKey,c=[r]):(a=r,c=i),await gi("TransferChecked",this.connection,new _t().add(mn.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,a,i,s,o)),this.payer,...c)}async approveChecked(e,t,r,i,s,o){let a,c;Gs(r)?(a=r.publicKey,c=[r]):(a=r,c=i),await gi("ApproveChecked",this.connection,new _t().add(mn.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,a,i,s,o)),this.payer,...c)}async mintToChecked(e,t,r,i,s){let o,a;Gs(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await gi("MintToChecked",this.connection,new _t().add(mn.createMintToCheckedInstruction(this.programId,this.publicKey,e,o,r,i,s)),this.payer,...a)}async burnChecked(e,t,r,i,s){let o,a;Gs(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await gi("BurnChecked",this.connection,new _t().add(mn.createBurnCheckedInstruction(this.programId,this.publicKey,e,o,r,i,s)),this.payer,...a)}async syncNative(e){await gi("SyncNative",this.connection,new _t().add(mn.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,r,i,s){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ea,isSigner:!1,isWritable:!1}];const a=si([kn("instruction"),kn("decimals"),ai("mintAuthority"),kn("option"),ai("freezeAuthority")]);let c=Cn.Buffer.alloc(1024);{const u=a.encode({instruction:0,decimals:r,mintAuthority:m_(i),option:s===null?0:1,freezeAuthority:m_(s||new Se(0))},c);c=c.slice(0,u)}return new Et({keys:o,programId:e,data:c})}static createInitAccountInstruction(e,t,r,i){const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1}],o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);return o.encode({instruction:1},a),new Et({keys:s,programId:e,data:a})}static createTransferInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Io("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:3,amount:new bs(o).toBuffer()},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createApproveInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Io("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:4,amount:new bs(o).toBuffer()},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createRevokeInstruction(e,t,r,i){const s=si([kn("instruction")]),o=Cn.Buffer.alloc(s.span);s.encode({instruction:5},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0}];return i.length===0?a.push({pubkey:r,isSigner:!0,isWritable:!1}):(a.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach(c=>a.push({pubkey:c.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:a,programId:e,data:o})}static createSetAuthorityInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),kn("authorityType"),kn("option"),ai("newAuthority")]);let c=Cn.Buffer.alloc(1024);{const l=a.encode({instruction:6,authorityType:LX[i],option:r===null?0:1,newAuthority:m_(r||new Se(0))},c);c=c.slice(0,l)}let u=[{pubkey:t,isSigner:!1,isWritable:!0}];return o.length===0?u.push({pubkey:s,isSigner:!0,isWritable:!1}):(u.push({pubkey:s,isSigner:!1,isWritable:!1}),o.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createMintToInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Io("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:7,amount:new bs(o).toBuffer()},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createBurnInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Io("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:8,amount:new bs(o).toBuffer()},c);let u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createCloseAccountInstruction(e,t,r,i,s){const o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);o.encode({instruction:9},a);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(u=>c.push({pubkey:u.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:c,programId:e,data:a})}static createFreezeAccountInstruction(e,t,r,i,s){const o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);o.encode({instruction:10},a);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(u=>c.push({pubkey:u.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:c,programId:e,data:a})}static createThawAccountInstruction(e,t,r,i,s){const o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);o.encode({instruction:11},a);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(u=>c.push({pubkey:u.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:c,programId:e,data:a})}static createTransferCheckedInstruction(e,t,r,i,s,o,a,c){const u=si([kn("instruction"),Io("amount"),kn("decimals")]),l=Cn.Buffer.alloc(u.span);u.encode({instruction:12,amount:new bs(a).toBuffer(),decimals:c},l);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:s,isSigner:!0,isWritable:!1}):(d.push({pubkey:s,isSigner:!1,isWritable:!1}),o.forEach(b=>d.push({pubkey:b.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:d,programId:e,data:l})}static createApproveCheckedInstruction(e,t,r,i,s,o,a,c){const u=si([kn("instruction"),Io("amount"),kn("decimals")]),l=Cn.Buffer.alloc(u.span);u.encode({instruction:13,amount:new bs(a).toBuffer(),decimals:c},l);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return o.length===0?d.push({pubkey:s,isSigner:!0,isWritable:!1}):(d.push({pubkey:s,isSigner:!1,isWritable:!1}),o.forEach(b=>d.push({pubkey:b.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:d,programId:e,data:l})}static createMintToCheckedInstruction(e,t,r,i,s,o,a){const c=si([kn("instruction"),Io("amount"),kn("decimals")]),u=Cn.Buffer.alloc(c.span);c.encode({instruction:14,amount:new bs(o).toBuffer(),decimals:a},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(d=>l.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:l,programId:e,data:u})}static createBurnCheckedInstruction(e,t,r,i,s,o,a){const c=si([kn("instruction"),Io("amount"),kn("decimals")]),u=Cn.Buffer.alloc(c.span);c.encode({instruction:15,amount:new bs(o).toBuffer(),decimals:a},u);let l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return s.length===0?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(d=>l.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:l,programId:e,data:u})}static createSyncNativeInstruction(e,t){const r=si([kn("instruction")]),i=Cn.Buffer.alloc(r.span);r.encode({instruction:17},i);let s=[{pubkey:t,isSigner:!1,isWritable:!0}];return new Et({keys:s,programId:e,data:i})}static async getAssociatedTokenAddress(e,t,r,i,s=!1){if(!s&&!Se.isOnCurve(i.toBuffer()))throw new Error(`Owner cannot sign: ${i.toString()}`);return(await Se.findProgramAddress([i.toBuffer(),t.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,r,i,s,o){const a=Cn.Buffer.alloc(0);let c=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:br.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1}];return new Et({keys:c,programId:e,data:a})}}const OX=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID:Wx,AccountLayout:bl,MintLayout:Ih,NATIVE_MINT:eq,TOKEN_PROGRAM_ID:ta,Token:mn,u64:bs},Symbol.toStringTag,{value:"Module"}));var tq={exports:{}},nq=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},NX=nq,sl=Object.prototype.toString;function Fx(n){return Array.isArray(n)}function $I(n){return typeof n>"u"}function $X(n){return n!==null&&!$I(n)&&n.constructor!==null&&!$I(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function rq(n){return sl.call(n)==="[object ArrayBuffer]"}function qX(n){return sl.call(n)==="[object FormData]"}function zX(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&rq(n.buffer),e}function DX(n){return typeof n=="string"}function UX(n){return typeof n=="number"}function iq(n){return n!==null&&typeof n=="object"}function m1(n){if(sl.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function KX(n){return sl.call(n)==="[object Date]"}function WX(n){return sl.call(n)==="[object File]"}function FX(n){return sl.call(n)==="[object Blob]"}function sq(n){return sl.call(n)==="[object Function]"}function VX(n){return iq(n)&&sq(n.pipe)}function jX(n){return sl.call(n)==="[object URLSearchParams]"}function HX(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function YX(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Vx(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),Fx(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function qI(){var n={};function e(i,s){m1(n[s])&&m1(i)?n[s]=qI(n[s],i):m1(i)?n[s]=qI({},i):Fx(i)?n[s]=i.slice():n[s]=i}for(var t=0,r=arguments.length;t<r;t++)Vx(arguments[t],e);return n}function GX(n,e,t){return Vx(e,function(i,s){t&&typeof i=="function"?n[s]=NX(i,t):n[s]=i}),n}function JX(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var Vs={isArray:Fx,isArrayBuffer:rq,isBuffer:$X,isFormData:qX,isArrayBufferView:zX,isString:DX,isNumber:UX,isObject:iq,isPlainObject:m1,isUndefined:$I,isDate:KX,isFile:WX,isBlob:FX,isFunction:sq,isStream:VX,isURLSearchParams:jX,isStandardBrowserEnv:YX,forEach:Vx,merge:qI,extend:GX,trim:HX,stripBOM:JX},Yd=Vs;function aM(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var oq=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(Yd.isURLSearchParams(t))i=t.toString();else{var s=[];Yd.forEach(t,function(c,u){c===null||typeof c>"u"||(Yd.isArray(c)?u=u+"[]":c=[c],Yd.forEach(c,function(d){Yd.isDate(d)?d=d.toISOString():Yd.isObject(d)&&(d=JSON.stringify(d)),s.push(aM(u)+"="+aM(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},QX=Vs;function Nk(){this.handlers=[]}Nk.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Nk.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Nk.prototype.forEach=function(e){QX.forEach(this.handlers,function(r){r!==null&&e(r)})};var ZX=Nk,XX=Vs,eee=function(e,t){XX.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},aq=function(e,t,r,i,s){return e.config=t,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},b_,cM;function cq(){if(cM)return b_;cM=1;var n=aq;return b_=function(t,r,i,s,o){var a=new Error(t);return n(a,r,i,s,o)},b_}var w_,uM;function tee(){if(uM)return w_;uM=1;var n=cq();return w_=function(t,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):r(n("Request failed with status code "+i.status,i.config,null,i.request,i))},w_}var k_,lM;function nee(){if(lM)return k_;lM=1;var n=Vs;return k_=n.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,c){var u=[];u.push(r+"="+encodeURIComponent(i)),n.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),k_}var S_,dM;function ree(){return dM||(dM=1,S_=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),S_}var A_,hM;function iee(){return hM||(hM=1,A_=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),A_}var __,fM;function see(){if(fM)return __;fM=1;var n=ree(),e=iee();return __=function(r,i){return r&&!n(i)?e(r,i):i},__}var v_,pM;function oee(){if(pM)return v_;pM=1;var n=Vs,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return v_=function(r){var i={},s,o,a;return r&&n.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=n.trim(u.substr(0,a)).toLowerCase(),o=n.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},v_}var E_,gM;function aee(){if(gM)return E_;gM=1;var n=Vs;return E_=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var c=n.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),E_}var I_,yM;function $k(){if(yM)return I_;yM=1;function n(e){this.message=e}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,I_=n,I_}var R_,mM;function bM(){if(mM)return R_;mM=1;var n=Vs,e=tee(),t=nee(),r=oq,i=see(),s=oee(),o=aee(),a=cq(),c=qk(),u=$k();return R_=function(d){return new Promise(function(p,g){var y=d.data,S=d.headers,w=d.responseType,_;function R(){d.cancelToken&&d.cancelToken.unsubscribe(_),d.signal&&d.signal.removeEventListener("abort",_)}n.isFormData(y)&&delete S["Content-Type"];var x=new XMLHttpRequest;if(d.auth){var K=d.auth.username||"",J=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";S.Authorization="Basic "+btoa(K+":"+J)}var M=i(d.baseURL,d.url);x.open(d.method.toUpperCase(),r(M,d.params,d.paramsSerializer),!0),x.timeout=d.timeout;function Z(){if(x){var X="getAllResponseHeaders"in x?s(x.getAllResponseHeaders()):null,ne=!w||w==="text"||w==="json"?x.responseText:x.response,ae={data:ne,status:x.status,statusText:x.statusText,headers:X,config:d,request:x};e(function(m){p(m),R()},function(m){g(m),R()},ae),x=null}}if("onloadend"in x?x.onloadend=Z:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(Z)},x.onabort=function(){x&&(g(a("Request aborted",d,"ECONNABORTED",x)),x=null)},x.onerror=function(){g(a("Network Error",d,null,x)),x=null},x.ontimeout=function(){var ne=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",ae=d.transitional||c.transitional;d.timeoutErrorMessage&&(ne=d.timeoutErrorMessage),g(a(ne,d,ae.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},n.isStandardBrowserEnv()){var ie=(d.withCredentials||o(M))&&d.xsrfCookieName?t.read(d.xsrfCookieName):void 0;ie&&(S[d.xsrfHeaderName]=ie)}"setRequestHeader"in x&&n.forEach(S,function(ne,ae){typeof y>"u"&&ae.toLowerCase()==="content-type"?delete S[ae]:x.setRequestHeader(ae,ne)}),n.isUndefined(d.withCredentials)||(x.withCredentials=!!d.withCredentials),w&&w!=="json"&&(x.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&x.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(_=function(X){x&&(g(!X||X&&X.type?new u("canceled"):X),x.abort(),x=null)},d.cancelToken&&d.cancelToken.subscribe(_),d.signal&&(d.signal.aborted?_():d.signal.addEventListener("abort",_))),y||(y=null),x.send(y)})},R_}var P_,wM;function qk(){if(wM)return P_;wM=1;var n=Vs,e=eee,t=aq,r={"Content-Type":"application/x-www-form-urlencoded"};function i(c,u){!n.isUndefined(c)&&n.isUndefined(c["Content-Type"])&&(c["Content-Type"]=u)}function s(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=bM()),c}function o(c,u,l){if(n.isString(c))try{return(u||JSON.parse)(c),n.trim(c)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(c)}var a={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:s(),transformRequest:[function(u,l){return e(l,"Accept"),e(l,"Content-Type"),n.isFormData(u)||n.isArrayBuffer(u)||n.isBuffer(u)||n.isStream(u)||n.isFile(u)||n.isBlob(u)?u:n.isArrayBufferView(u)?u.buffer:n.isURLSearchParams(u)?(i(l,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):n.isObject(u)||l&&l["Content-Type"]==="application/json"?(i(l,"application/json"),o(u)):u}],transformResponse:[function(u){var l=this.transitional||a.transitional,d=l&&l.silentJSONParsing,b=l&&l.forcedJSONParsing,p=!d&&this.responseType==="json";if(p||b&&n.isString(u)&&u.length)try{return JSON.parse(u)}catch(g){if(p)throw g.name==="SyntaxError"?t(g,this,"E_JSON_PARSE"):g}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return n.forEach(["delete","get","head"],function(u){a.headers[u]={}}),n.forEach(["post","put","patch"],function(u){a.headers[u]=n.merge(r)}),P_=a,P_}var cee=Vs,uee=qk(),lee=function(e,t,r){var i=this||uee;return cee.forEach(r,function(o){e=o.call(i,e,t)}),e},x_,kM;function uq(){return kM||(kM=1,x_=function(e){return!!(e&&e.__CANCEL__)}),x_}var SM=Vs,B_=lee,dee=uq(),hee=qk(),fee=$k();function T_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fee("canceled")}var pee=function(e){T_(e),e.headers=e.headers||{},e.data=B_.call(e,e.data,e.headers,e.transformRequest),e.headers=SM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),SM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||hee.adapter;return t(e).then(function(i){return T_(e),i.data=B_.call(e,i.data,i.headers,e.transformResponse),i},function(i){return dee(i)||(T_(e),i&&i.response&&(i.response.data=B_.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Js=Vs,lq=function(e,t){t=t||{};var r={};function i(l,d){return Js.isPlainObject(l)&&Js.isPlainObject(d)?Js.merge(l,d):Js.isPlainObject(d)?Js.merge({},d):Js.isArray(d)?d.slice():d}function s(l){if(Js.isUndefined(t[l])){if(!Js.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],t[l])}function o(l){if(!Js.isUndefined(t[l]))return i(void 0,t[l])}function a(l){if(Js.isUndefined(t[l])){if(!Js.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,t[l])}function c(l){if(l in t)return i(e[l],t[l]);if(l in e)return i(void 0,e[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Js.forEach(Object.keys(e).concat(Object.keys(t)),function(d){var b=u[d]||s,p=b(d);Js.isUndefined(p)&&b!==c||(r[d]=p)}),r},C_,AM;function dq(){return AM||(AM=1,C_={version:"0.25.0"}),C_}var gee=dq().version,jx={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){jx[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var _M={};jx.transitional=function(e,t,r){function i(s,o){return"[Axios v"+gee+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(t?" in "+t:"")));return t&&!_M[o]&&(_M[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function yee(n,e,t){if(typeof n!="object")throw new TypeError("options must be an object");for(var r=Object.keys(n),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(t!==!0)throw Error("Unknown option "+s)}}var mee={assertOptions:yee,validators:jx},hq=Vs,bee=oq,vM=ZX,EM=pee,zk=lq,fq=mee,Gd=fq.validators;function Nm(n){this.defaults=n,this.interceptors={request:new vM,response:new vM}}Nm.prototype.request=function(e,t){if(typeof e=="string"?(t=t||{},t.url=e):t=e||{},!t.url)throw new Error("Provided config url is not valid");t=zk(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&fq.assertOptions(r,{silentJSONParsing:Gd.transitional(Gd.boolean),forcedJSONParsing:Gd.transitional(Gd.boolean),clarifyTimeoutError:Gd.transitional(Gd.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(s=s&&p.synchronous,i.unshift(p.fulfilled,p.rejected))});var o=[];this.interceptors.response.forEach(function(p){o.push(p.fulfilled,p.rejected)});var a;if(!s){var c=[EM,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(t);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=t;i.length;){var l=i.shift(),d=i.shift();try{u=l(u)}catch(b){d(b);break}}try{a=EM(u)}catch(b){return Promise.reject(b)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};Nm.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=zk(this.defaults,e),bee(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};hq.forEach(["delete","get","head","options"],function(e){Nm.prototype[e]=function(t,r){return this.request(zk(r||{},{method:e,url:t,data:(r||{}).data}))}});hq.forEach(["post","put","patch"],function(e){Nm.prototype[e]=function(t,r,i){return this.request(zk(i||{},{method:e,url:t,data:r}))}});var wee=Nm,M_,IM;function kee(){if(IM)return M_;IM=1;var n=$k();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o){i.reason||(i.reason=new n(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},M_=e,M_}var L_,RM;function See(){return RM||(RM=1,L_=function(e){return function(r){return e.apply(null,r)}}),L_}var O_,PM;function Aee(){if(PM)return O_;PM=1;var n=Vs;return O_=function(t){return n.isObject(t)&&t.isAxiosError===!0},O_}var xM=Vs,_ee=nq,b1=wee,vee=lq,Eee=qk();function pq(n){var e=new b1(n),t=_ee(b1.prototype.request,e);return xM.extend(t,b1.prototype,e),xM.extend(t,e),t.create=function(i){return pq(vee(n,i))},t}var cc=pq(Eee);cc.Axios=b1;cc.Cancel=$k();cc.CancelToken=kee();cc.isCancel=uq();cc.VERSION=dq().version;cc.all=function(e){return Promise.all(e)};cc.spread=See();cc.isAxiosError=Aee();tq.exports=cc;tq.exports.default=cc;var eu={},ud={};let Iee=class extends TypeError{constructor(e,t){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function Ree(n){return Wc(n)&&typeof n[Symbol.iterator]=="function"}function Wc(n){return typeof n=="object"&&n!=null}function ca(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Pee(n){const{done:e,value:t}=n.next();return e?void 0:t}function xee(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ca(r)}\``}=n;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...n,message:c}}function*BM(n,e,t,r){Ree(n)||(n=[n]);for(const i of n){const s=xee(i,e,t,r);s&&(yield s)}}function*Hx(n,e,t={}){const{path:r=[],branch:i=[n],coerce:s=!1,mask:o=!1}=t,a={path:r,branch:i};if(s&&(n=e.coercer(n,a),o&&e.type!=="type"&&Wc(e.schema)&&Wc(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const b=Hx(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:t.message});for(const p of b)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(l=p[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Wc(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}let uc=class{constructor(e){const{type:t,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return BM(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return BM(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return Lp(e,this,t)}create(e,t){return q(e,this,t)}is(e){return gq(e,this)}mask(e,t){return Bee(e,this,t)}validate(e,t={}){return $m(e,this,t)}};function Lp(n,e,t){const r=$m(n,e,{message:t});if(r[0])throw r[0]}function q(n,e,t){const r=$m(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Bee(n,e,t){const r=$m(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function gq(n,e){return!$m(n,e)[0]}function $m(n,e,t={}){const r=Hx(n,e,t),i=Pee(r);return i[0]?[new Iee(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Pd(n,e){return new uc({type:n,schema:null,validator:e})}function qm(){return Pd("any",()=>!0)}function V(n){return new uc({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ca(e)}`}})}function St(){return Pd("boolean",n=>typeof n=="boolean")}function gs(n){return Pd("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${ca(e)}`)}function _e(n){const e=ca(n),t=typeof n;return new uc({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${ca(r)}`}})}function Tee(){return Pd("never",()=>!1)}function F(n){return new uc({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function k(){return Pd("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${ca(n)}`)}function te(n){return new uc({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function lc(n,e){return new uc({type:"record",schema:null,*entries(t){if(Wc(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Wc(t)||`Expected an object, but received: ${ca(t)}`}})}function O(){return Pd("string",n=>typeof n=="string"||`Expected a string, but received: ${ca(n)}`)}function ys(n){const e=Tee();return new uc({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${ca(t)}`}})}function P(n){const e=Object.keys(n);return new uc({type:"type",schema:n,*entries(t){if(Wc(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Wc(t)||`Expected an object, but received: ${ca(t)}`},coercer(t){return Wc(t)?{...t}:t}})}function tt(n){const e=n.map(t=>t.type).join(" | ");return new uc({type:"union",schema:null,coercer(t){for(const r of n){const[i,s]=r.validate(t,{coerce:!0});if(!i)return s}return t},validator(t,r){const i=[];for(const s of n){const[...o]=Hx(t,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ca(t)}`,...i]}})}function Ar(){return Pd("unknown",()=>!0)}function _r(n,e,t){return new uc({...n,coercer:(r,i)=>gq(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var yq={},of={};Object.defineProperty(of,"__esModule",{value:!0});of.createError=of.DefaultDataPack=void 0;const Cee=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let Mee=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};of.DefaultDataPack=Mee;function Lee(n,e){const t={code:n,message:Cee.get(n)||"Internal Server Error"};return e&&(t.data=e),t}of.createError=Lee;Object.defineProperty(yq,"__esModule",{value:!0});const Oee=Ko,Nee=of;let $ee=class extends Oee.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Nee.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var qee=yq.default=$ee,mq={};Object.defineProperty(mq,"__esModule",{value:!0});const zee=Ko;let Dee=class extends zee.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function Uee(n,e){return new Dee(n,e)}var Kee=mq.default=Uee;const Wee=sn.utils.randomPrivateKey,TM=()=>{const n=sn.utils.randomPrivateKey(),e=U0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},U0=sn.getPublicKey;function CM(n){try{return sn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Yx=(n,e)=>sn.sign(n,e.slice(0,32)),Fee=sn.verify,Kt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let Gx=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(Zg,this))}static decode(e){return Pp(Zg,this,e)}static decodeUnchecked(e){return Ip(Zg,this,e)}},Vee=class extends Gx{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const Zg=new Map;var bq;const wq=32,Qa=32;function jee(n){return n._bn!==void 0}let MM=1,Ve=class nh extends Gx{constructor(e){if(super({}),this._bn=void 0,jee(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Qa)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Qa)throw new Error("Invalid public key input")}}static unique(){const e=new nh(MM);return MM+=1,new nh(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Qa)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=fo(i);return new nh(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>wq)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Kt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=fo(r);if(CM(i))throw new Error("Invalid seeds, address must fall off the curve");return new nh(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new nh(e);return CM(t.toBytes())}};bq=Ve;Ve.default=new bq("11111111111111111111111111111111");Zg.set(Ve,{kind:"struct",fields:[["_bn","u256"]]});let Hee=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Kt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Kt(Wee()),this._publicKey=Kt(U0(this._secretKey))}get publicKey(){return new Ve(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const Yee=new Ve("BPFLoader1111111111111111111111111111111111"),$u=1232,Dk=127,qy=64;let Jx=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Jx.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Qx=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Qx.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Rh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Rh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let zy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Gt=(n="publicKey")=>pe(32,n),Gee=(n="signature")=>pe(64,n),Nl=(n="string")=>{const e=U([D("length"),D("lengthPadding"),pe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},Jee=(n="authorized")=>U([Gt("staker"),Gt("withdrawer")],n),Qee=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Gt("custodian")],n),Zee=(n="voteInit")=>U([Gt("nodePubkey"),Gt("authorizedVoter"),Gt("authorizedWithdrawer"),oe("commission")],n),Xee=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Gt("currentAuthorityDerivedKeyOwnerPubkey"),Nl("currentAuthorityDerivedKeySeed"),Gt("newAuthorized")],n);function kq(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return kq({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Ss(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function to(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function An(n,e){if(!n)throw new Error(e||"Assertion failed")}let Sq=class Aq{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new Aq(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];An(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{An(t.length>0,"Expected at least one writable signer key");const[c]=t[0];An(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ve(c)),...r.map(([c])=>new Ve(c)),...i.map(([c])=>new Ve(c)),...s.map(([c])=>new Ve(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ve(s),c=e.findIndex(u=>u.equals(a));c>=0&&(An(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const _q="Reached end of buffer unexpectedly";function Ca(n){if(n.length===0)throw new Error(_q);return n.shift()}function As(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(_q);return n.splice(...e)}let Ju=class zI{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ve(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new zy(this.staticAccountKeys)}static compile(e){const t=Sq.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new zy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new zI({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];to(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];to(y,b.length);let S=[];return to(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];to(i,r.length);let s=H.Buffer.alloc($u);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([oe("programIdIndex"),pe(d.keyIndicesCount.length,"keyIndicesCount"),Te(oe("keyIndex"),d.keyIndices.length,"keyIndices"),pe(d.dataLength.length,"dataLength"),Te(oe("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([pe(1,"numRequiredSignatures"),pe(1,"numReadonlySignedAccounts"),pe(1,"numReadonlyUnsignedAccounts"),pe(t.length,"keyCount"),Te(Gt("key"),e,"keys"),Gt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Kt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Ca(t);if(r!==(r&Dk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ca(t),s=Ca(t),o=Ss(t);let a=[];for(let b=0;b<o;b++){const p=As(t,0,Qa);a.push(new Ve(H.Buffer.from(p)))}const c=As(t,0,Qa),u=Ss(t);let l=[];for(let b=0;b<u;b++){const p=Ca(t),g=Ss(t),y=As(t,0,g),S=Ss(t),w=As(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new zI(d)}},Uk=class DI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new zy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Sq.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new zy(a,i).compileInstructions(e.instructions);return new DI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();to(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();to(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();to(s,this.addressTableLookups.length);const o=U([oe("prefix"),U([oe("numRequiredSignatures"),oe("numReadonlySignedAccounts"),oe("numReadonlyUnsignedAccounts")],"header"),pe(e.length,"staticAccountKeysLength"),Te(Gt(),this.staticAccountKeys.length,"staticAccountKeys"),Gt("recentBlockhash"),pe(r.length,"instructionsLength"),pe(t.length,"serializedInstructions"),pe(s.length,"addressTableLookupsLength"),pe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array($u),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array($u);for(const r of this.compiledInstructions){const i=Array();to(i,r.accountKeyIndexes.length);const s=Array();to(s,r.data.length);const o=U([oe("programIdIndex"),pe(i.length,"encodedAccountKeyIndexesLength"),Te(oe(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe(s.length,"encodedDataLength"),pe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array($u);for(const r of this.addressTableLookups){const i=Array();to(i,r.writableIndexes.length);const s=Array();to(s,r.readonlyIndexes.length);const o=U([Gt("accountKey"),pe(i.length,"encodedWritableIndexesLength"),Te(oe(),r.writableIndexes.length,"writableIndexes"),pe(s.length,"encodedReadonlyIndexesLength"),Te(oe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ca(t),i=r&Dk;An(r!==i,"Expected versioned message but received legacy message");const s=i;An(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Ca(t),numReadonlySignedAccounts:Ca(t),numReadonlyUnsignedAccounts:Ca(t)},a=[],c=Ss(t);for(let g=0;g<c;g++)a.push(new Ve(As(t,0,Qa)));const u=Pe.encode(As(t,0,Qa)),l=Ss(t),d=[];for(let g=0;g<l;g++){const y=Ca(t),S=Ss(t),w=As(t,0,S),_=Ss(t),R=new Uint8Array(As(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=Ss(t),p=[];for(let g=0;g<b;g++){const y=new Ve(As(t,0,Qa)),S=Ss(t),w=As(t,0,S),_=Ss(t),R=As(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new DI({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const Zx={deserializeMessageVersion(n){const e=n[0],t=e&Dk;return t===e?"legacy":t},deserialize:n=>{const e=Zx.deserializeMessageVersion(n);if(e==="legacy")return Ju.from(n);if(e===0)return Uk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Sc=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ete=H.Buffer.alloc(qy).fill(0);let sr=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},er=class UI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new sr(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new Ve(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{An(y.programIdIndex>=0),y.accounts.forEach(S=>An(S>=0))}),new Ju({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=Yx(r,i.secretKey);this._addSignature(i.publicKey,Kt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){An(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Fee(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];to(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return An(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(An(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),An(s.length<=$u,`Transaction too large: ${s.length} > ${$u}`),s}get keys(){return An(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return An(this.instructions.length===1),this.instructions[0].programId}get data(){return An(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Ss(t);let i=[];for(let s=0;s<r;s++){const o=As(t,0,qy);i.push(Pe.encode(H.Buffer.from(o)))}return UI.populate(Ju.from(t),i)}static populate(e,t=[]){const r=new UI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(ete)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new sr({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},tte=class vq{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;An(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;An(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new sr({programId:S,data:Kt(g.data),keys:y}))}return new vq({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Ju.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Uk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},nte=class Eq{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)An(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(qy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();to(t,this.signatures.length);const r=U([pe(t.length,"encodedSignaturesLength"),Te(Gee(),this.signatures.length,"signatures"),pe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Ss(t);for(let o=0;o<i;o++)r.push(new Uint8Array(As(t,0,qy)));const s=Zx.deserialize(new Uint8Array(t));return new Eq(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));An(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Yx(t,i.secretKey)}}addSignature(e,t){An(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));An(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const rte=160,ite=64,ste=rte/ite,Iq=1e3/ste,Sa=new Ve("SysvarC1ock11111111111111111111111111111111"),ote=new Ve("SysvarEpochSchedu1e111111111111111111111111"),ate=new Ve("Sysvar1nstructions1111111111111111111111111"),w1=new Ve("SysvarRecentB1ockHashes11111111111111111111"),af=new Ve("SysvarRent111111111111111111111111111111111"),cte=new Ve("SysvarRewards111111111111111111111111111111"),ute=new Ve("SysvarS1otHashes111111111111111111111111111"),lte=new Ve("SysvarS1otHistory11111111111111111111111111"),k1=new Ve("SysvarStakeHistory1111111111111111111111111");let Dy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const dte={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let dt=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function KI(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Dy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function wl(n){return new Promise(e=>setTimeout(e,n))}function ln(n,e){const t=n.layout.span>=0?n.layout.span:kq(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function qn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const Rq=Be("lamportsPerSignature"),Pq=U([D("version"),D("state"),Gt("authorizedPubkey"),Gt("nonce"),U([Rq],"feeCalculator")]),WI=Pq.span;let xq=class Bq{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Pq.decode(Kt(e),0);return new Bq({authorizedPubkey:new Ve(t.authorizedPubkey),nonce:new Ve(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const hte=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},fte=n=>e=>{const t=pe(n,e),{encode:r,decode:i}=hte(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Uo(o,n);return r(u,a,c)},s},cf=fte(8);let pte=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(fr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=qn(fr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ve(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=qn(fr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=qn(fr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ve(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=qn(fr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=qn(fr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ve(t),seed:r,space:i,programId:new Ve(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=qn(fr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ve(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=qn(fr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ve(t),seed:r,programId:new Ve(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=qn(fr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ve(t),seed:r,lamports:i,space:s,programId:new Ve(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=qn(fr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ve(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),qn(fr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=qn(fr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=qn(fr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ve(t)}}static checkProgramId(e){if(!e.equals(is.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const fr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Gt("programId")])},Assign:{index:1,layout:U([D("instruction"),Gt("programId")])},Transfer:{index:2,layout:U([D("instruction"),cf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Gt("base"),Nl("seed"),Je("lamports"),Je("space"),Gt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Gt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Gt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Gt("base"),Nl("seed"),Je("space"),Gt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Gt("base"),Nl("seed"),Gt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),cf("lamports"),Nl("seed"),Gt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let is=class FI{constructor(){}static createAccount(e){const t=fr.Create,r=ln(t,{lamports:e.lamports,space:e.space,programId:Kt(e.programId.toBuffer())});return new sr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=fr.TransferWithSeed;t=ln(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=fr.Transfer;t=ln(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=fr.AssignWithSeed;t=ln(i,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=fr.Assign;t=ln(i,{programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=fr.CreateWithSeed,r=ln(t,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Kt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sr({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new er;"basePubkey"in e&&"seed"in e?t.add(FI.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:WI,programId:this.programId})):t.add(FI.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:WI,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=fr.InitializeNonceAccount,r=ln(t,{authorized:Kt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:w1,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new sr(i)}static nonceAdvance(e){const t=fr.AdvanceNonceAccount,r=ln(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:w1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new sr(i)}static nonceWithdraw(e){const t=fr.WithdrawNonceAccount,r=ln(t,{lamports:e.lamports});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:w1,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=fr.AuthorizeNonceAccount,r=ln(t,{authorized:Kt(e.newAuthorizedPubkey.toBuffer())});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=fr.AllocateWithSeed;t=ln(i,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=fr.Allocate;t=ln(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}};is.programId=new Ve("11111111111111111111111111111111");const gte=$u-300;let K0=class VI{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/VI.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new er,p.add(is.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new er,p.add(is.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new er,p.add(is.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new er().add(is.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await KI(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(oe("byte"),Rt(D(),-8),"bytes")]),a=VI.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new er().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(KI(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await wl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new er().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(Iq/2)))}}return!0}};K0.chunkSize=gte;const yte=new Ve("BPFLoader2111111111111111111111111111111111");let mte=class{static getMinNumSignatures(e){return K0.getMinNumSignatures(e)}static load(e,t,r,i,s){return K0.load(e,t,r,s,i)}};function bte(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wte=Object.prototype.toString,kte=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function xg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return xg(n.toJSON(),e);if(c=wte.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=xg(n[t],!0)+",";return r>-1&&(i+=xg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=kte(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=xg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Ste=function(n){var e=xg(n,!1);if(e!==void 0)return""+e},LM=bte(Ste);const pg=32;function N_(n){let e=0;for(;n>1;)n/=2,e++;return e}function Ate(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let Tq=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=N_(Ate(e+pg+1))-N_(pg)-1,r=this.getSlotsInEpoch(t),i=e-(r-pg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*pg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+N_(pg)):this.slotsPerEpoch}};var _te=globalThis.fetch;let vte=class extends qee{constructor(e,t,r){const i=s=>{const o=Kee(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function Ete(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const OM=56;let jI=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Ete(Ite,e),r=e.length-OM;An(r>=0,"lookup table is invalid"),An(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Gt(),i,"addresses")]).decode(e.slice(OM));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ve(t.authority[0]):void 0,addresses:s.map(o=>new Ve(o))}}};const Ite={index:1,layout:U([D("typeIndex"),cf("deactivationSlot"),Be("lastExtendedSlot"),oe("lastExtendedStartIndex"),oe(),Te(Gt(),Rt(oe(),-1),"authority")])},Rte=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Pte(n){const e=n.match(Rte);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const li=_r(gs(Ve),O(),n=>new Ve(n)),Cq=ys([O(),_e("base64")]),Xx=_r(gs(H.Buffer),Cq,n=>H.Buffer.from(n[0],"base64")),Mq=30*1e3;function xte(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Rr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function Lq(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:te(qm())})})])}const Bte=Lq(Ar());function Nt(n){return _r(Lq(n),Bte,e=>"error"in e?e:{...e,result:q(e.result,n)})}function Hr(n){return Nt(P({context:P({slot:k()}),value:n}))}function Kk(n){return P({context:P({slot:k()}),value:n})}function $_(n,e){return n===0?new Uk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ve(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Ju(e)}const Tte=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),Cte=Nt(V(F(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:te(F(k()))})))),Mte=V(P({slot:k(),prioritizationFee:k()})),Lte=P({total:k(),validator:k(),foundation:k(),epoch:k()}),Ote=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:te(k()),transactionCount:te(k())}),Nte=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),$te=lc(O(),V(k())),xd=F(tt([P({}),O()])),qte=P({err:xd}),zte=_e("receivedSignature"),Dte=P({"solana-core":O(),"feature-set":te(k())}),NM=Hr(P({err:F(tt([P({}),O()])),logs:F(V(O())),accounts:te(F(V(F(P({executable:St(),owner:O(),lamports:k(),data:V(O()),rentEpoch:te(k())}))))),unitsConsumed:te(k()),returnData:te(F(P({programId:O(),data:ys([O(),_e("base64")])})))})),Ute=Hr(P({byIdentity:lc(O(),V(k())),range:P({firstSlot:k(),lastSlot:k()})}));function Kte(n,e,t,r,i,s){const o=t||_te;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Wne)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await wl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Wte(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function Fte(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const Vte=Nt(Tte),jte=Nt(Lte),Hte=Nt(Mte),Yte=Nt(Ote),Gte=Nt(Nte),Jte=Nt($te),Qte=Nt(k()),Zte=Hr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:V(li)})),HI=P({amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}),Xte=Hr(V(P({address:li,amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}))),ene=Hr(V(P({pubkey:li,account:P({executable:St(),owner:li,lamports:k(),data:Xx,rentEpoch:k()})}))),YI=P({program:O(),parsed:Ar(),space:k()}),tne=Hr(V(P({pubkey:li,account:P({executable:St(),owner:li,lamports:k(),data:YI,rentEpoch:k()})}))),nne=Hr(V(P({lamports:k(),address:li}))),Uy=P({executable:St(),owner:li,lamports:k(),data:Xx,rentEpoch:k()}),rne=P({pubkey:li,account:Uy}),ine=_r(tt([gs(H.Buffer),YI]),tt([Cq,YI]),n=>Array.isArray(n)?q(n,Xx):n),GI=P({executable:St(),owner:li,lamports:k(),data:ine,rentEpoch:k()}),sne=P({pubkey:li,account:GI}),one=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),ane=Nt(V(P({signature:O(),slot:k(),err:xd,memo:F(O()),blockTime:te(F(k()))}))),cne=Nt(V(P({signature:O(),slot:k(),err:xd,memo:F(O()),blockTime:te(F(k()))}))),une=P({subscription:k(),result:Kk(Uy)}),lne=P({pubkey:li,account:Uy}),dne=P({subscription:k(),result:Kk(lne)}),hne=P({parent:k(),slot:k(),root:k()}),fne=P({subscription:k(),result:hne}),pne=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),gne=P({subscription:k(),result:pne}),yne=P({subscription:k(),result:Kk(tt([qte,zte]))}),mne=P({subscription:k(),result:k()}),bne=P({pubkey:O(),gossip:F(O()),tpu:F(O()),rpc:F(O()),version:F(O())}),$M=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:V(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:F(k())}),wne=Nt(P({current:V($M),delinquent:V($M)})),kne=tt([_e("processed"),_e("confirmed"),_e("finalized")]),Sne=P({slot:k(),confirmations:F(k()),err:xd,confirmationStatus:te(kne)}),Ane=Hr(V(F(Sne))),_ne=Nt(k()),Oq=P({accountKey:li,writableIndexes:V(k()),readonlyIndexes:V(k())}),eB=P({signatures:V(O()),message:P({accountKeys:V(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:te(V(Oq))})}),Nq=P({pubkey:li,signer:St(),writable:St(),source:te(tt([_e("transaction"),_e("lookupTable")]))}),$q=P({accountKeys:V(Nq),signatures:V(O())}),qq=P({parsed:Ar(),program:O(),programId:li}),zq=P({accounts:V(li),data:O(),programId:li}),vne=tt([zq,qq]),Ene=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:V(O()),data:O(),programId:O()})]),Dq=_r(vne,Ene,n=>"accounts"in n?q(n,zq):q(n,qq)),Uq=P({signatures:V(O()),message:P({accountKeys:V(Nq),instructions:V(Dq),recentBlockhash:O(),addressTableLookups:te(F(V(Oq)))})}),W0=P({accountIndex:k(),mint:O(),owner:te(O()),uiTokenAmount:HI}),Kq=P({writable:V(li),readonly:V(li)}),Wk=P({err:xd,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()}))})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(W0))),postTokenBalances:te(F(V(W0))),loadedAddresses:te(Kq),computeUnitsConsumed:te(k())}),tB=P({err:xd,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(Dq)})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(W0))),postTokenBalances:te(F(V(W0))),loadedAddresses:te(Kq),computeUnitsConsumed:te(k())}),Op=tt([_e(0),_e("legacy")]),Bd=P({pubkey:O(),lamports:k(),postBalance:F(k()),rewardType:F(O()),commission:te(F(k()))}),Ine=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:eB,meta:F(Wk),version:te(Op)})),rewards:te(V(Bd)),blockTime:F(k()),blockHeight:F(k())}))),Rne=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Bd)),blockTime:F(k()),blockHeight:F(k())}))),Pne=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:$q,meta:F(Wk),version:te(Op)})),rewards:te(V(Bd)),blockTime:F(k()),blockHeight:F(k())}))),xne=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:Uq,meta:F(tB),version:te(Op)})),rewards:te(V(Bd)),blockTime:F(k()),blockHeight:F(k())}))),Bne=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:$q,meta:F(tB),version:te(Op)})),rewards:te(V(Bd)),blockTime:F(k()),blockHeight:F(k())}))),Tne=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Bd)),blockTime:F(k()),blockHeight:F(k())}))),Cne=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:eB,meta:F(Wk)})),rewards:te(V(Bd)),blockTime:F(k())}))),qM=Nt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:V(O()),blockTime:F(k())}))),q_=Nt(F(P({slot:k(),meta:F(Wk),blockTime:te(F(k())),transaction:eB,version:te(Op)}))),Rb=Nt(F(P({slot:k(),transaction:Uq,meta:F(tB),blockTime:te(F(k())),version:te(Op)}))),Mne=Hr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),Lne=Hr(P({blockhash:O(),lastValidBlockHeight:k()})),One=Hr(St()),Nne=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),$ne=Nt(V(Nne)),qne=Hr(F(P({feeCalculator:P({lamportsPerSignature:k()})}))),zne=Nt(O()),Dne=Nt(O()),Une=P({err:xd,logs:V(O()),signature:O()}),Kne=P({result:Kk(Une),subscription:k()}),Wne={"solana-client":"js/0.0.0-development"};let Fne=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Rr(l),p=this._buildArgs([],d,void 0,b),g=LM(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=q(y,Nt(k()));if("error"in S)throw new dt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=xte(e),this._rpcWsEndpoint=r||Pte(e),this._rpcClient=Kte(e,i,s,o,a,c),this._rpcRequest=Wte(this._rpcClient),this._rpcBatchRequest=Fte(this._rpcClient),this._rpcWebSocket=new vte(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=q(o,Hr(k()));if("error"in a)throw new dt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=q(t,Nt(F(k())));if("error"in r)throw new dt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=q(e,Nt(k()));if("error"in t)throw new dt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=q(e,Qte);if("error"in t)throw new dt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=q(r,Zte);if("error"in i)throw new dt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=q(i,Hr(HI));if("error"in s)throw new dt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=q(i,Hr(HI));if("error"in s)throw new dt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Rr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=q(c,ene);if("error"in u)throw new dt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=q(o,tne);if("error"in a)throw new dt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=q(i,nne);if("error"in s)throw new dt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=q(i,Xte);if("error"in s)throw new dt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Hr(F(Uy)));if("error"in a)throw new dt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Hr(F(GI)));if("error"in a)throw new dt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Hr(V(F(GI))));if("error"in c)throw new dt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Hr(V(F(Uy))));if("error"in c)throw new dt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Rr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=q(a,Nt(one));if("error"in c)throw new dt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Rr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=V(rne),l=o.withContext===!0?q(c,Hr(u)):q(c,Nt(u));if("error"in l)throw new dt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=q(o,Nt(V(sne)));if("error"in a)throw new dt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return An(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:Sc.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Sc.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await wl(1e3),s||(p=await b(),s))return;d({__type:Sc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Sc.PROCESSED)l=d.response;else throw new Jx(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:Sc.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await wl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===Sc.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await wl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Rh(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Rh(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Rh(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Rh(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Sc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===Sc.PROCESSED)a=c.response;else throw new Qx(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=q(e,Nt(V(bne)));if("error"in t)throw new dt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=q(r,wne);if("error"in i)throw new dt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=q(s,Nt(k()));if("error"in o)throw new dt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=q(s,Nt(O()));if("error"in o)throw new dt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=q(i,Nt(V(li)));if("error"in s)throw new dt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);An(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=q(i,Ane);if("error"in s)throw new dt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=q(s,Nt(k()));if("error"in o)throw new dt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=q(r,Vte);if("error"in i)throw new dt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Rr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=q(a,Cte);if("error"in c)throw new dt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=q(e,jte);if("error"in t)throw new dt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=q(s,Yte);if("error"in o)throw new dt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=q(e,Gte);if("error"in t)throw new dt(t.error,"failed to get epoch schedule");const r=t.result;return new Tq(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=q(e,Jte);if("error"in t)throw new dt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=q(i,_ne);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=q(r,Mne);if("error"in i)throw new dt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=q(t,$ne);if("error"in r)throw new dt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=q(i,qne);if("error"in s)throw new dt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Kt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=q(s,Hr(F(k())));if("error"in o)throw new dt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=q(i,Hte);if("error"in s)throw new dt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=q(s,Lne);if("error"in o)throw new dt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=q(o,One);if("error"in a)throw new dt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=q(e,Nt(Dte));if("error"in t)throw new dt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=q(e,Nt(O()));if("error"in t)throw new dt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,Pne);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,Rne);if("error"in a)throw a.error;return a.result}default:{const a=q(o,Ine);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:$_(d,u.message)},version:d}))}:null}}}catch(a){throw new dt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,Bne);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,Tne);if("error"in a)throw a.error;return a.result}default:{const a=q(o,xne);if("error"in a)throw a.error;return a.result}}}catch(a){throw new dt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=q(s,Ute);if("error"in o)throw new dt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=q(o,q_);if("error"in a)throw new dt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:$_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=q(o,Rb);if("error"in a)throw new dt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,Rb);if("error"in u)throw new dt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,q_);if("error"in u)throw new dt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:$_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,Cne);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Ju(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:er.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=q(s,Nt(V(k())));if("error"in o)throw new dt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=q(i,qM);if("error"in s)throw new dt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,qM);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,q_);if("error"in s)throw new dt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Ju(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:er.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,Rb);if("error"in s)throw new dt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=q(o,Rb);if("error"in a)throw new dt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=q(s,ane);if("error"in o)throw new dt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=q(s,cne);if("error"in o)throw new dt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new jI({key:e,state:jI.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=xq.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=q(r,zne);if("error"in i)throw new dt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await wl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Mq;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await wl(Iq/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=q(s,Hr(k()));if("error"in o)throw new dt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=q(R,NM);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof er){let g=e;i=new er,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=er.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=q(b,NM);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Dy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Kt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=q(a,Dne);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Dy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=q(e,une);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=LM([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];An(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=q(e,dne);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=q(e,Kne);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=q(e,fne);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=q(e,gne);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=q(e,yne);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=q(e,mne);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Wq=class S1{constructor(e){this._keypair=void 0,this._keypair=e??TM()}static generate(){return new S1(TM())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=U0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new S1({publicKey:r,secretKey:e})}static fromSeed(e){const t=U0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new S1({publicKey:t,secretKey:r})}get publicKey(){return new Ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Mc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),cf("recentSlot"),oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),cf(),Te(Gt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let Vne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Mc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=qn(Mc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=qn(Mc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ve(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(nB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},nB=class{constructor(){}static createLookupTable(e){const[t,r]=Ve.findProgramAddressSync([e.authority.toBuffer(),Uo(BigInt(e.recentSlot),8)],this.programId),i=Mc.CreateLookupTable,s=ln(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:is.programId,isSigner:!1,isWritable:!1}];return[new sr({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Mc.FreezeLookupTable,r=ln(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sr({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Mc.ExtendLookupTable,r=ln(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:is.programId,isSigner:!1,isWritable:!1}),new sr({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Mc.DeactivateLookupTable,r=ln(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sr({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Mc.CloseLookupTable,r=ln(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new sr({programId:this.programId,keys:i,data:r})}};nB.programId=new Ve("AddressLookupTab1e1111111111111111111111111");let jne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ma))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=qn(Ma.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=qn(Ma.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=qn(Ma.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=qn(Ma.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(rB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Ma=Object.freeze({RequestUnits:{index:0,layout:U([oe("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([oe("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([oe("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([oe("instruction"),cf("microLamports")])}});let rB=class{constructor(){}static requestUnits(e){const t=Ma.RequestUnits,r=ln(t,e);return new sr({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Ma.RequestHeapFrame,r=ln(t,e);return new sr({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Ma.SetComputeUnitLimit,r=ln(t,e);return new sr({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Ma.SetComputeUnitPrice,r=ln(t,{microLamports:BigInt(e.microLamports)});return new sr({keys:[],programId:this.programId,data:r})}};rB.programId=new Ve("ComputeBudget111111111111111111111111111111");const zM=64,DM=32,UM=64,KM=U([oe("numSignatures"),oe("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let Fq=class Vq{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;An(t.length===DM,`Public Key must be ${DM} bytes but received ${t.length} bytes`),An(i.length===UM,`Signature must be ${UM} bytes but received ${i.length} bytes`);const o=KM.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return KM.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new sr({keys:[],programId:Vq.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;An(t.length===zM,`Private key must be ${zM} bytes but received ${t.length} bytes`);try{const s=Wq.fromSecretKey(t),o=s.publicKey.toBytes(),a=Yx(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Fq.programId=new Ve("Ed25519SigVerify111111111111111111111111111");const Hne=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const Yne=ki.getPublicKey,WM=32,z_=20,FM=64,Gne=11,D_=U([oe("numSignatures"),ot("signatureOffset"),oe("signatureInstructionIndex"),ot("ethAddressOffset"),oe("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),oe("messageInstructionIndex"),pe(20,"ethAddress"),pe(64,"signature"),oe("recoveryId")]);let jq=class A1{constructor(){}static publicKeyToEthAddress(e){An(e.length===FM,`Public key must be ${FM} bytes but received ${e.length} bytes`);try{return H.Buffer.from($o(Kt(e))).slice(-z_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return A1.createInstructionWithEthAddress({ethAddress:A1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,An(a.length===z_,`Address must be ${z_} bytes but received ${a.length} bytes`);const c=1+Gne,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(D_.span+r.length);return D_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Kt(i),ethAddress:Kt(a),recoveryId:s},p),p.fill(Kt(r),D_.span),new sr({keys:[],programId:A1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;An(t.length===WM,`Private key must be ${WM} bytes but received ${t.length} bytes`);try{const s=Kt(t),o=Yne(s,!1).slice(1),a=H.Buffer.from($o(Kt(r))),[c,u]=Hne(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};jq.programId=new Ve("KeccakSecp256k11111111111111111111111111111");var Hq;const Yq=new Ve("StakeConfig11111111111111111111111111111111");let Gq=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},zm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};Hq=zm;zm.default=new Hq(0,0,Ve.default);let Jne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(vi))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=qn(vi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Gq(new Ve(t.staker),new Ve(t.withdrawer)),lockup:new zm(r.unixTimestamp,r.epoch,new Ve(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),qn(vi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=qn(vi.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ve(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=qn(vi.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Ve(s),newAuthorizedPubkey:new Ve(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=qn(vi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),qn(vi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=qn(vi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),qn(vi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Fk.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const vi=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),Jee(),Qee()])},Authorize:{index:1,layout:U([D("instruction"),Gt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Gt("newAuthorized"),D("stakeAuthorizationType"),Nl("authoritySeed"),Gt("authorityOwner")])}}),Qne=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let Fk=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||zm.default,o=vi.Initialize,a=ln(o,{authorized:{staker:Kt(r.staker.toBuffer()),withdrawer:Kt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Kt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new sr(c)}static createAccountWithSeed(e){const t=new er;t.add(is.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new er;t.add(is.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=vi.Delegate,o=ln(s);return new er().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:k1,isSigner:!1,isWritable:!1},{pubkey:Yq,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=vi.Authorize,c=ln(a,{newAuthorized:Kt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new er().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=vi.AuthorizeWithSeed,l=ln(u,{newAuthorized:Kt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Kt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Sa,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new er().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=vi.Split,a=ln(o,{lamports:s});return new sr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new er;return r.add(is.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new er;return u.add(is.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(is.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=vi.Merge,o=ln(s);return new er().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:k1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=vi.Withdraw,c=ln(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:k1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new er().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=vi.Deactivate,s=ln(i);return new er().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Fk.programId=new Ve("Stake11111111111111111111111111111111111111");Fk.space=200;let Jq=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},Zne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(La))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=qn(La.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Jq(new Ve(t.nodePubkey),new Ve(t.authorizedVoter),new Ve(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=qn(La.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ve(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=qn(La.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ve(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ve(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=qn(La.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vk.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const La=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Zee()])},Authorize:{index:1,layout:U([D("instruction"),Gt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),Xee()])}}),Xne=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let Vk=class Qq{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=La.InitializeAccount,o=ln(s,{voteInit:{nodePubkey:Kt(i.nodePubkey.toBuffer()),authorizedVoter:Kt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Kt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new sr(a)}static createAccount(e){const t=new er;return t.add(is.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=La.Authorize,a=ln(o,{newAuthorized:Kt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new er().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=La.AuthorizeWithSeed,u=ln(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Kt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Kt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new er().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=La.Withdraw,a=ln(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new er().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Qq.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=La.UpdateValidatorIdentity,o=ln(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new er().add({keys:a,programId:this.programId,data:o})}};Vk.programId=new Ve("Vote111111111111111111111111111111111111111");Vk.space=3762;const Zq=new Ve("Va1idator1nfo111111111111111111111111111111"),ere=P({name:O(),website:te(O()),details:te(O()),keybaseUsername:te(O())});let tre=class Xq{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Ss(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Ve(As(t,0,Qa)),a=Ca(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(Zq)&&i[1].isSigner){const s=Nl().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,ere),new Xq(i[1].publicKey,o)}return null}};const nre=new Ve("Vote111111111111111111111111111111111111111"),rre=U([Gt("nodePubkey"),Gt("authorizedWithdrawer"),oe("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),oe("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Gt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Gt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),oe("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let ire=class ez{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=rre.decode(Kt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new ez({nodePubkey:new Ve(r.nodePubkey),authorizedWithdrawer:new Ve(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(sre),priorVoters:ore(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function sre({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ve(n)}}function VM({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ve(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function ore({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(VM),...n.slice(0,e).map(VM)]}const jM={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function are(n,e){const t=e===!1?"http":"https";if(!n)return jM[t].devnet;const r=jM[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function cre(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Dy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const ure=1e9,lre=Object.freeze(Object.defineProperty({__proto__:null,Account:Hee,AddressLookupTableAccount:jI,AddressLookupTableInstruction:Vne,AddressLookupTableProgram:nB,Authorized:Gq,BLOCKHASH_CACHE_TIMEOUT_MS:Mq,BPF_LOADER_DEPRECATED_PROGRAM_ID:Yee,BPF_LOADER_PROGRAM_ID:yte,BpfLoader:mte,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ma,ComputeBudgetInstruction:jne,ComputeBudgetProgram:rB,Connection:Fne,Ed25519Program:Fq,Enum:Vee,EpochSchedule:Tq,FeeCalculatorLayout:Rq,Keypair:Wq,LAMPORTS_PER_SOL:ure,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Mc,Loader:K0,Lockup:zm,MAX_SEED_LENGTH:wq,Message:Ju,MessageAccountKeys:zy,MessageV0:Uk,NONCE_ACCOUNT_LENGTH:WI,NonceAccount:xq,PACKET_DATA_SIZE:$u,PUBLIC_KEY_LENGTH:Qa,PublicKey:Ve,SIGNATURE_LENGTH_IN_BYTES:qy,SOLANA_SCHEMA:Zg,STAKE_CONFIG_ID:Yq,STAKE_INSTRUCTION_LAYOUTS:vi,SYSTEM_INSTRUCTION_LAYOUTS:fr,SYSVAR_CLOCK_PUBKEY:Sa,SYSVAR_EPOCH_SCHEDULE_PUBKEY:ote,SYSVAR_INSTRUCTIONS_PUBKEY:ate,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:w1,SYSVAR_RENT_PUBKEY:af,SYSVAR_REWARDS_PUBKEY:cte,SYSVAR_SLOT_HASHES_PUBKEY:ute,SYSVAR_SLOT_HISTORY_PUBKEY:lte,SYSVAR_STAKE_HISTORY_PUBKEY:k1,Secp256k1Program:jq,SendTransactionError:Dy,SolanaJSONRPCError:dt,SolanaJSONRPCErrorCode:dte,StakeAuthorizationLayout:Qne,StakeInstruction:Jne,StakeProgram:Fk,Struct:Gx,SystemInstruction:pte,SystemProgram:is,Transaction:er,TransactionExpiredBlockheightExceededError:Jx,TransactionExpiredNonceInvalidError:Rh,TransactionExpiredTimeoutError:Qx,TransactionInstruction:sr,TransactionMessage:tte,TransactionStatus:Sc,VALIDATOR_INFO_KEY:Zq,VERSION_PREFIX_MASK:Dk,VOTE_PROGRAM_ID:nre,ValidatorInfo:tre,VersionedMessage:Zx,VersionedTransaction:nte,VoteAccount:ire,VoteAuthorizationLayout:Xne,VoteInit:Jq,VoteInstruction:Zne,VoteProgram:Vk,clusterApiUrl:are,sendAndConfirmRawTransaction:cre,sendAndConfirmTransaction:KI},Symbol.toStringTag,{value:"Module"})),js=la(lre);var lr={},Ce={},iB={},Dm={},tz={},uf={};Object.defineProperty(uf,"__esModule",{value:!0});uf.createError=uf.DefaultDataPack=void 0;const dre=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let hre=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};uf.DefaultDataPack=hre;function fre(n,e){const t={code:n,message:dre.get(n)||"Internal Server Error"};return e&&(t.data=e),t}uf.createError=fre;Object.defineProperty(tz,"__esModule",{value:!0});const pre=Ko,gre=uf;let yre=class extends pre.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new gre.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var mre=tz.default=yre,nz={};Object.defineProperty(nz,"__esModule",{value:!0});const bre=Ko;let wre=class extends bre.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function kre(n,e){return new wre(n,e)}var Sre=nz.default=kre;const Are=sn.utils.randomPrivateKey,HM=()=>{const n=sn.utils.randomPrivateKey(),e=F0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},F0=sn.getPublicKey;function YM(n){try{return sn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sB=(n,e)=>sn.sign(n,e.slice(0,32)),_re=sn.verify,Wt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let oB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(Xg,this))}static decode(e){return Pp(Xg,this,e)}static decodeUnchecked(e){return Ip(Xg,this,e)}},vre=class extends oB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const Xg=new Map;var rz;const iz=32,Za=32;function Ere(n){return n._bn!==void 0}let GM=1,je=class rh extends oB{constructor(e){if(super({}),this._bn=void 0,Ere(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Za)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Za)throw new Error("Invalid public key input")}}static unique(){const e=new rh(GM);return GM+=1,new rh(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Za)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=fo(i);return new rh(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>iz)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Wt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=fo(r);if(YM(i))throw new Error("Invalid seeds, address must fall off the curve");return new rh(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new rh(e);return YM(t.toBytes())}};rz=je;je.default=new rz("11111111111111111111111111111111");Xg.set(je,{kind:"struct",fields:[["_bn","u256"]]});let Ire=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Wt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Wt(Are()),this._publicKey=Wt(F0(this._secretKey))}get publicKey(){return new je(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const Rre=new je("BPFLoader1111111111111111111111111111111111"),qu=1232,jk=127,Ky=64;let aB=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(aB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let cB=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(cB.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Ph=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Ph.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Wy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Jt=(n="publicKey")=>pe(32,n),Pre=(n="signature")=>pe(64,n),$l=(n="string")=>{const e=U([D("length"),D("lengthPadding"),pe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},xre=(n="authorized")=>U([Jt("staker"),Jt("withdrawer")],n),Bre=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Jt("custodian")],n),Tre=(n="voteInit")=>U([Jt("nodePubkey"),Jt("authorizedVoter"),Jt("authorizedWithdrawer"),oe("commission")],n),Cre=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Jt("currentAuthorityDerivedKeyOwnerPubkey"),$l("currentAuthorityDerivedKeySeed"),Jt("newAuthorized")],n);function sz(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return sz({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function _s(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function no(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function _n(n,e){if(!n)throw new Error(e||"Assertion failed")}let oz=class az{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new az(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];_n(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{_n(t.length>0,"Expected at least one writable signer key");const[c]=t[0];_n(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new je(c)),...r.map(([c])=>new je(c)),...i.map(([c])=>new je(c)),...s.map(([c])=>new je(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new je(s),c=e.findIndex(u=>u.equals(a));c>=0&&(_n(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const cz="Reached end of buffer unexpectedly";function Oa(n){if(n.length===0)throw new Error(cz);return n.shift()}function vs(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(cz);return n.splice(...e)}let Qu=class JI{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new je(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Wy(this.staticAccountKeys)}static compile(e){const t=oz.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Wy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new JI({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];no(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];no(y,b.length);let S=[];return no(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];no(i,r.length);let s=H.Buffer.alloc(qu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([oe("programIdIndex"),pe(d.keyIndicesCount.length,"keyIndicesCount"),Te(oe("keyIndex"),d.keyIndices.length,"keyIndices"),pe(d.dataLength.length,"dataLength"),Te(oe("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([pe(1,"numRequiredSignatures"),pe(1,"numReadonlySignedAccounts"),pe(1,"numReadonlyUnsignedAccounts"),pe(t.length,"keyCount"),Te(Jt("key"),e,"keys"),Jt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Wt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Oa(t);if(r!==(r&jk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Oa(t),s=Oa(t),o=_s(t);let a=[];for(let b=0;b<o;b++){const p=vs(t,0,Za);a.push(new je(H.Buffer.from(p)))}const c=vs(t,0,Za),u=_s(t);let l=[];for(let b=0;b<u;b++){const p=Oa(t),g=_s(t),y=vs(t,0,g),S=_s(t),w=vs(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new JI(d)}},Hk=class QI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Wy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=oz.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Wy(a,i).compileInstructions(e.instructions);return new QI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();no(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();no(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();no(s,this.addressTableLookups.length);const o=U([oe("prefix"),U([oe("numRequiredSignatures"),oe("numReadonlySignedAccounts"),oe("numReadonlyUnsignedAccounts")],"header"),pe(e.length,"staticAccountKeysLength"),Te(Jt(),this.staticAccountKeys.length,"staticAccountKeys"),Jt("recentBlockhash"),pe(r.length,"instructionsLength"),pe(t.length,"serializedInstructions"),pe(s.length,"addressTableLookupsLength"),pe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(qu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(qu);for(const r of this.compiledInstructions){const i=Array();no(i,r.accountKeyIndexes.length);const s=Array();no(s,r.data.length);const o=U([oe("programIdIndex"),pe(i.length,"encodedAccountKeyIndexesLength"),Te(oe(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe(s.length,"encodedDataLength"),pe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(qu);for(const r of this.addressTableLookups){const i=Array();no(i,r.writableIndexes.length);const s=Array();no(s,r.readonlyIndexes.length);const o=U([Jt("accountKey"),pe(i.length,"encodedWritableIndexesLength"),Te(oe(),r.writableIndexes.length,"writableIndexes"),pe(s.length,"encodedReadonlyIndexesLength"),Te(oe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Oa(t),i=r&jk;_n(r!==i,"Expected versioned message but received legacy message");const s=i;_n(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Oa(t),numReadonlySignedAccounts:Oa(t),numReadonlyUnsignedAccounts:Oa(t)},a=[],c=_s(t);for(let g=0;g<c;g++)a.push(new je(vs(t,0,Za)));const u=Pe.encode(vs(t,0,Za)),l=_s(t),d=[];for(let g=0;g<l;g++){const y=Oa(t),S=_s(t),w=vs(t,0,S),_=_s(t),R=new Uint8Array(vs(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=_s(t),p=[];for(let g=0;g<b;g++){const y=new je(vs(t,0,Za)),S=_s(t),w=vs(t,0,S),_=_s(t),R=vs(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new QI({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const uB={deserializeMessageVersion(n){const e=n[0],t=e&jk;return t===e?"legacy":t},deserialize:n=>{const e=uB.deserializeMessageVersion(n);if(e==="legacy")return Qu.from(n);if(e===0)return Hk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ac=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Mre=H.Buffer.alloc(Ky).fill(0);let or=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},tr=class ZI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new or(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new je(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{_n(y.programIdIndex>=0),y.accounts.forEach(S=>_n(S>=0))}),new Qu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=sB(r,i.secretKey);this._addSignature(i.publicKey,Wt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){_n(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):_re(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];no(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return _n(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(_n(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),_n(s.length<=qu,`Transaction too large: ${s.length} > ${qu}`),s}get keys(){return _n(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return _n(this.instructions.length===1),this.instructions[0].programId}get data(){return _n(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=_s(t);let i=[];for(let s=0;s<r;s++){const o=vs(t,0,Ky);i.push(Pe.encode(H.Buffer.from(o)))}return ZI.populate(Qu.from(t),i)}static populate(e,t=[]){const r=new ZI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(Mre)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new or({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},Lre=class uz{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;_n(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;_n(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new or({programId:S,data:Wt(g.data),keys:y}))}return new uz({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Qu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Hk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},Ore=class lz{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)_n(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Ky));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();no(t,this.signatures.length);const r=U([pe(t.length,"encodedSignaturesLength"),Te(Pre(),this.signatures.length,"signatures"),pe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=_s(t);for(let o=0;o<i;o++)r.push(new Uint8Array(vs(t,0,Ky)));const s=uB.deserialize(new Uint8Array(t));return new lz(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));_n(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=sB(t,i.secretKey)}}addSignature(e,t){_n(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));_n(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const Nre=160,$re=64,qre=Nre/$re,dz=1e3/qre,Aa=new je("SysvarC1ock11111111111111111111111111111111"),zre=new je("SysvarEpochSchedu1e111111111111111111111111"),Dre=new je("Sysvar1nstructions1111111111111111111111111"),_1=new je("SysvarRecentB1ockHashes11111111111111111111"),lf=new je("SysvarRent111111111111111111111111111111111"),Ure=new je("SysvarRewards111111111111111111111111111111"),Kre=new je("SysvarS1otHashes111111111111111111111111111"),Wre=new je("SysvarS1otHistory11111111111111111111111111"),v1=new je("SysvarStakeHistory1111111111111111111111111");let Fy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const Fre={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let ht=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function XI(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Fy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function kl(n){return new Promise(e=>setTimeout(e,n))}function dn(n,e){const t=n.layout.span>=0?n.layout.span:sz(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function zn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const hz=Be("lamportsPerSignature"),fz=U([D("version"),D("state"),Jt("authorizedPubkey"),Jt("nonce"),U([hz],"feeCalculator")]),eR=fz.span;let pz=class gz{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=fz.decode(Wt(e),0);return new gz({authorizedPubkey:new je(t.authorizedPubkey),nonce:new je(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const Vre=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},jre=n=>e=>{const t=pe(n,e),{encode:r,decode:i}=Vre(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Uo(o,n);return r(u,a,c)},s},df=jre(8);let Hre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(pr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=zn(pr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new je(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=zn(pr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=zn(pr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new je(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=zn(pr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=zn(pr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new je(t),seed:r,space:i,programId:new je(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=zn(pr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new je(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=zn(pr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new je(t),seed:r,programId:new je(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=zn(pr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new je(t),seed:r,lamports:i,space:s,programId:new je(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=zn(pr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new je(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zn(pr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=zn(pr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=zn(pr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new je(t)}}static checkProgramId(e){if(!e.equals(ss.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const pr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Jt("programId")])},Assign:{index:1,layout:U([D("instruction"),Jt("programId")])},Transfer:{index:2,layout:U([D("instruction"),df("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Jt("base"),$l("seed"),Je("lamports"),Je("space"),Jt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Jt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Jt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Jt("base"),$l("seed"),Je("space"),Jt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Jt("base"),$l("seed"),Jt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),df("lamports"),$l("seed"),Jt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let ss=class tR{constructor(){}static createAccount(e){const t=pr.Create,r=dn(t,{lamports:e.lamports,space:e.space,programId:Wt(e.programId.toBuffer())});return new or({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=pr.TransferWithSeed;t=dn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=pr.Transfer;t=dn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=pr.AssignWithSeed;t=dn(i,{base:Wt(e.basePubkey.toBuffer()),seed:e.seed,programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pr.Assign;t=dn(i,{programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=pr.CreateWithSeed,r=dn(t,{base:Wt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Wt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new or({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new tr;"basePubkey"in e&&"seed"in e?t.add(tR.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:eR,programId:this.programId})):t.add(tR.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:eR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=pr.InitializeNonceAccount,r=dn(t,{authorized:Wt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_1,isSigner:!1,isWritable:!1},{pubkey:lf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new or(i)}static nonceAdvance(e){const t=pr.AdvanceNonceAccount,r=dn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new or(i)}static nonceWithdraw(e){const t=pr.WithdrawNonceAccount,r=dn(t,{lamports:e.lamports});return new or({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:_1,isSigner:!1,isWritable:!1},{pubkey:lf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=pr.AuthorizeNonceAccount,r=dn(t,{authorized:Wt(e.newAuthorizedPubkey.toBuffer())});return new or({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=pr.AllocateWithSeed;t=dn(i,{base:Wt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pr.Allocate;t=dn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}};ss.programId=new je("11111111111111111111111111111111");const Yre=qu-300;let V0=class nR{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/nR.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new tr,p.add(ss.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new tr,p.add(ss.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new tr,p.add(ss.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new tr().add(ss.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await XI(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(oe("byte"),Rt(D(),-8),"bytes")]),a=nR.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new tr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(XI(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await kl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new tr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:lf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(dz/2)))}}return!0}};V0.chunkSize=Yre;const Gre=new je("BPFLoader2111111111111111111111111111111111");let Jre=class{static getMinNumSignatures(e){return V0.getMinNumSignatures(e)}static load(e,t,r,i,s){return V0.load(e,t,r,s,i)}};function Qre(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zre=Object.prototype.toString,Xre=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Bg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Bg(n.toJSON(),e);if(c=Zre.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Bg(n[t],!0)+",";return r>-1&&(i+=Bg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=Xre(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Bg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var eie=function(n){var e=Bg(n,!1);if(e!==void 0)return""+e},JM=Qre(eie);const gg=32;function U_(n){let e=0;for(;n>1;)n/=2,e++;return e}function tie(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let yz=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=U_(tie(e+gg+1))-U_(gg)-1,r=this.getSlotsInEpoch(t),i=e-(r-gg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*gg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+U_(gg)):this.slotsPerEpoch}};var nie=globalThis.fetch;let rie=class extends mre{constructor(e,t,r){const i=s=>{const o=Sre(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function iie(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const QM=56;let rR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=iie(sie,e),r=e.length-QM;_n(r>=0,"lookup table is invalid"),_n(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Jt(),i,"addresses")]).decode(e.slice(QM));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new je(t.authority[0]):void 0,addresses:s.map(o=>new je(o))}}};const sie={index:1,layout:U([D("typeIndex"),df("deactivationSlot"),Be("lastExtendedSlot"),oe("lastExtendedStartIndex"),oe(),Te(Jt(),Rt(oe(),-1),"authority")])},oie=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function aie(n){const e=n.match(oie);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const di=_r(gs(je),O(),n=>new je(n)),mz=ys([O(),_e("base64")]),lB=_r(gs(H.Buffer),mz,n=>H.Buffer.from(n[0],"base64")),bz=30*1e3;function cie(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Pr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function wz(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:te(qm())})})])}const uie=wz(Ar());function $t(n){return _r(wz(n),uie,e=>"error"in e?e:{...e,result:q(e.result,n)})}function Yr(n){return $t(P({context:P({slot:k()}),value:n}))}function Yk(n){return P({context:P({slot:k()}),value:n})}function K_(n,e){return n===0?new Hk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new je(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Qu(e)}const lie=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),die=$t(V(F(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:te(F(k()))})))),hie=V(P({slot:k(),prioritizationFee:k()})),fie=P({total:k(),validator:k(),foundation:k(),epoch:k()}),pie=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:te(k()),transactionCount:te(k())}),gie=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),yie=lc(O(),V(k())),Td=F(tt([P({}),O()])),mie=P({err:Td}),bie=_e("receivedSignature"),wie=P({"solana-core":O(),"feature-set":te(k())}),ZM=Yr(P({err:F(tt([P({}),O()])),logs:F(V(O())),accounts:te(F(V(F(P({executable:St(),owner:O(),lamports:k(),data:V(O()),rentEpoch:te(k())}))))),unitsConsumed:te(k()),returnData:te(F(P({programId:O(),data:ys([O(),_e("base64")])})))})),kie=Yr(P({byIdentity:lc(O(),V(k())),range:P({firstSlot:k(),lastSlot:k()})}));function Sie(n,e,t,r,i,s){const o=t||nie;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Ase)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await kl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Aie(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function _ie(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const vie=$t(lie),Eie=$t(fie),Iie=$t(hie),Rie=$t(pie),Pie=$t(gie),xie=$t(yie),Bie=$t(k()),Tie=Yr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:V(di)})),iR=P({amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}),Cie=Yr(V(P({address:di,amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}))),Mie=Yr(V(P({pubkey:di,account:P({executable:St(),owner:di,lamports:k(),data:lB,rentEpoch:k()})}))),sR=P({program:O(),parsed:Ar(),space:k()}),Lie=Yr(V(P({pubkey:di,account:P({executable:St(),owner:di,lamports:k(),data:sR,rentEpoch:k()})}))),Oie=Yr(V(P({lamports:k(),address:di}))),Vy=P({executable:St(),owner:di,lamports:k(),data:lB,rentEpoch:k()}),Nie=P({pubkey:di,account:Vy}),$ie=_r(tt([gs(H.Buffer),sR]),tt([mz,sR]),n=>Array.isArray(n)?q(n,lB):n),oR=P({executable:St(),owner:di,lamports:k(),data:$ie,rentEpoch:k()}),qie=P({pubkey:di,account:oR}),zie=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),Die=$t(V(P({signature:O(),slot:k(),err:Td,memo:F(O()),blockTime:te(F(k()))}))),Uie=$t(V(P({signature:O(),slot:k(),err:Td,memo:F(O()),blockTime:te(F(k()))}))),Kie=P({subscription:k(),result:Yk(Vy)}),Wie=P({pubkey:di,account:Vy}),Fie=P({subscription:k(),result:Yk(Wie)}),Vie=P({parent:k(),slot:k(),root:k()}),jie=P({subscription:k(),result:Vie}),Hie=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),Yie=P({subscription:k(),result:Hie}),Gie=P({subscription:k(),result:Yk(tt([mie,bie]))}),Jie=P({subscription:k(),result:k()}),Qie=P({pubkey:O(),gossip:F(O()),tpu:F(O()),rpc:F(O()),version:F(O())}),XM=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:V(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:F(k())}),Zie=$t(P({current:V(XM),delinquent:V(XM)})),Xie=tt([_e("processed"),_e("confirmed"),_e("finalized")]),ese=P({slot:k(),confirmations:F(k()),err:Td,confirmationStatus:te(Xie)}),tse=Yr(V(F(ese))),nse=$t(k()),kz=P({accountKey:di,writableIndexes:V(k()),readonlyIndexes:V(k())}),dB=P({signatures:V(O()),message:P({accountKeys:V(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:te(V(kz))})}),Sz=P({pubkey:di,signer:St(),writable:St(),source:te(tt([_e("transaction"),_e("lookupTable")]))}),Az=P({accountKeys:V(Sz),signatures:V(O())}),_z=P({parsed:Ar(),program:O(),programId:di}),vz=P({accounts:V(di),data:O(),programId:di}),rse=tt([vz,_z]),ise=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:V(O()),data:O(),programId:O()})]),Ez=_r(rse,ise,n=>"accounts"in n?q(n,vz):q(n,_z)),Iz=P({signatures:V(O()),message:P({accountKeys:V(Sz),instructions:V(Ez),recentBlockhash:O(),addressTableLookups:te(F(V(kz)))})}),j0=P({accountIndex:k(),mint:O(),owner:te(O()),uiTokenAmount:iR}),Rz=P({writable:V(di),readonly:V(di)}),Gk=P({err:Td,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()}))})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(j0))),postTokenBalances:te(F(V(j0))),loadedAddresses:te(Rz),computeUnitsConsumed:te(k())}),hB=P({err:Td,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(Ez)})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(j0))),postTokenBalances:te(F(V(j0))),loadedAddresses:te(Rz),computeUnitsConsumed:te(k())}),Np=tt([_e(0),_e("legacy")]),Cd=P({pubkey:O(),lamports:k(),postBalance:F(k()),rewardType:F(O()),commission:te(F(k()))}),sse=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:dB,meta:F(Gk),version:te(Np)})),rewards:te(V(Cd)),blockTime:F(k()),blockHeight:F(k())}))),ose=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Cd)),blockTime:F(k()),blockHeight:F(k())}))),ase=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:Az,meta:F(Gk),version:te(Np)})),rewards:te(V(Cd)),blockTime:F(k()),blockHeight:F(k())}))),cse=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:Iz,meta:F(hB),version:te(Np)})),rewards:te(V(Cd)),blockTime:F(k()),blockHeight:F(k())}))),use=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:Az,meta:F(hB),version:te(Np)})),rewards:te(V(Cd)),blockTime:F(k()),blockHeight:F(k())}))),lse=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Cd)),blockTime:F(k()),blockHeight:F(k())}))),dse=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:dB,meta:F(Gk)})),rewards:te(V(Cd)),blockTime:F(k())}))),eL=$t(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:V(O()),blockTime:F(k())}))),W_=$t(F(P({slot:k(),meta:F(Gk),blockTime:te(F(k())),transaction:dB,version:te(Np)}))),Pb=$t(F(P({slot:k(),transaction:Iz,meta:F(hB),blockTime:te(F(k())),version:te(Np)}))),hse=Yr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),fse=Yr(P({blockhash:O(),lastValidBlockHeight:k()})),pse=Yr(St()),gse=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),yse=$t(V(gse)),mse=Yr(F(P({feeCalculator:P({lamportsPerSignature:k()})}))),bse=$t(O()),wse=$t(O()),kse=P({err:Td,logs:V(O()),signature:O()}),Sse=P({result:Yk(kse),subscription:k()}),Ase={"solana-client":"js/0.0.0-development"};let _se=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Pr(l),p=this._buildArgs([],d,void 0,b),g=JM(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=q(y,$t(k()));if("error"in S)throw new ht(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=cie(e),this._rpcWsEndpoint=r||aie(e),this._rpcClient=Sie(e,i,s,o,a,c),this._rpcRequest=Aie(this._rpcClient),this._rpcBatchRequest=_ie(this._rpcClient),this._rpcWebSocket=new rie(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=q(o,Yr(k()));if("error"in a)throw new ht(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=q(t,$t(F(k())));if("error"in r)throw new ht(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=q(e,$t(k()));if("error"in t)throw new ht(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=q(e,Bie);if("error"in t)throw new ht(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=q(r,Tie);if("error"in i)throw new ht(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=q(i,Yr(iR));if("error"in s)throw new ht(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=q(i,Yr(iR));if("error"in s)throw new ht(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Pr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=q(c,Mie);if("error"in u)throw new ht(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=q(o,Lie);if("error"in a)throw new ht(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=q(i,Oie);if("error"in s)throw new ht(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=q(i,Cie);if("error"in s)throw new ht(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Yr(F(Vy)));if("error"in a)throw new ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Yr(F(oR)));if("error"in a)throw new ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Yr(V(F(oR))));if("error"in c)throw new ht(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Yr(V(F(Vy))));if("error"in c)throw new ht(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Pr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=q(a,$t(zie));if("error"in c)throw new ht(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Pr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=V(Nie),l=o.withContext===!0?q(c,Yr(u)):q(c,$t(u));if("error"in l)throw new ht(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=q(o,$t(V(qie)));if("error"in a)throw new ht(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return _n(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:Ac.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Ac.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await kl(1e3),s||(p=await b(),s))return;d({__type:Ac.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ac.PROCESSED)l=d.response;else throw new aB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:Ac.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await kl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===Ac.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await kl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Ph(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Ph(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Ph(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Ph(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ac.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===Ac.PROCESSED)a=c.response;else throw new cB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=q(e,$t(V(Qie)));if("error"in t)throw new ht(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=q(r,Zie);if("error"in i)throw new ht(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=q(s,$t(k()));if("error"in o)throw new ht(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=q(s,$t(O()));if("error"in o)throw new ht(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=q(i,$t(V(di)));if("error"in s)throw new ht(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);_n(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=q(i,tse);if("error"in s)throw new ht(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=q(s,$t(k()));if("error"in o)throw new ht(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=q(r,vie);if("error"in i)throw new ht(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Pr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=q(a,die);if("error"in c)throw new ht(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=q(e,Eie);if("error"in t)throw new ht(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=q(s,Rie);if("error"in o)throw new ht(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=q(e,Pie);if("error"in t)throw new ht(t.error,"failed to get epoch schedule");const r=t.result;return new yz(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=q(e,xie);if("error"in t)throw new ht(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=q(i,nse);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=q(r,hse);if("error"in i)throw new ht(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=q(t,yse);if("error"in r)throw new ht(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=q(i,mse);if("error"in s)throw new ht(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Wt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=q(s,Yr(F(k())));if("error"in o)throw new ht(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=q(i,Iie);if("error"in s)throw new ht(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=q(s,fse);if("error"in o)throw new ht(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=q(o,pse);if("error"in a)throw new ht(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=q(e,$t(wie));if("error"in t)throw new ht(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=q(e,$t(O()));if("error"in t)throw new ht(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,ase);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,ose);if("error"in a)throw a.error;return a.result}default:{const a=q(o,sse);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:K_(d,u.message)},version:d}))}:null}}}catch(a){throw new ht(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,use);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,lse);if("error"in a)throw a.error;return a.result}default:{const a=q(o,cse);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ht(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=q(s,kie);if("error"in o)throw new ht(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=q(o,W_);if("error"in a)throw new ht(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:K_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=q(o,Pb);if("error"in a)throw new ht(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,Pb);if("error"in u)throw new ht(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,W_);if("error"in u)throw new ht(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:K_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,dse);if("error"in s)throw new ht(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Qu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:tr.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=q(s,$t(V(k())));if("error"in o)throw new ht(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=q(i,eL);if("error"in s)throw new ht(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,eL);if("error"in s)throw new ht(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,W_);if("error"in s)throw new ht(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Qu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:tr.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,Pb);if("error"in s)throw new ht(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=q(o,Pb);if("error"in a)throw new ht(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=q(s,Die);if("error"in o)throw new ht(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=q(s,Uie);if("error"in o)throw new ht(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new rR({key:e,state:rR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=pz.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=q(r,bse);if("error"in i)throw new ht(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await kl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=bz;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await kl(dz/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=q(s,Yr(k()));if("error"in o)throw new ht(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=q(R,ZM);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof tr){let g=e;i=new tr,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=tr.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=q(b,ZM);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Fy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Wt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=q(a,wse);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Fy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=q(e,Kie);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=JM([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];_n(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=q(e,Fie);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=q(e,Sse);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=q(e,jie);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=q(e,Yie);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=q(e,Gie);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=q(e,Jie);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Pz=class E1{constructor(e){this._keypair=void 0,this._keypair=e??HM()}static generate(){return new E1(HM())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=F0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new E1({publicKey:r,secretKey:e})}static fromSeed(e){const t=F0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new E1({publicKey:t,secretKey:r})}get publicKey(){return new je(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Lc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),df("recentSlot"),oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),df(),Te(Jt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let vse=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Lc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=zn(Lc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=zn(Lc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new je(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},fB=class{constructor(){}static createLookupTable(e){const[t,r]=je.findProgramAddressSync([e.authority.toBuffer(),Uo(BigInt(e.recentSlot),8)],this.programId),i=Lc.CreateLookupTable,s=dn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ss.programId,isSigner:!1,isWritable:!1}];return[new or({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Lc.FreezeLookupTable,r=dn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new or({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Lc.ExtendLookupTable,r=dn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ss.programId,isSigner:!1,isWritable:!1}),new or({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Lc.DeactivateLookupTable,r=dn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new or({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Lc.CloseLookupTable,r=dn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new or({programId:this.programId,keys:i,data:r})}};fB.programId=new je("AddressLookupTab1e1111111111111111111111111");let Ese=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Na))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=zn(Na.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=zn(Na.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=zn(Na.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=zn(Na.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(pB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Na=Object.freeze({RequestUnits:{index:0,layout:U([oe("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([oe("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([oe("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([oe("instruction"),df("microLamports")])}});let pB=class{constructor(){}static requestUnits(e){const t=Na.RequestUnits,r=dn(t,e);return new or({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Na.RequestHeapFrame,r=dn(t,e);return new or({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Na.SetComputeUnitLimit,r=dn(t,e);return new or({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Na.SetComputeUnitPrice,r=dn(t,{microLamports:BigInt(e.microLamports)});return new or({keys:[],programId:this.programId,data:r})}};pB.programId=new je("ComputeBudget111111111111111111111111111111");const tL=64,nL=32,rL=64,iL=U([oe("numSignatures"),oe("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let xz=class Bz{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;_n(t.length===nL,`Public Key must be ${nL} bytes but received ${t.length} bytes`),_n(i.length===rL,`Signature must be ${rL} bytes but received ${i.length} bytes`);const o=iL.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return iL.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new or({keys:[],programId:Bz.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;_n(t.length===tL,`Private key must be ${tL} bytes but received ${t.length} bytes`);try{const s=Pz.fromSecretKey(t),o=s.publicKey.toBytes(),a=sB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};xz.programId=new je("Ed25519SigVerify111111111111111111111111111");const Ise=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const Rse=ki.getPublicKey,sL=32,F_=20,oL=64,Pse=11,V_=U([oe("numSignatures"),ot("signatureOffset"),oe("signatureInstructionIndex"),ot("ethAddressOffset"),oe("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),oe("messageInstructionIndex"),pe(20,"ethAddress"),pe(64,"signature"),oe("recoveryId")]);let Tz=class I1{constructor(){}static publicKeyToEthAddress(e){_n(e.length===oL,`Public key must be ${oL} bytes but received ${e.length} bytes`);try{return H.Buffer.from($o(Wt(e))).slice(-F_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return I1.createInstructionWithEthAddress({ethAddress:I1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,_n(a.length===F_,`Address must be ${F_} bytes but received ${a.length} bytes`);const c=1+Pse,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(V_.span+r.length);return V_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Wt(i),ethAddress:Wt(a),recoveryId:s},p),p.fill(Wt(r),V_.span),new or({keys:[],programId:I1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;_n(t.length===sL,`Private key must be ${sL} bytes but received ${t.length} bytes`);try{const s=Wt(t),o=Rse(s,!1).slice(1),a=H.Buffer.from($o(Wt(r))),[c,u]=Ise(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Tz.programId=new je("KeccakSecp256k11111111111111111111111111111");var Cz;const Mz=new je("StakeConfig11111111111111111111111111111111");let Lz=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Um=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};Cz=Um;Um.default=new Cz(0,0,je.default);let xse=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ei))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=zn(Ei.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Lz(new je(t.staker),new je(t.withdrawer)),lockup:new Um(r.unixTimestamp,r.epoch,new je(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),zn(Ei.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=zn(Ei.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new je(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=zn(Ei.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new je(s),newAuthorizedPubkey:new je(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=zn(Ei.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zn(Ei.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=zn(Ei.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zn(Ei.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Jk.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ei=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),xre(),Bre()])},Authorize:{index:1,layout:U([D("instruction"),Jt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Jt("newAuthorized"),D("stakeAuthorizationType"),$l("authoritySeed"),Jt("authorityOwner")])}}),Bse=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let Jk=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Um.default,o=Ei.Initialize,a=dn(o,{authorized:{staker:Wt(r.staker.toBuffer()),withdrawer:Wt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Wt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new or(c)}static createAccountWithSeed(e){const t=new tr;t.add(ss.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new tr;t.add(ss.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Ei.Delegate,o=dn(s);return new tr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:v1,isSigner:!1,isWritable:!1},{pubkey:Mz,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Ei.Authorize,c=dn(a,{newAuthorized:Wt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new tr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ei.AuthorizeWithSeed,l=dn(u,{newAuthorized:Wt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Wt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new tr().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Ei.Split,a=dn(o,{lamports:s});return new or({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new tr;return r.add(ss.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new tr;return u.add(ss.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(ss.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Ei.Merge,o=dn(s);return new tr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:v1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Ei.Withdraw,c=dn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:v1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new tr().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Ei.Deactivate,s=dn(i);return new tr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Jk.programId=new je("Stake11111111111111111111111111111111111111");Jk.space=200;let Oz=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},Tse=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries($a))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=zn($a.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Oz(new je(t.nodePubkey),new je(t.authorizedVoter),new je(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=zn($a.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new je(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=zn($a.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new je(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new je(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=zn($a.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Qk.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const $a=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Tre()])},Authorize:{index:1,layout:U([D("instruction"),Jt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),Cre()])}}),Cse=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let Qk=class Nz{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=$a.InitializeAccount,o=dn(s,{voteInit:{nodePubkey:Wt(i.nodePubkey.toBuffer()),authorizedVoter:Wt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Wt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lf,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new or(a)}static createAccount(e){const t=new tr;return t.add(ss.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=$a.Authorize,a=dn(o,{newAuthorized:Wt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new tr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=$a.AuthorizeWithSeed,u=dn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Wt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Wt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new tr().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=$a.Withdraw,a=dn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new tr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Nz.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=$a.UpdateValidatorIdentity,o=dn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new tr().add({keys:a,programId:this.programId,data:o})}};Qk.programId=new je("Vote111111111111111111111111111111111111111");Qk.space=3762;const $z=new je("Va1idator1nfo111111111111111111111111111111"),Mse=P({name:O(),website:te(O()),details:te(O()),keybaseUsername:te(O())});let Lse=class qz{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(_s(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new je(vs(t,0,Za)),a=Oa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals($z)&&i[1].isSigner){const s=$l().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,Mse),new qz(i[1].publicKey,o)}return null}};const Ose=new je("Vote111111111111111111111111111111111111111"),Nse=U([Jt("nodePubkey"),Jt("authorizedWithdrawer"),oe("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),oe("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Jt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Jt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),oe("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let $se=class zz{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Nse.decode(Wt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new zz({nodePubkey:new je(r.nodePubkey),authorizedWithdrawer:new je(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(qse),priorVoters:zse(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function qse({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new je(n)}}function aL({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new je(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function zse({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(aL),...n.slice(0,e).map(aL)]}const cL={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Dse(n,e){const t=e===!1?"http":"https";if(!n)return cL[t].devnet;const r=cL[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Use(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Fy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Kse=1e9,Wse=Object.freeze(Object.defineProperty({__proto__:null,Account:Ire,AddressLookupTableAccount:rR,AddressLookupTableInstruction:vse,AddressLookupTableProgram:fB,Authorized:Lz,BLOCKHASH_CACHE_TIMEOUT_MS:bz,BPF_LOADER_DEPRECATED_PROGRAM_ID:Rre,BPF_LOADER_PROGRAM_ID:Gre,BpfLoader:Jre,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Na,ComputeBudgetInstruction:Ese,ComputeBudgetProgram:pB,Connection:_se,Ed25519Program:xz,Enum:vre,EpochSchedule:yz,FeeCalculatorLayout:hz,Keypair:Pz,LAMPORTS_PER_SOL:Kse,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Lc,Loader:V0,Lockup:Um,MAX_SEED_LENGTH:iz,Message:Qu,MessageAccountKeys:Wy,MessageV0:Hk,NONCE_ACCOUNT_LENGTH:eR,NonceAccount:pz,PACKET_DATA_SIZE:qu,PUBLIC_KEY_LENGTH:Za,PublicKey:je,SIGNATURE_LENGTH_IN_BYTES:Ky,SOLANA_SCHEMA:Xg,STAKE_CONFIG_ID:Mz,STAKE_INSTRUCTION_LAYOUTS:Ei,SYSTEM_INSTRUCTION_LAYOUTS:pr,SYSVAR_CLOCK_PUBKEY:Aa,SYSVAR_EPOCH_SCHEDULE_PUBKEY:zre,SYSVAR_INSTRUCTIONS_PUBKEY:Dre,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:_1,SYSVAR_RENT_PUBKEY:lf,SYSVAR_REWARDS_PUBKEY:Ure,SYSVAR_SLOT_HASHES_PUBKEY:Kre,SYSVAR_SLOT_HISTORY_PUBKEY:Wre,SYSVAR_STAKE_HISTORY_PUBKEY:v1,Secp256k1Program:Tz,SendTransactionError:Fy,SolanaJSONRPCError:ht,SolanaJSONRPCErrorCode:Fre,StakeAuthorizationLayout:Bse,StakeInstruction:xse,StakeProgram:Jk,Struct:oB,SystemInstruction:Hre,SystemProgram:ss,Transaction:tr,TransactionExpiredBlockheightExceededError:aB,TransactionExpiredNonceInvalidError:Ph,TransactionExpiredTimeoutError:cB,TransactionInstruction:or,TransactionMessage:Lre,TransactionStatus:Ac,VALIDATOR_INFO_KEY:$z,VERSION_PREFIX_MASK:jk,VOTE_PROGRAM_ID:Ose,ValidatorInfo:Lse,VersionedMessage:uB,VersionedTransaction:Ore,VoteAccount:$se,VoteAuthorizationLayout:Cse,VoteInit:Oz,VoteInstruction:Tse,VoteProgram:Qk,clusterApiUrl:Dse,sendAndConfirmRawTransaction:Use,sendAndConfirmTransaction:XI},Symbol.toStringTag,{value:"Module"})),Km=la(Wse);var Zk={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_ACCOUNT_NOT_FOUND=n.ERROR_DEPRECATED_ACCOUNT_DATA=n.ERROR_INVALID_ACCOUNT_DATA=n.ERROR_INVALID_OWNER=n.MetaplexError=n.ErrorCode=void 0;var e;(function(a){a[a.ERROR_INVALID_OWNER=0]="ERROR_INVALID_OWNER",a[a.ERROR_INVALID_ACCOUNT_DATA=1]="ERROR_INVALID_ACCOUNT_DATA",a[a.ERROR_DEPRECATED_ACCOUNT_DATA=2]="ERROR_DEPRECATED_ACCOUNT_DATA",a[a.ERROR_ACCOUNT_NOT_FOUND=3]="ERROR_ACCOUNT_NOT_FOUND"})(e=n.ErrorCode||(n.ErrorCode={}));class t extends Error{constructor(c,u){super(u),this.errorCode=c}}n.MetaplexError=t;const r=()=>new t(e.ERROR_INVALID_OWNER,"Invalid owner");n.ERROR_INVALID_OWNER=r;const i=()=>new t(e.ERROR_INVALID_ACCOUNT_DATA,"Invalid data");n.ERROR_INVALID_ACCOUNT_DATA=i;const s=()=>new t(e.ERROR_DEPRECATED_ACCOUNT_DATA,"Account data is deprecated");n.ERROR_DEPRECATED_ACCOUNT_DATA=s;const o=a=>new t(e.ERROR_ACCOUNT_NOT_FOUND,`Unable to find account: ${a}`);n.ERROR_ACCOUNT_NOT_FOUND=o})(Zk);var xb=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Dm,"__esModule",{value:!0});Dm.Account=void 0;const Bb=Km,uL=H,Fse=Zk;let Vse=class aR{constructor(e,t){this.pubkey=new Bb.PublicKey(e),this.info=t}static from(e){return new this(e.pubkey,e.info)}static load(e,t){return xb(this,void 0,void 0,function*(){const r=yield aR.getInfo(e,t);return new this(t,r)})}static isCompatible(e){throw new Error("method 'isCompatible' is not implemented")}static getInfo(e,t){return xb(this,void 0,void 0,function*(){const r=yield e.getAccountInfo(new Bb.PublicKey(t));if(!r)throw(0,Fse.ERROR_ACCOUNT_NOT_FOUND)(t);return Object.assign(Object.assign({},r),{data:uL.Buffer.from(r==null?void 0:r.data)})})}static getInfos(e,t,r="recent"){return xb(this,void 0,void 0,function*(){const s=[];for(let a=0;a<t.length;a+=99)s.push(aR.getMultipleAccounts(e,t.slice(a,Math.min(t.length,a+99)),r));const o=new Map;return(yield Promise.all(s)).forEach(a=>{var c;return[...(c=a==null?void 0:a.entries())!==null&&c!==void 0?c:[]].forEach(([u,l])=>o.set(u,l))}),o})}static getMultipleAccounts(e,t,r){return xb(this,void 0,void 0,function*(){const i=e._buildArgs([t.map(a=>a.toString())],r,"base64"),s=yield e._rpcRequest("getMultipleAccounts",i);if(s.error)throw new Error("failed to get info about accounts "+s.error.message);return s.result.value?s.result.value.filter(Boolean).map(a=>Object.assign(Object.assign({},a),{data:uL.Buffer.from(a.data[0],"base64")})).reduce((a,c,u)=>(a.set(t[u],c),a),new Map):void 0})}assertOwner(e){var t;return(t=this.info)===null||t===void 0?void 0:t.owner.equals(new Bb.PublicKey(e))}toJSON(){var e,t,r,i,s;return{pubkey:this.pubkey.toString(),info:{executable:!!(!((e=this.info)===null||e===void 0)&&e.executable),owner:!((t=this.info)===null||t===void 0)&&t.owner?new Bb.PublicKey((r=this.info)===null||r===void 0?void 0:r.owner):null,lamports:(i=this.info)===null||i===void 0?void 0:i.lamports,data:(s=this.info)===null||s===void 0?void 0:s.data.toJSON()},data:this.data}}toString(){return JSON.stringify(this.toJSON())}};Dm.Account=Vse;var Dz={};const Jn=la(OX);(function(n){var e=ce&&ce.__awaiter||function(c,u,l,d){function b(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function y(_){try{w(d.next(_))}catch(R){g(R)}}function S(_){try{w(d.throw(_))}catch(R){g(R)}}function w(_){_.done?p(_.value):b(_.value).then(y,S)}w((d=d.apply(c,u||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deserialize=n.TokenAccount=void 0;const t=Zk,r=Dm,i=Jn,s=Km;class o extends r.Account{constructor(u,l){if(super(u,l),!this.assertOwner(i.TOKEN_PROGRAM_ID))throw(0,t.ERROR_INVALID_OWNER)();if(!o.isCompatible(this.info.data))throw(0,t.ERROR_INVALID_ACCOUNT_DATA)();this.data=(0,n.deserialize)(this.info.data)}static isCompatible(u){return u.length===i.AccountLayout.span}static getTokenAccountsByOwner(u,l){return e(this,void 0,void 0,function*(){return(yield u.getTokenAccountsByOwner(new s.PublicKey(l),{programId:i.TOKEN_PROGRAM_ID})).value.map(({pubkey:d,account:b})=>new o(d,b))})}}n.TokenAccount=o;const a=c=>{const u=i.AccountLayout.decode(c);return u.mint=new s.PublicKey(u.mint),u.owner=new s.PublicKey(u.owner),u.amount=i.u64.fromBuffer(u.amount),u.delegateOption===0?(u.delegate=null,u.delegatedAmount=new i.u64(0)):(u.delegate=new s.PublicKey(u.delegate),u.delegatedAmount=i.u64.fromBuffer(u.delegatedAmount)),u.isInitialized=u.state!==0,u.isFrozen=u.state===2,u.isNativeOption===1?(u.rentExemptReserve=i.u64.fromBuffer(u.isNative),u.isNative=!0):(u.rentExemptReserve=null,u.isNative=!1),u.closeAuthorityOption===0?u.closeAuthority=null:u.closeAuthority=new s.PublicKey(u.closeAuthority),u};n.deserialize=a})(Dz);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Dm,n),t(Dz,n)})(iB);var Xk={};Object.defineProperty(Xk,"__esModule",{value:!0});Xk.config=void 0;Xk.config={arweaveWallet:"HvwC9QSAzvGXhhVrgPmauVwFWcYZhne3hVot9EbHuFTm",programs:{auction:"auctxRXPeJoc4817jDhf4HbjnhEcr1cCXenosMhK5R8",metadata:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",metaplex:"p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98",vault:"vau1zxA2LbssAUEF7Gpw91zMM1LvXrvpzJtmZ58rPsn",packs:"BNRmGgciUJuyznkYHnmitA9an1BcDDiU9JmjEQwvBYVR",memo:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",token:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},maxCreatorLimit:5};var eS={},lL=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(eS,"__esModule",{value:!0});eS.Program=void 0;const j_=Km,jse=iB,Hse=H;class Yse{static findProgramAddress(e){return lL(this,void 0,void 0,function*(){return(yield j_.PublicKey.findProgramAddress(e,this.PUBKEY))[0]})}static getProgramAccounts(e,t){return lL(this,void 0,void 0,function*(){const r={};let i;t&&(typeof t=="string"?i=t:(i=t.commitment,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const s=e._buildArgs([this.PUBKEY.toBase58()],i,"base64",r);return(yield e._rpcRequest("getProgramAccounts",s)).result.map(({account:{data:a,executable:c,lamports:u,owner:l},pubkey:d})=>({account:{data:Hse.Buffer.from(a[0],"base64"),executable:c,lamports:u,owner:new j_.PublicKey(l)},pubkey:new j_.PublicKey(d)})).map(({pubkey:a,account:c})=>new jse.Account(a,c))})}}eS.Program=Yse;var tS={};Object.defineProperty(tS,"__esModule",{value:!0});tS.Transaction=void 0;const Gse=Km;let Jse=class Uz extends Gse.Transaction{constructor(e){super(e)}static fromCombined(e,t={}){const r=new Uz(t);return e.forEach(i=>i.instructions.forEach(s=>{r.add(s)})),r}};tS.Transaction=Jse;var Kz={};Object.defineProperty(Kz,"__esModule",{value:!0});var Wz={},Fz={};(function(n){var e=ce&&ce.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.serialize=n.deserializeUnchecked=n.deserialize=n.struct=n.Data=n.extendBorsh=void 0;const t=Km,r=Bi;Object.defineProperty(n,"deserializeUnchecked",{enumerable:!0,get:function(){return r.deserializeUnchecked}}),Object.defineProperty(n,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(n,"deserialize",{enumerable:!0,get:function(){return r.deserialize}});const i=e(Fs),s=()=>{r.BinaryReader.prototype.readPubkey=function(){const c=this.readFixedArray(32);return new t.PublicKey(c)},r.BinaryWriter.prototype.writePubkey=function(c){this.writeFixedArray(c.toBuffer())},r.BinaryReader.prototype.readPubkeyAsString=function(){const c=this.readFixedArray(32);return i.default.encode(c)},r.BinaryWriter.prototype.writePubkeyAsString=function(c){this.writeFixedArray(i.default.decode(c))}};n.extendBorsh=s,(0,n.extendBorsh)();class o{constructor(u={}){Object.assign(this,u)}static struct(u){return(0,n.struct)(this,u)}static serialize(u={}){return Buffer.from((0,r.serialize)(this.SCHEMA,new this(u)))}static deserialize(u){return(0,r.deserializeUnchecked)(this.SCHEMA,this,u)}}n.Data=o;const a=(c,u)=>new Map([[c,{kind:"struct",fields:u}]]);n.struct=a})(Fz);var Vz={};(function(n){var e=ce&&ce.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBNFromData=n.TupleNumericType=void 0;const t=e(Ws);var r;(function(s){s[s.U8=1]="U8",s[s.U16=2]="U16",s[s.U32=4]="U32",s[s.U64=8]="U64"})(r=n.TupleNumericType||(n.TupleNumericType={}));const i=(s,o,a)=>{switch(a){case r.U8:return new t.default(s[o],"le");case r.U16:return new t.default(s.slice(o,o+2),"le");case r.U32:return new t.default(s.slice(o,o+4),"le");case r.U64:return new t.default(s.slice(o,o+8),"le")}};n.getBNFromData=i})(Vz);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(s,o,a,c){c===void 0&&(c=a),Object.defineProperty(s,c,{enumerable:!0,get:function(){return o[a]}})}:function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]}),t=ce&&ce.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),r=ce&&ce.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var a in s)a!=="default"&&Object.prototype.hasOwnProperty.call(s,a)&&e(o,s,a);return t(o,s),o},i=ce&&ce.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.Borsh=void 0,n.Borsh=r(Fz),i(Vz,n)})(Wz);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(iB,n),t(Xk,n),t(Zk,n),t(eS,n),t(tS,n),t(Kz,n),t(Wz,n)})(Ce);const Qse=Do(Ce),Zse=Sd({__proto__:null,default:Qse},[Ce]);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.VaultProgram=n.VaultInstructions=n.VaultKey=void 0;const e=Ce,t=js;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.VaultV1=3]="VaultV1",i[i.SafetyDepositBoxV1=1]="SafetyDepositBoxV1",i[i.ExternalPriceAccountV1=2]="ExternalPriceAccountV1"})(n.VaultKey||(n.VaultKey={})),function(i){i[i.InitVault=0]="InitVault",i[i.AddTokenToInactiveVault=1]="AddTokenToInactiveVault",i[i.ActivateVault=2]="ActivateVault",i[i.CombineVault=3]="CombineVault",i[i.RedeemShares=4]="RedeemShares",i[i.WithdrawTokenFromSafetyDepositBox=5]="WithdrawTokenFromSafetyDepositBox",i[i.MintFractionalShares=6]="MintFractionalShares",i[i.WithdrawSharesFromTreasury=7]="WithdrawSharesFromTreasury",i[i.AddSharesToTreasury=8]="AddSharesToTreasury",i[i.UpdateExternalPriceAccount=9]="UpdateExternalPriceAccount",i[i.SetVaultAuthority=10]="SetVaultAuthority"}(n.VaultInstructions||(n.VaultInstructions={}));class r extends e.Program{}n.VaultProgram=r,r.PREFIX="vault",r.PUBKEY=new t.PublicKey(e.config.programs.vault)})(lr);var Xse=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},jz;Object.defineProperty(ud,"__esModule",{value:!0});ud.SafetyDepositBox=ud.SafetyDepositBoxData=void 0;const dL=js,Tg=lr,eoe=H,R1=Ce;class nS extends R1.Borsh.Data{constructor(e){super(e),this.key=Tg.VaultKey.SafetyDepositBoxV1}}ud.SafetyDepositBoxData=nS;jz=nS;nS.SCHEMA=jz.struct([["key","u8"],["vault","pubkeyAsString"],["tokenMint","pubkeyAsString"],["store","pubkeyAsString"],["order","u8"]]);class gB extends R1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Tg.VaultProgram.PUBKEY))throw(0,R1.ERROR_INVALID_OWNER)();if(!gB.isCompatible(this.info.data))throw(0,R1.ERROR_INVALID_ACCOUNT_DATA)();this.data=nS.deserialize(this.info.data)}static getPDA(e,t){return Xse(this,void 0,void 0,function*(){return Tg.VaultProgram.findProgramAddress([eoe.Buffer.from(Tg.VaultProgram.PREFIX),new dL.PublicKey(e).toBuffer(),new dL.PublicKey(t).toBuffer()])})}static isCompatible(e){return e[0]===Tg.VaultKey.SafetyDepositBoxV1}}ud.SafetyDepositBox=gB;var ol={};(function(n){var e=ce&&ce.__awaiter||function(S,w,_,R){function x(K){return K instanceof _?K:new _(function(J){J(K)})}return new(_||(_=Promise))(function(K,J){function M(X){try{ie(R.next(X))}catch(ne){J(ne)}}function Z(X){try{ie(R.throw(X))}catch(ne){J(ne)}}function ie(X){X.done?K(X.value):x(X.value).then(M,Z)}ie((R=R.apply(S,w||[])).next())})},t=ce&&ce.__importDefault||function(S){return S&&S.__esModule?S:{default:S}},r,i,s;Object.defineProperty(n,"__esModule",{value:!0}),n.Vault=n.VaultData=n.VaultState=n.NumberOfShareArgs=n.AmountArgs=void 0;const o=js,a=t(Fs),c=Ce,u=ud,l=lr,d=H;class b extends c.Borsh.Data{}n.AmountArgs=b,r=b,b.SCHEMA=r.struct([["instruction","u8"],["amount","u64"]]);class p extends c.Borsh.Data{}n.NumberOfShareArgs=p,i=p,p.SCHEMA=i.struct([["instruction","u8"],["numberOfShares","u64"]]),function(S){S[S.Inactive=0]="Inactive",S[S.Active=1]="Active",S[S.Combined=2]="Combined",S[S.Deactivated=3]="Deactivated"}(n.VaultState||(n.VaultState={}));class g extends c.Borsh.Data{constructor(w){super(w),this.key=l.VaultKey.VaultV1}}n.VaultData=g,s=g,g.SCHEMA=s.struct([["key","u8"],["tokenProgram","pubkeyAsString"],["fractionMint","pubkeyAsString"],["authority","pubkeyAsString"],["fractionTreasury","pubkeyAsString"],["redeemTreasury","pubkeyAsString"],["allowFurtherShareCreation","u8"],["pricingLookupAddress","pubkeyAsString"],["tokenTypeCount","u8"],["state","u8"],["lockedPricePerShare","u64"]]);class y extends c.Account{constructor(w,_){if(super(w,_),!this.assertOwner(l.VaultProgram.PUBKEY))throw(0,c.ERROR_INVALID_OWNER)();if(!y.isCompatible(this.info.data))throw(0,c.ERROR_INVALID_ACCOUNT_DATA)();this.data=g.deserialize(this.info.data)}static getPDA(w){return e(this,void 0,void 0,function*(){return l.VaultProgram.findProgramAddress([d.Buffer.from(l.VaultProgram.PREFIX),l.VaultProgram.PUBKEY.toBuffer(),new o.PublicKey(w).toBuffer()])})}static isCompatible(w){return w[0]===l.VaultKey.VaultV1}getSafetyDepositBoxes(w){return e(this,void 0,void 0,function*(){return(yield l.VaultProgram.getProgramAccounts(w,{filters:[{memcmp:{offset:0,bytes:a.default.encode(d.Buffer.from([l.VaultKey.SafetyDepositBoxV1]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(_=>u.SafetyDepositBox.from(_))})}}n.Vault=y,y.MAX_VAULT_SIZE=205,y.MAX_EXTERNAL_ACCOUNT_SIZE=42})(ol);var ld={},Hz;Object.defineProperty(ld,"__esModule",{value:!0});ld.ExternalPriceAccount=ld.ExternalPriceAccountData=void 0;const P1=Ce,cR=lr;class rS extends P1.Borsh.Data{constructor(e){super(e),this.key=cR.VaultKey.ExternalPriceAccountV1}}ld.ExternalPriceAccountData=rS;Hz=rS;rS.SCHEMA=Hz.struct([["key","u8"],["pricePerShare","u64"],["priceMint","pubkeyAsString"],["allowedToCombine","u8"]]);class yB extends P1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(cR.VaultProgram.PUBKEY))throw(0,P1.ERROR_INVALID_OWNER)();if(!yB.isCompatible(this.info.data))throw(0,P1.ERROR_INVALID_ACCOUNT_DATA)();this.data=rS.deserialize(this.info.data)}static isCompatible(e){return e[0]===cR.VaultKey.ExternalPriceAccountV1}}ld.ExternalPriceAccount=yB;var Yz={},iS={};Object.defineProperty(iS,"__esModule",{value:!0});iS.ActivateVault=void 0;const toe=Jn,noe=js,roe=lr,ioe=ol,soe=lr,ooe=Ce;class aoe extends ooe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionMint:s,fractionTreasury:o,fractionMintAuthority:a,numberOfShares:c}=t,u=ioe.NumberOfShareArgs.serialize({instruction:roe.VaultInstructions.ActivateVault,numberOfShares:c});this.add(new noe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:toe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:soe.VaultProgram.PUBKEY,data:u}))}}iS.ActivateVault=aoe;var sS={};Object.defineProperty(sS,"__esModule",{value:!0});sS.AddSharesToTreasury=void 0;const coe=Jn,hL=js,uoe=lr,loe=ol,doe=lr,hoe=Ce;class foe extends hoe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,source:s,transferAuthority:o,fractionTreasury:a,numberOfShares:c}=t,u=loe.NumberOfShareArgs.serialize({instruction:uoe.VaultInstructions.AddSharesToTreasury,numberOfShares:c});this.add(new hL.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:coe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:hL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:doe.VaultProgram.PUBKEY,data:u}))}}sS.AddSharesToTreasury=foe;var oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.AddTokenToInactiveVault=void 0;const poe=Ce,goe=Jn,H_=js,yoe=ol,moe=lr,boe=lr;class woe extends poe.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{vault:i,vaultAuthority:s,tokenAccount:o,tokenStoreAccount:a,transferAuthority:c,safetyDepositBox:u,amount:l}=t,d=yoe.AmountArgs.serialize({instruction:boe.VaultInstructions.AddTokenToInactiveVault,amount:l});this.add(new H_.TransactionInstruction({keys:[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:goe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:H_.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:H_.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:moe.VaultProgram.PUBKEY,data:d}))}}oS.AddTokenToInactiveVault=woe;var hf={},Gz;Object.defineProperty(hf,"__esModule",{value:!0});hf.CombineVault=hf.CombineVaultArgs=void 0;const Jz=Ce,koe=Jn,Soe=js,Aoe=lr,_oe=lr;class aS extends Jz.Borsh.Data{constructor(){super(...arguments),this.instruction=Aoe.VaultInstructions.CombineVault}}hf.CombineVaultArgs=aS;Gz=aS;aS.SCHEMA=Gz.struct([["instruction","u8"]]);class voe extends Jz.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionMint:s,fractionTreasury:o,outstandingShareTokenAccount:a,payingTokenAccount:c,redeemTreasury:u,newVaultAuthority:l,transferAuthority:d,externalPriceAccount:b,burnAuthority:p}=t,g=aS.serialize();this.add(new Soe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l||i,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:koe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:_oe.VaultProgram.PUBKEY,data:g}))}}hf.CombineVault=voe;var ff={},Qz;Object.defineProperty(ff,"__esModule",{value:!0});ff.InitVault=ff.InitVaultArgs=void 0;const Zz=Ce,Eoe=Jn,fL=js,Ioe=lr,Roe=lr;class cS extends Zz.Borsh.Data{constructor(){super(...arguments),this.instruction=Ioe.VaultInstructions.InitVault,this.allowFurtherShareCreation=!1}}ff.InitVaultArgs=cS;Qz=cS;cS.SCHEMA=Qz.struct([["instruction","u8"],["allowFurtherShareCreation","u8"]]);class Poe extends Zz.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionalMint:s,redeemTreasury:o,fractionalTreasury:a,pricingLookupAddress:c,allowFurtherShareCreation:u}=t,l=cS.serialize({allowFurtherShareCreation:u});this.add(new fL.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:Eoe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:fL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Roe.VaultProgram.PUBKEY,data:l}))}}ff.InitVault=Poe;var uS={};Object.defineProperty(uS,"__esModule",{value:!0});uS.MintFractionalShares=void 0;const xoe=Jn,Boe=js,Toe=lr,Coe=Ce,Moe=ol,Loe=lr;class Ooe extends Coe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionMint:s,fractionTreasury:o,fractionMintAuthority:a,numberOfShares:c}=t,u=Moe.NumberOfShareArgs.serialize({instruction:Toe.VaultInstructions.MintFractionalShares,numberOfShares:c});this.add(new Boe.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:xoe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:Loe.VaultProgram.PUBKEY,data:u}))}}uS.MintFractionalShares=Ooe;var pf={},Xz;Object.defineProperty(pf,"__esModule",{value:!0});pf.RedeemShares=pf.RedeemSharesArgs=void 0;const eD=Ce,Noe=Jn,pL=js,$oe=lr,qoe=lr;class lS extends eD.Borsh.Data{constructor(){super(...arguments),this.instruction=$oe.VaultInstructions.RedeemShares}}pf.RedeemSharesArgs=lS;Xz=lS;lS.SCHEMA=Xz.struct([["instruction","u8"]]);class zoe extends eD.Transaction{constructor(e,t){super(e);const{vault:r,burnAuthority:i,fractionMint:s,outstandingSharesAccount:o,proceedsAccount:a,redeemTreasury:c,transferAuthority:u}=t,l=lS.serialize();this.add(new pL.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Noe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:pL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:qoe.VaultProgram.PUBKEY,data:l}))}}pf.RedeemShares=zoe;var gf={},tD;Object.defineProperty(gf,"__esModule",{value:!0});gf.SetVaultAuthority=gf.SetVaultAuthorityArgs=void 0;const nD=Ce,Doe=js,Uoe=lr,Koe=lr;class dS extends nD.Borsh.Data{constructor(){super(...arguments),this.instruction=Uoe.VaultInstructions.SetVaultAuthority}}gf.SetVaultAuthorityArgs=dS;tD=dS;dS.SCHEMA=tD.struct([["instruction","u8"]]);class Woe extends nD.Transaction{constructor(e,t){super(e);const{vault:r,currentAuthority:i,newAuthority:s}=t,o=dS.serialize();this.add(new Doe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Koe.VaultProgram.PUBKEY,data:o}))}}gf.SetVaultAuthority=Woe;var yf={},rD;Object.defineProperty(yf,"__esModule",{value:!0});yf.UpdateExternalPriceAccount=yf.UpdateExternalPriceAccountArgs=void 0;const iD=Ce,Foe=js,Voe=lr,gL=ld,joe=lr;class hS extends iD.Borsh.Data{constructor(){super(...arguments),this.instruction=Voe.VaultInstructions.UpdateExternalPriceAccount}}yf.UpdateExternalPriceAccountArgs=hS;rD=hS;hS.SCHEMA=new Map([...gL.ExternalPriceAccountData.SCHEMA,...rD.struct([["instruction","u8"],["externalPriceAccount",gL.ExternalPriceAccountData]])]);class Hoe extends iD.Transaction{constructor(e,t){super(e);const{externalPriceAccount:r,externalPriceAccountData:i}=t,s=hS.serialize({externalPriceAccount:i});this.add(new Foe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0}],programId:joe.VaultProgram.PUBKEY,data:s}))}}yf.UpdateExternalPriceAccount=Hoe;var fS={};Object.defineProperty(fS,"__esModule",{value:!0});fS.WithdrawSharesFromTreasury=void 0;const Yoe=Ce,Goe=Jn,yL=js,Joe=lr,Qoe=ol,Zoe=lr;class Xoe extends Yoe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,destination:s,transferAuthority:o,fractionTreasury:a,numberOfShares:c}=t,u=Qoe.NumberOfShareArgs.serialize({instruction:Joe.VaultInstructions.WithdrawSharesFromTreasury,numberOfShares:c});this.add(new yL.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Goe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:yL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Zoe.VaultProgram.PUBKEY,data:u}))}}fS.WithdrawSharesFromTreasury=Xoe;var pS={};Object.defineProperty(pS,"__esModule",{value:!0});pS.WithdrawTokenFromSafetyDepositBox=void 0;const eae=Ce,tae=Jn,mL=js,nae=lr,rae=ol,iae=lr;class sae extends eae.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,store:s,destination:o,fractionMint:a,transferAuthority:c,safetyDepositBox:u,amount:l}=t,d=rae.AmountArgs.serialize({instruction:nae.VaultInstructions.WithdrawTokenFromSafetyDepositBox,amount:l});this.add(new mL.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:tae.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:mL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:iae.VaultProgram.PUBKEY,data:d}))}}pS.WithdrawTokenFromSafetyDepositBox=sae;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(iS,n),t(sS,n),t(oS,n),t(hf,n),t(ff,n),t(uS,n),t(pf,n),t(gf,n),t(yf,n),t(fS,n),t(pS,n)})(Yz);var sD={};Object.defineProperty(sD,"__esModule",{value:!0});(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(ud,n),t(ol,n),t(ld,n),t(lr,n),t(Yz,n),t(sD,n)})(eu);const oae=Do(eu),aae=Sd({__proto__:null,default:oae},[eu]);var mB={},bB={},oD={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.createError=mf.DefaultDataPack=void 0;const cae=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let uae=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};mf.DefaultDataPack=uae;function lae(n,e){const t={code:n,message:cae.get(n)||"Internal Server Error"};return e&&(t.data=e),t}mf.createError=lae;Object.defineProperty(oD,"__esModule",{value:!0});const dae=Ko,hae=mf;let fae=class extends dae.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new hae.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var pae=oD.default=fae,aD={};Object.defineProperty(aD,"__esModule",{value:!0});const gae=Ko;let yae=class extends gae.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function mae(n,e){return new yae(n,e)}var bae=aD.default=mae;const wae=sn.utils.randomPrivateKey,bL=()=>{const n=sn.utils.randomPrivateKey(),e=H0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},H0=sn.getPublicKey;function wL(n){try{return sn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const wB=(n,e)=>sn.sign(n,e.slice(0,32)),kae=sn.verify,Ft=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let kB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(ey,this))}static decode(e){return Pp(ey,this,e)}static decodeUnchecked(e){return Ip(ey,this,e)}},Sae=class extends kB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const ey=new Map;var cD;const uD=32,Xa=32;function Aae(n){return n._bn!==void 0}let kL=1,He=class ih extends kB{constructor(e){if(super({}),this._bn=void 0,Aae(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Xa)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Xa)throw new Error("Invalid public key input")}}static unique(){const e=new ih(kL);return kL+=1,new ih(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Xa)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=fo(i);return new ih(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>uD)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Ft(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=fo(r);if(wL(i))throw new Error("Invalid seeds, address must fall off the curve");return new ih(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ih(e);return wL(t.toBytes())}};cD=He;He.default=new cD("11111111111111111111111111111111");ey.set(He,{kind:"struct",fields:[["_bn","u256"]]});let _ae=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Ft(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Ft(wae()),this._publicKey=Ft(H0(this._secretKey))}get publicKey(){return new He(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const vae=new He("BPFLoader1111111111111111111111111111111111"),zu=1232,gS=127,jy=64;let SB=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(SB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let AB=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(AB.prototype,"name",{value:"TransactionExpiredTimeoutError"});let xh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(xh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Hy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Qt=(n="publicKey")=>pe(32,n),Eae=(n="signature")=>pe(64,n),ql=(n="string")=>{const e=U([D("length"),D("lengthPadding"),pe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},Iae=(n="authorized")=>U([Qt("staker"),Qt("withdrawer")],n),Rae=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Qt("custodian")],n),Pae=(n="voteInit")=>U([Qt("nodePubkey"),Qt("authorizedVoter"),Qt("authorizedWithdrawer"),oe("commission")],n),xae=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Qt("currentAuthorityDerivedKeyOwnerPubkey"),ql("currentAuthorityDerivedKeySeed"),Qt("newAuthorized")],n);function lD(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return lD({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Es(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function ro(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function vn(n,e){if(!n)throw new Error(e||"Assertion failed")}let dD=class hD{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new hD(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];vn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{vn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];vn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new He(c)),...r.map(([c])=>new He(c)),...i.map(([c])=>new He(c)),...s.map(([c])=>new He(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new He(s),c=e.findIndex(u=>u.equals(a));c>=0&&(vn(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const fD="Reached end of buffer unexpectedly";function qa(n){if(n.length===0)throw new Error(fD);return n.shift()}function Is(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(fD);return n.splice(...e)}let Zu=class uR{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new He(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Hy(this.staticAccountKeys)}static compile(e){const t=dD.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Hy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new uR({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];ro(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];ro(y,b.length);let S=[];return ro(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];ro(i,r.length);let s=H.Buffer.alloc(zu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([oe("programIdIndex"),pe(d.keyIndicesCount.length,"keyIndicesCount"),Te(oe("keyIndex"),d.keyIndices.length,"keyIndices"),pe(d.dataLength.length,"dataLength"),Te(oe("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([pe(1,"numRequiredSignatures"),pe(1,"numReadonlySignedAccounts"),pe(1,"numReadonlyUnsignedAccounts"),pe(t.length,"keyCount"),Te(Qt("key"),e,"keys"),Qt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Ft(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=qa(t);if(r!==(r&gS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=qa(t),s=qa(t),o=Es(t);let a=[];for(let b=0;b<o;b++){const p=Is(t,0,Xa);a.push(new He(H.Buffer.from(p)))}const c=Is(t,0,Xa),u=Es(t);let l=[];for(let b=0;b<u;b++){const p=qa(t),g=Es(t),y=Is(t,0,g),S=Es(t),w=Is(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new uR(d)}},yS=class lR{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Hy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=dD.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Hy(a,i).compileInstructions(e.instructions);return new lR({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();ro(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();ro(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();ro(s,this.addressTableLookups.length);const o=U([oe("prefix"),U([oe("numRequiredSignatures"),oe("numReadonlySignedAccounts"),oe("numReadonlyUnsignedAccounts")],"header"),pe(e.length,"staticAccountKeysLength"),Te(Qt(),this.staticAccountKeys.length,"staticAccountKeys"),Qt("recentBlockhash"),pe(r.length,"instructionsLength"),pe(t.length,"serializedInstructions"),pe(s.length,"addressTableLookupsLength"),pe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(zu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(zu);for(const r of this.compiledInstructions){const i=Array();ro(i,r.accountKeyIndexes.length);const s=Array();ro(s,r.data.length);const o=U([oe("programIdIndex"),pe(i.length,"encodedAccountKeyIndexesLength"),Te(oe(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe(s.length,"encodedDataLength"),pe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(zu);for(const r of this.addressTableLookups){const i=Array();ro(i,r.writableIndexes.length);const s=Array();ro(s,r.readonlyIndexes.length);const o=U([Qt("accountKey"),pe(i.length,"encodedWritableIndexesLength"),Te(oe(),r.writableIndexes.length,"writableIndexes"),pe(s.length,"encodedReadonlyIndexesLength"),Te(oe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=qa(t),i=r&gS;vn(r!==i,"Expected versioned message but received legacy message");const s=i;vn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:qa(t),numReadonlySignedAccounts:qa(t),numReadonlyUnsignedAccounts:qa(t)},a=[],c=Es(t);for(let g=0;g<c;g++)a.push(new He(Is(t,0,Xa)));const u=Pe.encode(Is(t,0,Xa)),l=Es(t),d=[];for(let g=0;g<l;g++){const y=qa(t),S=Es(t),w=Is(t,0,S),_=Es(t),R=new Uint8Array(Is(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=Es(t),p=[];for(let g=0;g<b;g++){const y=new He(Is(t,0,Xa)),S=Es(t),w=Is(t,0,S),_=Es(t),R=Is(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new lR({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const _B={deserializeMessageVersion(n){const e=n[0],t=e&gS;return t===e?"legacy":t},deserialize:n=>{const e=_B.deserializeMessageVersion(n);if(e==="legacy")return Zu.from(n);if(e===0)return yS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let _c=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Bae=H.Buffer.alloc(jy).fill(0);let ar=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},nr=class dR{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ar(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new He(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{vn(y.programIdIndex>=0),y.accounts.forEach(S=>vn(S>=0))}),new Zu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=wB(r,i.secretKey);this._addSignature(i.publicKey,Ft(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){vn(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):kae(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];ro(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return vn(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(vn(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),vn(s.length<=zu,`Transaction too large: ${s.length} > ${zu}`),s}get keys(){return vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return vn(this.instructions.length===1),this.instructions[0].programId}get data(){return vn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Es(t);let i=[];for(let s=0;s<r;s++){const o=Is(t,0,jy);i.push(Pe.encode(H.Buffer.from(o)))}return dR.populate(Zu.from(t),i)}static populate(e,t=[]){const r=new dR;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(Bae)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ar({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},Tae=class pD{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;vn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;vn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new ar({programId:S,data:Ft(g.data),keys:y}))}return new pD({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Zu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return yS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},Cae=class gD{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)vn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(jy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();ro(t,this.signatures.length);const r=U([pe(t.length,"encodedSignaturesLength"),Te(Eae(),this.signatures.length,"signatures"),pe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Es(t);for(let o=0;o<i;o++)r.push(new Uint8Array(Is(t,0,jy)));const s=_B.deserialize(new Uint8Array(t));return new gD(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));vn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=wB(t,i.secretKey)}}addSignature(e,t){vn(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));vn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const Mae=160,Lae=64,Oae=Mae/Lae,yD=1e3/Oae,_a=new He("SysvarC1ock11111111111111111111111111111111"),Nae=new He("SysvarEpochSchedu1e111111111111111111111111"),$ae=new He("Sysvar1nstructions1111111111111111111111111"),x1=new He("SysvarRecentB1ockHashes11111111111111111111"),bf=new He("SysvarRent111111111111111111111111111111111"),qae=new He("SysvarRewards111111111111111111111111111111"),zae=new He("SysvarS1otHashes111111111111111111111111111"),Dae=new He("SysvarS1otHistory11111111111111111111111111"),B1=new He("SysvarStakeHistory1111111111111111111111111");let Yy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const Uae={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let ft=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function hR(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Yy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Sl(n){return new Promise(e=>setTimeout(e,n))}function hn(n,e){const t=n.layout.span>=0?n.layout.span:lD(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Dn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const mD=Be("lamportsPerSignature"),bD=U([D("version"),D("state"),Qt("authorizedPubkey"),Qt("nonce"),U([mD],"feeCalculator")]),fR=bD.span;let wD=class kD{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=bD.decode(Ft(e),0);return new kD({authorizedPubkey:new He(t.authorizedPubkey),nonce:new He(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const Kae=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Wae=n=>e=>{const t=pe(n,e),{encode:r,decode:i}=Kae(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Uo(o,n);return r(u,a,c)},s},wf=Wae(8);let Fae=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(gr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Dn(gr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new He(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Dn(gr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Dn(gr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new He(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Dn(gr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Dn(gr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new He(t),seed:r,space:i,programId:new He(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Dn(gr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new He(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Dn(gr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new He(t),seed:r,programId:new He(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=Dn(gr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new He(t),seed:r,lamports:i,space:s,programId:new He(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Dn(gr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new He(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Dn(gr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Dn(gr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Dn(gr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new He(t)}}static checkProgramId(e){if(!e.equals(os.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const gr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Qt("programId")])},Assign:{index:1,layout:U([D("instruction"),Qt("programId")])},Transfer:{index:2,layout:U([D("instruction"),wf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Qt("base"),ql("seed"),Je("lamports"),Je("space"),Qt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Qt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Qt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Qt("base"),ql("seed"),Je("space"),Qt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Qt("base"),ql("seed"),Qt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),wf("lamports"),ql("seed"),Qt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let os=class pR{constructor(){}static createAccount(e){const t=gr.Create,r=hn(t,{lamports:e.lamports,space:e.space,programId:Ft(e.programId.toBuffer())});return new ar({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=gr.TransferWithSeed;t=hn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=gr.Transfer;t=hn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=gr.AssignWithSeed;t=hn(i,{base:Ft(e.basePubkey.toBuffer()),seed:e.seed,programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=gr.Assign;t=hn(i,{programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=gr.CreateWithSeed,r=hn(t,{base:Ft(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ft(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ar({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new nr;"basePubkey"in e&&"seed"in e?t.add(pR.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:fR,programId:this.programId})):t.add(pR.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:fR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=gr.InitializeNonceAccount,r=hn(t,{authorized:Ft(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:x1,isSigner:!1,isWritable:!1},{pubkey:bf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ar(i)}static nonceAdvance(e){const t=gr.AdvanceNonceAccount,r=hn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:x1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ar(i)}static nonceWithdraw(e){const t=gr.WithdrawNonceAccount,r=hn(t,{lamports:e.lamports});return new ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:x1,isSigner:!1,isWritable:!1},{pubkey:bf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=gr.AuthorizeNonceAccount,r=hn(t,{authorized:Ft(e.newAuthorizedPubkey.toBuffer())});return new ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=gr.AllocateWithSeed;t=hn(i,{base:Ft(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=gr.Allocate;t=hn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:t})}};os.programId=new He("11111111111111111111111111111111");const Vae=zu-300;let Y0=class gR{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/gR.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new nr,p.add(os.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new nr,p.add(os.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new nr,p.add(os.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new nr().add(os.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await hR(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(oe("byte"),Rt(D(),-8),"bytes")]),a=gR.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new nr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(hR(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Sl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new nr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:bf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(yD/2)))}}return!0}};Y0.chunkSize=Vae;const jae=new He("BPFLoader2111111111111111111111111111111111");let Hae=class{static getMinNumSignatures(e){return Y0.getMinNumSignatures(e)}static load(e,t,r,i,s){return Y0.load(e,t,r,s,i)}};function Yae(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gae=Object.prototype.toString,Jae=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Cg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Cg(n.toJSON(),e);if(c=Gae.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Cg(n[t],!0)+",";return r>-1&&(i+=Cg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=Jae(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Cg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Qae=function(n){var e=Cg(n,!1);if(e!==void 0)return""+e},SL=Yae(Qae);const yg=32;function Y_(n){let e=0;for(;n>1;)n/=2,e++;return e}function Zae(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let SD=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Y_(Zae(e+yg+1))-Y_(yg)-1,r=this.getSlotsInEpoch(t),i=e-(r-yg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*yg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Y_(yg)):this.slotsPerEpoch}};var Xae=globalThis.fetch;let ece=class extends pae{constructor(e,t,r){const i=s=>{const o=bae(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function tce(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const AL=56;let yR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=tce(nce,e),r=e.length-AL;vn(r>=0,"lookup table is invalid"),vn(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Qt(),i,"addresses")]).decode(e.slice(AL));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new He(t.authority[0]):void 0,addresses:s.map(o=>new He(o))}}};const nce={index:1,layout:U([D("typeIndex"),wf("deactivationSlot"),Be("lastExtendedSlot"),oe("lastExtendedStartIndex"),oe(),Te(Qt(),Rt(oe(),-1),"authority")])},rce=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ice(n){const e=n.match(rce);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const hi=_r(gs(He),O(),n=>new He(n)),AD=ys([O(),_e("base64")]),vB=_r(gs(H.Buffer),AD,n=>H.Buffer.from(n[0],"base64")),_D=30*1e3;function sce(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function xr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function vD(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:te(qm())})})])}const oce=vD(Ar());function qt(n){return _r(vD(n),oce,e=>"error"in e?e:{...e,result:q(e.result,n)})}function Gr(n){return qt(P({context:P({slot:k()}),value:n}))}function mS(n){return P({context:P({slot:k()}),value:n})}function G_(n,e){return n===0?new yS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new He(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Zu(e)}const ace=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),cce=qt(V(F(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:te(F(k()))})))),uce=V(P({slot:k(),prioritizationFee:k()})),lce=P({total:k(),validator:k(),foundation:k(),epoch:k()}),dce=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:te(k()),transactionCount:te(k())}),hce=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),fce=lc(O(),V(k())),Md=F(tt([P({}),O()])),pce=P({err:Md}),gce=_e("receivedSignature"),yce=P({"solana-core":O(),"feature-set":te(k())}),_L=Gr(P({err:F(tt([P({}),O()])),logs:F(V(O())),accounts:te(F(V(F(P({executable:St(),owner:O(),lamports:k(),data:V(O()),rentEpoch:te(k())}))))),unitsConsumed:te(k()),returnData:te(F(P({programId:O(),data:ys([O(),_e("base64")])})))})),mce=Gr(P({byIdentity:lc(O(),V(k())),range:P({firstSlot:k(),lastSlot:k()})}));function bce(n,e,t,r,i,s){const o=t||Xae;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},wue)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await Sl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function wce(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function kce(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const Sce=qt(ace),Ace=qt(lce),_ce=qt(uce),vce=qt(dce),Ece=qt(hce),Ice=qt(fce),Rce=qt(k()),Pce=Gr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:V(hi)})),mR=P({amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}),xce=Gr(V(P({address:hi,amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}))),Bce=Gr(V(P({pubkey:hi,account:P({executable:St(),owner:hi,lamports:k(),data:vB,rentEpoch:k()})}))),bR=P({program:O(),parsed:Ar(),space:k()}),Tce=Gr(V(P({pubkey:hi,account:P({executable:St(),owner:hi,lamports:k(),data:bR,rentEpoch:k()})}))),Cce=Gr(V(P({lamports:k(),address:hi}))),Gy=P({executable:St(),owner:hi,lamports:k(),data:vB,rentEpoch:k()}),Mce=P({pubkey:hi,account:Gy}),Lce=_r(tt([gs(H.Buffer),bR]),tt([AD,bR]),n=>Array.isArray(n)?q(n,vB):n),wR=P({executable:St(),owner:hi,lamports:k(),data:Lce,rentEpoch:k()}),Oce=P({pubkey:hi,account:wR}),Nce=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),$ce=qt(V(P({signature:O(),slot:k(),err:Md,memo:F(O()),blockTime:te(F(k()))}))),qce=qt(V(P({signature:O(),slot:k(),err:Md,memo:F(O()),blockTime:te(F(k()))}))),zce=P({subscription:k(),result:mS(Gy)}),Dce=P({pubkey:hi,account:Gy}),Uce=P({subscription:k(),result:mS(Dce)}),Kce=P({parent:k(),slot:k(),root:k()}),Wce=P({subscription:k(),result:Kce}),Fce=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),Vce=P({subscription:k(),result:Fce}),jce=P({subscription:k(),result:mS(tt([pce,gce]))}),Hce=P({subscription:k(),result:k()}),Yce=P({pubkey:O(),gossip:F(O()),tpu:F(O()),rpc:F(O()),version:F(O())}),vL=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:V(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:F(k())}),Gce=qt(P({current:V(vL),delinquent:V(vL)})),Jce=tt([_e("processed"),_e("confirmed"),_e("finalized")]),Qce=P({slot:k(),confirmations:F(k()),err:Md,confirmationStatus:te(Jce)}),Zce=Gr(V(F(Qce))),Xce=qt(k()),ED=P({accountKey:hi,writableIndexes:V(k()),readonlyIndexes:V(k())}),EB=P({signatures:V(O()),message:P({accountKeys:V(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:te(V(ED))})}),ID=P({pubkey:hi,signer:St(),writable:St(),source:te(tt([_e("transaction"),_e("lookupTable")]))}),RD=P({accountKeys:V(ID),signatures:V(O())}),PD=P({parsed:Ar(),program:O(),programId:hi}),xD=P({accounts:V(hi),data:O(),programId:hi}),eue=tt([xD,PD]),tue=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:V(O()),data:O(),programId:O()})]),BD=_r(eue,tue,n=>"accounts"in n?q(n,xD):q(n,PD)),TD=P({signatures:V(O()),message:P({accountKeys:V(ID),instructions:V(BD),recentBlockhash:O(),addressTableLookups:te(F(V(ED)))})}),G0=P({accountIndex:k(),mint:O(),owner:te(O()),uiTokenAmount:mR}),CD=P({writable:V(hi),readonly:V(hi)}),bS=P({err:Md,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()}))})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(G0))),postTokenBalances:te(F(V(G0))),loadedAddresses:te(CD),computeUnitsConsumed:te(k())}),IB=P({err:Md,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(BD)})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(G0))),postTokenBalances:te(F(V(G0))),loadedAddresses:te(CD),computeUnitsConsumed:te(k())}),$p=tt([_e(0),_e("legacy")]),Ld=P({pubkey:O(),lamports:k(),postBalance:F(k()),rewardType:F(O()),commission:te(F(k()))}),nue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:EB,meta:F(bS),version:te($p)})),rewards:te(V(Ld)),blockTime:F(k()),blockHeight:F(k())}))),rue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Ld)),blockTime:F(k()),blockHeight:F(k())}))),iue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:RD,meta:F(bS),version:te($p)})),rewards:te(V(Ld)),blockTime:F(k()),blockHeight:F(k())}))),sue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:TD,meta:F(IB),version:te($p)})),rewards:te(V(Ld)),blockTime:F(k()),blockHeight:F(k())}))),oue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:RD,meta:F(IB),version:te($p)})),rewards:te(V(Ld)),blockTime:F(k()),blockHeight:F(k())}))),aue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Ld)),blockTime:F(k()),blockHeight:F(k())}))),cue=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:EB,meta:F(bS)})),rewards:te(V(Ld)),blockTime:F(k())}))),EL=qt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:V(O()),blockTime:F(k())}))),J_=qt(F(P({slot:k(),meta:F(bS),blockTime:te(F(k())),transaction:EB,version:te($p)}))),Tb=qt(F(P({slot:k(),transaction:TD,meta:F(IB),blockTime:te(F(k())),version:te($p)}))),uue=Gr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),lue=Gr(P({blockhash:O(),lastValidBlockHeight:k()})),due=Gr(St()),hue=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),fue=qt(V(hue)),pue=Gr(F(P({feeCalculator:P({lamportsPerSignature:k()})}))),gue=qt(O()),yue=qt(O()),mue=P({err:Md,logs:V(O()),signature:O()}),bue=P({result:mS(mue),subscription:k()}),wue={"solana-client":"js/0.0.0-development"};let kue=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=xr(l),p=this._buildArgs([],d,void 0,b),g=SL(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=q(y,qt(k()));if("error"in S)throw new ft(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=sce(e),this._rpcWsEndpoint=r||ice(e),this._rpcClient=bce(e,i,s,o,a,c),this._rpcRequest=wce(this._rpcClient),this._rpcBatchRequest=kce(this._rpcClient),this._rpcWebSocket=new ece(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=q(o,Gr(k()));if("error"in a)throw new ft(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=q(t,qt(F(k())));if("error"in r)throw new ft(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=q(e,qt(k()));if("error"in t)throw new ft(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=q(e,Rce);if("error"in t)throw new ft(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=q(r,Pce);if("error"in i)throw new ft(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=q(i,Gr(mR));if("error"in s)throw new ft(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=q(i,Gr(mR));if("error"in s)throw new ft(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=xr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=q(c,Bce);if("error"in u)throw new ft(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=q(o,Tce);if("error"in a)throw new ft(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=q(i,Cce);if("error"in s)throw new ft(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=q(i,xce);if("error"in s)throw new ft(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Gr(F(Gy)));if("error"in a)throw new ft(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Gr(F(wR)));if("error"in a)throw new ft(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=xr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Gr(V(F(wR))));if("error"in c)throw new ft(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=xr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Gr(V(F(Gy))));if("error"in c)throw new ft(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=xr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=q(a,qt(Nce));if("error"in c)throw new ft(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=xr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=V(Mce),l=o.withContext===!0?q(c,Gr(u)):q(c,qt(u));if("error"in l)throw new ft(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=q(o,qt(V(Oce)));if("error"in a)throw new ft(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return vn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:_c.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:_c.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await Sl(1e3),s||(p=await b(),s))return;d({__type:_c.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===_c.PROCESSED)l=d.response;else throw new SB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:_c.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Sl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===_c.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Sl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new xh(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new xh(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new xh(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new xh(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:_c.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===_c.PROCESSED)a=c.response;else throw new AB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=q(e,qt(V(Yce)));if("error"in t)throw new ft(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=q(r,Gce);if("error"in i)throw new ft(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=q(s,qt(k()));if("error"in o)throw new ft(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=q(s,qt(O()));if("error"in o)throw new ft(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=q(i,qt(V(hi)));if("error"in s)throw new ft(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);vn(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=q(i,Zce);if("error"in s)throw new ft(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=q(s,qt(k()));if("error"in o)throw new ft(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=q(r,Sce);if("error"in i)throw new ft(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=xr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=q(a,cce);if("error"in c)throw new ft(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=q(e,Ace);if("error"in t)throw new ft(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=q(s,vce);if("error"in o)throw new ft(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=q(e,Ece);if("error"in t)throw new ft(t.error,"failed to get epoch schedule");const r=t.result;return new SD(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=q(e,Ice);if("error"in t)throw new ft(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=q(i,Xce);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=q(r,uue);if("error"in i)throw new ft(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=q(t,fue);if("error"in r)throw new ft(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=q(i,pue);if("error"in s)throw new ft(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Ft(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=q(s,Gr(F(k())));if("error"in o)throw new ft(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=q(i,_ce);if("error"in s)throw new ft(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=q(s,lue);if("error"in o)throw new ft(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=q(o,due);if("error"in a)throw new ft(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=q(e,qt(yce));if("error"in t)throw new ft(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=q(e,qt(O()));if("error"in t)throw new ft(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,iue);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,rue);if("error"in a)throw a.error;return a.result}default:{const a=q(o,nue);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:G_(d,u.message)},version:d}))}:null}}}catch(a){throw new ft(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,oue);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,aue);if("error"in a)throw a.error;return a.result}default:{const a=q(o,sue);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ft(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=q(s,mce);if("error"in o)throw new ft(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=q(o,J_);if("error"in a)throw new ft(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:G_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=q(o,Tb);if("error"in a)throw new ft(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=xr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,Tb);if("error"in u)throw new ft(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=xr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,J_);if("error"in u)throw new ft(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:G_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,cue);if("error"in s)throw new ft(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Zu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:nr.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=q(s,qt(V(k())));if("error"in o)throw new ft(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=q(i,EL);if("error"in s)throw new ft(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,EL);if("error"in s)throw new ft(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,J_);if("error"in s)throw new ft(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Zu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:nr.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,Tb);if("error"in s)throw new ft(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=q(o,Tb);if("error"in a)throw new ft(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=q(s,$ce);if("error"in o)throw new ft(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=q(s,qce);if("error"in o)throw new ft(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new yR({key:e,state:yR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=wD.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=q(r,gue);if("error"in i)throw new ft(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Sl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_D;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Sl(yD/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=q(s,Gr(k()));if("error"in o)throw new ft(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=q(R,_L);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof nr){let g=e;i=new nr,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=nr.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=q(b,_L);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Yy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Ft(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=q(a,yue);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Yy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=q(e,zce);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=SL([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];vn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=q(e,Uce);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=q(e,bue);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=q(e,Wce);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=q(e,Vce);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=q(e,jce);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=q(e,Hce);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},MD=class T1{constructor(e){this._keypair=void 0,this._keypair=e??bL()}static generate(){return new T1(bL())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=H0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new T1({publicKey:r,secretKey:e})}static fromSeed(e){const t=H0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new T1({publicKey:t,secretKey:r})}get publicKey(){return new He(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Oc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),wf("recentSlot"),oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),wf(),Te(Qt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let Sue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Oc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Dn(Oc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Dn(Oc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new He(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(RB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},RB=class{constructor(){}static createLookupTable(e){const[t,r]=He.findProgramAddressSync([e.authority.toBuffer(),Uo(BigInt(e.recentSlot),8)],this.programId),i=Oc.CreateLookupTable,s=hn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:os.programId,isSigner:!1,isWritable:!1}];return[new ar({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Oc.FreezeLookupTable,r=hn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ar({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Oc.ExtendLookupTable,r=hn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:os.programId,isSigner:!1,isWritable:!1}),new ar({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Oc.DeactivateLookupTable,r=hn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ar({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Oc.CloseLookupTable,r=hn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ar({programId:this.programId,keys:i,data:r})}};RB.programId=new He("AddressLookupTab1e1111111111111111111111111");let Aue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(za))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Dn(za.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Dn(za.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Dn(za.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Dn(za.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(PB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const za=Object.freeze({RequestUnits:{index:0,layout:U([oe("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([oe("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([oe("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([oe("instruction"),wf("microLamports")])}});let PB=class{constructor(){}static requestUnits(e){const t=za.RequestUnits,r=hn(t,e);return new ar({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=za.RequestHeapFrame,r=hn(t,e);return new ar({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=za.SetComputeUnitLimit,r=hn(t,e);return new ar({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=za.SetComputeUnitPrice,r=hn(t,{microLamports:BigInt(e.microLamports)});return new ar({keys:[],programId:this.programId,data:r})}};PB.programId=new He("ComputeBudget111111111111111111111111111111");const IL=64,RL=32,PL=64,xL=U([oe("numSignatures"),oe("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let LD=class OD{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;vn(t.length===RL,`Public Key must be ${RL} bytes but received ${t.length} bytes`),vn(i.length===PL,`Signature must be ${PL} bytes but received ${i.length} bytes`);const o=xL.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return xL.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new ar({keys:[],programId:OD.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;vn(t.length===IL,`Private key must be ${IL} bytes but received ${t.length} bytes`);try{const s=MD.fromSecretKey(t),o=s.publicKey.toBytes(),a=wB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};LD.programId=new He("Ed25519SigVerify111111111111111111111111111");const _ue=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const vue=ki.getPublicKey,BL=32,Q_=20,TL=64,Eue=11,Z_=U([oe("numSignatures"),ot("signatureOffset"),oe("signatureInstructionIndex"),ot("ethAddressOffset"),oe("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),oe("messageInstructionIndex"),pe(20,"ethAddress"),pe(64,"signature"),oe("recoveryId")]);let ND=class C1{constructor(){}static publicKeyToEthAddress(e){vn(e.length===TL,`Public key must be ${TL} bytes but received ${e.length} bytes`);try{return H.Buffer.from($o(Ft(e))).slice(-Q_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return C1.createInstructionWithEthAddress({ethAddress:C1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,vn(a.length===Q_,`Address must be ${Q_} bytes but received ${a.length} bytes`);const c=1+Eue,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(Z_.span+r.length);return Z_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Ft(i),ethAddress:Ft(a),recoveryId:s},p),p.fill(Ft(r),Z_.span),new ar({keys:[],programId:C1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;vn(t.length===BL,`Private key must be ${BL} bytes but received ${t.length} bytes`);try{const s=Ft(t),o=vue(s,!1).slice(1),a=H.Buffer.from($o(Ft(r))),[c,u]=_ue(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};ND.programId=new He("KeccakSecp256k11111111111111111111111111111");var $D;const qD=new He("StakeConfig11111111111111111111111111111111");let zD=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Wm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};$D=Wm;Wm.default=new $D(0,0,He.default);let Iue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ii))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Dn(Ii.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new zD(new He(t.staker),new He(t.withdrawer)),lockup:new Wm(r.unixTimestamp,r.epoch,new He(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Dn(Ii.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Dn(Ii.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new He(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Dn(Ii.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new He(s),newAuthorizedPubkey:new He(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Dn(Ii.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Dn(Ii.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Dn(Ii.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Dn(Ii.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(wS.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ii=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),Iae(),Rae()])},Authorize:{index:1,layout:U([D("instruction"),Qt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Qt("newAuthorized"),D("stakeAuthorizationType"),ql("authoritySeed"),Qt("authorityOwner")])}}),Rue=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let wS=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Wm.default,o=Ii.Initialize,a=hn(o,{authorized:{staker:Ft(r.staker.toBuffer()),withdrawer:Ft(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ft(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:bf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ar(c)}static createAccountWithSeed(e){const t=new nr;t.add(os.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new nr;t.add(os.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Ii.Delegate,o=hn(s);return new nr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:B1,isSigner:!1,isWritable:!1},{pubkey:qD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Ii.Authorize,c=hn(a,{newAuthorized:Ft(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new nr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ii.AuthorizeWithSeed,l=hn(u,{newAuthorized:Ft(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ft(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new nr().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Ii.Split,a=hn(o,{lamports:s});return new ar({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new nr;return r.add(os.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new nr;return u.add(os.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(os.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Ii.Merge,o=hn(s);return new nr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:B1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Ii.Withdraw,c=hn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:B1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new nr().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Ii.Deactivate,s=hn(i);return new nr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};wS.programId=new He("Stake11111111111111111111111111111111111111");wS.space=200;let DD=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},Pue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Da))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Dn(Da.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new DD(new He(t.nodePubkey),new He(t.authorizedVoter),new He(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Dn(Da.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new He(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Dn(Da.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new He(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new He(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Dn(Da.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(kS.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Da=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Pae()])},Authorize:{index:1,layout:U([D("instruction"),Qt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),xae()])}}),xue=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let kS=class UD{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=Da.InitializeAccount,o=hn(s,{voteInit:{nodePubkey:Ft(i.nodePubkey.toBuffer()),authorizedVoter:Ft(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ft(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:bf,isSigner:!1,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ar(a)}static createAccount(e){const t=new nr;return t.add(os.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Da.Authorize,a=hn(o,{newAuthorized:Ft(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Da.AuthorizeWithSeed,u=hn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ft(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ft(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new nr().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Da.Withdraw,a=hn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return UD.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Da.UpdateValidatorIdentity,o=hn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:a,programId:this.programId,data:o})}};kS.programId=new He("Vote111111111111111111111111111111111111111");kS.space=3762;const KD=new He("Va1idator1nfo111111111111111111111111111111"),Bue=P({name:O(),website:te(O()),details:te(O()),keybaseUsername:te(O())});let Tue=class WD{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Es(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new He(Is(t,0,Xa)),a=qa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(KD)&&i[1].isSigner){const s=ql().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,Bue),new WD(i[1].publicKey,o)}return null}};const Cue=new He("Vote111111111111111111111111111111111111111"),Mue=U([Qt("nodePubkey"),Qt("authorizedWithdrawer"),oe("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),oe("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Qt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Qt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),oe("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let Lue=class FD{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Mue.decode(Ft(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new FD({nodePubkey:new He(r.nodePubkey),authorizedWithdrawer:new He(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(Oue),priorVoters:Nue(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function Oue({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new He(n)}}function CL({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new He(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Nue({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(CL),...n.slice(0,e).map(CL)]}const ML={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function $ue(n,e){const t=e===!1?"http":"https";if(!n)return ML[t].devnet;const r=ML[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function que(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Yy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const zue=1e9,Due=Object.freeze(Object.defineProperty({__proto__:null,Account:_ae,AddressLookupTableAccount:yR,AddressLookupTableInstruction:Sue,AddressLookupTableProgram:RB,Authorized:zD,BLOCKHASH_CACHE_TIMEOUT_MS:_D,BPF_LOADER_DEPRECATED_PROGRAM_ID:vae,BPF_LOADER_PROGRAM_ID:jae,BpfLoader:Hae,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:za,ComputeBudgetInstruction:Aue,ComputeBudgetProgram:PB,Connection:kue,Ed25519Program:LD,Enum:Sae,EpochSchedule:SD,FeeCalculatorLayout:mD,Keypair:MD,LAMPORTS_PER_SOL:zue,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Oc,Loader:Y0,Lockup:Wm,MAX_SEED_LENGTH:uD,Message:Zu,MessageAccountKeys:Hy,MessageV0:yS,NONCE_ACCOUNT_LENGTH:fR,NonceAccount:wD,PACKET_DATA_SIZE:zu,PUBLIC_KEY_LENGTH:Xa,PublicKey:He,SIGNATURE_LENGTH_IN_BYTES:jy,SOLANA_SCHEMA:ey,STAKE_CONFIG_ID:qD,STAKE_INSTRUCTION_LAYOUTS:Ii,SYSTEM_INSTRUCTION_LAYOUTS:gr,SYSVAR_CLOCK_PUBKEY:_a,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Nae,SYSVAR_INSTRUCTIONS_PUBKEY:$ae,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:x1,SYSVAR_RENT_PUBKEY:bf,SYSVAR_REWARDS_PUBKEY:qae,SYSVAR_SLOT_HASHES_PUBKEY:zae,SYSVAR_SLOT_HISTORY_PUBKEY:Dae,SYSVAR_STAKE_HISTORY_PUBKEY:B1,Secp256k1Program:ND,SendTransactionError:Yy,SolanaJSONRPCError:ft,SolanaJSONRPCErrorCode:Uae,StakeAuthorizationLayout:Rue,StakeInstruction:Iue,StakeProgram:wS,Struct:kB,SystemInstruction:Fae,SystemProgram:os,Transaction:nr,TransactionExpiredBlockheightExceededError:SB,TransactionExpiredNonceInvalidError:xh,TransactionExpiredTimeoutError:AB,TransactionInstruction:ar,TransactionMessage:Tae,TransactionStatus:_c,VALIDATOR_INFO_KEY:KD,VERSION_PREFIX_MASK:gS,VOTE_PROGRAM_ID:Cue,ValidatorInfo:Tue,VersionedMessage:_B,VersionedTransaction:Cae,VoteAccount:Lue,VoteAuthorizationLayout:xue,VoteInit:DD,VoteInstruction:Pue,VoteProgram:kS,clusterApiUrl:$ue,sendAndConfirmRawTransaction:que,sendAndConfirmTransaction:hR},Symbol.toStringTag,{value:"Module"})),Ln=la(Due);var xB={},Xr={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetaplexProgram=n.MetaplexKey=void 0;const e=Ce,t=Ln;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.OriginalAuthorityLookupV1=1]="OriginalAuthorityLookupV1",i[i.BidRedemptionTicketV1=2]="BidRedemptionTicketV1",i[i.StoreV1=3]="StoreV1",i[i.WhitelistedCreatorV1=4]="WhitelistedCreatorV1",i[i.PayoutTicketV1=5]="PayoutTicketV1",i[i.SafetyDepositValidationTicketV1=6]="SafetyDepositValidationTicketV1",i[i.AuctionManagerV1=7]="AuctionManagerV1",i[i.PrizeTrackingTicketV1=8]="PrizeTrackingTicketV1",i[i.SafetyDepositConfigV1=9]="SafetyDepositConfigV1",i[i.AuctionManagerV2=10]="AuctionManagerV2",i[i.BidRedemptionTicketV2=11]="BidRedemptionTicketV2",i[i.AuctionWinnerTokenTypeTrackerV1=12]="AuctionWinnerTokenTypeTrackerV1",i[i.StoreIndexerV1=13]="StoreIndexerV1",i[i.AuctionCacheV1=14]="AuctionCacheV1",i[i.StoreConfigV1=15]="StoreConfigV1"})(n.MetaplexKey||(n.MetaplexKey={}));class r extends e.Program{}n.MetaplexProgram=r,r.PREFIX="metaplex",r.CONFIG="config",r.TOTALS="totals",r.PUBKEY=new t.PublicKey(e.config.programs.metaplex)})(Xr);(function(n){var e=ce&&ce.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.BidRedemptionTicket=n.WINNER_INDEX_OFFSETS=void 0;const t=e(Ws),r=e(Fs),i=Xr,s=Ce;n.WINNER_INDEX_OFFSETS=[2,10];class o extends s.Account{constructor(c,u){if(super(c,u),!this.assertOwner(i.MetaplexProgram.PUBKEY))throw(0,s.ERROR_INVALID_OWNER)();if(o.isBidRedemptionTicketV1(this.info.data))throw(0,s.ERROR_DEPRECATED_ACCOUNT_DATA)();if(o.isBidRedemptionTicketV2(this.info.data)){const l=this.info.data.toJSON().data,d=l[1]!==0&&new t.default(l.slice(1,9),"le"),b=n.WINNER_INDEX_OFFSETS[+!!d];this.data={key:i.MetaplexKey.BidRedemptionTicketV2,winnerIndex:d,data:l,auctionManager:r.default.encode(l.slice(b,b+32))}}else throw(0,s.ERROR_INVALID_ACCOUNT_DATA)()}static isCompatible(c){return o.isBidRedemptionTicketV1(c)||o.isBidRedemptionTicketV2(c)}static isBidRedemptionTicketV1(c){return c[0]===i.MetaplexKey.BidRedemptionTicketV1}static isBidRedemptionTicketV2(c){return c[0]===i.MetaplexKey.BidRedemptionTicketV2}}n.BidRedemptionTicket=o})(xB);var tu={},SS={},VD={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.createError=kf.DefaultDataPack=void 0;const Uue=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let Kue=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};kf.DefaultDataPack=Kue;function Wue(n,e){const t={code:n,message:Uue.get(n)||"Internal Server Error"};return e&&(t.data=e),t}kf.createError=Wue;Object.defineProperty(VD,"__esModule",{value:!0});const Fue=Ko,Vue=kf;let jue=class extends Fue.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Vue.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var Hue=VD.default=jue,jD={};Object.defineProperty(jD,"__esModule",{value:!0});const Yue=Ko;let Gue=class extends Yue.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function Jue(n,e){return new Gue(n,e)}var Que=jD.default=Jue;const Zue=sn.utils.randomPrivateKey,LL=()=>{const n=sn.utils.randomPrivateKey(),e=J0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},J0=sn.getPublicKey;function OL(n){try{return sn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const BB=(n,e)=>sn.sign(n,e.slice(0,32)),Xue=sn.verify,Vt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let TB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(ty,this))}static decode(e){return Pp(ty,this,e)}static decodeUnchecked(e){return Ip(ty,this,e)}},ele=class extends TB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const ty=new Map;var HD;const YD=32,ec=32;function tle(n){return n._bn!==void 0}let NL=1,Ye=class sh extends TB{constructor(e){if(super({}),this._bn=void 0,tle(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=ec)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>ec)throw new Error("Invalid public key input")}}static unique(){const e=new sh(NL);return NL+=1,new sh(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===ec)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=fo(i);return new sh(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>YD)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Vt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=fo(r);if(OL(i))throw new Error("Invalid seeds, address must fall off the curve");return new sh(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new sh(e);return OL(t.toBytes())}};HD=Ye;Ye.default=new HD("11111111111111111111111111111111");ty.set(Ye,{kind:"struct",fields:[["_bn","u256"]]});let nle=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Vt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Vt(Zue()),this._publicKey=Vt(J0(this._secretKey))}get publicKey(){return new Ye(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const rle=new Ye("BPFLoader1111111111111111111111111111111111"),Du=1232,AS=127,Jy=64;let CB=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(CB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let MB=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(MB.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Bh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Bh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Qy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Zt=(n="publicKey")=>pe(32,n),ile=(n="signature")=>pe(64,n),zl=(n="string")=>{const e=U([D("length"),D("lengthPadding"),pe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},sle=(n="authorized")=>U([Zt("staker"),Zt("withdrawer")],n),ole=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Zt("custodian")],n),ale=(n="voteInit")=>U([Zt("nodePubkey"),Zt("authorizedVoter"),Zt("authorizedWithdrawer"),oe("commission")],n),cle=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Zt("currentAuthorityDerivedKeyOwnerPubkey"),zl("currentAuthorityDerivedKeySeed"),Zt("newAuthorized")],n);function GD(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return GD({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Rs(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function io(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function En(n,e){if(!n)throw new Error(e||"Assertion failed")}let JD=class QD{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new QD(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];En(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{En(t.length>0,"Expected at least one writable signer key");const[c]=t[0];En(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ye(c)),...r.map(([c])=>new Ye(c)),...i.map(([c])=>new Ye(c)),...s.map(([c])=>new Ye(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ye(s),c=e.findIndex(u=>u.equals(a));c>=0&&(En(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const ZD="Reached end of buffer unexpectedly";function Ua(n){if(n.length===0)throw new Error(ZD);return n.shift()}function Ps(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(ZD);return n.splice(...e)}let Xu=class kR{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ye(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Qy(this.staticAccountKeys)}static compile(e){const t=JD.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Qy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new kR({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];io(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];io(y,b.length);let S=[];return io(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];io(i,r.length);let s=H.Buffer.alloc(Du);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([oe("programIdIndex"),pe(d.keyIndicesCount.length,"keyIndicesCount"),Te(oe("keyIndex"),d.keyIndices.length,"keyIndices"),pe(d.dataLength.length,"dataLength"),Te(oe("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([pe(1,"numRequiredSignatures"),pe(1,"numReadonlySignedAccounts"),pe(1,"numReadonlyUnsignedAccounts"),pe(t.length,"keyCount"),Te(Zt("key"),e,"keys"),Zt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Vt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Ua(t);if(r!==(r&AS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ua(t),s=Ua(t),o=Rs(t);let a=[];for(let b=0;b<o;b++){const p=Ps(t,0,ec);a.push(new Ye(H.Buffer.from(p)))}const c=Ps(t,0,ec),u=Rs(t);let l=[];for(let b=0;b<u;b++){const p=Ua(t),g=Rs(t),y=Ps(t,0,g),S=Rs(t),w=Ps(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new kR(d)}},_S=class SR{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Qy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=JD.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Qy(a,i).compileInstructions(e.instructions);return new SR({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();io(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();io(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();io(s,this.addressTableLookups.length);const o=U([oe("prefix"),U([oe("numRequiredSignatures"),oe("numReadonlySignedAccounts"),oe("numReadonlyUnsignedAccounts")],"header"),pe(e.length,"staticAccountKeysLength"),Te(Zt(),this.staticAccountKeys.length,"staticAccountKeys"),Zt("recentBlockhash"),pe(r.length,"instructionsLength"),pe(t.length,"serializedInstructions"),pe(s.length,"addressTableLookupsLength"),pe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Du),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Du);for(const r of this.compiledInstructions){const i=Array();io(i,r.accountKeyIndexes.length);const s=Array();io(s,r.data.length);const o=U([oe("programIdIndex"),pe(i.length,"encodedAccountKeyIndexesLength"),Te(oe(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe(s.length,"encodedDataLength"),pe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Du);for(const r of this.addressTableLookups){const i=Array();io(i,r.writableIndexes.length);const s=Array();io(s,r.readonlyIndexes.length);const o=U([Zt("accountKey"),pe(i.length,"encodedWritableIndexesLength"),Te(oe(),r.writableIndexes.length,"writableIndexes"),pe(s.length,"encodedReadonlyIndexesLength"),Te(oe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ua(t),i=r&AS;En(r!==i,"Expected versioned message but received legacy message");const s=i;En(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Ua(t),numReadonlySignedAccounts:Ua(t),numReadonlyUnsignedAccounts:Ua(t)},a=[],c=Rs(t);for(let g=0;g<c;g++)a.push(new Ye(Ps(t,0,ec)));const u=Pe.encode(Ps(t,0,ec)),l=Rs(t),d=[];for(let g=0;g<l;g++){const y=Ua(t),S=Rs(t),w=Ps(t,0,S),_=Rs(t),R=new Uint8Array(Ps(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=Rs(t),p=[];for(let g=0;g<b;g++){const y=new Ye(Ps(t,0,ec)),S=Rs(t),w=Ps(t,0,S),_=Rs(t),R=Ps(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new SR({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const LB={deserializeMessageVersion(n){const e=n[0],t=e&AS;return t===e?"legacy":t},deserialize:n=>{const e=LB.deserializeMessageVersion(n);if(e==="legacy")return Xu.from(n);if(e===0)return _S.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vc=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ule=H.Buffer.alloc(Jy).fill(0);let cr=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},rr=class AR{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new cr(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new Ye(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{En(y.programIdIndex>=0),y.accounts.forEach(S=>En(S>=0))}),new Xu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=BB(r,i.secretKey);this._addSignature(i.publicKey,Vt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){En(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Xue(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];io(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return En(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(En(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),En(s.length<=Du,`Transaction too large: ${s.length} > ${Du}`),s}get keys(){return En(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return En(this.instructions.length===1),this.instructions[0].programId}get data(){return En(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Rs(t);let i=[];for(let s=0;s<r;s++){const o=Ps(t,0,Jy);i.push(Pe.encode(H.Buffer.from(o)))}return AR.populate(Xu.from(t),i)}static populate(e,t=[]){const r=new AR;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(ule)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new cr({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},lle=class XD{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;En(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;En(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new cr({programId:S,data:Vt(g.data),keys:y}))}return new XD({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Xu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return _S.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},dle=class eU{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)En(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Jy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();io(t,this.signatures.length);const r=U([pe(t.length,"encodedSignaturesLength"),Te(ile(),this.signatures.length,"signatures"),pe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Rs(t);for(let o=0;o<i;o++)r.push(new Uint8Array(Ps(t,0,Jy)));const s=LB.deserialize(new Uint8Array(t));return new eU(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));En(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=BB(t,i.secretKey)}}addSignature(e,t){En(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));En(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const hle=160,fle=64,ple=hle/fle,tU=1e3/ple,va=new Ye("SysvarC1ock11111111111111111111111111111111"),gle=new Ye("SysvarEpochSchedu1e111111111111111111111111"),yle=new Ye("Sysvar1nstructions1111111111111111111111111"),M1=new Ye("SysvarRecentB1ockHashes11111111111111111111"),Sf=new Ye("SysvarRent111111111111111111111111111111111"),mle=new Ye("SysvarRewards111111111111111111111111111111"),ble=new Ye("SysvarS1otHashes111111111111111111111111111"),wle=new Ye("SysvarS1otHistory11111111111111111111111111"),L1=new Ye("SysvarStakeHistory1111111111111111111111111");let Zy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const kle={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let pt=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function _R(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Zy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Al(n){return new Promise(e=>setTimeout(e,n))}function fn(n,e){const t=n.layout.span>=0?n.layout.span:GD(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Un(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const nU=Be("lamportsPerSignature"),rU=U([D("version"),D("state"),Zt("authorizedPubkey"),Zt("nonce"),U([nU],"feeCalculator")]),vR=rU.span;let iU=class sU{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=rU.decode(Vt(e),0);return new sU({authorizedPubkey:new Ye(t.authorizedPubkey),nonce:new Ye(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const Sle=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Ale=n=>e=>{const t=pe(n,e),{encode:r,decode:i}=Sle(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Uo(o,n);return r(u,a,c)},s},Af=Ale(8);let _le=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(yr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Un(yr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ye(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Un(yr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Un(yr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ye(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Un(yr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Un(yr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ye(t),seed:r,space:i,programId:new Ye(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Un(yr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ye(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Un(yr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ye(t),seed:r,programId:new Ye(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=Un(yr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ye(t),seed:r,lamports:i,space:s,programId:new Ye(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Un(yr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ye(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Un(yr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Un(yr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Un(yr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ye(t)}}static checkProgramId(e){if(!e.equals(as.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const yr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Zt("programId")])},Assign:{index:1,layout:U([D("instruction"),Zt("programId")])},Transfer:{index:2,layout:U([D("instruction"),Af("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Zt("base"),zl("seed"),Je("lamports"),Je("space"),Zt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Zt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Zt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Zt("base"),zl("seed"),Je("space"),Zt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Zt("base"),zl("seed"),Zt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),Af("lamports"),zl("seed"),Zt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let as=class ER{constructor(){}static createAccount(e){const t=yr.Create,r=fn(t,{lamports:e.lamports,space:e.space,programId:Vt(e.programId.toBuffer())});return new cr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=yr.TransferWithSeed;t=fn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=yr.Transfer;t=fn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new cr({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=yr.AssignWithSeed;t=fn(i,{base:Vt(e.basePubkey.toBuffer()),seed:e.seed,programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=yr.Assign;t=fn(i,{programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new cr({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=yr.CreateWithSeed,r=fn(t,{base:Vt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Vt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new cr({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new rr;"basePubkey"in e&&"seed"in e?t.add(ER.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:vR,programId:this.programId})):t.add(ER.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:vR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=yr.InitializeNonceAccount,r=fn(t,{authorized:Vt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:M1,isSigner:!1,isWritable:!1},{pubkey:Sf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new cr(i)}static nonceAdvance(e){const t=yr.AdvanceNonceAccount,r=fn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:M1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new cr(i)}static nonceWithdraw(e){const t=yr.WithdrawNonceAccount,r=fn(t,{lamports:e.lamports});return new cr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:M1,isSigner:!1,isWritable:!1},{pubkey:Sf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=yr.AuthorizeNonceAccount,r=fn(t,{authorized:Vt(e.newAuthorizedPubkey.toBuffer())});return new cr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=yr.AllocateWithSeed;t=fn(i,{base:Vt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=yr.Allocate;t=fn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new cr({keys:r,programId:this.programId,data:t})}};as.programId=new Ye("11111111111111111111111111111111");const vle=Du-300;let Q0=class IR{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/IR.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new rr,p.add(as.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new rr,p.add(as.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new rr,p.add(as.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new rr().add(as.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await _R(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(oe("byte"),Rt(D(),-8),"bytes")]),a=IR.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new rr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(_R(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Al(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new rr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Sf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(tU/2)))}}return!0}};Q0.chunkSize=vle;const Ele=new Ye("BPFLoader2111111111111111111111111111111111");let Ile=class{static getMinNumSignatures(e){return Q0.getMinNumSignatures(e)}static load(e,t,r,i,s){return Q0.load(e,t,r,s,i)}};function Rle(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ple=Object.prototype.toString,xle=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Mg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Mg(n.toJSON(),e);if(c=Ple.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Mg(n[t],!0)+",";return r>-1&&(i+=Mg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=xle(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Mg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Ble=function(n){var e=Mg(n,!1);if(e!==void 0)return""+e},$L=Rle(Ble);const mg=32;function X_(n){let e=0;for(;n>1;)n/=2,e++;return e}function Tle(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let oU=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=X_(Tle(e+mg+1))-X_(mg)-1,r=this.getSlotsInEpoch(t),i=e-(r-mg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*mg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+X_(mg)):this.slotsPerEpoch}};var Cle=globalThis.fetch;let Mle=class extends Hue{constructor(e,t,r){const i=s=>{const o=Que(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function Lle(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const qL=56;let RR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Lle(Ole,e),r=e.length-qL;En(r>=0,"lookup table is invalid"),En(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Zt(),i,"addresses")]).decode(e.slice(qL));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ye(t.authority[0]):void 0,addresses:s.map(o=>new Ye(o))}}};const Ole={index:1,layout:U([D("typeIndex"),Af("deactivationSlot"),Be("lastExtendedSlot"),oe("lastExtendedStartIndex"),oe(),Te(Zt(),Rt(oe(),-1),"authority")])},Nle=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function $le(n){const e=n.match(Nle);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const fi=_r(gs(Ye),O(),n=>new Ye(n)),aU=ys([O(),_e("base64")]),OB=_r(gs(H.Buffer),aU,n=>H.Buffer.from(n[0],"base64")),cU=30*1e3;function qle(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Br(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function uU(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:te(qm())})})])}const zle=uU(Ar());function zt(n){return _r(uU(n),zle,e=>"error"in e?e:{...e,result:q(e.result,n)})}function Jr(n){return zt(P({context:P({slot:k()}),value:n}))}function vS(n){return P({context:P({slot:k()}),value:n})}function ev(n,e){return n===0?new _S({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ye(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Xu(e)}const Dle=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),Ule=zt(V(F(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:te(F(k()))})))),Kle=V(P({slot:k(),prioritizationFee:k()})),Wle=P({total:k(),validator:k(),foundation:k(),epoch:k()}),Fle=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:te(k()),transactionCount:te(k())}),Vle=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),jle=lc(O(),V(k())),Od=F(tt([P({}),O()])),Hle=P({err:Od}),Yle=_e("receivedSignature"),Gle=P({"solana-core":O(),"feature-set":te(k())}),zL=Jr(P({err:F(tt([P({}),O()])),logs:F(V(O())),accounts:te(F(V(F(P({executable:St(),owner:O(),lamports:k(),data:V(O()),rentEpoch:te(k())}))))),unitsConsumed:te(k()),returnData:te(F(P({programId:O(),data:ys([O(),_e("base64")])})))})),Jle=Jr(P({byIdentity:lc(O(),V(k())),range:P({firstSlot:k(),lastSlot:k()})}));function Qle(n,e,t,r,i,s){const o=t||Cle;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Zde)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await Al(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Zle(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function Xle(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const ede=zt(Dle),tde=zt(Wle),nde=zt(Kle),rde=zt(Fle),ide=zt(Vle),sde=zt(jle),ode=zt(k()),ade=Jr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:V(fi)})),PR=P({amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}),cde=Jr(V(P({address:fi,amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}))),ude=Jr(V(P({pubkey:fi,account:P({executable:St(),owner:fi,lamports:k(),data:OB,rentEpoch:k()})}))),xR=P({program:O(),parsed:Ar(),space:k()}),lde=Jr(V(P({pubkey:fi,account:P({executable:St(),owner:fi,lamports:k(),data:xR,rentEpoch:k()})}))),dde=Jr(V(P({lamports:k(),address:fi}))),Xy=P({executable:St(),owner:fi,lamports:k(),data:OB,rentEpoch:k()}),hde=P({pubkey:fi,account:Xy}),fde=_r(tt([gs(H.Buffer),xR]),tt([aU,xR]),n=>Array.isArray(n)?q(n,OB):n),BR=P({executable:St(),owner:fi,lamports:k(),data:fde,rentEpoch:k()}),pde=P({pubkey:fi,account:BR}),gde=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),yde=zt(V(P({signature:O(),slot:k(),err:Od,memo:F(O()),blockTime:te(F(k()))}))),mde=zt(V(P({signature:O(),slot:k(),err:Od,memo:F(O()),blockTime:te(F(k()))}))),bde=P({subscription:k(),result:vS(Xy)}),wde=P({pubkey:fi,account:Xy}),kde=P({subscription:k(),result:vS(wde)}),Sde=P({parent:k(),slot:k(),root:k()}),Ade=P({subscription:k(),result:Sde}),_de=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),vde=P({subscription:k(),result:_de}),Ede=P({subscription:k(),result:vS(tt([Hle,Yle]))}),Ide=P({subscription:k(),result:k()}),Rde=P({pubkey:O(),gossip:F(O()),tpu:F(O()),rpc:F(O()),version:F(O())}),DL=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:V(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:F(k())}),Pde=zt(P({current:V(DL),delinquent:V(DL)})),xde=tt([_e("processed"),_e("confirmed"),_e("finalized")]),Bde=P({slot:k(),confirmations:F(k()),err:Od,confirmationStatus:te(xde)}),Tde=Jr(V(F(Bde))),Cde=zt(k()),lU=P({accountKey:fi,writableIndexes:V(k()),readonlyIndexes:V(k())}),NB=P({signatures:V(O()),message:P({accountKeys:V(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:te(V(lU))})}),dU=P({pubkey:fi,signer:St(),writable:St(),source:te(tt([_e("transaction"),_e("lookupTable")]))}),hU=P({accountKeys:V(dU),signatures:V(O())}),fU=P({parsed:Ar(),program:O(),programId:fi}),pU=P({accounts:V(fi),data:O(),programId:fi}),Mde=tt([pU,fU]),Lde=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:V(O()),data:O(),programId:O()})]),gU=_r(Mde,Lde,n=>"accounts"in n?q(n,pU):q(n,fU)),yU=P({signatures:V(O()),message:P({accountKeys:V(dU),instructions:V(gU),recentBlockhash:O(),addressTableLookups:te(F(V(lU)))})}),Z0=P({accountIndex:k(),mint:O(),owner:te(O()),uiTokenAmount:PR}),mU=P({writable:V(fi),readonly:V(fi)}),ES=P({err:Od,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()}))})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(Z0))),postTokenBalances:te(F(V(Z0))),loadedAddresses:te(mU),computeUnitsConsumed:te(k())}),$B=P({err:Od,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(gU)})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(Z0))),postTokenBalances:te(F(V(Z0))),loadedAddresses:te(mU),computeUnitsConsumed:te(k())}),qp=tt([_e(0),_e("legacy")]),Nd=P({pubkey:O(),lamports:k(),postBalance:F(k()),rewardType:F(O()),commission:te(F(k()))}),Ode=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:NB,meta:F(ES),version:te(qp)})),rewards:te(V(Nd)),blockTime:F(k()),blockHeight:F(k())}))),Nde=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Nd)),blockTime:F(k()),blockHeight:F(k())}))),$de=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:hU,meta:F(ES),version:te(qp)})),rewards:te(V(Nd)),blockTime:F(k()),blockHeight:F(k())}))),qde=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:yU,meta:F($B),version:te(qp)})),rewards:te(V(Nd)),blockTime:F(k()),blockHeight:F(k())}))),zde=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:hU,meta:F($B),version:te(qp)})),rewards:te(V(Nd)),blockTime:F(k()),blockHeight:F(k())}))),Dde=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Nd)),blockTime:F(k()),blockHeight:F(k())}))),Ude=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:NB,meta:F(ES)})),rewards:te(V(Nd)),blockTime:F(k())}))),UL=zt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:V(O()),blockTime:F(k())}))),tv=zt(F(P({slot:k(),meta:F(ES),blockTime:te(F(k())),transaction:NB,version:te(qp)}))),Cb=zt(F(P({slot:k(),transaction:yU,meta:F($B),blockTime:te(F(k())),version:te(qp)}))),Kde=Jr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),Wde=Jr(P({blockhash:O(),lastValidBlockHeight:k()})),Fde=Jr(St()),Vde=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),jde=zt(V(Vde)),Hde=Jr(F(P({feeCalculator:P({lamportsPerSignature:k()})}))),Yde=zt(O()),Gde=zt(O()),Jde=P({err:Od,logs:V(O()),signature:O()}),Qde=P({result:vS(Jde),subscription:k()}),Zde={"solana-client":"js/0.0.0-development"};let Xde=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Br(l),p=this._buildArgs([],d,void 0,b),g=$L(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=q(y,zt(k()));if("error"in S)throw new pt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=qle(e),this._rpcWsEndpoint=r||$le(e),this._rpcClient=Qle(e,i,s,o,a,c),this._rpcRequest=Zle(this._rpcClient),this._rpcBatchRequest=Xle(this._rpcClient),this._rpcWebSocket=new Mle(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=q(o,Jr(k()));if("error"in a)throw new pt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=q(t,zt(F(k())));if("error"in r)throw new pt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=q(e,zt(k()));if("error"in t)throw new pt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=q(e,ode);if("error"in t)throw new pt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=q(r,ade);if("error"in i)throw new pt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=q(i,Jr(PR));if("error"in s)throw new pt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=q(i,Jr(PR));if("error"in s)throw new pt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Br(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=q(c,ude);if("error"in u)throw new pt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=q(o,lde);if("error"in a)throw new pt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=q(i,dde);if("error"in s)throw new pt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=q(i,cde);if("error"in s)throw new pt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Jr(F(Xy)));if("error"in a)throw new pt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Jr(F(BR)));if("error"in a)throw new pt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Br(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Jr(V(F(BR))));if("error"in c)throw new pt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Br(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Jr(V(F(Xy))));if("error"in c)throw new pt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Br(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=q(a,zt(gde));if("error"in c)throw new pt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Br(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=V(hde),l=o.withContext===!0?q(c,Jr(u)):q(c,zt(u));if("error"in l)throw new pt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=q(o,zt(V(pde)));if("error"in a)throw new pt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return En(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:vc.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:vc.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await Al(1e3),s||(p=await b(),s))return;d({__type:vc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vc.PROCESSED)l=d.response;else throw new CB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:vc.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Al(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===vc.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Al(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Bh(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Bh(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Bh(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Bh(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===vc.PROCESSED)a=c.response;else throw new MB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=q(e,zt(V(Rde)));if("error"in t)throw new pt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=q(r,Pde);if("error"in i)throw new pt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=q(s,zt(k()));if("error"in o)throw new pt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=q(s,zt(O()));if("error"in o)throw new pt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=q(i,zt(V(fi)));if("error"in s)throw new pt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);En(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=q(i,Tde);if("error"in s)throw new pt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=q(s,zt(k()));if("error"in o)throw new pt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=q(r,ede);if("error"in i)throw new pt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Br(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=q(a,Ule);if("error"in c)throw new pt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=q(e,tde);if("error"in t)throw new pt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=q(s,rde);if("error"in o)throw new pt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=q(e,ide);if("error"in t)throw new pt(t.error,"failed to get epoch schedule");const r=t.result;return new oU(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=q(e,sde);if("error"in t)throw new pt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=q(i,Cde);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=q(r,Kde);if("error"in i)throw new pt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=q(t,jde);if("error"in r)throw new pt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=q(i,Hde);if("error"in s)throw new pt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Vt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=q(s,Jr(F(k())));if("error"in o)throw new pt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=q(i,nde);if("error"in s)throw new pt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=q(s,Wde);if("error"in o)throw new pt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=q(o,Fde);if("error"in a)throw new pt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=q(e,zt(Gle));if("error"in t)throw new pt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=q(e,zt(O()));if("error"in t)throw new pt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,$de);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,Nde);if("error"in a)throw a.error;return a.result}default:{const a=q(o,Ode);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:ev(d,u.message)},version:d}))}:null}}}catch(a){throw new pt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,zde);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,Dde);if("error"in a)throw a.error;return a.result}default:{const a=q(o,qde);if("error"in a)throw a.error;return a.result}}}catch(a){throw new pt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=q(s,Jle);if("error"in o)throw new pt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=q(o,tv);if("error"in a)throw new pt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:ev(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=q(o,Cb);if("error"in a)throw new pt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Br(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,Cb);if("error"in u)throw new pt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Br(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,tv);if("error"in u)throw new pt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:ev(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,Ude);if("error"in s)throw new pt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Xu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:rr.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=q(s,zt(V(k())));if("error"in o)throw new pt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=q(i,UL);if("error"in s)throw new pt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,UL);if("error"in s)throw new pt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,tv);if("error"in s)throw new pt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Xu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:rr.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,Cb);if("error"in s)throw new pt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=q(o,Cb);if("error"in a)throw new pt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=q(s,yde);if("error"in o)throw new pt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=q(s,mde);if("error"in o)throw new pt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new RR({key:e,state:RR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=iU.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=q(r,Yde);if("error"in i)throw new pt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Al(100);const r=Date.now()-this._blockhashInfo.lastFetch>=cU;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Al(tU/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=q(s,Jr(k()));if("error"in o)throw new pt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=q(R,zL);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof rr){let g=e;i=new rr,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=rr.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=q(b,zL);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Zy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Vt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=q(a,Gde);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Zy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=q(e,bde);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=$L([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];En(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=q(e,kde);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=q(e,Qde);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=q(e,Ade);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=q(e,vde);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=q(e,Ede);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=q(e,Ide);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},bU=class O1{constructor(e){this._keypair=void 0,this._keypair=e??LL()}static generate(){return new O1(LL())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=J0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new O1({publicKey:r,secretKey:e})}static fromSeed(e){const t=J0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new O1({publicKey:t,secretKey:r})}get publicKey(){return new Ye(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Nc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),Af("recentSlot"),oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),Af(),Te(Zt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let ehe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Nc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Un(Nc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Un(Nc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ye(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},qB=class{constructor(){}static createLookupTable(e){const[t,r]=Ye.findProgramAddressSync([e.authority.toBuffer(),Uo(BigInt(e.recentSlot),8)],this.programId),i=Nc.CreateLookupTable,s=fn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}];return[new cr({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Nc.FreezeLookupTable,r=fn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new cr({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Nc.ExtendLookupTable,r=fn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}),new cr({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Nc.DeactivateLookupTable,r=fn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new cr({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Nc.CloseLookupTable,r=fn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new cr({programId:this.programId,keys:i,data:r})}};qB.programId=new Ye("AddressLookupTab1e1111111111111111111111111");let the=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ka))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Un(Ka.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Un(Ka.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Un(Ka.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Un(Ka.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(zB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Ka=Object.freeze({RequestUnits:{index:0,layout:U([oe("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([oe("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([oe("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([oe("instruction"),Af("microLamports")])}});let zB=class{constructor(){}static requestUnits(e){const t=Ka.RequestUnits,r=fn(t,e);return new cr({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Ka.RequestHeapFrame,r=fn(t,e);return new cr({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Ka.SetComputeUnitLimit,r=fn(t,e);return new cr({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Ka.SetComputeUnitPrice,r=fn(t,{microLamports:BigInt(e.microLamports)});return new cr({keys:[],programId:this.programId,data:r})}};zB.programId=new Ye("ComputeBudget111111111111111111111111111111");const KL=64,WL=32,FL=64,VL=U([oe("numSignatures"),oe("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let wU=class kU{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;En(t.length===WL,`Public Key must be ${WL} bytes but received ${t.length} bytes`),En(i.length===FL,`Signature must be ${FL} bytes but received ${i.length} bytes`);const o=VL.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return VL.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new cr({keys:[],programId:kU.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;En(t.length===KL,`Private key must be ${KL} bytes but received ${t.length} bytes`);try{const s=bU.fromSecretKey(t),o=s.publicKey.toBytes(),a=BB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};wU.programId=new Ye("Ed25519SigVerify111111111111111111111111111");const nhe=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const rhe=ki.getPublicKey,jL=32,nv=20,HL=64,ihe=11,rv=U([oe("numSignatures"),ot("signatureOffset"),oe("signatureInstructionIndex"),ot("ethAddressOffset"),oe("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),oe("messageInstructionIndex"),pe(20,"ethAddress"),pe(64,"signature"),oe("recoveryId")]);let SU=class N1{constructor(){}static publicKeyToEthAddress(e){En(e.length===HL,`Public key must be ${HL} bytes but received ${e.length} bytes`);try{return H.Buffer.from($o(Vt(e))).slice(-nv)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return N1.createInstructionWithEthAddress({ethAddress:N1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,En(a.length===nv,`Address must be ${nv} bytes but received ${a.length} bytes`);const c=1+ihe,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(rv.span+r.length);return rv.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Vt(i),ethAddress:Vt(a),recoveryId:s},p),p.fill(Vt(r),rv.span),new cr({keys:[],programId:N1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;En(t.length===jL,`Private key must be ${jL} bytes but received ${t.length} bytes`);try{const s=Vt(t),o=rhe(s,!1).slice(1),a=H.Buffer.from($o(Vt(r))),[c,u]=nhe(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};SU.programId=new Ye("KeccakSecp256k11111111111111111111111111111");var AU;const _U=new Ye("StakeConfig11111111111111111111111111111111");let vU=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Fm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};AU=Fm;Fm.default=new AU(0,0,Ye.default);let she=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ri))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Un(Ri.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new vU(new Ye(t.staker),new Ye(t.withdrawer)),lockup:new Fm(r.unixTimestamp,r.epoch,new Ye(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Un(Ri.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Un(Ri.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ye(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Un(Ri.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Ye(s),newAuthorizedPubkey:new Ye(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Un(Ri.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Un(Ri.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Un(Ri.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Un(Ri.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(IS.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ri=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),sle(),ole()])},Authorize:{index:1,layout:U([D("instruction"),Zt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Zt("newAuthorized"),D("stakeAuthorizationType"),zl("authoritySeed"),Zt("authorityOwner")])}}),ohe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let IS=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Fm.default,o=Ri.Initialize,a=fn(o,{authorized:{staker:Vt(r.staker.toBuffer()),withdrawer:Vt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Vt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new cr(c)}static createAccountWithSeed(e){const t=new rr;t.add(as.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new rr;t.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Ri.Delegate,o=fn(s);return new rr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:L1,isSigner:!1,isWritable:!1},{pubkey:_U,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Ri.Authorize,c=fn(a,{newAuthorized:Vt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new rr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ri.AuthorizeWithSeed,l=fn(u,{newAuthorized:Vt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Vt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:va,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new rr().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Ri.Split,a=fn(o,{lamports:s});return new cr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new rr;return r.add(as.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new rr;return u.add(as.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(as.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Ri.Merge,o=fn(s);return new rr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:L1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Ri.Withdraw,c=fn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:L1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new rr().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Ri.Deactivate,s=fn(i);return new rr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};IS.programId=new Ye("Stake11111111111111111111111111111111111111");IS.space=200;let EU=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},ahe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Wa))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Un(Wa.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new EU(new Ye(t.nodePubkey),new Ye(t.authorizedVoter),new Ye(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Un(Wa.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ye(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Un(Wa.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ye(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ye(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Un(Wa.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(RS.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Wa=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),ale()])},Authorize:{index:1,layout:U([D("instruction"),Zt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),cle()])}}),che=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let RS=class IU{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=Wa.InitializeAccount,o=fn(s,{voteInit:{nodePubkey:Vt(i.nodePubkey.toBuffer()),authorizedVoter:Vt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Vt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sf,isSigner:!1,isWritable:!1},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new cr(a)}static createAccount(e){const t=new rr;return t.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Wa.Authorize,a=fn(o,{newAuthorized:Vt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new rr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Wa.AuthorizeWithSeed,u=fn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Vt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Vt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new rr().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Wa.Withdraw,a=fn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new rr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return IU.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Wa.UpdateValidatorIdentity,o=fn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new rr().add({keys:a,programId:this.programId,data:o})}};RS.programId=new Ye("Vote111111111111111111111111111111111111111");RS.space=3762;const RU=new Ye("Va1idator1nfo111111111111111111111111111111"),uhe=P({name:O(),website:te(O()),details:te(O()),keybaseUsername:te(O())});let lhe=class PU{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Rs(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Ye(Ps(t,0,ec)),a=Ua(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(RU)&&i[1].isSigner){const s=zl().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,uhe),new PU(i[1].publicKey,o)}return null}};const dhe=new Ye("Vote111111111111111111111111111111111111111"),hhe=U([Zt("nodePubkey"),Zt("authorizedWithdrawer"),oe("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),oe("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Zt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Zt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),oe("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let fhe=class xU{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=hhe.decode(Vt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new xU({nodePubkey:new Ye(r.nodePubkey),authorizedWithdrawer:new Ye(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(phe),priorVoters:ghe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function phe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ye(n)}}function YL({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ye(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function ghe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(YL),...n.slice(0,e).map(YL)]}const GL={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function yhe(n,e){const t=e===!1?"http":"https";if(!n)return GL[t].devnet;const r=GL[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function mhe(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Zy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const bhe=1e9,whe=Object.freeze(Object.defineProperty({__proto__:null,Account:nle,AddressLookupTableAccount:RR,AddressLookupTableInstruction:ehe,AddressLookupTableProgram:qB,Authorized:vU,BLOCKHASH_CACHE_TIMEOUT_MS:cU,BPF_LOADER_DEPRECATED_PROGRAM_ID:rle,BPF_LOADER_PROGRAM_ID:Ele,BpfLoader:Ile,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ka,ComputeBudgetInstruction:the,ComputeBudgetProgram:zB,Connection:Xde,Ed25519Program:wU,Enum:ele,EpochSchedule:oU,FeeCalculatorLayout:nU,Keypair:bU,LAMPORTS_PER_SOL:bhe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Nc,Loader:Q0,Lockup:Fm,MAX_SEED_LENGTH:YD,Message:Xu,MessageAccountKeys:Qy,MessageV0:_S,NONCE_ACCOUNT_LENGTH:vR,NonceAccount:iU,PACKET_DATA_SIZE:Du,PUBLIC_KEY_LENGTH:ec,PublicKey:Ye,SIGNATURE_LENGTH_IN_BYTES:Jy,SOLANA_SCHEMA:ty,STAKE_CONFIG_ID:_U,STAKE_INSTRUCTION_LAYOUTS:Ri,SYSTEM_INSTRUCTION_LAYOUTS:yr,SYSVAR_CLOCK_PUBKEY:va,SYSVAR_EPOCH_SCHEDULE_PUBKEY:gle,SYSVAR_INSTRUCTIONS_PUBKEY:yle,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:M1,SYSVAR_RENT_PUBKEY:Sf,SYSVAR_REWARDS_PUBKEY:mle,SYSVAR_SLOT_HASHES_PUBKEY:ble,SYSVAR_SLOT_HISTORY_PUBKEY:wle,SYSVAR_STAKE_HISTORY_PUBKEY:L1,Secp256k1Program:SU,SendTransactionError:Zy,SolanaJSONRPCError:pt,SolanaJSONRPCErrorCode:kle,StakeAuthorizationLayout:ohe,StakeInstruction:she,StakeProgram:IS,Struct:TB,SystemInstruction:_le,SystemProgram:as,Transaction:rr,TransactionExpiredBlockheightExceededError:CB,TransactionExpiredNonceInvalidError:Bh,TransactionExpiredTimeoutError:MB,TransactionInstruction:cr,TransactionMessage:lle,TransactionStatus:vc,VALIDATOR_INFO_KEY:RU,VERSION_PREFIX_MASK:AS,VOTE_PROGRAM_ID:dhe,ValidatorInfo:lhe,VersionedMessage:LB,VersionedTransaction:dle,VoteAccount:fhe,VoteAuthorizationLayout:che,VoteInit:EU,VoteInstruction:ahe,VoteProgram:RS,clusterApiUrl:yhe,sendAndConfirmRawTransaction:mhe,sendAndConfirmTransaction:_R},Symbol.toStringTag,{value:"Module"})),dc=la(whe);var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.AuctionProgram=void 0;const khe=dc,BU=Ce;class PS extends BU.Program{}mo.AuctionProgram=PS;PS.PREFIX="auction";PS.EXTENDED="extended";PS.PUBKEY=new khe.PublicKey(BU.config.programs.auction);var dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.BidderMetadata=dd.BidderMetadataData=void 0;const $1=Ce,JL=dc,Mb=mo,QL=H;class X0 extends $1.Borsh.Data{}dd.BidderMetadataData=X0;X0.SCHEMA=X0.struct([["bidderPubkey","pubkeyAsString"],["auctionPubkey","pubkeyAsString"],["lastBid","u64"],["lastBidTimestamp","u64"],["cancelled","u8"]]);class em extends $1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Mb.AuctionProgram.PUBKEY))throw(0,$1.ERROR_INVALID_OWNER)();if(!em.isCompatible(this.info.data))throw(0,$1.ERROR_INVALID_ACCOUNT_DATA)();this.data=X0.deserialize(this.info.data)}static isCompatible(e){return e.length===em.DATA_SIZE}static getPDA(e,t){return Mb.AuctionProgram.findProgramAddress([QL.Buffer.from(Mb.AuctionProgram.PREFIX),Mb.AuctionProgram.PUBKEY.toBuffer(),new JL.PublicKey(e).toBuffer(),new JL.PublicKey(t).toBuffer(),QL.Buffer.from("metadata")])}}dd.BidderMetadata=em;em.DATA_SIZE=81;var hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.BidderPot=hd.BidderPotData=void 0;const q1=Ce,Lb=mo,ZL=dc,She=H;class ew extends q1.Borsh.Data{}hd.BidderPotData=ew;ew.SCHEMA=ew.struct([["bidderPot","pubkeyAsString"],["bidderAct","pubkeyAsString"],["auctionAct","pubkeyAsString"],["emptied","u8"]]);class tm extends q1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Lb.AuctionProgram.PUBKEY))throw(0,q1.ERROR_INVALID_OWNER)();if(!tm.isCompatible(this.info.data))throw(0,q1.ERROR_INVALID_ACCOUNT_DATA)();this.data=ew.deserialize(this.info.data)}static isCompatible(e){return e.length===tm.DATA_SIZE}static getPDA(e,t){return Lb.AuctionProgram.findProgramAddress([She.Buffer.from(Lb.AuctionProgram.PREFIX),Lb.AuctionProgram.PUBKEY.toBuffer(),new ZL.PublicKey(e).toBuffer(),new ZL.PublicKey(t).toBuffer()])}}hd.BidderPot=tm;tm.DATA_SIZE=97;(function(n){var e=ce&&ce.__awaiter||function(S,w,_,R){function x(K){return K instanceof _?K:new _(function(J){J(K)})}return new(_||(_=Promise))(function(K,J){function M(X){try{ie(R.next(X))}catch(ne){J(ne)}}function Z(X){try{ie(R.throw(X))}catch(ne){J(ne)}}function ie(X){X.done?K(X.value):x(X.value).then(M,Z)}ie((R=R.apply(S,w||[])).next())})},t=ce&&ce.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.Auction=n.AuctionData=n.PriceFloor=n.BidState=n.Bid=n.PriceFloorType=n.BidStateType=n.AuctionState=void 0;const r=Ce,i=dc,s=t(Ws),o=H,a=mo,c=dd,u=hd;(function(S){S[S.Created=0]="Created",S[S.Started=1]="Started",S[S.Ended=2]="Ended"})(n.AuctionState||(n.AuctionState={})),function(S){S[S.EnglishAuction=0]="EnglishAuction",S[S.OpenEdition=1]="OpenEdition"}(n.BidStateType||(n.BidStateType={}));var l;(function(S){S[S.None=0]="None",S[S.Minimum=1]="Minimum",S[S.BlindedPrice=2]="BlindedPrice"})(l=n.PriceFloorType||(n.PriceFloorType={}));class d extends r.Borsh.Data{}n.Bid=d,d.SCHEMA=d.struct([["key","pubkeyAsString"],["amount","u64"]]);class b extends r.Borsh.Data{getWinnerAt(w){const _=this.bids.length-w-1;return _>=0&&_<this.bids.length?this.bids[_].key:null}getAmountAt(w){const _=this.bids.length-w-1;return _>=0&&_<this.bids.length?this.bids[_].amount:null}getWinnerIndex(w){if(!this.bids)return null;const _=this.bids.findIndex(R=>R.key===w);if(_!==-1){const R=this.bids.length-_-1;return R<this.max.toNumber()?R:null}return null}}n.BidState=b,b.SCHEMA=new Map([...d.SCHEMA,...b.struct([["type","u8"],["bids",[d]],["max","u64"]])]);class p extends r.Borsh.Data{constructor(w){super(),this.type=w.type,this.hash=w.hash||new Uint8Array(32),this.type===l.Minimum&&(w.minPrice?this.hash.set(w.minPrice.toArrayLike(o.Buffer,"le",8),0):this.minPrice=new s.default((w.hash||new Uint8Array(0)).slice(0,8),"le"))}}n.PriceFloor=p,p.SCHEMA=p.struct([["type","u8"],["hash",[32]]]);class g extends r.Borsh.Data{}n.AuctionData=g,g.SCHEMA=new Map([...b.SCHEMA,...p.SCHEMA,...g.struct([["authority","pubkeyAsString"],["tokenMint","pubkeyAsString"],["lastBid",{kind:"option",type:"u64"}],["endedAt",{kind:"option",type:"u64"}],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["priceFloor",p],["state","u8"],["bidState",b]])]);class y extends r.Account{constructor(w,_){if(super(w,_),!this.assertOwner(a.AuctionProgram.PUBKEY))throw(0,r.ERROR_INVALID_OWNER)();this.data=g.deserialize(this.info.data)}static getPDA(w){return a.AuctionProgram.findProgramAddress([o.Buffer.from(a.AuctionProgram.PREFIX),a.AuctionProgram.PUBKEY.toBuffer(),new i.PublicKey(w).toBuffer()])}static findMany(w,_={}){return e(this,void 0,void 0,function*(){return(yield a.AuctionProgram.getProgramAccounts(w,{filters:[_.authority&&{memcmp:{offset:0,bytes:new i.PublicKey(_.authority).toBase58()}}].filter(Boolean)})).map(R=>{try{return y.from(R)}catch{}}).filter(Boolean)})}getBidderPots(w){return e(this,void 0,void 0,function*(){return(yield a.AuctionProgram.getProgramAccounts(w,{filters:[{dataSize:u.BidderPot.DATA_SIZE},{memcmp:{offset:64,bytes:this.pubkey.toBase58()}}]})).map(_=>u.BidderPot.from(_))})}getBidderMetadata(w){return e(this,void 0,void 0,function*(){return(yield a.AuctionProgram.getProgramAccounts(w,{filters:[{dataSize:c.BidderMetadata.DATA_SIZE},{memcmp:{offset:32,bytes:this.pubkey.toBase58()}}]})).map(_=>c.BidderMetadata.from(_))})}}n.Auction=y,y.EXTENDED_DATA_SIZE=219})(SS);var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.AuctionExtended=_f.AuctionDataExtended=void 0;const z1=Ce,bg=mo,XL=H,Ahe=dc;class tw extends z1.Borsh.Data{}_f.AuctionDataExtended=tw;tw.SCHEMA=tw.struct([["totalUncancelledBids","u64"],["tickSize",{kind:"option",type:"u64"}],["gapTickSizePercentage",{kind:"option",type:"u8"}],["instantSalePrice",{kind:"option",type:"u64"}],["name",{kind:"option",type:[32]}]]);class nm extends z1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(bg.AuctionProgram.PUBKEY))throw(0,z1.ERROR_INVALID_OWNER)();if(!nm.isCompatible(this.info.data))throw(0,z1.ERROR_INVALID_ACCOUNT_DATA)();this.data=tw.deserialize(this.info.data)}static isCompatible(e){return e.length===nm.DATA_SIZE}static getPDA(e){return bg.AuctionProgram.findProgramAddress([XL.Buffer.from(bg.AuctionProgram.PREFIX),bg.AuctionProgram.PUBKEY.toBuffer(),new Ahe.PublicKey(e).toBuffer(),XL.Buffer.from(bg.AuctionProgram.EXTENDED)])}}_f.AuctionExtended=nm;nm.DATA_SIZE=219;var TU={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.CancelBid=vf.CancelBidArgs=void 0;const CU=Ce,_he=Jn,Ob=dc,vhe=mo;class nw extends CU.Borsh.Data{constructor(){super(...arguments),this.instruction=0}}vf.CancelBidArgs=nw;nw.SCHEMA=nw.struct([["instruction","u8"],["resource","pubkeyAsString"]]);class Ehe extends CU.Transaction{constructor(e,t){super(e);const{auction:r,auctionExtended:i,bidderPot:s,bidderMeta:o,bidder:a,bidderToken:c,bidderPotToken:u,tokenMint:l,resource:d}=t,b=nw.serialize({resource:d.toString()});this.add(new Ob.TransactionInstruction({keys:[{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Ob.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ob.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ob.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:_he.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:vhe.AuctionProgram.PUBKEY,data:b}))}}vf.CancelBid=Ehe;var DB={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateAuction=n.CreateAuctionArgs=n.WinnerLimit=n.WinnerLimitType=void 0;const e=Ce,t=dc,r=mo,i=SS;(function(c){c[c.Unlimited=0]="Unlimited",c[c.Capped=1]="Capped"})(n.WinnerLimitType||(n.WinnerLimitType={}));class s extends e.Borsh.Data{}n.WinnerLimit=s,s.SCHEMA=s.struct([["type","u8"],["usize","u64"]]);class o extends e.Borsh.Data{constructor(){super(...arguments),this.instruction=1}}n.CreateAuctionArgs=o,o.SCHEMA=new Map([...s.SCHEMA,...i.PriceFloor.SCHEMA,...o.struct([["instruction","u8"],["winners",s],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["tokenMint","pubkeyAsString"],["authority","pubkeyAsString"],["resource","pubkeyAsString"],["priceFloor",i.PriceFloor],["tickSize",{kind:"option",type:"u64"}],["gapTickSizePercentage",{kind:"option",type:"u8"}]])]);class a extends e.Transaction{constructor(u,l){super(u);const{args:d,auction:b,auctionExtended:p,creator:g}=l,y=o.serialize(d);this.add(new t.TransactionInstruction({keys:[{pubkey:g,isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:t.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:t.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r.AuctionProgram.PUBKEY,data:y}))}}n.CreateAuction=a})(DB);var Ef={},MU;Object.defineProperty(Ef,"__esModule",{value:!0});Ef.CreateAuctionV2=Ef.CreateAuctionV2Args=void 0;const LU=Ce,iv=dc,Ihe=mo,eO=SS,tO=DB;class xS extends LU.Borsh.Data{constructor(){super(...arguments),this.instruction=7}}Ef.CreateAuctionV2Args=xS;MU=xS;xS.SCHEMA=new Map([...tO.WinnerLimit.SCHEMA,...eO.PriceFloor.SCHEMA,...MU.struct([["instruction","u8"],["winners",tO.WinnerLimit],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["tokenMint","pubkeyAsString"],["authority","pubkeyAsString"],["resource","pubkeyAsString"],["priceFloor",eO.PriceFloor],["tickSize",{kind:"option",type:"u64"}],["gapTickSizePercentage",{kind:"option",type:"u8"}],["instantSalePrice",{kind:"option",type:"u64"}],["name",{kind:"option",type:[32]}]])]);class Rhe extends LU.Transaction{constructor(e,t){super(e);const{args:r,auction:i,auctionExtended:s,creator:o}=t,a=xS.serialize(r);this.add(new iv.TransactionInstruction({keys:[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:iv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:iv.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:Ihe.AuctionProgram.PUBKEY,data:a}))}}Ef.CreateAuctionV2=Rhe;var If={};Object.defineProperty(If,"__esModule",{value:!0});If.PlaceBid=If.PlaceBidArgs=void 0;const OU=Ce,Nb=dc,Phe=mo,xhe=Jn;class rw extends OU.Borsh.Data{constructor(){super(...arguments),this.instruction=6}}If.PlaceBidArgs=rw;rw.SCHEMA=rw.struct([["instruction","u8"],["amount","u64"],["resource","pubkeyAsString"]]);class Bhe extends OU.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{auction:i,auctionExtended:s,bidderPot:o,bidderMeta:a,bidder:c,bidderToken:u,bidderPotToken:l,tokenMint:d,transferAuthority:b,resource:p,amount:g}=t,y=rw.serialize({resource:p.toString(),amount:g});this.add(new Nb.TransactionInstruction({keys:[{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Nb.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Nb.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Nb.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:xhe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:Phe.AuctionProgram.PUBKEY,data:y}))}}If.PlaceBid=Bhe;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.SetAuctionAuthority=Rf.SetAuctionAuthorityArgs=void 0;const NU=Ce,The=dc,Che=mo;class iw extends NU.Borsh.Data{constructor(){super(...arguments),this.instruction=5}}Rf.SetAuctionAuthorityArgs=iw;iw.SCHEMA=iw.struct([["instruction","u8"]]);class Mhe extends NU.Transaction{constructor(e,t){super(e);const{auction:r,currentAuthority:i,newAuthority:s}=t,o=iw.serialize();this.add(new The.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Che.AuctionProgram.PUBKEY,data:o}))}}Rf.SetAuctionAuthority=Mhe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(vf,n),t(DB,n),t(Ef,n),t(If,n),t(Rf,n)})(TU);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(SS,n),t(_f,n),t(dd,n),t(hd,n),t(mo,n),t(TU,n)})(tu);const Lhe=Do(tu),Ohe=Sd({__proto__:null,default:Lhe},[tu]);(function(n){var e=ce&&ce.__awaiter||function(w,_,R,x){function K(J){return J instanceof R?J:new R(function(M){M(J)})}return new(R||(R=Promise))(function(J,M){function Z(ne){try{X(x.next(ne))}catch(ae){M(ae)}}function ie(ne){try{X(x.throw(ne))}catch(ae){M(ae)}}function X(ne){ne.done?J(ne.value):K(ne.value).then(Z,ie)}X((x=x.apply(w,_||[])).next())})},t=ce&&ce.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.AuctionManager=n.AuctionManagerV2Data=n.AuctionManagerStateV2=n.AuctionManagerStatus=void 0;const s=Ln,o=t(Ws),a=t(Fs),c=xB,u=Xr,l=H,d=tu,b=Ce;var p;(function(w){w[w.Initialized=0]="Initialized",w[w.Validated=1]="Validated",w[w.Running=2]="Running",w[w.Disbursing=3]="Disbursing",w[w.Finished=4]="Finished"})(p=n.AuctionManagerStatus||(n.AuctionManagerStatus={}));class g extends b.Borsh.Data{constructor(){super(...arguments),this.status=p.Initialized,this.safetyConfigItemsValidated=new o.default(0),this.bidsPushedToAcceptPayment=new o.default(0),this.hasParticipation=!1}}n.AuctionManagerStateV2=g,r=g,g.SCHEMA=r.struct([["status","u8"],["safetyConfigItemsValidated","u64"],["bidsPushedToAcceptPayment","u64"],["hasParticipation","u8"]]);class y extends b.Borsh.Data{constructor(_){super(_),this.key=u.MetaplexKey.AuctionManagerV2}}n.AuctionManagerV2Data=y,i=y,y.SCHEMA=new Map([...g.SCHEMA,...i.struct([["key","u8"],["store","pubkeyAsString"],["authority","pubkeyAsString"],["auction","pubkeyAsString"],["vault","pubkeyAsString"],["acceptPayment","pubkeyAsString"],["state",g]])]);class S extends b.Account{constructor(_,R){if(super(_,R),!this.assertOwner(u.MetaplexProgram.PUBKEY))throw(0,b.ERROR_INVALID_OWNER)();if(S.isAuctionManagerV1(this.info.data))throw(0,b.ERROR_DEPRECATED_ACCOUNT_DATA)();if(S.isAuctionManagerV2(this.info.data))this.data=y.deserialize(this.info.data);else throw(0,b.ERROR_INVALID_ACCOUNT_DATA)()}static isCompatible(_){return S.isAuctionManagerV1(_)||S.isAuctionManagerV2(_)}static isAuctionManagerV1(_){return _[0]===u.MetaplexKey.AuctionManagerV1}static isAuctionManagerV2(_){return _[0]===u.MetaplexKey.AuctionManagerV2}static getPDA(_){return u.MetaplexProgram.findProgramAddress([l.Buffer.from(u.MetaplexProgram.PREFIX),new s.PublicKey(_).toBuffer()])}static findMany(_,R={}){return e(this,void 0,void 0,function*(){return(yield u.MetaplexProgram.getProgramAccounts(_,{filters:[{memcmp:{offset:0,bytes:a.default.encode(l.Buffer.from([u.MetaplexKey.AuctionManagerV2]))}},R.store&&{memcmp:{offset:1,bytes:new s.PublicKey(R.store).toBase58()}},R.authority&&{memcmp:{offset:33,bytes:new s.PublicKey(R.authority).toBase58()}}].filter(Boolean)})).map(x=>S.from(x))})}getAuction(_){return e(this,void 0,void 0,function*(){return d.Auction.load(_,this.data.auction)})}getBidRedemptionTickets(_,R=!0){return e(this,void 0,void 0,function*(){return(yield u.MetaplexProgram.getProgramAccounts(_,{filters:[{memcmp:{offset:0,bytes:a.default.encode(l.Buffer.from([u.MetaplexKey.BidRedemptionTicketV2]))}},{memcmp:{offset:c.WINNER_INDEX_OFFSETS[+R],bytes:this.pubkey.toBase58()}}]})).map(x=>c.BidRedemptionTicket.from(x))})}}n.AuctionManager=S})(bB);var Pf={},Nhe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},$he=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},$U;Object.defineProperty(Pf,"__esModule",{value:!0});Pf.PayoutTicket=Pf.PayoutTicketData=void 0;const qhe=Ln,zhe=$he(Fs),D1=Ce,Lg=Xr,Dhe=H;class BS extends D1.Borsh.Data{constructor(e){super(e),this.key=Lg.MetaplexKey.PayoutTicketV1}}Pf.PayoutTicketData=BS;$U=BS;BS.SCHEMA=$U.struct([["key","u8"],["recipient","pubkeyAsString"],["amountPaid","u64"]]);class sw extends D1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Lg.MetaplexProgram.PUBKEY))throw(0,D1.ERROR_INVALID_OWNER)();if(!sw.isCompatible(this.info.data))throw(0,D1.ERROR_INVALID_ACCOUNT_DATA)();this.data=BS.deserialize(this.info.data)}static isCompatible(e){return e[0]===Lg.MetaplexKey.PayoutTicketV1}static getPayoutTicketsByRecipient(e,t){return Nhe(this,void 0,void 0,function*(){return(yield Lg.MetaplexProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:zhe.default.encode(Dhe.Buffer.from([Lg.MetaplexKey.PayoutTicketV1]))}},{memcmp:{offset:1,bytes:new qhe.PublicKey(t).toBase58()}}]})).map(r=>sw.from(r))})}}Pf.PayoutTicket=sw;var xf={},Uhe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},qU;Object.defineProperty(xf,"__esModule",{value:!0});xf.PrizeTrackingTicket=xf.PrizeTrackingTicketData=void 0;const nO=Ln,U1=Ce,_l=Xr,Khe=H;class TS extends U1.Borsh.Data{constructor(e){super(e),this.key=_l.MetaplexKey.PrizeTrackingTicketV1,this.key=_l.MetaplexKey.PrizeTrackingTicketV1}}xf.PrizeTrackingTicketData=TS;qU=TS;TS.SCHEMA=qU.struct([["key","u8"],["metadata","pubkeyAsString"],["supplySnapshot","u64"],["expectedRedemptions","u64"],["redemptions","u64"]]);class UB extends U1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(_l.MetaplexProgram.PUBKEY))throw(0,U1.ERROR_INVALID_OWNER)();if(!UB.isCompatible(this.info.data))throw(0,U1.ERROR_INVALID_ACCOUNT_DATA)();this.data=TS.deserialize(this.info.data)}static isCompatible(e){return e[0]===_l.MetaplexKey.PrizeTrackingTicketV1}static getPDA(e,t){return Uhe(this,void 0,void 0,function*(){return _l.MetaplexProgram.findProgramAddress([Khe.Buffer.from(_l.MetaplexProgram.PREFIX),_l.MetaplexProgram.PUBKEY.toBuffer(),new nO.PublicKey(e).toBuffer(),new nO.PublicKey(t).toBuffer()])})}}xf.PrizeTrackingTicket=UB;var zU={};(function(n){var e=ce&&ce.__awaiter||function(d,b,p,g){function y(S){return S instanceof p?S:new p(function(w){w(S)})}return new(p||(p=Promise))(function(S,w){function _(K){try{x(g.next(K))}catch(J){w(J)}}function R(K){try{x(g.throw(K))}catch(J){w(J)}}function x(K){K.done?S(K.value):y(K.value).then(_,R)}x((g=g.apply(d,b||[])).next())})},t=ce&&ce.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.SafetyDepositConfig=n.NonWinningConstraint=n.WinningConstraint=n.WinningConfigType=void 0;const r=Ln,i=t(Ws),s=t(Fs),o=Ce,a=Xr,c=H;(function(d){d[d.TokenOnlyTransfer=0]="TokenOnlyTransfer",d[d.FullRightsTransfer=1]="FullRightsTransfer",d[d.PrintingV1=2]="PrintingV1",d[d.PrintingV2=3]="PrintingV2",d[d.Participation=4]="Participation"})(n.WinningConfigType||(n.WinningConfigType={})),function(d){d[d.NoParticipationPrize=0]="NoParticipationPrize",d[d.ParticipationPrizeGiven=1]="ParticipationPrizeGiven"}(n.WinningConstraint||(n.WinningConstraint={})),function(d){d[d.NoParticipationPrize=0]="NoParticipationPrize",d[d.GivenForFixedPrice=1]="GivenForFixedPrice",d[d.GivenForBidPrice=2]="GivenForBidPrice"}(n.NonWinningConstraint||(n.NonWinningConstraint={}));class u extends o.Account{constructor(b,p){if(super(b,p),!this.assertOwner(a.MetaplexProgram.PUBKEY))throw(0,o.ERROR_INVALID_OWNER)();if(!u.isCompatible(this.info.data))throw(0,o.ERROR_INVALID_ACCOUNT_DATA)();this.data=l(this.info.data)}static isCompatible(b){return b[0]===a.MetaplexKey.SafetyDepositConfigV1}static getPDA(b,p){return e(this,void 0,void 0,function*(){return a.MetaplexProgram.findProgramAddress([c.Buffer.from(a.MetaplexProgram.PREFIX),a.MetaplexProgram.PUBKEY.toBuffer(),new r.PublicKey(b).toBuffer(),new r.PublicKey(p).toBuffer()])})}}n.SafetyDepositConfig=u;const l=d=>{const b={key:a.MetaplexKey.SafetyDepositConfigV1,auctionManager:s.default.encode(d.slice(1,33)),order:new i.default(d.slice(33,41),"le"),winningConfigType:d[41],amountType:d[42],lengthType:d[43],amountRanges:[],participationConfig:null,participationState:null},p=new i.default(d.slice(44,48),"le");let g=48;for(let y=0;y<p.toNumber();y++){const S=(0,o.getBNFromData)(d,g,b.amountType);g+=b.amountType;const w=(0,o.getBNFromData)(d,g,b.lengthType);g+=b.lengthType,b.amountRanges.push({amount:S,length:w})}if(d[g]==0)g+=1,b.participationConfig=null;else{const y=d[g+1],S=d[g+2];let w=null;g+=3,d[g]==1?(w=new i.default(d.slice(g+1,g+9),"le"),g+=9):g+=1,b.participationConfig={winnerConstraint:y,nonWinningConstraint:S,fixedPrice:w}}if(d[g]==0)g+=1,b.participationState=null;else{const y=new i.default(d.slice(g+1,g+9),"le");g+=9,b.participationState={collectedToAcceptPayment:y}}return b}})(zU);var Bf={},fd={},Whe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},DU;Object.defineProperty(fd,"__esModule",{value:!0});fd.WhitelistedCreator=fd.WhitelistedCreatorData=void 0;const K1=Ce,vl=Xr,Fhe=H,rO=Ln;class CS extends K1.Borsh.Data{constructor(e){super(e),this.key=vl.MetaplexKey.WhitelistedCreatorV1,this.activated=!0,this.key=vl.MetaplexKey.WhitelistedCreatorV1}}fd.WhitelistedCreatorData=CS;DU=CS;CS.SCHEMA=DU.struct([["key","u8"],["address","pubkeyAsString"],["activated","u8"]]);class KB extends K1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(vl.MetaplexProgram.PUBKEY))throw(0,K1.ERROR_INVALID_OWNER)();if(!KB.isCompatible(this.info.data))throw(0,K1.ERROR_INVALID_ACCOUNT_DATA)();this.data=CS.deserialize(this.info.data)}static isCompatible(e){return e[0]===vl.MetaplexKey.WhitelistedCreatorV1}static getPDA(e,t){return Whe(this,void 0,void 0,function*(){return vl.MetaplexProgram.findProgramAddress([Fhe.Buffer.from(vl.MetaplexProgram.PREFIX),vl.MetaplexProgram.PUBKEY.toBuffer(),new rO.PublicKey(e).toBuffer(),new rO.PublicKey(t).toBuffer()])})}}fd.WhitelistedCreator=KB;var sv=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Vhe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},UU;Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Store=Bf.StoreData=void 0;const W1=Ce,Go=Xr,jhe=Ln,iO=Vhe(Fs),Hhe=fd,Yhe=bB,ov=H;class MS extends W1.Borsh.Data{constructor(e){super(e),this.key=Go.MetaplexKey.StoreV1,this.public=!0,this.key=Go.MetaplexKey.StoreV1}}Bf.StoreData=MS;UU=MS;MS.SCHEMA=UU.struct([["key","u8"],["public","u8"],["auctionProgram","pubkeyAsString"],["tokenVaultProgram","pubkeyAsString"],["tokenMetadataProgram","pubkeyAsString"],["tokenProgram","pubkeyAsString"]]);class WB extends W1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Go.MetaplexProgram.PUBKEY))throw(0,W1.ERROR_INVALID_OWNER)();if(!WB.isCompatible(this.info.data))throw(0,W1.ERROR_INVALID_ACCOUNT_DATA)();this.data=MS.deserialize(this.info.data)}static isCompatible(e){return e[0]===Go.MetaplexKey.StoreV1}static getPDA(e){return sv(this,void 0,void 0,function*(){return Go.MetaplexProgram.findProgramAddress([ov.Buffer.from(Go.MetaplexProgram.PREFIX),Go.MetaplexProgram.PUBKEY.toBuffer(),new jhe.PublicKey(e).toBuffer()])})}getWhitelistedCreators(e){return sv(this,void 0,void 0,function*(){return(yield Go.MetaplexProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:iO.default.encode(ov.Buffer.from([Go.MetaplexKey.WhitelistedCreatorV1]))}}]})).map(t=>Hhe.WhitelistedCreator.from(t))})}getAuctionManagers(e){return sv(this,void 0,void 0,function*(){return(yield Go.MetaplexProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:iO.default.encode(ov.Buffer.from([Go.MetaplexKey.AuctionManagerV2]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(t=>Yhe.AuctionManager.from(t))})}}Bf.Store=WB;var Tf={},Ghe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},KU;Object.defineProperty(Tf,"__esModule",{value:!0});Tf.StoreConfig=Tf.StoreConfigData=void 0;const F1=Ce,Jhe=Ln,sO=H,gu=Xr;class LS extends F1.Borsh.Data{constructor(e){super(e),this.key=gu.MetaplexKey.StoreConfigV1,this.key=gu.MetaplexKey.StoreConfigV1}}Tf.StoreConfigData=LS;KU=LS;LS.SCHEMA=KU.struct([["key","u8"],["settingsUri",{kind:"option",type:"string"}]]);class FB extends F1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(gu.MetaplexProgram.PUBKEY))throw(0,F1.ERROR_INVALID_OWNER)();if(!FB.isCompatible(this.info.data))throw(0,F1.ERROR_INVALID_ACCOUNT_DATA)();this.data=LS.deserialize(this.info.data)}static isCompatible(e){return e[0]===gu.MetaplexKey.StoreConfigV1}static getPDA(e){return Ghe(this,void 0,void 0,function*(){return gu.MetaplexProgram.findProgramAddress([sO.Buffer.from(gu.MetaplexProgram.PREFIX),gu.MetaplexProgram.PUBKEY.toBuffer(),sO.Buffer.from(gu.MetaplexProgram.CONFIG),new Jhe.PublicKey(e).toBuffer()])})}}Tf.StoreConfig=FB;var OS={},Qhe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Zhe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(OS,"__esModule",{value:!0});OS.AuctionWinnerTokenTypeTracker=void 0;const ny=Ce,Xhe=Ln,efe=Zhe(Ws),oO=H,hl=Xr;class VB extends ny.Account{constructor(e,t){if(super(e,t),!this.assertOwner(hl.MetaplexProgram.PUBKEY))throw(0,ny.ERROR_INVALID_OWNER)();if(!VB.isCompatible(this.info.data))throw(0,ny.ERROR_INVALID_ACCOUNT_DATA)();this.data=tfe(this.info.data)}static isCompatible(e){return e[0]===hl.MetaplexKey.AuctionWinnerTokenTypeTrackerV1}static getPDA(e){return Qhe(this,void 0,void 0,function*(){return hl.MetaplexProgram.findProgramAddress([oO.Buffer.from(hl.MetaplexProgram.PREFIX),hl.MetaplexProgram.PUBKEY.toBuffer(),new Xhe.PublicKey(e).toBuffer(),oO.Buffer.from(hl.MetaplexProgram.TOTALS)])})}}OS.AuctionWinnerTokenTypeTracker=VB;const tfe=n=>{const e={key:hl.MetaplexKey.SafetyDepositConfigV1,amountType:n[1],lengthType:n[2],amountRanges:[]},t=new efe.default(n.slice(3,7),"le");let r=7;for(let i=0;i<t.toNumber();i++){const s=(0,ny.getBNFromData)(n,r,e.amountType);r+=e.amountType;const o=(0,ny.getBNFromData)(n,r,e.lengthType);r+=e.lengthType,e.amountRanges.push({amount:s,length:o})}return e};var WU={},Cf={},FU;Object.defineProperty(Cf,"__esModule",{value:!0});Cf.ClaimBid=Cf.ClaimBidArgs=void 0;const VU=Ce,nfe=tu,rfe=Jn,aO=Ln,ife=Xr;class NS extends VU.Borsh.Data{constructor(){super(...arguments),this.instruction=6}}Cf.ClaimBidArgs=NS;FU=NS;NS.SCHEMA=FU.struct([["instruction","u8"]]);class sfe extends VU.Transaction{constructor(e,t){super(e);const{store:r,vault:i,auction:s,auctionExtended:o,auctionManager:a,bidder:c,bidderPot:u,bidderPotToken:l,acceptPayment:d,tokenMint:b}=t,p=NS.serialize();this.add(new aO.TransactionInstruction({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:nfe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:aO.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:rfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}],programId:ife.MetaplexProgram.PUBKEY,data:p}))}}Cf.ClaimBid=sfe;var Mf={},ofe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},jU;Object.defineProperty(Mf,"__esModule",{value:!0});Mf.EndAuction=Mf.EndAuctionArgs=void 0;const cO=ofe(Ws),HU=Ce,uO=Ln,afe=tu,cfe=Xr;class $S extends HU.Borsh.Data{constructor(){super(...arguments),this.instruction=20}}Mf.EndAuctionArgs=$S;jU=$S;$S.SCHEMA=jU.struct([["instruction","u8"],["reveal",{kind:"option",type:[cO.default,cO.default]}]]);class ufe extends HU.Transaction{constructor(e,t){super(e);const{store:r,auction:i,auctionExtended:s,auctionManager:o,auctionManagerAuthority:a,reveal:c=null}=t,u=$S.serialize({reveal:c});this.add(new uO.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:afe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:uO.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:cfe.MetaplexProgram.PUBKEY,data:u}))}}Mf.EndAuction=ufe;var Lf={},lfe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},YU;Object.defineProperty(Lf,"__esModule",{value:!0});Lf.InitAuctionManagerV2=Lf.InitAuctionManagerV2Args=void 0;const V1=Ce,av=Ln,dfe=lfe(Ws),hfe=Xr;class qS extends V1.Borsh.Data{constructor(){super(...arguments),this.instruction=17,this.amountType=V1.TupleNumericType.U8,this.lengthType=V1.TupleNumericType.U8,this.maxRanges=new dfe.default(1)}}Lf.InitAuctionManagerV2Args=qS;YU=qS;qS.SCHEMA=YU.struct([["instruction","u8"],["amountType","u8"],["lengthType","u8"],["maxRanges","u64"]]);class ffe extends V1.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionManager:a,auctionManagerAuthority:c,acceptPaymentAccount:u,tokenTracker:l,amountType:d,lengthType:b,maxRanges:p}=t,g=qS.serialize({amountType:d,lengthType:b,maxRanges:p});this.add(new av.TransactionInstruction({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:av.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:av.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:hfe.MetaplexProgram.PUBKEY,data:g}))}}Lf.InitAuctionManagerV2=ffe;var jB={},$d={},Jc={},Wo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataProgram=n.MetadataKey=void 0;const e=Ln,t=Ce;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.MetadataV1=4]="MetadataV1",i[i.EditionV1=1]="EditionV1",i[i.MasterEditionV1=2]="MasterEditionV1",i[i.MasterEditionV2=6]="MasterEditionV2",i[i.EditionMarker=7]="EditionMarker"})(n.MetadataKey||(n.MetadataKey={}));class r extends t.Program{}n.MetadataProgram=r,r.PREFIX="metadata",r.PUBKEY=new e.PublicKey(t.config.programs.metadata)})(Wo);var pfe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.Edition=Jc.EditionData=void 0;const j1=Ce,oh=Wo,gfe=Ln,lO=H;let ow=class extends j1.Borsh.Data{constructor(e){super(e),this.key=oh.MetadataKey.EditionV1}};Jc.EditionData=ow;ow.SCHEMA=ow.struct([["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]);let GU=class TR extends j1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(oh.MetadataProgram.PUBKEY))throw(0,j1.ERROR_INVALID_OWNER)();if(!TR.isCompatible(this.info.data))throw(0,j1.ERROR_INVALID_ACCOUNT_DATA)();this.data=ow.deserialize(this.info.data)}static getPDA(e){return pfe(this,void 0,void 0,function*(){return oh.MetadataProgram.findProgramAddress([lO.Buffer.from(oh.MetadataProgram.PREFIX),oh.MetadataProgram.PUBKEY.toBuffer(),new gfe.PublicKey(e).toBuffer(),lO.Buffer.from(TR.EDITION_PREFIX)])})}static isCompatible(e){return e[0]===oh.MetadataKey.EditionV1}};Jc.Edition=GU;GU.EDITION_PREFIX="edition";var Of={},yfe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Of,"__esModule",{value:!0});Of.EditionMarker=Of.EditionMarkerData=void 0;const H1=Ce,mfe=Ln,bfe=Jc,ah=Wo,cv=H;let aw=class extends H1.Borsh.Data{constructor(e){super(e),this.key=ah.MetadataKey.EditionMarker}editionTaken(e){const t=e%HB.DATA_SIZE,r=Math.floor(t/8);if(r>30)throw Error("Bad index for edition");const i=7-t%8,s=Math.pow(2,i);return(this.ledger[r]&s)!=0}};Of.EditionMarkerData=aw;aw.SCHEMA=aw.struct([["key","u8"],["ledger",[31]]]);let HB=class JU extends H1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(ah.MetadataProgram.PUBKEY))throw(0,H1.ERROR_INVALID_OWNER)();if(!JU.isCompatible(this.info.data))throw(0,H1.ERROR_INVALID_ACCOUNT_DATA)();this.data=aw.deserialize(this.info.data)}static getPDA(e,t){return yfe(this,void 0,void 0,function*(){const r=Math.floor(t.toNumber()/248);return ah.MetadataProgram.findProgramAddress([cv.Buffer.from(ah.MetadataProgram.PREFIX),ah.MetadataProgram.PUBKEY.toBuffer(),new mfe.PublicKey(e).toBuffer(),cv.Buffer.from(bfe.Edition.EDITION_PREFIX),cv.Buffer.from(r.toString())])})}static isCompatible(e){return e[0]===ah.MetadataKey.EditionMarker}};Of.EditionMarker=HB;HB.DATA_SIZE=248;var Fc={},dO=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},wfe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.MasterEdition=Fc.MasterEditionV2Data=Fc.MasterEditionV1Data=void 0;const ry=Ce,kfe=wfe(Fs),Sfe=Jc,wa=Wo,uv=H,Afe=Ln;let cw=class extends ry.Borsh.Data{constructor(e){super(e),this.key=wa.MetadataKey.MasterEditionV1}};Fc.MasterEditionV1Data=cw;cw.SCHEMA=cw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]);let uw=class extends ry.Borsh.Data{constructor(e){super(e),this.key=wa.MetadataKey.MasterEditionV2}};Fc.MasterEditionV2Data=uw;uw.SCHEMA=uw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]);let QU=class ch extends ry.Account{constructor(e,t){if(super(e,t),!this.assertOwner(wa.MetadataProgram.PUBKEY))throw(0,ry.ERROR_INVALID_OWNER)();if(ch.isMasterEditionV1(this.info.data))this.data=cw.deserialize(this.info.data);else if(ch.isMasterEditionV2(this.info.data))this.data=uw.deserialize(this.info.data);else throw(0,ry.ERROR_INVALID_ACCOUNT_DATA)()}static getPDA(e){return dO(this,void 0,void 0,function*(){return wa.MetadataProgram.findProgramAddress([uv.Buffer.from(wa.MetadataProgram.PREFIX),wa.MetadataProgram.PUBKEY.toBuffer(),new Afe.PublicKey(e).toBuffer(),uv.Buffer.from(ch.EDITION_PREFIX)])})}static isCompatible(e){return ch.isMasterEditionV1(e)||ch.isMasterEditionV2(e)}static isMasterEditionV1(e){return e[0]===wa.MetadataKey.MasterEditionV1}static isMasterEditionV2(e){return e[0]===wa.MetadataKey.MasterEditionV2}getEditions(e){return dO(this,void 0,void 0,function*(){return(yield wa.MetadataProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:kfe.default.encode(uv.Buffer.from([wa.MetadataKey.EditionV1]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(t=>Sfe.Edition.from(t))})}};Fc.MasterEdition=QU;QU.EDITION_PREFIX="edition";var zS={};(function(n){var e=ce&&ce.__awaiter||function(S,w,_,R){function x(K){return K instanceof _?K:new _(function(J){J(K)})}return new(_||(_=Promise))(function(K,J){function M(X){try{ie(R.next(X))}catch(ne){J(ne)}}function Z(X){try{ie(R.throw(X))}catch(ne){J(ne)}}function ie(X){X.done?K(X.value):x(X.value).then(M,Z)}ie((R=R.apply(S,w||[])).next())})},t=ce&&ce.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.computeCreatorOffset=n.MAX_CREATOR_LEN=n.MAX_URI_LENGTH=n.MAX_SYMBOL_LENGTH=n.MAX_NAME_LENGTH=n.Metadata=n.MetadataData=n.MetadataDataData=n.Creator=void 0;const r=Ce,i=Ln,s=t(Ws),o=t(Fs),a=H,c=Wo,u=Jc,l=Fc;class d extends r.Borsh.Data{}n.Creator=d,d.SCHEMA=d.struct([["address","pubkeyAsString"],["verified","u8"],["share","u8"]]);class b extends r.Borsh.Data{constructor(w){super(w);const _=new RegExp("\0","g");this.name=w.name.replace(_,""),this.uri=w.uri.replace(_,""),this.symbol=w.symbol.replace(_,"")}}n.MetadataDataData=b,b.SCHEMA=new Map([...d.SCHEMA,...b.struct([["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[d]}]])]);class p extends r.Borsh.Data{constructor(w){super(w),this.key=c.MetadataKey.MetadataV1}}n.MetadataData=p,p.SCHEMA=new Map([...b.SCHEMA,...p.struct([["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",b],["primarySaleHappened","u8"],["isMutable","u8"]])]);class g extends r.Account{constructor(w,_){if(super(w,_),!this.assertOwner(c.MetadataProgram.PUBKEY))throw(0,r.ERROR_INVALID_OWNER)();if(!g.isCompatible(this.info.data))throw(0,r.ERROR_INVALID_ACCOUNT_DATA)();this.data=p.deserialize(this.info.data)}static isCompatible(w){return w[0]===c.MetadataKey.MetadataV1}static getPDA(w){return e(this,void 0,void 0,function*(){return c.MetadataProgram.findProgramAddress([a.Buffer.from(c.MetadataProgram.PREFIX),c.MetadataProgram.PUBKEY.toBuffer(),new i.PublicKey(w).toBuffer()])})}static findMany(w,_={}){return e(this,void 0,void 0,function*(){const R=[{memcmp:{offset:0,bytes:o.default.encode(a.Buffer.from([c.MetadataKey.MetadataV1]))}},_.updateAuthority&&{memcmp:{offset:1,bytes:new i.PublicKey(_.updateAuthority).toBase58()}},_.mint&&{memcmp:{offset:33,bytes:new i.PublicKey(_.mint).toBase58()}}].filter(Boolean);return _.creators?(yield Promise.all(Array.from(Array(r.config.maxCreatorLimit).keys()).reduce((x,K)=>[...x,..._.creators.map(J=>c.MetadataProgram.getProgramAccounts(w,{filters:[...R,{memcmp:{offset:(0,n.computeCreatorOffset)(K),bytes:new i.PublicKey(J).toBase58()}}]}))],[]))).flat().map(x=>g.from(x)):(yield c.MetadataProgram.getProgramAccounts(w,{filters:R})).map(x=>g.from(x))})}static findByOwner(w,_){return e(this,void 0,void 0,function*(){const R=yield r.TokenAccount.getTokenAccountsByOwner(w,_),x=new Map(R.map(({data:J})=>[J.mint.toString(),J]));return(yield g.findMany(w)).filter(J=>{var M,Z;return x.has(J.data.mint)&&(((Z=(M=x==null?void 0:x.get(J.data.mint))===null||M===void 0?void 0:M.amount)===null||Z===void 0?void 0:Z.toNumber())||0)>0})})}static findByOwnerV2(w,_){return e(this,void 0,void 0,function*(){const x=(yield r.TokenAccount.getTokenAccountsByOwner(w,_)).map(({data:K})=>K).filter(({amount:K})=>(K==null?void 0:K.toNumber())>0);return(yield Promise.all(x.map(({mint:K})=>g.findMany(w,{mint:K})))).flat()})}static findDataByOwner(w,_){return e(this,void 0,void 0,function*(){const x=(yield r.TokenAccount.getTokenAccountsByOwner(w,_)).reduce((M,{data:Z})=>{var ie;return!((ie=Z.amount)===null||ie===void 0)&&ie.eq(new s.default(1))?[...M,g.getPDA(Z.mint)]:M},[]),K=yield Promise.all(x),J=yield r.Account.getInfos(w,K);return Array.from(J.values()).map(M=>p.deserialize(M.data))})}static getEdition(w,_){return e(this,void 0,void 0,function*(){const R=yield u.Edition.getPDA(_),x=yield r.Account.getInfo(w,R);switch(x==null?void 0:x.data[0]){case c.MetadataKey.EditionV1:return new u.Edition(R,x);case c.MetadataKey.MasterEditionV1:case c.MetadataKey.MasterEditionV2:return new l.MasterEdition(R,x);default:return}})}}n.Metadata=g,n.MAX_NAME_LENGTH=32,n.MAX_SYMBOL_LENGTH=10,n.MAX_URI_LENGTH=200,n.MAX_CREATOR_LEN=34;const y=S=>69+n.MAX_NAME_LENGTH+4+n.MAX_URI_LENGTH+4+n.MAX_SYMBOL_LENGTH+2+1+4+S*n.MAX_CREATOR_LEN;n.computeCreatorOffset=y})(zS);var ZU={},Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.CreateMetadata=Nf.CreateMetadataArgs=void 0;const XU=Ce,lv=Ln,hO=zS,_fe=Wo;let lw=class extends XU.Borsh.Data{constructor(){super(...arguments),this.instruction=0}};Nf.CreateMetadataArgs=lw;lw.SCHEMA=new Map([...hO.MetadataDataData.SCHEMA,...lw.struct([["instruction","u8"],["data",hO.MetadataDataData],["isMutable","u8"]])]);let vfe=class extends XU.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,metadataData:s,updateAuthority:o,mint:a,mintAuthority:c}=t,u=lw.serialize({data:s,isMutable:!0});this.add(new lv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:lv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:lv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:_fe.MetadataProgram.PUBKEY,data:u}))}};Nf.CreateMetadata=vfe;var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.UpdateMetadata=$f.UpdateMetadataArgs=void 0;const eK=Ce,Efe=Ln,fO=zS,Ife=Wo;let dw=class extends eK.Borsh.Data{constructor(){super(...arguments),this.instruction=1}};$f.UpdateMetadataArgs=dw;dw.SCHEMA=new Map([...fO.MetadataDataData.SCHEMA,...dw.struct([["instruction","u8"],["data",{kind:"option",type:fO.MetadataDataData}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]])]);let Rfe=class extends eK.Transaction{constructor(e,t){super(e);const{metadata:r,metadataData:i,updateAuthority:s,newUpdateAuthority:o,primarySaleHappened:a}=t,c=dw.serialize({data:i,updateAuthority:o&&o.toString(),primarySaleHappened:a||null});this.add(new Efe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}],programId:Ife.MetadataProgram.PUBKEY,data:c}))}};$f.UpdateMetadata=Rfe;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.CreateMasterEdition=qf.CreateMasterEditionArgs=void 0;const tK=Ce,Pfe=Jn,dv=Ln,xfe=Wo;let hw=class extends tK.Borsh.Data{constructor(){super(...arguments),this.instruction=10}};qf.CreateMasterEditionArgs=hw;hw.SCHEMA=hw.struct([["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]);let Bfe=class extends tK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,mint:a,mintAuthority:c,maxSupply:u}=t,l=hw.serialize({maxSupply:u||null});this.add(new dv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Pfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:dv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:dv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:xfe.MetadataProgram.PUBKEY,data:l}))}};qf.CreateMasterEdition=Bfe;var zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.MintNewEditionFromMasterEditionViaToken=zf.MintNewEditionFromMasterEditionViaTokenArgs=void 0;const nK=Ce,Tfe=Jn,hv=Ln,Cfe=Wo;let fw=class extends nK.Borsh.Data{constructor(){super(...arguments),this.instruction=11}};zf.MintNewEditionFromMasterEditionViaTokenArgs=fw;fw.SCHEMA=fw.struct([["instruction","u8"],["edition","u64"]]);let Mfe=class extends nK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,masterEdition:a,masterMetadata:c,mint:u,editionMarker:l,mintAuthority:d,tokenOwner:b,tokenAccount:p,editionValue:g}=t,y=fw.serialize({edition:g});this.add(new hv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:Tfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:hv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:hv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Cfe.MetadataProgram.PUBKEY,data:y}))}};zf.MintNewEditionFromMasterEditionViaToken=Mfe;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.UpdatePrimarySaleHappenedViaToken=Df.UpdatePrimarySaleHappenedViaTokenArgs=void 0;const rK=Ce,Lfe=Ln,Ofe=Wo;let pw=class extends rK.Borsh.Data{constructor(){super(...arguments),this.instruction=4}};Df.UpdatePrimarySaleHappenedViaTokenArgs=pw;pw.SCHEMA=pw.struct([["instruction","u8"]]);let Nfe=class extends rK.Transaction{constructor(e,t){super(e);const{metadata:r,owner:i,tokenAccount:s}=t,o=pw.serialize();this.add(new Lfe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Ofe.MetadataProgram.PUBKEY,data:o}))}};Df.UpdatePrimarySaleHappenedViaToken=Nfe;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.SignMetadata=Uf.SignMetadataArgs=void 0;const iK=Ce,$fe=Ln,qfe=Wo;let gw=class extends iK.Borsh.Data{constructor(){super(...arguments),this.instruction=7}};Uf.SignMetadataArgs=gw;gw.SCHEMA=gw.struct([["instruction","u8"]]);let zfe=class extends iK.Transaction{constructor(e,t){super(e);const{metadata:r,creator:i}=t,s=gw.serialize();this.add(new $fe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:qfe.MetadataProgram.PUBKEY,data:s}))}};Uf.SignMetadata=zfe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Nf,n),t($f,n),t(qf,n),t(zf,n),t(Df,n),t(Uf,n)})(ZU);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Jc,n),t(Of,n),t(Fc,n),t(zS,n),t(Wo,n),t(ZU,n)})($d);(function(n){var e,t;Object.defineProperty(n,"__esModule",{value:!0}),n.RedeemBid=n.RedeemUnusedWinningConfigItemsAsAuctioneerArgs=n.ProxyCallAddress=n.RedeemBidArgs=void 0;const r=Ce,i=Jn,s=Ln,o=$d,a=eu,c=Xr;class u extends r.Borsh.Data{constructor(){super(...arguments),this.instruction=2}}n.RedeemBidArgs=u,e=u,u.SCHEMA=e.struct([["instruction","u8"]]);var l;(function(p){p[p.RedeemBid=0]="RedeemBid",p[p.RedeemFullRightsTransferBid=1]="RedeemFullRightsTransferBid"})(l=n.ProxyCallAddress||(n.ProxyCallAddress={}));class d extends r.Borsh.Data{constructor(){super(...arguments),this.instruction=12}}n.RedeemUnusedWinningConfigItemsAsAuctioneerArgs=d,t=d,d.SCHEMA=t.struct([["instruction","u8"],["winningConfigItemIndex","u8"],["proxyCall","u8"]]);class b extends r.Transaction{constructor(g,y){super(g);const{feePayer:S}=g,{store:w,vault:_,auction:R,auctionExtended:x,auctionManager:K,bidRedemption:J,bidderMeta:M,safetyDepositTokenStore:Z,destination:ie,safetyDeposit:X,fractionMint:ne,bidder:ae,isPrintingType:L,safetyDepositConfig:m,transferAuthority:v,masterEdition:B,reservationList:W,auctioneerReclaimIndex:C}=y,$=C?d.serialize({winningConfigItemIndex:C,proxyCall:l.RedeemBid}):u.serialize();this.add(new s.TransactionInstruction({keys:[{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:Z,isSigner:!1,isWritable:!0},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:X,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:ne,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:ae,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!0,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...L&&B&&W?[{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0}]:[]],programId:c.MetaplexProgram.PUBKEY,data:$}))}}n.RedeemBid=b})(jB);var Kf={},sK;Object.defineProperty(Kf,"__esModule",{value:!0});Kf.RedeemFullRightsTransferBid=Kf.RedeemFullRightsTransferBidArgs=void 0;const oK=Ce,Dfe=Jn,fv=Ln,Ufe=$d,Kfe=eu,Wfe=Xr,pO=jB;class DS extends oK.Borsh.Data{constructor(){super(...arguments),this.instruction=3}}Kf.RedeemFullRightsTransferBidArgs=DS;sK=DS;DS.SCHEMA=sK.struct([["instruction","u8"]]);class Ffe extends oK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionExtended:a,auctionManager:c,bidRedemption:u,bidMetadata:l,safetyDepositTokenStore:d,destination:b,safetyDeposit:p,fractionMint:g,bidder:y,safetyDepositConfig:S,transferAuthority:w,masterMetadata:_,newAuthority:R,auctioneerReclaimIndex:x}=t,K=x?pO.RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({winningConfigItemIndex:x,proxyCall:pO.ProxyCallAddress.RedeemFullRightsTransferBid}):DS.serialize();this.add(new fv.TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Dfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Kfe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ufe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:fv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:fv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}],programId:Wfe.MetaplexProgram.PUBKEY,data:K}))}}Kf.RedeemFullRightsTransferBid=Ffe;var Wf={},aK;Object.defineProperty(Wf,"__esModule",{value:!0});Wf.RedeemPrintingV2Bid=Wf.RedeemPrintingV2BidArgs=void 0;const cK=Ce,Vfe=eu,jfe=$d,Hfe=Jn,pv=Ln,Yfe=Xr;class US extends cK.Borsh.Data{constructor(){super(...arguments),this.instruction=14}}Wf.RedeemPrintingV2BidArgs=US;aK=US;US.SCHEMA=aK.struct([["instruction","u8"],["editionOffset","u64"],["winIndex","u64"]]);class Gfe extends cK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionExtended:a,auctionManager:c,bidRedemption:u,bidMetadata:l,safetyDepositTokenStore:d,destination:b,safetyDeposit:p,bidder:g,safetyDepositConfig:y,metadata:S,prizeTrackingTicket:w,newMetadata:_,newEdition:R,masterEdition:x,newMint:K,editionMark:J,winIndex:M,editionOffset:Z}=t,ie=US.serialize({winIndex:M,editionOffset:Z});this.add(new pv.TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:Hfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Vfe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:jfe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:pv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:pv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}],programId:Yfe.MetaplexProgram.PUBKEY,data:ie}))}}Wf.RedeemPrintingV2Bid=Gfe;var Ff={},uK;Object.defineProperty(Ff,"__esModule",{value:!0});Ff.SetStore=Ff.SetStoreArgs=void 0;const lK=Ce,Jfe=Jn,gv=Ln,Qfe=$d,Zfe=eu,Xfe=tu,epe=Xr;class KS extends lK.Borsh.Data{constructor(){super(...arguments),this.instruction=8}}Ff.SetStoreArgs=KS;uK=KS;KS.SCHEMA=uK.struct([["instruction","u8"],["public","u8"]]);class tpe extends lK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{admin:i,store:s,isPublic:o}=t,a=KS.serialize({public:o});this.add(new gv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Jfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Zfe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Qfe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Xfe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:gv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:gv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:epe.MetaplexProgram.PUBKEY,data:a}))}}Ff.SetStore=tpe;var Vf={},dK;Object.defineProperty(Vf,"__esModule",{value:!0});Vf.SetStoreV2=Vf.SetStoreV2Args=void 0;const npe=Jn,yv=Ln,hK=Ce,rpe=eu,ipe=$d,spe=tu,ope=Xr;class WS extends hK.Borsh.Data{constructor(){super(...arguments),this.instruction=23}}Vf.SetStoreV2Args=WS;dK=WS;WS.SCHEMA=dK.struct([["instruction","u8"],["public","u8"],["settingsUri",{kind:"option",type:"string"}]]);class ape extends hK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{admin:i,store:s,config:o,isPublic:a,settingsUri:c}=t,u=WS.serialize({public:a,settingsUri:c});this.add(new yv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:npe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:rpe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ipe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:spe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:yv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:yv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:ope.MetaplexProgram.PUBKEY,data:u}))}}Vf.SetStoreV2=ape;var jf={},fK;Object.defineProperty(jf,"__esModule",{value:!0});jf.SetWhitelistedCreator=jf.SetWhitelistedCreatorArgs=void 0;const pK=Ce,mv=Ln,cpe=Xr;class FS extends pK.Borsh.Data{constructor(){super(...arguments),this.instruction=9}}jf.SetWhitelistedCreatorArgs=FS;fK=FS;FS.SCHEMA=fK.struct([["instruction","u8"],["activated","u8"]]);class upe extends pK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{admin:i,whitelistedCreatorPDA:s,store:o,creator:a,activated:c}=t,u=FS.serialize({activated:c});this.add(new mv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:mv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:mv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:cpe.MetaplexProgram.PUBKEY,data:u}))}}jf.SetWhitelistedCreator=upe;var Hf={},gK;Object.defineProperty(Hf,"__esModule",{value:!0});Hf.StartAuction=Hf.StartAuctionArgs=void 0;const yK=Ce,gO=Ln,lpe=tu,dpe=Xr;class VS extends yK.Borsh.Data{constructor(){super(...arguments),this.instruction=5}}Hf.StartAuctionArgs=VS;gK=VS;VS.SCHEMA=gK.struct([["instruction","u8"]]);class hpe extends yK.Transaction{constructor(e,t){super(e);const{store:r,auction:i,auctionManager:s,auctionManagerAuthority:o}=t,a=VS.serialize();this.add(new gO.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:lpe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:gO.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:dpe.MetaplexProgram.PUBKEY,data:a}))}}Hf.StartAuction=hpe;var Yf={},mK;Object.defineProperty(Yf,"__esModule",{value:!0});Yf.RedeemParticipationBidV3=Yf.RedeemParticipationBidV3Args=void 0;const bK=Ce,fpe=$d,ppe=eu,gpe=Jn,bv=Ln,ype=Xr;class jS extends bK.Borsh.Data{constructor(){super(...arguments),this.instruction=19}}Yf.RedeemParticipationBidV3Args=jS;mK=jS;jS.SCHEMA=mK.struct([["instruction","u8"],["winIndex",{kind:"option",type:"u64"}]]);class mpe extends bK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionExtended:a,auctionManager:c,bidRedemption:u,bidMetadata:l,safetyDepositTokenStore:d,destination:b,safetyDeposit:p,bidder:g,safetyDepositConfig:y,metadata:S,prizeTrackingTicket:w,newMetadata:_,newEdition:R,masterEdition:x,newMint:K,editionMark:J,winIndex:M,transferAuthority:Z,acceptPaymentAccount:ie,tokenPaymentAccount:X}=t,ne=jS.serialize({winIndex:M});this.add(new bv.TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:gpe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:ppe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:fpe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:bv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:bv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Z,isSigner:!0,isWritable:!1},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:X,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}],programId:ype.MetaplexProgram.PUBKEY,data:ne}))}}Yf.RedeemParticipationBidV3=mpe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Cf,n),t(Mf,n),t(Lf,n),t(jB,n),t(Kf,n),t(Wf,n),t(Ff,n),t(Vf,n),t(jf,n),t(Hf,n),t(Yf,n)})(WU);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(bB,n),t(xB,n),t(Pf,n),t(xf,n),t(zU,n),t(Bf,n),t(Tf,n),t(fd,n),t(OS,n),t(Xr,n),t(WU,n)})(mB);const bpe=Do(mB),wpe=Sd({__proto__:null,default:bpe},[mB]);var YB={},wv={},qd={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.TokenStandard=n.UseMethod=n.MetadataKey=void 0,function(e){e[e.Uninitialized=0]="Uninitialized",e[e.MetadataV1=4]="MetadataV1",e[e.EditionV1=1]="EditionV1",e[e.MasterEditionV1=2]="MasterEditionV1",e[e.MasterEditionV2=6]="MasterEditionV2",e[e.EditionMarker=7]="EditionMarker",e[e.UseAuthorityRecord=8]="UseAuthorityRecord",e[e.CollectionAuthorityRecord=9]="CollectionAuthorityRecord"}(n.MetadataKey||(n.MetadataKey={})),function(e){e[e.Burn=0]="Burn",e[e.Single=1]="Single",e[e.Multiple=2]="Multiple"}(n.UseMethod||(n.UseMethod={})),function(e){e[e.NonFungible=0]="NonFungible",e[e.FungibleAsset=1]="FungibleAsset",e[e.Fungible=2]="Fungible",e[e.NonFungibleEdition=3]="NonFungibleEdition"}(n.TokenStandard||(n.TokenStandard={}))})(qd);var kv={},$i={},kpe=ce&&ce.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Spe=ce&&ce.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),hc=ce&&ce.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ape=ce&&ce.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&kpe(e,n,t);return Spe(e,n),e},wK=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($i,"__esModule",{value:!0});var kK=$i.deserializeUnchecked=IK=$i.deserialize=EK=$i.serialize=$i.BinaryReader=$i.BinaryWriter=$i.BorshError=$i.baseDecode=$i.baseEncode=void 0;const vu=wK(Ws),SK=wK(Fs),_pe=Ape(d8),vpe=typeof TextDecoder!="function"?_pe.TextDecoder:TextDecoder,Epe=new vpe("utf-8",{fatal:!0});function Ipe(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),SK.default.encode(Buffer.from(n))}$i.baseEncode=Ipe;function Rpe(n){return Buffer.from(SK.default.decode(n))}$i.baseDecode=Rpe;const Sv=1024;class ls extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}$i.BorshError=ls;class AK{constructor(){this.buf=Buffer.alloc(Sv),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Sv)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Sv)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}$i.BinaryWriter=AK;function fc(n,e,t){const r=t.value;t.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ls("Reached the end of buffer when deserializing")}throw s}}}class bo{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new vu.default(e,"le")}readU128(){const e=this.readBuffer(16);return new vu.default(e,"le")}readU256(){const e=this.readBuffer(32);return new vu.default(e,"le")}readU512(){const e=this.readBuffer(64);return new vu.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ls(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return Epe.decode(t)}catch(r){throw new ls(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let i=0;i<t;++i)r.push(e());return r}}hc([fc],bo.prototype,"readU8",null);hc([fc],bo.prototype,"readU16",null);hc([fc],bo.prototype,"readU32",null);hc([fc],bo.prototype,"readU64",null);hc([fc],bo.prototype,"readU128",null);hc([fc],bo.prototype,"readU256",null);hc([fc],bo.prototype,"readU512",null);hc([fc],bo.prototype,"readString",null);hc([fc],bo.prototype,"readFixedArray",null);hc([fc],bo.prototype,"readArray",null);$i.BinaryReader=bo;function _K(n){return n.charAt(0).toUpperCase()+n.slice(1)}function El(n,e,t,r,i){try{if(typeof r=="string")i[`write${_K(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new ls(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new ls(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let s=0;s<r[1];s++)El(n,null,t[s],r[0],i)}else i.writeArray(t,s=>{El(n,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),El(n,e,t,r.type,i));break}case"map":{i.writeU32(t.size),t.forEach((s,o)=>{El(n,e,o,r.key,i),El(n,e,s,r.value,i)});break}default:throw new ls(`FieldType ${r} unrecognized`)}else vK(n,t,i)}catch(s){throw s instanceof ls&&s.addToFieldPath(e),s}}function vK(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new ls(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{El(n,i,e[i],s,t)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){t.writeU8(s),El(n,o,e[o],a,t);break}}}else throw new ls(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Ppe(n,e,t=AK){const r=new t;return vK(n,e,r),r.toArray()}var EK=$i.serialize=Ppe;function Il(n,e,t,r){try{if(typeof t=="string")return r[`read${_K(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let s=0;s<t[1];s++)i.push(Il(n,null,t[0],r));return i}else return r.readArray(()=>Il(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?Il(n,e,t.type,r):void 0;if(t.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Il(n,e,t.key,r),c=Il(n,e,t.value,r);i.set(a,c)}return i}return GB(n,t,r)}catch(i){throw i instanceof ls&&i.addToFieldPath(e),i}}function GB(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new ls(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of n.get(e).fields)i[s]=Il(n,s,o,t);return new e(i)}if(r.kind==="enum"){const i=t.readU8();if(i>=r.values.length)throw new ls(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Il(n,s,o,t);return new e({[s]:a})}throw new ls(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function xpe(n,e,t,r=bo){const i=new r(t),s=GB(n,e,i);if(i.offset<t.length)throw new ls(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return s}var IK=$i.deserialize=xpe;function Bpe(n,e,t,r=bo){const i=new r(t);return GB(n,e,i)}kK=$i.deserializeUnchecked=Bpe;var RK={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.createError=Gf.DefaultDataPack=void 0;const Tpe=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class Cpe{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}}Gf.DefaultDataPack=Cpe;function Mpe(n,e){const t={code:n,message:Tpe.get(n)||"Internal Server Error"};return e&&(t.data=e),t}Gf.createError=Mpe;Object.defineProperty(RK,"__esModule",{value:!0});const Lpe=Ko,Ope=Gf;class Npe extends Lpe.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Ope.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}}var $pe=RK.default=Npe,PK={};Object.defineProperty(PK,"__esModule",{value:!0});const qpe=Ko;class zpe extends qpe.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}}function Dpe(n,e){return new zpe(n,e)}var Upe=PK.default=Dpe;const Kpe=sn.utils.randomPrivateKey,yO=()=>{const n=sn.utils.randomPrivateKey(),e=yw(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},yw=sn.getPublicKey;function mO(n){try{return sn.ExtendedPoint.fromHex(n),!0}catch{return!1}}const JB=(n,e)=>sn.sign(n,e.slice(0,32)),Wpe=sn.verify,jt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let QB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(EK(iy,this))}static decode(e){return IK(iy,this,e)}static decodeUnchecked(e){return kK(iy,this,e)}};class Fpe extends QB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const iy=new Map;var xK;const BK=32,tc=32;function Vpe(n){return n._bn!==void 0}let bO=1;class ze extends QB{constructor(e){if(super({}),this._bn=void 0,Vpe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=tc)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>tc)throw new Error("Invalid public key input")}}static unique(){const e=new ze(bO);return bO+=1,new ze(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===tc)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=fo(i);return new ze(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>BK)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,jt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=fo(r);if(mO(i))throw new Error("Invalid seeds, address must fall off the curve");return new ze(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ze(e);return mO(t.toBytes())}}xK=ze;ze.default=new xK("11111111111111111111111111111111");iy.set(ze,{kind:"struct",fields:[["_bn","u256"]]});class jpe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=jt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=jt(Kpe()),this._publicKey=jt(yw(this._secretKey))}get publicKey(){return new ze(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}}const Hpe=new ze("BPFLoader1111111111111111111111111111111111"),Uu=1232,HS=127,rm=64;class ZB extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ZB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class XB extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(XB.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Th extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Th.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class im{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Xt=(n="publicKey")=>pe(32,n),Ype=(n="signature")=>pe(64,n),Dl=(n="string")=>{const e=U([D("length"),D("lengthPadding"),pe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},Gpe=(n="authorized")=>U([Xt("staker"),Xt("withdrawer")],n),Jpe=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Xt("custodian")],n),Qpe=(n="voteInit")=>U([Xt("nodePubkey"),Xt("authorizedVoter"),Xt("authorizedWithdrawer"),oe("commission")],n),Zpe=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Xt("currentAuthorityDerivedKeyOwnerPubkey"),Dl("currentAuthorityDerivedKeySeed"),Xt("newAuthorized")],n);function TK(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return TK({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function xs(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function so(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function In(n,e){if(!n)throw new Error(e||"Assertion failed")}class YS{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new YS(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];In(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{In(t.length>0,"Expected at least one writable signer key");const[c]=t[0];In(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ze(c)),...r.map(([c])=>new ze(c)),...i.map(([c])=>new ze(c)),...s.map(([c])=>new ze(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new ze(s),c=e.findIndex(u=>u.equals(a));c>=0&&(In(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const CK="Reached end of buffer unexpectedly";function Fa(n){if(n.length===0)throw new Error(CK);return n.shift()}function Bs(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(CK);return n.splice(...e)}class ua{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ze(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new im(this.staticAccountKeys)}static compile(e){const t=YS.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new im(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new ua({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];so(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];so(y,b.length);let S=[];return so(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];so(i,r.length);let s=H.Buffer.alloc(Uu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([oe("programIdIndex"),pe(d.keyIndicesCount.length,"keyIndicesCount"),Te(oe("keyIndex"),d.keyIndices.length,"keyIndices"),pe(d.dataLength.length,"dataLength"),Te(oe("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([pe(1,"numRequiredSignatures"),pe(1,"numReadonlySignedAccounts"),pe(1,"numReadonlyUnsignedAccounts"),pe(t.length,"keyCount"),Te(Xt("key"),e,"keys"),Xt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>jt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Fa(t);if(r!==(r&HS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Fa(t),s=Fa(t),o=xs(t);let a=[];for(let b=0;b<o;b++){const p=Bs(t,0,tc);a.push(new ze(H.Buffer.from(p)))}const c=Bs(t,0,tc),u=xs(t);let l=[];for(let b=0;b<u;b++){const p=Fa(t),g=xs(t),y=Bs(t,0,g),S=xs(t),w=Bs(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new ua(d)}}class pd{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new im(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=YS.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new im(a,i).compileInstructions(e.instructions);return new pd({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();so(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();so(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();so(s,this.addressTableLookups.length);const o=U([oe("prefix"),U([oe("numRequiredSignatures"),oe("numReadonlySignedAccounts"),oe("numReadonlyUnsignedAccounts")],"header"),pe(e.length,"staticAccountKeysLength"),Te(Xt(),this.staticAccountKeys.length,"staticAccountKeys"),Xt("recentBlockhash"),pe(r.length,"instructionsLength"),pe(t.length,"serializedInstructions"),pe(s.length,"addressTableLookupsLength"),pe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Uu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Uu);for(const r of this.compiledInstructions){const i=Array();so(i,r.accountKeyIndexes.length);const s=Array();so(s,r.data.length);const o=U([oe("programIdIndex"),pe(i.length,"encodedAccountKeyIndexesLength"),Te(oe(),r.accountKeyIndexes.length,"accountKeyIndexes"),pe(s.length,"encodedDataLength"),pe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Uu);for(const r of this.addressTableLookups){const i=Array();so(i,r.writableIndexes.length);const s=Array();so(s,r.readonlyIndexes.length);const o=U([Xt("accountKey"),pe(i.length,"encodedWritableIndexesLength"),Te(oe(),r.writableIndexes.length,"writableIndexes"),pe(s.length,"encodedReadonlyIndexesLength"),Te(oe(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Fa(t),i=r&HS;In(r!==i,"Expected versioned message but received legacy message");const s=i;In(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Fa(t),numReadonlySignedAccounts:Fa(t),numReadonlyUnsignedAccounts:Fa(t)},a=[],c=xs(t);for(let g=0;g<c;g++)a.push(new ze(Bs(t,0,tc)));const u=Pe.encode(Bs(t,0,tc)),l=xs(t),d=[];for(let g=0;g<l;g++){const y=Fa(t),S=xs(t),w=Bs(t,0,S),_=xs(t),R=new Uint8Array(Bs(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=xs(t),p=[];for(let g=0;g<b;g++){const y=new ze(Bs(t,0,tc)),S=xs(t),w=Bs(t,0,S),_=xs(t),R=Bs(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new pd({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}}const eT={deserializeMessageVersion(n){const e=n[0],t=e&HS;return t===e?"legacy":t},deserialize:n=>{const e=eT.deserializeMessageVersion(n);if(e==="legacy")return ua.from(n);if(e===0)return pd.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ec=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Xpe=H.Buffer.alloc(rm).fill(0);class ur{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Mn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ur(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new ze(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{In(y.programIdIndex>=0),y.accounts.forEach(S=>In(S>=0))}),new ua({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=JB(r,i.secretKey);this._addSignature(i.publicKey,jt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){In(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Wpe(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];so(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return In(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(In(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),In(s.length<=Uu,`Transaction too large: ${s.length} > ${Uu}`),s}get keys(){return In(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return In(this.instructions.length===1),this.instructions[0].programId}get data(){return In(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=xs(t);let i=[];for(let s=0;s<r;s++){const o=Bs(t,0,rm);i.push(Pe.encode(H.Buffer.from(o)))}return Mn.populate(ua.from(t),i)}static populate(e,t=[]){const r=new Mn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(Xpe)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ur({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class tT{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;In(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;In(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new ur({programId:S,data:jt(g.data),keys:y}))}return new tT({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return ua.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return pd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class nT{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)In(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(rm));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();so(t,this.signatures.length);const r=U([pe(t.length,"encodedSignaturesLength"),Te(Ype(),this.signatures.length,"signatures"),pe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=xs(t);for(let o=0;o<i;o++)r.push(new Uint8Array(Bs(t,0,rm)));const s=eT.deserialize(new Uint8Array(t));return new nT(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));In(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=JB(t,i.secretKey)}}addSignature(e,t){In(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));In(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const ege=160,tge=64,nge=ege/tge,MK=1e3/nge,Ea=new ze("SysvarC1ock11111111111111111111111111111111"),rge=new ze("SysvarEpochSchedu1e111111111111111111111111"),ige=new ze("Sysvar1nstructions1111111111111111111111111"),Y1=new ze("SysvarRecentB1ockHashes11111111111111111111"),Jf=new ze("SysvarRent111111111111111111111111111111111"),sge=new ze("SysvarRewards111111111111111111111111111111"),oge=new ze("SysvarS1otHashes111111111111111111111111111"),age=new ze("SysvarS1otHistory11111111111111111111111111"),G1=new ze("SysvarStakeHistory1111111111111111111111111");class sm extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const cge={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class gt extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function CR(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new sm({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Rl(n){return new Promise(e=>setTimeout(e,n))}function pn(n,e){const t=n.layout.span>=0?n.layout.span:TK(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Kn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const LK=Be("lamportsPerSignature"),OK=U([D("version"),D("state"),Xt("authorizedPubkey"),Xt("nonce"),U([LK],"feeCalculator")]),MR=OK.span;class GS{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=OK.decode(jt(e),0);return new GS({authorizedPubkey:new ze(t.authorizedPubkey),nonce:new ze(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const uge=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},lge=n=>e=>{const t=pe(n,e),{encode:r,decode:i}=uge(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Uo(o,n);return r(u,a,c)},s},Qf=lge(8);class dge{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(mr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Kn(mr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ze(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Kn(mr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Kn(mr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ze(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Kn(mr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Kn(mr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ze(t),seed:r,space:i,programId:new ze(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Kn(mr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ze(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Kn(mr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ze(t),seed:r,programId:new ze(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=Kn(mr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ze(t),seed:r,lamports:i,space:s,programId:new ze(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Kn(mr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ze(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(mr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Kn(mr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Kn(mr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ze(t)}}static checkProgramId(e){if(!e.equals(Ti.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const mr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Xt("programId")])},Assign:{index:1,layout:U([D("instruction"),Xt("programId")])},Transfer:{index:2,layout:U([D("instruction"),Qf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Xt("base"),Dl("seed"),Je("lamports"),Je("space"),Xt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Xt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Xt("base"),Dl("seed"),Je("space"),Xt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Xt("base"),Dl("seed"),Xt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),Qf("lamports"),Dl("seed"),Xt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});class Ti{constructor(){}static createAccount(e){const t=mr.Create,r=pn(t,{lamports:e.lamports,space:e.space,programId:jt(e.programId.toBuffer())});return new ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=mr.TransferWithSeed;t=pn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=mr.Transfer;t=pn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=mr.AssignWithSeed;t=pn(i,{base:jt(e.basePubkey.toBuffer()),seed:e.seed,programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=mr.Assign;t=pn(i,{programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=mr.CreateWithSeed,r=pn(t,{base:jt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:jt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ur({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Mn;"basePubkey"in e&&"seed"in e?t.add(Ti.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:MR,programId:this.programId})):t.add(Ti.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:MR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=mr.InitializeNonceAccount,r=pn(t,{authorized:jt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Y1,isSigner:!1,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ur(i)}static nonceAdvance(e){const t=mr.AdvanceNonceAccount,r=pn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Y1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ur(i)}static nonceWithdraw(e){const t=mr.WithdrawNonceAccount,r=pn(t,{lamports:e.lamports});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Y1,isSigner:!1,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=mr.AuthorizeNonceAccount,r=pn(t,{authorized:jt(e.newAuthorizedPubkey.toBuffer())});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=mr.AllocateWithSeed;t=pn(i,{base:jt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=mr.Allocate;t=pn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}}Ti.programId=new ze("11111111111111111111111111111111");const hge=Uu-300;class gd{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/gd.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new Mn,p.add(Ti.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new Mn,p.add(Ti.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new Mn,p.add(Ti.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new Mn().add(Ti.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await CR(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(oe("byte"),Rt(D(),-8),"bytes")]),a=gd.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new Mn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(CR(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Rl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new Mn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(MK/2)))}}return!0}}gd.chunkSize=hge;const fge=new ze("BPFLoader2111111111111111111111111111111111");class pge{static getMinNumSignatures(e){return gd.getMinNumSignatures(e)}static load(e,t,r,i,s){return gd.load(e,t,r,s,i)}}function gge(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yge=Object.prototype.toString,mge=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Og(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Og(n.toJSON(),e);if(c=yge.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Og(n[t],!0)+",";return r>-1&&(i+=Og(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=mge(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Og(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var bge=function(n){var e=Og(n,!1);if(e!==void 0)return""+e},wO=gge(bge);const wg=32;function Av(n){let e=0;for(;n>1;)n/=2,e++;return e}function wge(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class NK{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Av(wge(e+wg+1))-Av(wg)-1,r=this.getSlotsInEpoch(t),i=e-(r-wg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*wg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Av(wg)):this.slotsPerEpoch}}var kge=globalThis.fetch;class Sge extends $pe{constructor(e,t,r){const i=s=>{const o=Upe(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Age(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const kO=56;class LR{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Age(_ge,e),r=e.length-kO;In(r>=0,"lookup table is invalid"),In(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Xt(),i,"addresses")]).decode(e.slice(kO));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ze(t.authority[0]):void 0,addresses:s.map(o=>new ze(o))}}}const _ge={index:1,layout:U([D("typeIndex"),Qf("deactivationSlot"),Be("lastExtendedSlot"),oe("lastExtendedStartIndex"),oe(),Te(Xt(),Rt(oe(),-1),"authority")])},vge=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Ege(n){const e=n.match(vge);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const pi=_r(gs(ze),O(),n=>new ze(n)),$K=ys([O(),_e("base64")]),rT=_r(gs(H.Buffer),$K,n=>H.Buffer.from(n[0],"base64")),qK=30*1e3;function Ige(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Tr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function zK(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:te(qm())})})])}const Rge=zK(Ar());function Dt(n){return _r(zK(n),Rge,e=>"error"in e?e:{...e,result:q(e.result,n)})}function Qr(n){return Dt(P({context:P({slot:k()}),value:n}))}function JS(n){return P({context:P({slot:k()}),value:n})}function _v(n,e){return n===0?new pd({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ze(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new ua(e)}const Pge=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),xge=Dt(V(F(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:te(F(k()))})))),Bge=V(P({slot:k(),prioritizationFee:k()})),Tge=P({total:k(),validator:k(),foundation:k(),epoch:k()}),Cge=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:te(k()),transactionCount:te(k())}),Mge=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),Lge=lc(O(),V(k())),zd=F(tt([P({}),O()])),Oge=P({err:zd}),Nge=_e("receivedSignature"),$ge=P({"solana-core":O(),"feature-set":te(k())}),SO=Qr(P({err:F(tt([P({}),O()])),logs:F(V(O())),accounts:te(F(V(F(P({executable:St(),owner:O(),lamports:k(),data:V(O()),rentEpoch:te(k())}))))),unitsConsumed:te(k()),returnData:te(F(P({programId:O(),data:ys([O(),_e("base64")])})))})),qge=Qr(P({byIdentity:lc(O(),V(k())),range:P({firstSlot:k(),lastSlot:k()})}));function zge(n,e,t,r,i,s){const o=t||kge;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Dye)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await Rl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Dge(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function Uge(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const Kge=Dt(Pge),Wge=Dt(Tge),Fge=Dt(Bge),Vge=Dt(Cge),jge=Dt(Mge),Hge=Dt(Lge),Yge=Dt(k()),Gge=Qr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:V(pi)})),OR=P({amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}),Jge=Qr(V(P({address:pi,amount:O(),uiAmount:F(k()),decimals:k(),uiAmountString:te(O())}))),Qge=Qr(V(P({pubkey:pi,account:P({executable:St(),owner:pi,lamports:k(),data:rT,rentEpoch:k()})}))),NR=P({program:O(),parsed:Ar(),space:k()}),Zge=Qr(V(P({pubkey:pi,account:P({executable:St(),owner:pi,lamports:k(),data:NR,rentEpoch:k()})}))),Xge=Qr(V(P({lamports:k(),address:pi}))),om=P({executable:St(),owner:pi,lamports:k(),data:rT,rentEpoch:k()}),eye=P({pubkey:pi,account:om}),tye=_r(tt([gs(H.Buffer),NR]),tt([$K,NR]),n=>Array.isArray(n)?q(n,rT):n),$R=P({executable:St(),owner:pi,lamports:k(),data:tye,rentEpoch:k()}),nye=P({pubkey:pi,account:$R}),rye=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),iye=Dt(V(P({signature:O(),slot:k(),err:zd,memo:F(O()),blockTime:te(F(k()))}))),sye=Dt(V(P({signature:O(),slot:k(),err:zd,memo:F(O()),blockTime:te(F(k()))}))),oye=P({subscription:k(),result:JS(om)}),aye=P({pubkey:pi,account:om}),cye=P({subscription:k(),result:JS(aye)}),uye=P({parent:k(),slot:k(),root:k()}),lye=P({subscription:k(),result:uye}),dye=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),hye=P({subscription:k(),result:dye}),fye=P({subscription:k(),result:JS(tt([Oge,Nge]))}),pye=P({subscription:k(),result:k()}),gye=P({pubkey:O(),gossip:F(O()),tpu:F(O()),rpc:F(O()),version:F(O())}),AO=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:V(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:F(k())}),yye=Dt(P({current:V(AO),delinquent:V(AO)})),mye=tt([_e("processed"),_e("confirmed"),_e("finalized")]),bye=P({slot:k(),confirmations:F(k()),err:zd,confirmationStatus:te(mye)}),wye=Qr(V(F(bye))),kye=Dt(k()),DK=P({accountKey:pi,writableIndexes:V(k()),readonlyIndexes:V(k())}),iT=P({signatures:V(O()),message:P({accountKeys:V(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:te(V(DK))})}),UK=P({pubkey:pi,signer:St(),writable:St(),source:te(tt([_e("transaction"),_e("lookupTable")]))}),KK=P({accountKeys:V(UK),signatures:V(O())}),WK=P({parsed:Ar(),program:O(),programId:pi}),FK=P({accounts:V(pi),data:O(),programId:pi}),Sye=tt([FK,WK]),Aye=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:V(O()),data:O(),programId:O()})]),VK=_r(Sye,Aye,n=>"accounts"in n?q(n,FK):q(n,WK)),jK=P({signatures:V(O()),message:P({accountKeys:V(UK),instructions:V(VK),recentBlockhash:O(),addressTableLookups:te(F(V(DK)))})}),mw=P({accountIndex:k(),mint:O(),owner:te(O()),uiTokenAmount:OR}),HK=P({writable:V(pi),readonly:V(pi)}),QS=P({err:zd,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(P({accounts:V(k()),data:O(),programIdIndex:k()}))})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(mw))),postTokenBalances:te(F(V(mw))),loadedAddresses:te(HK),computeUnitsConsumed:te(k())}),sT=P({err:zd,fee:k(),innerInstructions:te(F(V(P({index:k(),instructions:V(VK)})))),preBalances:V(k()),postBalances:V(k()),logMessages:te(F(V(O()))),preTokenBalances:te(F(V(mw))),postTokenBalances:te(F(V(mw))),loadedAddresses:te(HK),computeUnitsConsumed:te(k())}),zp=tt([_e(0),_e("legacy")]),Dd=P({pubkey:O(),lamports:k(),postBalance:F(k()),rewardType:F(O()),commission:te(F(k()))}),_ye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:iT,meta:F(QS),version:te(zp)})),rewards:te(V(Dd)),blockTime:F(k()),blockHeight:F(k())}))),vye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Dd)),blockTime:F(k()),blockHeight:F(k())}))),Eye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:KK,meta:F(QS),version:te(zp)})),rewards:te(V(Dd)),blockTime:F(k()),blockHeight:F(k())}))),Iye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:jK,meta:F(sT),version:te(zp)})),rewards:te(V(Dd)),blockTime:F(k()),blockHeight:F(k())}))),Rye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:KK,meta:F(sT),version:te(zp)})),rewards:te(V(Dd)),blockTime:F(k()),blockHeight:F(k())}))),Pye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:te(V(Dd)),blockTime:F(k()),blockHeight:F(k())}))),xye=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:V(P({transaction:iT,meta:F(QS)})),rewards:te(V(Dd)),blockTime:F(k())}))),_O=Dt(F(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:V(O()),blockTime:F(k())}))),vv=Dt(F(P({slot:k(),meta:F(QS),blockTime:te(F(k())),transaction:iT,version:te(zp)}))),$b=Dt(F(P({slot:k(),transaction:jK,meta:F(sT),blockTime:te(F(k())),version:te(zp)}))),Bye=Qr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),Tye=Qr(P({blockhash:O(),lastValidBlockHeight:k()})),Cye=Qr(St()),Mye=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),Lye=Dt(V(Mye)),Oye=Qr(F(P({feeCalculator:P({lamportsPerSignature:k()})}))),Nye=Dt(O()),$ye=Dt(O()),qye=P({err:zd,logs:V(O()),signature:O()}),zye=P({result:JS(qye),subscription:k()}),Dye={"solana-client":"js/0.0.0-development"};class Uye{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Tr(l),p=this._buildArgs([],d,void 0,b),g=wO(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=q(y,Dt(k()));if("error"in S)throw new gt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Ige(e),this._rpcWsEndpoint=r||Ege(e),this._rpcClient=zge(e,i,s,o,a,c),this._rpcRequest=Dge(this._rpcClient),this._rpcBatchRequest=Uge(this._rpcClient),this._rpcWebSocket=new Sge(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=q(o,Qr(k()));if("error"in a)throw new gt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=q(t,Dt(F(k())));if("error"in r)throw new gt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=q(e,Dt(k()));if("error"in t)throw new gt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=q(e,Yge);if("error"in t)throw new gt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=q(r,Gge);if("error"in i)throw new gt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=q(i,Qr(OR));if("error"in s)throw new gt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=q(i,Qr(OR));if("error"in s)throw new gt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Tr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=q(c,Qge);if("error"in u)throw new gt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=q(o,Zge);if("error"in a)throw new gt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=q(i,Xge);if("error"in s)throw new gt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=q(i,Jge);if("error"in s)throw new gt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Qr(F(om)));if("error"in a)throw new gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=q(o,Qr(F($R)));if("error"in a)throw new gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Qr(V(F($R))));if("error"in c)throw new gt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=q(a,Qr(V(F(om))));if("error"in c)throw new gt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Tr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=q(a,Dt(rye));if("error"in c)throw new gt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Tr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=V(eye),l=o.withContext===!0?q(c,Qr(u)):q(c,Dt(u));if("error"in l)throw new gt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=q(o,Dt(V(nye)));if("error"in a)throw new gt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return In(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:Ec.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Ec.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await Rl(1e3),s||(p=await b(),s))return;d({__type:Ec.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ec.PROCESSED)l=d.response;else throw new ZB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:Ec.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Rl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===Ec.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Rl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Th(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Th(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Th(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Th(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ec.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===Ec.PROCESSED)a=c.response;else throw new XB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=q(e,Dt(V(gye)));if("error"in t)throw new gt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=q(r,yye);if("error"in i)throw new gt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=q(s,Dt(k()));if("error"in o)throw new gt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=q(s,Dt(O()));if("error"in o)throw new gt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=q(i,Dt(V(pi)));if("error"in s)throw new gt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);In(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=q(i,wye);if("error"in s)throw new gt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=q(s,Dt(k()));if("error"in o)throw new gt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=q(r,Kge);if("error"in i)throw new gt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Tr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=q(a,xge);if("error"in c)throw new gt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=q(e,Wge);if("error"in t)throw new gt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=q(s,Vge);if("error"in o)throw new gt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=q(e,jge);if("error"in t)throw new gt(t.error,"failed to get epoch schedule");const r=t.result;return new NK(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=q(e,Hge);if("error"in t)throw new gt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=q(i,kye);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=q(r,Bye);if("error"in i)throw new gt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=q(t,Lye);if("error"in r)throw new gt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=q(i,Oye);if("error"in s)throw new gt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=jt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=q(s,Qr(F(k())));if("error"in o)throw new gt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=q(i,Fge);if("error"in s)throw new gt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=q(s,Tye);if("error"in o)throw new gt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=q(o,Cye);if("error"in a)throw new gt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=q(e,Dt($ge));if("error"in t)throw new gt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=q(e,Dt(O()));if("error"in t)throw new gt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,Eye);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,vye);if("error"in a)throw a.error;return a.result}default:{const a=q(o,_ye);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:_v(d,u.message)},version:d}))}:null}}}catch(a){throw new gt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=q(o,Rye);if("error"in a)throw a.error;return a.result}case"none":{const a=q(o,Pye);if("error"in a)throw a.error;return a.result}default:{const a=q(o,Iye);if("error"in a)throw a.error;return a.result}}}catch(a){throw new gt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=q(s,qge);if("error"in o)throw new gt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=q(o,vv);if("error"in a)throw new gt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:_v(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=q(o,$b);if("error"in a)throw new gt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,$b);if("error"in u)throw new gt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=q(c,vv);if("error"in u)throw new gt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:_v(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,xye);if("error"in s)throw new gt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new ua(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Mn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=q(s,Dt(V(k())));if("error"in o)throw new gt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=q(i,_O);if("error"in s)throw new gt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=q(i,_O);if("error"in s)throw new gt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,vv);if("error"in s)throw new gt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ua(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Mn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=q(i,$b);if("error"in s)throw new gt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=q(o,$b);if("error"in a)throw new gt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=q(s,iye);if("error"in o)throw new gt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=q(s,sye);if("error"in o)throw new gt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new LR({key:e,state:LR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=GS.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=q(r,Nye);if("error"in i)throw new gt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Rl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=qK;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Rl(MK/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=q(s,Qr(k()));if("error"in o)throw new gt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=q(R,SO);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof Mn){let g=e;i=new Mn,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=Mn.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=q(b,SO);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new sm({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=jt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=q(a,$ye);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new sm({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=q(e,oye);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=wO([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];In(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=q(e,cye);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=q(e,zye);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=q(e,lye);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=q(e,hye);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=q(e,fye);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=q(e,pye);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Dh{constructor(e){this._keypair=void 0,this._keypair=e??yO()}static generate(){return new Dh(yO())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=yw(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Dh({publicKey:r,secretKey:e})}static fromSeed(e){const t=yw(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Dh({publicKey:t,secretKey:r})}get publicKey(){return new ze(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $c=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),Qf("recentSlot"),oe("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),Qf(),Te(Xt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});class Kye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries($c))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Kn($c.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Kn($c.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ze(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(oT.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class oT{constructor(){}static createLookupTable(e){const[t,r]=ze.findProgramAddressSync([e.authority.toBuffer(),Uo(BigInt(e.recentSlot),8)],this.programId),i=$c.CreateLookupTable,s=pn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ti.programId,isSigner:!1,isWritable:!1}];return[new ur({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=$c.FreezeLookupTable,r=pn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=$c.ExtendLookupTable,r=pn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ti.programId,isSigner:!1,isWritable:!1}),new ur({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=$c.DeactivateLookupTable,r=pn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=$c.CloseLookupTable,r=pn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ur({programId:this.programId,keys:i,data:r})}}oT.programId=new ze("AddressLookupTab1e1111111111111111111111111");class Wye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=oe("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Va))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Kn(Va.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Kn(Va.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Kn(Va.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Kn(Va.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(aT.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Va=Object.freeze({RequestUnits:{index:0,layout:U([oe("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([oe("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([oe("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([oe("instruction"),Qf("microLamports")])}});class aT{constructor(){}static requestUnits(e){const t=Va.RequestUnits,r=pn(t,e);return new ur({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Va.RequestHeapFrame,r=pn(t,e);return new ur({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Va.SetComputeUnitLimit,r=pn(t,e);return new ur({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Va.SetComputeUnitPrice,r=pn(t,{microLamports:BigInt(e.microLamports)});return new ur({keys:[],programId:this.programId,data:r})}}aT.programId=new ze("ComputeBudget111111111111111111111111111111");const vO=64,EO=32,IO=64,RO=U([oe("numSignatures"),oe("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);class ZS{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;In(t.length===EO,`Public Key must be ${EO} bytes but received ${t.length} bytes`),In(i.length===IO,`Signature must be ${IO} bytes but received ${i.length} bytes`);const o=RO.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return RO.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new ur({keys:[],programId:ZS.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;In(t.length===vO,`Private key must be ${vO} bytes but received ${t.length} bytes`);try{const s=Dh.fromSecretKey(t),o=s.publicKey.toBytes(),a=JB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}ZS.programId=new ze("Ed25519SigVerify111111111111111111111111111");const Fye=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const Vye=ki.getPublicKey,PO=32,Ev=20,xO=64,jye=11,Iv=U([oe("numSignatures"),ot("signatureOffset"),oe("signatureInstructionIndex"),ot("ethAddressOffset"),oe("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),oe("messageInstructionIndex"),pe(20,"ethAddress"),pe(64,"signature"),oe("recoveryId")]);class Uh{constructor(){}static publicKeyToEthAddress(e){In(e.length===xO,`Public key must be ${xO} bytes but received ${e.length} bytes`);try{return H.Buffer.from($o(jt(e))).slice(-Ev)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return Uh.createInstructionWithEthAddress({ethAddress:Uh.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,In(a.length===Ev,`Address must be ${Ev} bytes but received ${a.length} bytes`);const c=1+jye,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(Iv.span+r.length);return Iv.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:jt(i),ethAddress:jt(a),recoveryId:s},p),p.fill(jt(r),Iv.span),new ur({keys:[],programId:Uh.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;In(t.length===PO,`Private key must be ${PO} bytes but received ${t.length} bytes`);try{const s=jt(t),o=Vye(s,!1).slice(1),a=H.Buffer.from($o(jt(r))),[c,u]=Fye(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Uh.programId=new ze("KeccakSecp256k11111111111111111111111111111");var YK;const GK=new ze("StakeConfig11111111111111111111111111111111");class JK{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Vm{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}YK=Vm;Vm.default=new YK(0,0,ze.default);class Hye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Pi))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Kn(Pi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new JK(new ze(t.staker),new ze(t.withdrawer)),lockup:new Vm(r.unixTimestamp,r.epoch,new ze(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Kn(Pi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Kn(Pi.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ze(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Kn(Pi.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ze(s),newAuthorizedPubkey:new ze(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Kn(Pi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(Pi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Kn(Pi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(Pi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(XS.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pi=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),Gpe(),Jpe()])},Authorize:{index:1,layout:U([D("instruction"),Xt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Xt("newAuthorized"),D("stakeAuthorizationType"),Dl("authoritySeed"),Xt("authorityOwner")])}}),Yye=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class XS{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Vm.default,o=Pi.Initialize,a=pn(o,{authorized:{staker:jt(r.staker.toBuffer()),withdrawer:jt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:jt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ur(c)}static createAccountWithSeed(e){const t=new Mn;t.add(Ti.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new Mn;t.add(Ti.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Pi.Delegate,o=pn(s);return new Mn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:G1,isSigner:!1,isWritable:!1},{pubkey:GK,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Pi.Authorize,c=pn(a,{newAuthorized:jt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Mn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Pi.AuthorizeWithSeed,l=pn(u,{newAuthorized:jt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:jt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Mn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Pi.Split,a=pn(o,{lamports:s});return new ur({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Mn;return r.add(Ti.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new Mn;return u.add(Ti.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ti.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Pi.Merge,o=pn(s);return new Mn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:G1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Pi.Withdraw,c=pn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:G1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Mn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Pi.Deactivate,s=pn(i);return new Mn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}XS.programId=new ze("Stake11111111111111111111111111111111111111");XS.space=200;class QK{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}}class Gye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(ja))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Kn(ja.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new QK(new ze(t.nodePubkey),new ze(t.authorizedVoter),new ze(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Kn(ja.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ze(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Kn(ja.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ze(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ze(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Kn(ja.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Dp.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ja=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Qpe()])},Authorize:{index:1,layout:U([D("instruction"),Xt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),Zpe()])}}),Jye=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Dp{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=ja.InitializeAccount,o=pn(s,{voteInit:{nodePubkey:jt(i.nodePubkey.toBuffer()),authorizedVoter:jt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:jt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ur(a)}static createAccount(e){const t=new Mn;return t.add(Ti.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=ja.Authorize,a=pn(o,{newAuthorized:jt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Mn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=ja.AuthorizeWithSeed,u=pn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:jt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:jt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Mn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=ja.Withdraw,a=pn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Mn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Dp.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=ja.UpdateValidatorIdentity,o=pn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Mn().add({keys:a,programId:this.programId,data:o})}}Dp.programId=new ze("Vote111111111111111111111111111111111111111");Dp.space=3762;const ZK=new ze("Va1idator1nfo111111111111111111111111111111"),Qye=P({name:O(),website:te(O()),details:te(O()),keybaseUsername:te(O())});class cT{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(xs(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new ze(Bs(t,0,tc)),a=Fa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(ZK)&&i[1].isSigner){const s=Dl().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,Qye),new cT(i[1].publicKey,o)}return null}}const Zye=new ze("Vote111111111111111111111111111111111111111"),Xye=U([Xt("nodePubkey"),Xt("authorizedWithdrawer"),oe("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),oe("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Xt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Xt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),oe("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);class uT{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Xye.decode(jt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new uT({nodePubkey:new ze(r.nodePubkey),authorizedWithdrawer:new ze(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(eme),priorVoters:tme(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function eme({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ze(n)}}function BO({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ze(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function tme({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(BO),...n.slice(0,e).map(BO)]}const TO={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function nme(n,e){const t=e===!1?"http":"https";if(!n)return TO[t].devnet;const r=TO[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function rme(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new sm({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const ime=1e9,sme=Object.freeze(Object.defineProperty({__proto__:null,Account:jpe,AddressLookupTableAccount:LR,AddressLookupTableInstruction:Kye,AddressLookupTableProgram:oT,Authorized:JK,BLOCKHASH_CACHE_TIMEOUT_MS:qK,BPF_LOADER_DEPRECATED_PROGRAM_ID:Hpe,BPF_LOADER_PROGRAM_ID:fge,BpfLoader:pge,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Va,ComputeBudgetInstruction:Wye,ComputeBudgetProgram:aT,Connection:Uye,Ed25519Program:ZS,Enum:Fpe,EpochSchedule:NK,FeeCalculatorLayout:LK,Keypair:Dh,LAMPORTS_PER_SOL:ime,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:$c,Loader:gd,Lockup:Vm,MAX_SEED_LENGTH:BK,Message:ua,MessageAccountKeys:im,MessageV0:pd,NONCE_ACCOUNT_LENGTH:MR,NonceAccount:GS,PACKET_DATA_SIZE:Uu,PUBLIC_KEY_LENGTH:tc,PublicKey:ze,SIGNATURE_LENGTH_IN_BYTES:rm,SOLANA_SCHEMA:iy,STAKE_CONFIG_ID:GK,STAKE_INSTRUCTION_LAYOUTS:Pi,SYSTEM_INSTRUCTION_LAYOUTS:mr,SYSVAR_CLOCK_PUBKEY:Ea,SYSVAR_EPOCH_SCHEDULE_PUBKEY:rge,SYSVAR_INSTRUCTIONS_PUBKEY:ige,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:Y1,SYSVAR_RENT_PUBKEY:Jf,SYSVAR_REWARDS_PUBKEY:sge,SYSVAR_SLOT_HASHES_PUBKEY:oge,SYSVAR_SLOT_HISTORY_PUBKEY:age,SYSVAR_STAKE_HISTORY_PUBKEY:G1,Secp256k1Program:Uh,SendTransactionError:sm,SolanaJSONRPCError:gt,SolanaJSONRPCErrorCode:cge,StakeAuthorizationLayout:Yye,StakeInstruction:Hye,StakeProgram:XS,Struct:QB,SystemInstruction:dge,SystemProgram:Ti,Transaction:Mn,TransactionExpiredBlockheightExceededError:ZB,TransactionExpiredNonceInvalidError:Th,TransactionExpiredTimeoutError:XB,TransactionInstruction:ur,TransactionMessage:tT,TransactionStatus:Ec,VALIDATOR_INFO_KEY:ZK,VERSION_PREFIX_MASK:HS,VOTE_PROGRAM_ID:Zye,ValidatorInfo:cT,VersionedMessage:eT,VersionedTransaction:nT,VoteAccount:uT,VoteAuthorizationLayout:Jye,VoteInit:QK,VoteInstruction:Gye,VoteProgram:Dp,clusterApiUrl:nme,sendAndConfirmRawTransaction:rme,sendAndConfirmTransaction:CR},Symbol.toStringTag,{value:"Module"})),vr=la(sme);var ir={},Jd=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(ir,"__esModule",{value:!0});ir.MetadataProgram=void 0;const fl=vr,XK=Ce;class Tn extends XK.Program{static findEditionAccount(e,t){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.EDITION,"utf8"),Buffer.from(t,"utf8")],Tn.PUBKEY)})}static findMasterEditionAccount(e){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.EDITION,"utf8")],Tn.PUBKEY)})}static findMetadataAccount(e){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer()],Tn.PUBKEY)})}static findUseAuthorityAccount(e,t){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.USER,"utf8"),t.toBuffer()],Tn.PUBKEY)})}static findCollectionAuthorityAccount(e,t){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.COLLECTION_AUTHORITY,"utf8"),t.toBuffer()],Tn.PUBKEY)})}static findProgramAsBurnerAccount(){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),Buffer.from(Tn.BURN,"utf8")],Tn.PUBKEY)})}}ir.MetadataProgram=Tn;Tn.PREFIX="metadata";Tn.EDITION="edition";Tn.USER="user";Tn.COLLECTION_AUTHORITY="collection_authority";Tn.BURN="burn";Tn.PUBKEY=new fl.PublicKey(XK.config.programs.metadata);var Qc={},ome=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Edition=Qc.EditionData=void 0;const J1=Ce,qb=ir,ame=vr,CO=H,eW=qd;class bw extends J1.Borsh.Data{constructor(e){super(e),this.key=eW.MetadataKey.EditionV1}}Qc.EditionData=bw;bw.SCHEMA=bw.struct([["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]);class am extends J1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(qb.MetadataProgram.PUBKEY))throw(0,J1.ERROR_INVALID_OWNER)();if(!am.isCompatible(this.info.data))throw(0,J1.ERROR_INVALID_ACCOUNT_DATA)();this.data=bw.deserialize(this.info.data)}static getPDA(e){return ome(this,void 0,void 0,function*(){return qb.MetadataProgram.findProgramAddress([CO.Buffer.from(qb.MetadataProgram.PREFIX),qb.MetadataProgram.PUBKEY.toBuffer(),new ame.PublicKey(e).toBuffer(),CO.Buffer.from(am.EDITION_PREFIX)])})}static isCompatible(e){return e[0]===eW.MetadataKey.EditionV1}}Qc.Edition=am;am.EDITION_PREFIX="edition";var Vc={},MO=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},cme=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.MasterEdition=Vc.MasterEditionV2Data=Vc.MasterEditionV1Data=void 0;const sy=Ce,ume=cme(Fs),lme=Qc,kg=ir,Rv=H,dme=vr,oy=qd;class ww extends sy.Borsh.Data{constructor(e){super(e),this.key=oy.MetadataKey.MasterEditionV1}}Vc.MasterEditionV1Data=ww;ww.SCHEMA=ww.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]);class kw extends sy.Borsh.Data{constructor(e){super(e),this.key=oy.MetadataKey.MasterEditionV2}}Vc.MasterEditionV2Data=kw;kw.SCHEMA=kw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]);class bu extends sy.Account{constructor(e,t){if(super(e,t),!this.assertOwner(kg.MetadataProgram.PUBKEY))throw(0,sy.ERROR_INVALID_OWNER)();if(bu.isMasterEditionV1(this.info.data))this.data=ww.deserialize(this.info.data);else if(bu.isMasterEditionV2(this.info.data))this.data=kw.deserialize(this.info.data);else throw(0,sy.ERROR_INVALID_ACCOUNT_DATA)()}static getPDA(e){return MO(this,void 0,void 0,function*(){return kg.MetadataProgram.findProgramAddress([Rv.Buffer.from(kg.MetadataProgram.PREFIX),kg.MetadataProgram.PUBKEY.toBuffer(),new dme.PublicKey(e).toBuffer(),Rv.Buffer.from(bu.EDITION_PREFIX)])})}static isCompatible(e){return bu.isMasterEditionV1(e)||bu.isMasterEditionV2(e)}static isMasterEditionV1(e){return e[0]===oy.MetadataKey.MasterEditionV1}static isMasterEditionV2(e){return e[0]===oy.MetadataKey.MasterEditionV2}getEditions(e){return MO(this,void 0,void 0,function*(){return(yield kg.MetadataProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:ume.default.encode(Rv.Buffer.from([oy.MetadataKey.EditionV1]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(t=>lme.Edition.from(t))})}}Vc.MasterEdition=bu;bu.EDITION_PREFIX="edition";var ul={},LO;function tW(){if(LO)return ul;LO=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.UseAuthorityRecord=ul.Uses=void 0;const n=Ce,e=iW();let t=class extends n.Borsh.Data{constructor(s){super(s),this.useMethod=s.useMethod,this.total=s.total,this.remaining=s.remaining}};ul.Uses=t,t.SCHEMA=t.struct([["useMethod","u8"],["total","u64"],["remaining","u64"]]);class r extends n.Borsh.Data{constructor(s){super(s),this.key=e.MetadataKey.UseAuthorityRecord,this.allowedUses=s.allowedUses,this.bump=s.bump}}return ul.UseAuthorityRecord=r,r.SCHEMA=r.struct([["key","u8"],["allowedUses","u64"],["bump","u8"]]),ul}var yd={};Object.defineProperty(yd,"__esModule",{value:!0});yd.CollctionAuthorityRecord=yd.Collection=void 0;const nW=Ce,hme=qd;class qR extends nW.Borsh.Data{constructor(e){super(e),this.key=e.key,this.verified=e.verified}}yd.Collection=qR;qR.SCHEMA=qR.struct([["verified","u8"],["key","pubkeyAsString"]]);class zR extends nW.Borsh.Data{constructor(e){super(e),this.key=hme.MetadataKey.CollectionAuthorityRecord,this.bump=e.bump}}yd.CollctionAuthorityRecord=zR;zR.SCHEMA=zR.struct([["key","u8"],["bump","u8"]]);var OO;function jm(){return OO||(OO=1,function(n){var e=ce&&ce.__awaiter||function(x,K,J,M){function Z(ie){return ie instanceof J?ie:new J(function(X){X(ie)})}return new(J||(J=Promise))(function(ie,X){function ne(m){try{L(M.next(m))}catch(v){X(v)}}function ae(m){try{L(M.throw(m))}catch(v){X(v)}}function L(m){m.done?ie(m.value):Z(m.value).then(ne,ae)}L((M=M.apply(x,K||[])).next())})},t=ce&&ce.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(n,"__esModule",{value:!0}),n.computeCreatorOffset=n.MAX_CREATOR_LEN=n.MAX_URI_LENGTH=n.MAX_SYMBOL_LENGTH=n.MAX_NAME_LENGTH=n.Metadata=n.MetadataData=n.MetadataDataData=n.DataV2=n.Creator=void 0;const r=Ce,i=vr,s=t(Ws),o=t(Fs),a=H,c=ir,u=Qc,l=Vc,d=tW(),b=yd,p=qd;class g extends r.Borsh.Data{}n.Creator=g,g.SCHEMA=g.struct([["address","pubkeyAsString"],["verified","u8"],["share","u8"]]);class y extends r.Borsh.Data{}n.DataV2=y,y.SCHEMA=new Map([...g.SCHEMA,...b.Collection.SCHEMA,...d.Uses.SCHEMA,...y.struct([["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[g]}],["collection",{kind:"option",type:b.Collection}],["uses",{kind:"option",type:d.Uses}]])]);class S extends r.Borsh.Data{constructor(K){super(K);const J=new RegExp("\0","g");this.name=K.name.replace(J,""),this.uri=K.uri.replace(J,""),this.symbol=K.symbol.replace(J,"")}}n.MetadataDataData=S,S.SCHEMA=new Map([...g.SCHEMA,...S.struct([["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[g]}]])]);class w extends r.Borsh.Data{constructor(K){super(K),this.key=p.MetadataKey.MetadataV1}}n.MetadataData=w,w.SCHEMA=new Map([...S.SCHEMA,...b.Collection.SCHEMA,...d.Uses.SCHEMA,...w.struct([["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",S],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}],["tokenStandard",{kind:"option",type:"u8"}],["collection",{kind:"option",type:b.Collection}],["uses",{kind:"option",type:d.Uses}]])]);class _ extends r.Account{constructor(K,J){if(super(K,J),!this.assertOwner(c.MetadataProgram.PUBKEY))throw(0,r.ERROR_INVALID_OWNER)();if(!_.isCompatible(this.info.data))throw(0,r.ERROR_INVALID_ACCOUNT_DATA)();this.data=w.deserialize(this.info.data)}static isCompatible(K){return K[0]===p.MetadataKey.MetadataV1}static getPDA(K){return e(this,void 0,void 0,function*(){return c.MetadataProgram.findProgramAddress([a.Buffer.from(c.MetadataProgram.PREFIX),c.MetadataProgram.PUBKEY.toBuffer(),new i.PublicKey(K).toBuffer()])})}static findMany(K,J={}){return e(this,void 0,void 0,function*(){const M=[{memcmp:{offset:0,bytes:o.default.encode(a.Buffer.from([p.MetadataKey.MetadataV1]))}},J.updateAuthority&&{memcmp:{offset:1,bytes:new i.PublicKey(J.updateAuthority).toBase58()}},J.mint&&{memcmp:{offset:33,bytes:new i.PublicKey(J.mint).toBase58()}}].filter(Boolean);return J.creators?(yield Promise.all(Array.from(Array(r.config.maxCreatorLimit).keys()).reduce((Z,ie)=>[...Z,...J.creators.map(X=>c.MetadataProgram.getProgramAccounts(K,{filters:[...M,{memcmp:{offset:(0,n.computeCreatorOffset)(ie),bytes:new i.PublicKey(X).toBase58()}}]}))],[]))).flat().map(Z=>_.from(Z)):(yield c.MetadataProgram.getProgramAccounts(K,{filters:M})).map(Z=>_.from(Z))})}static findByMint(K,J){return e(this,void 0,void 0,function*(){const M=yield _.getPDA(J);return _.load(K,M)})}static findByOwner(K,J){return e(this,void 0,void 0,function*(){const M=yield r.TokenAccount.getTokenAccountsByOwner(K,J),Z=new Map(M.map(({data:X})=>[X.mint.toString(),X]));return(yield _.findMany(K)).filter(X=>{var ne,ae;return Z.has(X.data.mint)&&(((ae=(ne=Z==null?void 0:Z.get(X.data.mint))===null||ne===void 0?void 0:ne.amount)===null||ae===void 0?void 0:ae.toNumber())||0)>0})})}static findByOwnerV2(K,J){return e(this,void 0,void 0,function*(){const Z=(yield r.TokenAccount.getTokenAccountsByOwner(K,J)).map(({data:ie})=>ie).filter(({amount:ie})=>(ie==null?void 0:ie.toNumber())>0);return(yield Promise.all(Z.map(({mint:ie})=>_.findMany(K,{mint:ie})))).flat()})}static findByOwnerV3(K,J){return e(this,void 0,void 0,function*(){const M=yield _.findInfoByOwner(K,J);return Array.from(M.entries()).map(([Z,ie])=>new _(Z,ie))})}static findInfoByOwner(K,J){return e(this,void 0,void 0,function*(){const Z=(yield r.TokenAccount.getTokenAccountsByOwner(K,J)).reduce((X,{data:ne})=>{var ae;return!((ae=ne.amount)===null||ae===void 0)&&ae.eq(new s.default(1))?[...X,_.getPDA(ne.mint)]:X},[]),ie=yield Promise.all(Z);return r.Account.getInfos(K,ie)})}static findDataByOwner(K,J){return e(this,void 0,void 0,function*(){const M=yield _.findInfoByOwner(K,J);return Array.from(M.values()).map(Z=>w.deserialize(Z.data))})}static getEdition(K,J){return e(this,void 0,void 0,function*(){const M=yield u.Edition.getPDA(J),Z=yield r.Account.getInfo(K,M);switch(Z==null?void 0:Z.data[0]){case p.MetadataKey.EditionV1:return new u.Edition(M,Z);case p.MetadataKey.MasterEditionV1:case p.MetadataKey.MasterEditionV2:return new l.MasterEdition(M,Z);default:return}})}}n.Metadata=_,n.MAX_NAME_LENGTH=32,n.MAX_SYMBOL_LENGTH=10,n.MAX_URI_LENGTH=200,n.MAX_CREATOR_LEN=34;const R=x=>69+n.MAX_NAME_LENGTH+4+n.MAX_URI_LENGTH+4+n.MAX_SYMBOL_LENGTH+2+1+4+x*n.MAX_CREATOR_LEN;n.computeCreatorOffset=R}(kv)),kv}var Zf={},fme=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.EditionMarker=Zf.EditionMarkerData=void 0;const Q1=Ce,pme=vr,gme=Qc,zb=ir,Pv=H,rW=qd;class Sw extends Q1.Borsh.Data{constructor(e){super(e),this.key=rW.MetadataKey.EditionMarker}editionTaken(e){const t=e%Hm.DATA_SIZE,r=Math.floor(t/8);if(r>30)throw Error("Bad index for edition");const i=7-t%8,s=Math.pow(2,i);return(this.ledger[r]&s)!=0}}Zf.EditionMarkerData=Sw;Sw.SCHEMA=Sw.struct([["key","u8"],["ledger",[31]]]);class Hm extends Q1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(zb.MetadataProgram.PUBKEY))throw(0,Q1.ERROR_INVALID_OWNER)();if(!Hm.isCompatible(this.info.data))throw(0,Q1.ERROR_INVALID_ACCOUNT_DATA)();this.data=Sw.deserialize(this.info.data)}static getPDA(e,t){return fme(this,void 0,void 0,function*(){const r=Math.floor(t.toNumber()/248);return zb.MetadataProgram.findProgramAddress([Pv.Buffer.from(zb.MetadataProgram.PREFIX),zb.MetadataProgram.PUBKEY.toBuffer(),new pme.PublicKey(e).toBuffer(),Pv.Buffer.from(gme.Edition.EDITION_PREFIX),Pv.Buffer.from(r.toString())])})}static isCompatible(e){return e[0]===rW.MetadataKey.EditionMarker}}Zf.EditionMarker=Hm;Hm.DATA_SIZE=248;var NO;function iW(){return NO||(NO=1,function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(qd,n),t(jm(),n),t(Vc,n),t(Qc,n),t(Zf,n),t(yd,n),t(tW(),n)}(wv)),wv}var sW={},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.CreateMetadata=Xf.CreateMetadataArgs=void 0;const oW=Ce,xv=vr,$O=jm(),yme=ir;class Aw extends oW.Borsh.Data{constructor(){super(...arguments),this.instruction=0}}Xf.CreateMetadataArgs=Aw;Aw.SCHEMA=new Map([...$O.MetadataDataData.SCHEMA,...Aw.struct([["instruction","u8"],["data",$O.MetadataDataData],["isMutable","u8"]])]);class mme extends oW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,metadataData:s,updateAuthority:o,mint:a,mintAuthority:c}=t,u=Aw.serialize({data:s,isMutable:!0});this.add(new xv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:xv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:xv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:yme.MetadataProgram.PUBKEY,data:u}))}}Xf.CreateMetadata=mme;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.UpdateMetadata=ep.UpdateMetadataArgs=void 0;const aW=Ce,bme=vr,qO=jm(),wme=ir;class _w extends aW.Borsh.Data{constructor(){super(...arguments),this.instruction=1}}ep.UpdateMetadataArgs=_w;_w.SCHEMA=new Map([...qO.MetadataDataData.SCHEMA,..._w.struct([["instruction","u8"],["data",{kind:"option",type:qO.MetadataDataData}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]])]);class kme extends aW.Transaction{constructor(e,t){super(e);const{metadata:r,metadataData:i,updateAuthority:s,newUpdateAuthority:o,primarySaleHappened:a}=t,c=_w.serialize({data:i,updateAuthority:o&&o.toString(),primarySaleHappened:a||null});this.add(new bme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}],programId:wme.MetadataProgram.PUBKEY,data:c}))}}ep.UpdateMetadata=kme;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.CreateMasterEdition=tp.CreateMasterEditionArgs=void 0;const cW=Ce,Sme=Jn,Bv=vr,Ame=ir;class vw extends cW.Borsh.Data{constructor(){super(...arguments),this.instruction=10}}tp.CreateMasterEditionArgs=vw;vw.SCHEMA=vw.struct([["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]);class _me extends cW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,mint:a,mintAuthority:c,maxSupply:u}=t,l=vw.serialize({maxSupply:u||null});this.add(new Bv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Sme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Bv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Bv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Ame.MetadataProgram.PUBKEY,data:l}))}}tp.CreateMasterEdition=_me;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.MintNewEditionFromMasterEditionViaToken=np.MintNewEditionFromMasterEditionViaTokenArgs=void 0;const uW=Ce,vme=Jn,Tv=vr,Eme=ir;class Ew extends uW.Borsh.Data{constructor(){super(...arguments),this.instruction=11}}np.MintNewEditionFromMasterEditionViaTokenArgs=Ew;Ew.SCHEMA=Ew.struct([["instruction","u8"],["edition","u64"]]);class Ime extends uW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,masterEdition:a,masterMetadata:c,mint:u,editionMarker:l,mintAuthority:d,tokenOwner:b,tokenAccount:p,editionValue:g}=t,y=Ew.serialize({edition:g});this.add(new Tv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:vme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Tv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Tv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Eme.MetadataProgram.PUBKEY,data:y}))}}np.MintNewEditionFromMasterEditionViaToken=Ime;var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.UpdatePrimarySaleHappenedViaToken=rp.UpdatePrimarySaleHappenedViaTokenArgs=void 0;const lW=Ce,Rme=vr,Pme=ir;class Iw extends lW.Borsh.Data{constructor(){super(...arguments),this.instruction=4}}rp.UpdatePrimarySaleHappenedViaTokenArgs=Iw;Iw.SCHEMA=Iw.struct([["instruction","u8"]]);class xme extends lW.Transaction{constructor(e,t){super(e);const{metadata:r,owner:i,tokenAccount:s}=t,o=Iw.serialize();this.add(new Rme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Pme.MetadataProgram.PUBKEY,data:o}))}}rp.UpdatePrimarySaleHappenedViaToken=xme;var md={};Object.defineProperty(md,"__esModule",{value:!0});md.SignMetadata=md.SignMetadataArgs=void 0;const dW=Ce,Bme=vr,Tme=ir;class Rw extends dW.Borsh.Data{constructor(){super(...arguments),this.instruction=7}}md.SignMetadataArgs=Rw;Rw.SCHEMA=Rw.struct([["instruction","u8"]]);class Cme extends dW.Transaction{constructor(e,t){super(e);const{metadata:r,creator:i}=t,s=Rw.serialize();this.add(new Bme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:Tme.MetadataProgram.PUBKEY,data:s}))}}md.SignMetadata=Cme;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.UpdateMetadataV2=ip.UpdateMetadataV2Args=void 0;const hW=Ce,Mme=vr,zO=jm(),Lme=ir;class Pw extends hW.Borsh.Data{constructor(){super(...arguments),this.instruction=15}}ip.UpdateMetadataV2Args=Pw;Pw.SCHEMA=new Map([...zO.DataV2.SCHEMA,...Pw.struct([["instruction","u8"],["data",{kind:"option",type:zO.DataV2}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}],["isMutable",{kind:"option",type:"u8"}]])]);class Ome extends hW.Transaction{constructor(e,t){super(e);const{metadata:r,metadataData:i,updateAuthority:s,newUpdateAuthority:o,primarySaleHappened:a,isMutable:c}=t,u=Pw.serialize({data:i,updateAuthority:o&&o.toString(),primarySaleHappened:a||null,isMutable:c||null});this.add(new Mme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}],programId:Lme.MetadataProgram.PUBKEY,data:u}))}}ip.UpdateMetadataV2=Ome;var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.CreateMetadataV2=sp.CreateMetadataV2Args=void 0;const fW=Ce,Cv=vr,DO=jm(),Nme=ir;class xw extends fW.Borsh.Data{constructor(){super(...arguments),this.instruction=16}}sp.CreateMetadataV2Args=xw;xw.SCHEMA=new Map([...DO.DataV2.SCHEMA,...xw.struct([["instruction","u8"],["data",DO.DataV2],["isMutable","u8"]])]);class $me extends fW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,metadataData:s,updateAuthority:o,mint:a,mintAuthority:c}=t,u=xw.serialize({data:s,isMutable:!0});this.add(new Cv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Cv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Cv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Nme.MetadataProgram.PUBKEY,data:u}))}}sp.CreateMetadataV2=$me;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.CreateMasterEditionV3=op.CreateMasterEditionV3Args=void 0;const pW=Ce,qme=Jn,Mv=vr,zme=ir;class Bw extends pW.Borsh.Data{constructor(){super(...arguments),this.instruction=17}}op.CreateMasterEditionV3Args=Bw;Bw.SCHEMA=Bw.struct([["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]);class Dme extends pW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,mint:a,mintAuthority:c,maxSupply:u}=t,l=Bw.serialize({maxSupply:u||null});this.add(new Mv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:qme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Mv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Mv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:zme.MetadataProgram.PUBKEY,data:l}))}}op.CreateMasterEditionV3=Dme;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.VerifyCollection=ap.VerifyCollectionArgs=void 0;const gW=Ce,Ume=vr,Kme=ir;class Tw extends gW.Borsh.Data{constructor(){super(...arguments),this.instruction=18}}ap.VerifyCollectionArgs=Tw;Tw.SCHEMA=new Map([...Tw.struct([["instruction","u8"]])]);class Wme extends gW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthority:s,collectionMint:o,collectionMetadata:a,collectionMasterEdition:c,collectionAuthorityRecord:u}=t,l=Tw.serialize(),d=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1}];u&&d.push({pubkey:u,isSigner:!1,isWritable:!1}),this.add(new Ume.TransactionInstruction({keys:d,programId:Kme.MetadataProgram.PUBKEY,data:l}))}}ap.VerifyCollection=Wme;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.UnVerifyCollection=cp.UnVerifyCollectionArgs=void 0;const yW=Ce,Fme=vr,Vme=ir;class Cw extends yW.Borsh.Data{constructor(){super(...arguments),this.instruction=22}}cp.UnVerifyCollectionArgs=Cw;Cw.SCHEMA=new Map([...Cw.struct([["instruction","u8"]])]);class jme extends yW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthority:s,collectionMint:o,collectionMetadata:a,collectionMasterEdition:c,collectionAuthorityRecord:u}=t,l=Cw.serialize(),d=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1}];u&&d.push({pubkey:u,isSigner:!1,isWritable:!1}),this.add(new Fme.TransactionInstruction({keys:d,programId:Vme.MetadataProgram.PUBKEY,data:l}))}}cp.UnVerifyCollection=jme;var up={};Object.defineProperty(up,"__esModule",{value:!0});up.SetAndVerifyCollectionCollection=up.SetAndVerifyCollectionArgs=void 0;const mW=Ce,Hme=vr,Yme=ir;class Mw extends mW.Borsh.Data{constructor(){super(...arguments),this.instruction=25}}up.SetAndVerifyCollectionArgs=Mw;Mw.SCHEMA=new Map([...Mw.struct([["instruction","u8"]])]);class Gme extends mW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthority:s,collectionMint:o,updateAuthority:a,collectionMetadata:c,collectionMasterEdition:u,collectionAuthorityRecord:l}=t,d=Mw.serialize(),b=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];l&&b.push({pubkey:l,isSigner:!1,isWritable:!1}),this.add(new Hme.TransactionInstruction({keys:b,programId:Yme.MetadataProgram.PUBKEY,data:d}))}}up.SetAndVerifyCollectionCollection=Gme;var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.ApproveUseAuthority=lp.ApproveUseAuthorityArgs=void 0;const bW=Ce,Jme=Jn,Lv=vr,Qme=ir;class Lw extends bW.Borsh.Data{constructor(){super(...arguments),this.instruction=20}}lp.ApproveUseAuthorityArgs=Lw;Lw.SCHEMA=new Map([...Lw.struct([["instruction","u8"],["numberOfUses","u8"]])]);class Zme extends bW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{useAuthorityRecord:i,user:s,owner:o,ownerTokenAccount:a,metadata:c,mint:u,burner:l,numberOfUses:d}=t,b=Lw.serialize({numberOfUses:d}),p=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:Jme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Lv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Lv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new Lv.TransactionInstruction({keys:p,programId:Qme.MetadataProgram.PUBKEY,data:b}))}}lp.ApproveUseAuthority=Zme;var dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.RevokeUseAuthority=dp.RevokeUseAuthorityArgs=void 0;const wW=Ce,Xme=Jn,Ov=vr,ebe=ir;class Ow extends wW.Borsh.Data{constructor(){super(...arguments),this.instruction=21}}dp.RevokeUseAuthorityArgs=Ow;Ow.SCHEMA=new Map([...Ow.struct([["instruction","u8"]])]);class tbe extends wW.Transaction{constructor(e,t){super(e);const{useAuthorityRecord:r,user:i,owner:s,ownerTokenAccount:o,metadata:a,mint:c}=t,u=Ow.serialize(),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:Xme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Ov.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Ov.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new Ov.TransactionInstruction({keys:l,programId:ebe.MetadataProgram.PUBKEY,data:u}))}}dp.RevokeUseAuthority=tbe;var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.ApproveCollectionAuthority=hp.ApproveCollectionAuthorityArgs=void 0;const kW=Ce,Nv=vr,nbe=ir;class Nw extends kW.Borsh.Data{constructor(){super(...arguments),this.instruction=23}}hp.ApproveCollectionAuthorityArgs=Nw;Nw.SCHEMA=new Map([...Nw.struct([["instruction","u8"]])]);class rbe extends kW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthorityRecord:s,newCollectionAuthority:o,updateAuthority:a,mint:c}=t,u=Nw.serialize(),l=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:Nv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Nv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new Nv.TransactionInstruction({keys:l,programId:nbe.MetadataProgram.PUBKEY,data:u}))}}hp.ApproveCollectionAuthority=rbe;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.RevokeCollectionAuthority=fp.RevokeCollectionAuthorityArgs=void 0;const SW=Ce,$v=vr,ibe=ir;class $w extends SW.Borsh.Data{constructor(){super(...arguments),this.instruction=24}}fp.RevokeCollectionAuthorityArgs=$w;$w.SCHEMA=new Map([...$w.struct([["instruction","u8"]])]);class sbe extends SW.Transaction{constructor(e,t){super(e);const{metadata:r,collectionAuthorityRecord:i,delegateAuthority:s,newCollectionAuthority:o,updateAuthority:a,mint:c}=t,u=s||o;if(!u)throw new Error("Must provide either a delegateAuthority");const l=$w.serialize(),d=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:$v.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:$v.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new $v.TransactionInstruction({keys:d,programId:ibe.MetadataProgram.PUBKEY,data:l}))}}fp.RevokeCollectionAuthority=sbe;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.Utilize=pp.UtilizeArgs=void 0;const AW=Ce,obe=Jn,qv=vr,abe=ir;class qw extends AW.Borsh.Data{constructor(){super(...arguments),this.instruction=19}}pp.UtilizeArgs=qw;qw.SCHEMA=new Map([...qw.struct([["instruction","u8"],["numberOfUses","u8"]])]);class cbe extends AW.Transaction{constructor(e,t){super(e);const{metadata:r,useAuthority:i,numberOfUses:s,burner:o,tokenAccount:a}=t,c=qw.serialize({numberOfUses:s}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:obe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:qv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:qv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];i&&(u.push({pubkey:i,isSigner:!1,isWritable:!1}),u.push({pubkey:o,isSigner:!1,isWritable:!1})),this.add(new qv.TransactionInstruction({keys:u,programId:abe.MetadataProgram.PUBKEY,data:c}))}}pp.Utilize=cbe;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.FreezeDelegatedAccount=gp.FreezeDelegatedAccountArgs=void 0;const _W=Ce,ube=vr,lbe=ir,dbe=Jn;class zw extends _W.Borsh.Data{constructor(){super(...arguments),this.instruction=26}}gp.FreezeDelegatedAccountArgs=zw;zw.SCHEMA=new Map([...zw.struct([["instruction","u8"]])]);class hbe extends _W.Transaction{constructor(e,t){super(e);const{delegate:r,token_account:i,edition:s,mint:o}=t,a=zw.serialize();this.add(new ube.TransactionInstruction({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:dbe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:lbe.MetadataProgram.PUBKEY,data:a}))}}gp.FreezeDelegatedAccount=hbe;var yp={};Object.defineProperty(yp,"__esModule",{value:!0});yp.ThawDelegatedAccount=yp.ThawDelegatedAccountArgs=void 0;const vW=Ce,fbe=vr,pbe=ir,gbe=Jn;class Dw extends vW.Borsh.Data{constructor(){super(...arguments),this.instruction=27}}yp.ThawDelegatedAccountArgs=Dw;Dw.SCHEMA=new Map([...Dw.struct([["instruction","u8"]])]);class ybe extends vW.Transaction{constructor(e,t){super(e);const{delegate:r,token_account:i,edition:s,mint:o}=t,a=Dw.serialize();this.add(new fbe.TransactionInstruction({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:gbe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:pbe.MetadataProgram.PUBKEY,data:a}))}}yp.ThawDelegatedAccount=ybe;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.RemoveCreatorVerification=mp.RemoveCreatorVerificationArgs=void 0;const EW=Ce,mbe=vr,bbe=ir;class Uw extends EW.Borsh.Data{constructor(){super(...arguments),this.instruction=28}}mp.RemoveCreatorVerificationArgs=Uw;Uw.SCHEMA=Uw.struct([["instruction","u8"]]);class wbe extends EW.Transaction{constructor(e,t){super(e);const{metadata:r,creator:i}=t,s=Uw.serialize();this.add(new mbe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:bbe.MetadataProgram.PUBKEY,data:s}))}}mp.RemoveCreatorVerification=wbe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Xf,n),t(ep,n),t(tp,n),t(np,n),t(rp,n),t(md,n),t(ip,n),t(sp,n),t(op,n),t(ap,n),t(cp,n),t(md,n),t(up,n),t(lp,n),t(dp,n),t(hp,n),t(fp,n),t(pp,n),t(gp,n),t(yp,n),t(mp,n)})(sW);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(iW(),n),t(ir,n),t(sW,n)})(YB);const kbe=Do(YB),Sbe=Sd({__proto__:null,default:kbe},[YB]);var UO;(function(n){n.USD="usd",n.EUR="eur",n.AR="ar",n.SOL="sol"})(UO||(UO={}));var Pl;(function(n){n[n.MainnetBeta=101]="MainnetBeta",n[n.Testnet=102]="Testnet",n[n.Devnet=103]="Devnet"})(Pl||(Pl={}));LI("devnet"),Pl.Devnet,Pl.MainnetBeta,Pl.MainnetBeta,Pl.MainnetBeta,LI("testnet"),Pl.Testnet;class Abe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{lamports:i,fileHashes:s,arweaveWallet:o}=t;super(e),this.add(br.transfer({fromPubkey:r,toPubkey:o??new Se(Ce.config.arweaveWallet),lamports:i})),s.forEach(a=>{this.add(new Et({keys:[],programId:new Se(Ce.config.programs.memo),data:a}))})}}class _be extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{newAccountPubkey:i,lamports:s,decimals:o,owner:a,freezeAuthority:c}=t;super(e),this.add(br.createAccount({fromPubkey:r,newAccountPubkey:i,lamports:s,space:Ih.span,programId:ta})),this.add(mn.createInitMintInstruction(ta,i,o??0,a??r,c??r))}}class vbe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{newAccountPubkey:i,lamports:s,mint:o,owner:a}=t;super(e),this.add(br.createAccount({fromPubkey:r,newAccountPubkey:i,lamports:s,space:bl.span,programId:ta})),this.add(mn.createInitAccountInstruction(ta,o,i,a??r))}}class Ebe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{associatedTokenAddress:i,walletAddress:s,splTokenMintAddress:o}=t;super(e),this.add(new Et({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s??r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:br.programId,isSigner:!1,isWritable:!1},{pubkey:ta,isSigner:!1,isWritable:!1},{pubkey:ea,isSigner:!1,isWritable:!1}],programId:Wx,data:H.Buffer.from([])}))}}class Ibe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{mint:i,dest:s,authority:o,amount:a}=t;super(e),this.add(mn.createMintToInstruction(ta,i,s,o??r,[],new Zi(a).toNumber()))}}var Rbe=Object.freeze({__proto__:null,PayForFiles:Abe,CreateMint:_be,CreateTokenAccount:vbe,CreateAssociatedTokenAccount:Ebe,MintTo:Ibe}),zv=Object.freeze({__proto__:null,transactions:Rbe,auction:Ohe,core:Zse,metaplex:wpe,metadata:Sbe,vault:aae}),IW={exports:{}};const Pbe=/[\p{Lu}]/u,xbe=/[\p{Ll}]/u,KO=/^[\p{Lu}](?![\p{Lu}])/gu,RW=/([\p{Alpha}\p{N}_]|$)/u,PW=/[_.\- ]+/,Bbe=new RegExp("^"+PW.source),WO=new RegExp(PW.source+RW.source,"gu"),FO=new RegExp("\\d+"+RW.source,"gu"),Tbe=(n,e,t)=>{let r=!1,i=!1,s=!1;for(let o=0;o<n.length;o++){const a=n[o];r&&Pbe.test(a)?(n=n.slice(0,o)+"-"+n.slice(o),r=!1,s=i,i=!0,o++):i&&s&&xbe.test(a)?(n=n.slice(0,o-1)+"-"+n.slice(o-1),s=i,i=!1,r=!0):(r=e(a)===a&&t(a)!==a,s=i,i=t(a)===a&&e(a)!==a)}return n},Cbe=(n,e)=>(KO.lastIndex=0,n.replace(KO,t=>e(t))),Mbe=(n,e)=>(WO.lastIndex=0,FO.lastIndex=0,n.replace(WO,(t,r)=>e(r)).replace(FO,t=>e(t))),xW=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(n)?n=n.map(s=>s.trim()).filter(s=>s.length).join("-"):n=n.trim(),n.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),r=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return n.length===1?e.pascalCase?r(n):t(n):(n!==t(n)&&(n=Tbe(n,t,r)),n=n.replace(Bbe,""),e.preserveConsecutiveUppercase?n=Cbe(n,t):n=t(n),e.pascalCase&&(n=r(n.charAt(0))+n.slice(1)),Mbe(n,r))};IW.exports=xW;IW.exports.default=xW;var Gi={},nt={};let Gn=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};nt.Layout=Gn;function lT(n,e){return e.property?n+"["+e.property+"]":n}nt.nameWithProperty=lT;function Lbe(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(n.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Gn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}nt.bindConstructorLayout=Lbe;let Ms=class extends Gn{isCount(){throw new Error("ExternalLayout is abstract")}};class BW extends Ms{constructor(e,t){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){t===void 0&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}let dT=class extends Ms{constructor(e,t,r){if(!(e instanceof Gn))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof pc||this.layout instanceof nu}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}},pc=class extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},nu=class extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}};class Ud extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class Up extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const DR=Math.pow(2,32);function eA(n){const e=Math.floor(n/DR),t=n-e*DR;return{hi32:e,lo32:t}}function tA(n,e){return n*DR+e}let Obe=class extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return tA(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=eA(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}};class Nbe extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32BE(t),i=e.readUInt32BE(t+4);return tA(r,i)}encode(e,t,r){r===void 0&&(r=0);const i=eA(e);return t.writeUInt32BE(i.hi32,r),t.writeUInt32BE(i.lo32,r+4),8}}let $be=class extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return tA(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=eA(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}};class qbe extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readInt32BE(t),i=e.readUInt32BE(t+4);return tA(r,i)}encode(e,t,r){r===void 0&&(r=0);const i=eA(e);return t.writeInt32BE(i.hi32,r),t.writeUInt32BE(i.lo32,r+4),8}}class TW extends Gn{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatLE(e,r),4}}class CW extends Gn{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatBE(e,r),4}}class MW extends Gn{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleLE(e,r),8}}class LW extends Gn{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleBE(e,r),8}}class OW extends Gn{constructor(e,t,r){if(!(e instanceof Gn))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Ms&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Ms)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0,i=this.count;if(i instanceof Ms&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,t+r),++s}return r}decode(e,t){t===void 0&&(t=0);const r=[];let i=0,s=this.count;for(s instanceof Ms&&(s=s.decode(e,t));i<s;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r){r===void 0&&(r=0);const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,t,r+o),0);return this.count instanceof Ms&&this.count.encode(e.length,t,r),s}}let NW=class extends Gn{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Gn,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},hT=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Kw=class extends hT{constructor(e,t){if(!(e instanceof Ms&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}},fT=class extends Gn{constructor(e,t,r){const i=e instanceof pc||e instanceof nu;if(i)e=new Kw(new dT(e));else if(e instanceof Ms&&e.isCount())e=new Kw(e);else if(!(e instanceof hT))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Gn))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&i&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,s=i.decode(e,t);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,r),a+o.encode(e[o.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new $W(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}},$W=class extends Gn{constructor(e,t,r,i){if(!(e instanceof fT))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Gn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function uh(n){return 0>n&&(n+=4294967296),n}class pT extends Gn{constructor(e,t,r){if(!(e instanceof pc||e instanceof nu))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=uh(s),this},this._packedGetValue=function(){return i}}decode(e,t){const r=this.makeDestinationObject();t===void 0&&(t=0);const i=this.word.decode(e,t);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(i));return r}encode(e,t,r){r===void 0&&(r=0);const i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new ay(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new qW(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class ay{constructor(e,t,r){if(!(e instanceof pT))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=uh(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return uh(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==uh(e&this.valueMask))throw new TypeError(lT("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=uh(e<<this.start);this.container._packedSetValue(uh(t&~this.wordMask)|r)}}let qW=class extends ay{constructor(e,t){super(e,1,t)}decode(e,t){return!!ay.prototype.decode.call(this,e,t)}encode(e){return typeof e=="boolean"&&(e=+e),ay.prototype.encode.call(this,e)}},zW=class extends Gn{constructor(e,t){if(!(e instanceof Ms&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ms||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Ms&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(lT("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Ms&&this.length.encode(i,t,r),i}};class DW extends Gn{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");t===void 0&&(t=0);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t,r){t===void 0&&(t=0);let i=this.getSpan(e,t);return e.slice(t,t+i-1).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),s=i.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,r),t[r+s]=0,s+1}}class UW extends Gn{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return t===void 0&&(t=0),e.length-t}decode(e,t,r){t===void 0&&(t=0);let i=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+i).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,r),s}}class KW extends Gn{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}nt.ExternalLayout=Ms;nt.GreedyCount=BW;nt.OffsetLayout=dT;nt.UInt=pc;nt.UIntBE=nu;nt.Int=Ud;nt.IntBE=Up;nt.Float=TW;nt.FloatBE=CW;nt.Double=MW;nt.DoubleBE=LW;nt.Sequence=OW;nt.Structure=NW;nt.UnionDiscriminator=hT;nt.UnionLayoutDiscriminator=Kw;nt.Union=fT;nt.VariantLayout=$W;nt.BitStructure=pT;nt.BitField=ay;nt.Boolean=qW;nt.Blob=zW;nt.CString=DW;nt.UTF8=UW;nt.Constant=KW;nt.greedy=(n,e)=>new BW(n,e);nt.offset=(n,e,t)=>new dT(n,e,t);nt.u8=n=>new pc(1,n);nt.u16=n=>new pc(2,n);nt.u24=n=>new pc(3,n);nt.u32=n=>new pc(4,n);nt.u40=n=>new pc(5,n);nt.u48=n=>new pc(6,n);nt.nu64=n=>new Obe(n);nt.u16be=n=>new nu(2,n);nt.u24be=n=>new nu(3,n);nt.u32be=n=>new nu(4,n);nt.u40be=n=>new nu(5,n);nt.u48be=n=>new nu(6,n);nt.nu64be=n=>new Nbe(n);nt.s8=n=>new Ud(1,n);nt.s16=n=>new Ud(2,n);nt.s24=n=>new Ud(3,n);nt.s32=n=>new Ud(4,n);nt.s40=n=>new Ud(5,n);nt.s48=n=>new Ud(6,n);nt.ns64=n=>new $be(n);nt.s16be=n=>new Up(2,n);nt.s24be=n=>new Up(3,n);nt.s32be=n=>new Up(4,n);nt.s40be=n=>new Up(5,n);nt.s48be=n=>new Up(6,n);nt.ns64be=n=>new qbe(n);nt.f32=n=>new TW(n);nt.f32be=n=>new CW(n);nt.f64=n=>new MW(n);nt.f64be=n=>new LW(n);nt.struct=(n,e,t)=>new NW(n,e,t);nt.bits=(n,e,t)=>new pT(n,e,t);nt.seq=(n,e,t)=>new OW(n,e,t);nt.union=(n,e,t)=>new fT(n,e,t);nt.unionLayoutDiscriminator=(n,e)=>new Kw(n,e);nt.blob=(n,e)=>new zW(n,e);nt.cstr=n=>new DW(n);nt.utf8=(n,e)=>new UW(n,e);nt.const=(n,e)=>new KW(n,e);const zbe=la(tX);(function(n){var e=ce&&ce.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=nt,r=zbe,i=e(Ws);var s=nt;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends t.Layout{constructor(L,m,v){super(L,v),this.blob=(0,t.blob)(L),this.signed=m}decode(L,m=0){const v=new i.default(this.blob.decode(L,m),10,"le");return this.signed?v.fromTwos(this.span*8).clone():v}encode(L,m,v=0){return this.signed&&(L=L.toTwos(this.span*8)),this.blob.encode(L.toArrayLike(Buffer,"le",this.span),m,v)}}function a(ae){return new o(8,!1,ae)}n.u64=a;function c(ae){return new o(8,!0,ae)}n.i64=c;function u(ae){return new o(16,!1,ae)}n.u128=u;function l(ae){return new o(16,!0,ae)}n.i128=l;function d(ae){return new o(32,!1,ae)}n.u256=d;function b(ae){return new o(32,!0,ae)}n.i256=b;class p extends t.Layout{constructor(L,m,v,B){super(L.span,B),this.layout=L,this.decoder=m,this.encoder=v}decode(L,m){return this.decoder(this.layout.decode(L,m))}encode(L,m,v){return this.layout.encode(this.encoder(L),m,v)}getSpan(L,m){return this.layout.getSpan(L,m)}}function g(ae){return new p((0,t.blob)(32),L=>new r.PublicKey(L),L=>L.toBuffer(),ae)}n.publicKey=g;class y extends t.Layout{constructor(L,m){super(-1,m),this.layout=L,this.discriminator=(0,t.u8)()}encode(L,m,v=0){return L==null?this.discriminator.encode(0,m,v):(this.discriminator.encode(1,m,v),this.layout.encode(L,m,v+1)+1)}decode(L,m=0){const v=this.discriminator.decode(L,m);if(v===0)return null;if(v===1)return this.layout.decode(L,m+1);throw new Error("Invalid option "+this.property)}getSpan(L,m=0){const v=this.discriminator.decode(L,m);if(v===0)return 1;if(v===1)return this.layout.getSpan(L,m+1)+1;throw new Error("Invalid option "+this.property)}}function S(ae,L){return new y(ae,L)}n.option=S;function w(ae){return new p((0,t.u8)(),_,R,ae)}n.bool=w;function _(ae){if(ae===0)return!1;if(ae===1)return!0;throw new Error("Invalid bool: "+ae)}function R(ae){return ae?1:0}function x(ae,L){const m=(0,t.u32)("length"),v=(0,t.struct)([m,(0,t.seq)(ae,(0,t.offset)(m,-m.span),"values")]);return new p(v,({values:B})=>B,B=>({values:B}),L)}n.vec=x;function K(ae,L,m){const v=(0,t.struct)([a("tag"),L.replicate("data")]);function B({tag:W,data:C}){if(!W.eq(ae))throw new Error("Invalid tag, expected: "+ae.toString("hex")+", got: "+W.toString("hex"));return C}return new p(v,B,W=>({tag:ae,data:W}),m)}n.tagged=K;function J(ae){const L=(0,t.u32)("length"),m=(0,t.struct)([L,(0,t.blob)((0,t.offset)(L,-L.span),"data")]);return new p(m,({data:v})=>v,v=>({data:v}),ae)}n.vecU8=J;function M(ae){return new p(J(),L=>L.toString("utf-8"),L=>Buffer.from(L,"utf-8"),ae)}n.str=M;function Z(ae,L,m){const v=(0,t.union)(m??(0,t.u8)(),L);return ae.forEach((B,W)=>v.addVariant(W,B,B.property)),v}n.rustEnum=Z;function ie(ae,L,m){const v=(0,t.struct)([(0,t.seq)(ae,L,"values")]);return new p(v,({values:B})=>B,B=>({values:B}),m)}n.array=ie;class X extends t.Layout{constructor(L,m,v){super(L.span+m.span,v),this.keyLayout=L,this.valueLayout=m}decode(L,m){m=m||0;const v=this.keyLayout.decode(L,m),B=this.valueLayout.decode(L,m+this.keyLayout.getSpan(L,m));return[v,B]}encode(L,m,v){v=v||0;const B=this.keyLayout.encode(L[0],m,v),W=this.valueLayout.encode(L[1],m,v+B);return B+W}getSpan(L,m){return this.keyLayout.getSpan(L,m)+this.valueLayout.getSpan(L,m)}}function ne(ae,L,m){const v=(0,t.u32)("length"),B=(0,t.struct)([v,(0,t.seq)(new X(ae,L),(0,t.offset)(v,-v.span),"values")]);return new p(B,({values:W})=>new Map(W),W=>({values:Array.from(W.entries())}),m)}n.map=ne})(Gi);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Dbe=4,VO=0,jO=1,Ube=2;function Kp(n){let e=n.length;for(;--e>=0;)n[e]=0}const Kbe=0,WW=1,Wbe=2,Fbe=3,Vbe=258,gT=29,Ym=256,cm=Ym+1+gT,Kh=30,yT=19,FW=2*cm+1,Ul=15,Dv=16,jbe=7,mT=256,VW=16,jW=17,HW=18,UR=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Z1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Hbe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),YW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ybe=512,Pc=new Array((cm+2)*2);Kp(Pc);const cy=new Array(Kh*2);Kp(cy);const um=new Array(Ybe);Kp(um);const lm=new Array(Vbe-Fbe+1);Kp(lm);const bT=new Array(gT);Kp(bT);const Ww=new Array(Kh);Kp(Ww);function Uv(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let GW,JW,QW;function Kv(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const ZW=n=>n<256?um[n]:um[256+(n>>>7)],dm=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Os=(n,e,t)=>{n.bi_valid>Dv-t?(n.bi_buf|=e<<n.bi_valid&65535,dm(n,n.bi_buf),n.bi_buf=e>>Dv-n.bi_valid,n.bi_valid+=t-Dv):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Ha=(n,e,t)=>{Os(n,t[e*2],t[e*2+1])},XW=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Gbe=n=>{n.bi_valid===16?(dm(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Jbe=(n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,d,b,p,g,y=0;for(b=0;b<=Ul;b++)n.bl_count[b]=0;for(t[n.heap[n.heap_max]*2+1]=0,u=n.heap_max+1;u<FW;u++)l=n.heap[u],b=t[t[l*2+1]*2+1]+1,b>c&&(b=c,y++),t[l*2+1]=b,!(l>r)&&(n.bl_count[b]++,p=0,l>=a&&(p=o[l-a]),g=t[l*2],n.opt_len+=g*(b+p),s&&(n.static_len+=g*(i[l*2+1]+p)));if(y!==0){do{for(b=c-1;n.bl_count[b]===0;)b--;n.bl_count[b]--,n.bl_count[b+1]+=2,n.bl_count[c]--,y-=2}while(y>0);for(b=c;b!==0;b--)for(l=n.bl_count[b];l!==0;)d=n.heap[--u],!(d>r)&&(t[d*2+1]!==b&&(n.opt_len+=(b-t[d*2+1])*t[d*2],t[d*2+1]=b),l--)}},e6=(n,e,t)=>{const r=new Array(Ul+1);let i=0,s,o;for(s=1;s<=Ul;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=XW(r[a]++,a))}},Qbe=()=>{let n,e,t,r,i;const s=new Array(Ul+1);for(t=0,r=0;r<gT-1;r++)for(bT[r]=t,n=0;n<1<<UR[r];n++)lm[t++]=r;for(lm[t-1]=r,i=0,r=0;r<16;r++)for(Ww[r]=i,n=0;n<1<<Z1[r];n++)um[i++]=r;for(i>>=7;r<Kh;r++)for(Ww[r]=i<<7,n=0;n<1<<Z1[r]-7;n++)um[256+i++]=r;for(e=0;e<=Ul;e++)s[e]=0;for(n=0;n<=143;)Pc[n*2+1]=8,n++,s[8]++;for(;n<=255;)Pc[n*2+1]=9,n++,s[9]++;for(;n<=279;)Pc[n*2+1]=7,n++,s[7]++;for(;n<=287;)Pc[n*2+1]=8,n++,s[8]++;for(e6(Pc,cm+1,s),n=0;n<Kh;n++)cy[n*2+1]=5,cy[n*2]=XW(n,5);GW=new Uv(Pc,UR,Ym+1,cm,Ul),JW=new Uv(cy,Z1,0,Kh,Ul),QW=new Uv(new Array(0),Hbe,0,yT,jbe)},t6=n=>{let e;for(e=0;e<cm;e++)n.dyn_ltree[e*2]=0;for(e=0;e<Kh;e++)n.dyn_dtree[e*2]=0;for(e=0;e<yT;e++)n.bl_tree[e*2]=0;n.dyn_ltree[mT*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},n6=n=>{n.bi_valid>8?dm(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},HO=(n,e,t,r)=>{const i=e*2,s=t*2;return n[i]<n[s]||n[i]===n[s]&&r[e]<=r[t]},Wv=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&HO(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!HO(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},YO=(n,e,t)=>{let r,i,s=0,o,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+s++]&255,r+=(n.pending_buf[n.sym_buf+s++]&255)<<8,i=n.pending_buf[n.sym_buf+s++],r===0?Ha(n,i,e):(o=lm[i],Ha(n,o+Ym+1,e),a=UR[o],a!==0&&(i-=bT[o],Os(n,i,a)),r--,o=ZW(r),Ha(n,o,t),a=Z1[o],a!==0&&(r-=Ww[o],Os(n,r,a)));while(s<n.sym_next);Ha(n,mT,e)},KR=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,c=-1,u;for(n.heap_len=0,n.heap_max=FW,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=c=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)u=n.heap[++n.heap_len]=c<2?++c:0,t[u*2]=1,n.depth[u]=0,n.opt_len--,i&&(n.static_len-=r[u*2+1]);for(e.max_code=c,o=n.heap_len>>1;o>=1;o--)Wv(n,t,o);u=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Wv(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[u*2]=t[o*2]+t[a*2],n.depth[u]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=u,n.heap[1]=u++,Wv(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Jbe(n,e),e6(t,c,n.bl_count)},GO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)&&(a<u?n.bl_tree[s*2]+=a:s!==0?(s!==i&&n.bl_tree[s*2]++,n.bl_tree[VW*2]++):a<=10?n.bl_tree[jW*2]++:n.bl_tree[HW*2]++,a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},JO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=t;r++)if(s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)){if(a<u)do Ha(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ha(n,s,n.bl_tree),a--),Ha(n,VW,n.bl_tree),Os(n,a-3,2)):a<=10?(Ha(n,jW,n.bl_tree),Os(n,a-3,3)):(Ha(n,HW,n.bl_tree),Os(n,a-11,7));a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},Zbe=n=>{let e;for(GO(n,n.dyn_ltree,n.l_desc.max_code),GO(n,n.dyn_dtree,n.d_desc.max_code),KR(n,n.bl_desc),e=yT-1;e>=3&&n.bl_tree[YW[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},Xbe=(n,e,t,r)=>{let i;for(Os(n,e-257,5),Os(n,t-1,5),Os(n,r-4,4),i=0;i<r;i++)Os(n,n.bl_tree[YW[i]*2+1],3);JO(n,n.dyn_ltree,e-1),JO(n,n.dyn_dtree,t-1)},e1e=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return VO;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return jO;for(t=32;t<Ym;t++)if(n.dyn_ltree[t*2]!==0)return jO;return VO};let QO=!1;const t1e=n=>{QO||(Qbe(),QO=!0),n.l_desc=new Kv(n.dyn_ltree,GW),n.d_desc=new Kv(n.dyn_dtree,JW),n.bl_desc=new Kv(n.bl_tree,QW),n.bi_buf=0,n.bi_valid=0,t6(n)},r6=(n,e,t,r)=>{Os(n,(Kbe<<1)+(r?1:0),3),n6(n),dm(n,t),dm(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},n1e=n=>{Os(n,WW<<1,3),Ha(n,mT,Pc),Gbe(n)},r1e=(n,e,t,r)=>{let i,s,o=0;n.level>0?(n.strm.data_type===Ube&&(n.strm.data_type=e1e(n)),KR(n,n.l_desc),KR(n,n.d_desc),o=Zbe(n),i=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&e!==-1?r6(n,e,t,r):n.strategy===Dbe||s===i?(Os(n,(WW<<1)+(r?1:0),3),YO(n,Pc,cy)):(Os(n,(Wbe<<1)+(r?1:0),3),Xbe(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),YO(n,n.dyn_ltree,n.dyn_dtree)),t6(n),r&&n6(n)},i1e=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(lm[t]+Ym+1)*2]++,n.dyn_dtree[ZW(e)*2]++),n.sym_next===n.sym_end);var s1e=t1e,o1e=r6,a1e=r1e,c1e=i1e,u1e=n1e,l1e={_tr_init:s1e,_tr_stored_block:o1e,_tr_flush_block:a1e,_tr_tally:c1e,_tr_align:u1e};const d1e=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var hm=d1e;const h1e=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},f1e=new Uint32Array(h1e()),p1e=(n,e,t,r)=>{const i=f1e,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Ai=p1e,fm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},nA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:g1e,_tr_stored_block:WR,_tr_flush_block:y1e,_tr_tally:Ku,_tr_align:m1e}=l1e,{Z_NO_FLUSH:Wu,Z_PARTIAL_FLUSH:b1e,Z_FULL_FLUSH:w1e,Z_FINISH:Bo,Z_BLOCK:ZO,Z_OK:Ni,Z_STREAM_END:XO,Z_STREAM_ERROR:nc,Z_DATA_ERROR:k1e,Z_BUF_ERROR:Fv,Z_DEFAULT_COMPRESSION:S1e,Z_FILTERED:A1e,Z_HUFFMAN_ONLY:Db,Z_RLE:_1e,Z_FIXED:v1e,Z_DEFAULT_STRATEGY:E1e,Z_UNKNOWN:I1e,Z_DEFLATED:rA}=nA,R1e=9,P1e=15,x1e=8,B1e=29,T1e=256,FR=T1e+1+B1e,C1e=30,M1e=19,L1e=2*FR+1,O1e=15,an=3,Eu=258,rc=Eu+an+1,N1e=32,bp=42,wT=57,VR=69,jR=73,HR=91,YR=103,Kl=113,Ng=666,ds=1,Wp=2,bd=3,Fp=4,$1e=3,Wl=(n,e)=>(n.msg=fm[e],e),eN=n=>n*2-(n>4?9:0),wu=n=>{let e=n.length;for(;--e>=0;)n[e]=0},q1e=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)};let z1e=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,Fu=z1e;const Zs=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},ao=(n,e)=>{y1e(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Zs(n.strm)},Bn=(n,e)=>{n.pending_buf[n.pending++]=e},Sg=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},GR=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=hm(n.adler,e,i,t):n.state.wrap===2&&(n.adler=Ai(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},i6=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,s,o=n.prev_length,a=n.nice_match;const c=n.strstart>n.w_size-rc?n.strstart-(n.w_size-rc):0,u=n.window,l=n.w_mask,d=n.prev,b=n.strstart+Eu;let p=u[r+o-1],g=u[r+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(u[i+o]!==g||u[i+o-1]!==p||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<b);if(s=Eu-(b-r),r=b-Eu,s>o){if(n.match_start=e,o=s,s>=a)break;p=u[r+o-1],g=u[r+o]}}while((e=d[e&l])>c&&--t!==0);return o<=n.lookahead?o:n.lookahead},wp=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-rc)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),q1e(n),r+=e),n.strm.avail_in===0)break;if(t=GR(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=an)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=Fu(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=Fu(n,n.ins_h,n.window[i+an-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<an)););}while(n.lookahead<rc&&n.strm.avail_in!==0)},s6=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,s,o=0,a=n.strm.avail_in;do{if(r=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>s&&(r=s),r<t&&(r===0&&e!==Bo||e===Wu||r!==i+n.strm.avail_in)))break;o=e===Bo&&r===i+n.strm.avail_in?1:0,WR(n,0,0,o),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Zs(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(GR(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?Fp:e!==Wu&&e!==Bo&&n.strm.avail_in===0&&n.strstart===n.block_start?Wp:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(GR(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,i=n.strstart-n.block_start,(i>=t||(i||e===Bo)&&e!==Wu&&n.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===Bo&&n.strm.avail_in===0&&r===i?1:0,WR(n,n.block_start,r,o),n.block_start+=r,Zs(n.strm)),o?bd:ds)},Vv=(n,e)=>{let t,r;for(;;){if(n.lookahead<rc){if(wp(n),n.lookahead<rc&&e===Wu)return ds;if(n.lookahead===0)break}if(t=0,n.lookahead>=an&&(n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+an-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-rc&&(n.match_length=i6(n,t)),n.match_length>=an)if(r=Ku(n,n.strstart-n.match_start,n.match_length-an),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=an){n.match_length--;do n.strstart++,n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+an-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+1]);else r=Ku(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(ao(n,!1),n.strm.avail_out===0))return ds}return n.insert=n.strstart<an-1?n.strstart:an-1,e===Bo?(ao(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(ao(n,!1),n.strm.avail_out===0)?ds:Wp},Qd=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<rc){if(wp(n),n.lookahead<rc&&e===Wu)return ds;if(n.lookahead===0)break}if(t=0,n.lookahead>=an&&(n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+an-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=an-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-rc&&(n.match_length=i6(n,t),n.match_length<=5&&(n.strategy===A1e||n.match_length===an&&n.strstart-n.match_start>4096)&&(n.match_length=an-1)),n.prev_length>=an&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-an,r=Ku(n,n.strstart-1-n.prev_match,n.prev_length-an),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+an-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=an-1,n.strstart++,r&&(ao(n,!1),n.strm.avail_out===0))return ds}else if(n.match_available){if(r=Ku(n,0,n.window[n.strstart-1]),r&&ao(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return ds}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=Ku(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<an-1?n.strstart:an-1,e===Bo?(ao(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(ao(n,!1),n.strm.avail_out===0)?ds:Wp},D1e=(n,e)=>{let t,r,i,s;const o=n.window;for(;;){if(n.lookahead<=Eu){if(wp(n),n.lookahead<=Eu&&e===Wu)return ds;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=an&&n.strstart>0&&(i=n.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=n.strstart+Eu;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);n.match_length=Eu-(s-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=an?(t=Ku(n,1,n.match_length-an),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=Ku(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(ao(n,!1),n.strm.avail_out===0))return ds}return n.insert=0,e===Bo?(ao(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(ao(n,!1),n.strm.avail_out===0)?ds:Wp},U1e=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(wp(n),n.lookahead===0)){if(e===Wu)return ds;break}if(n.match_length=0,t=Ku(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(ao(n,!1),n.strm.avail_out===0))return ds}return n.insert=0,e===Bo?(ao(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(ao(n,!1),n.strm.avail_out===0)?ds:Wp};function ma(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const $g=[new ma(0,0,0,0,s6),new ma(4,4,8,4,Vv),new ma(4,5,16,8,Vv),new ma(4,6,32,32,Vv),new ma(4,4,16,16,Qd),new ma(8,16,32,32,Qd),new ma(8,16,128,128,Qd),new ma(8,32,128,256,Qd),new ma(32,128,258,1024,Qd),new ma(32,258,258,4096,Qd)],K1e=n=>{n.window_size=2*n.w_size,wu(n.head),n.max_lazy_match=$g[n.level].max_lazy,n.good_match=$g[n.level].good_length,n.nice_match=$g[n.level].nice_length,n.max_chain_length=$g[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=an-1,n.match_available=0,n.ins_h=0};function W1e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=rA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(L1e*2),this.dyn_dtree=new Uint16Array((2*C1e+1)*2),this.bl_tree=new Uint16Array((2*M1e+1)*2),wu(this.dyn_ltree),wu(this.dyn_dtree),wu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(O1e+1),this.heap=new Uint16Array(2*FR+1),wu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*FR+1),wu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Gm=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==bp&&e.status!==wT&&e.status!==VR&&e.status!==jR&&e.status!==HR&&e.status!==YR&&e.status!==Kl&&e.status!==Ng?1:0},o6=n=>{if(Gm(n))return Wl(n,nc);n.total_in=n.total_out=0,n.data_type=I1e;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?wT:e.wrap?bp:Kl,n.adler=e.wrap===2?0:1,e.last_flush=-2,g1e(e),Ni},a6=n=>{const e=o6(n);return e===Ni&&K1e(n.state),e},F1e=(n,e)=>Gm(n)||n.state.wrap!==2?nc:(n.state.gzhead=e,Ni),c6=(n,e,t,r,i,s)=>{if(!n)return nc;let o=1;if(e===S1e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>R1e||t!==rA||r<8||r>15||e<0||e>9||s<0||s>v1e||r===8&&o!==1)return Wl(n,nc);r===8&&(r=9);const a=new W1e;return n.state=a,a.strm=n,a.status=bp,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+an-1)/an),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,a6(n)},V1e=(n,e)=>c6(n,e,rA,P1e,x1e,E1e),j1e=(n,e)=>{if(Gm(n)||e>ZO||e<0)return n?Wl(n,nc):nc;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===Ng&&e!==Bo)return Wl(n,n.avail_out===0?Fv:nc);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Zs(n),n.avail_out===0)return t.last_flush=-1,Ni}else if(n.avail_in===0&&eN(e)<=eN(r)&&e!==Bo)return Wl(n,Fv);if(t.status===Ng&&n.avail_in!==0)return Wl(n,Fv);if(t.status===bp&&t.wrap===0&&(t.status=Kl),t.status===bp){let i=rA+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=Db||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,i|=s<<6,t.strstart!==0&&(i|=N1e),i+=31-i%31,Sg(t,i),t.strstart!==0&&(Sg(t,n.adler>>>16),Sg(t,n.adler&65535)),n.adler=1,t.status=Kl,Zs(n),t.pending!==0)return t.last_flush=-1,Ni}if(t.status===wT){if(n.adler=0,Bn(t,31),Bn(t,139),Bn(t,8),t.gzhead)Bn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Bn(t,t.gzhead.time&255),Bn(t,t.gzhead.time>>8&255),Bn(t,t.gzhead.time>>16&255),Bn(t,t.gzhead.time>>24&255),Bn(t,t.level===9?2:t.strategy>=Db||t.level<2?4:0),Bn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Bn(t,t.gzhead.extra.length&255),Bn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Ai(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=VR;else if(Bn(t,0),Bn(t,0),Bn(t,0),Bn(t,0),Bn(t,0),Bn(t,t.level===9?2:t.strategy>=Db||t.level<2?4:0),Bn(t,$1e),t.status=Kl,Zs(n),t.pending!==0)return t.last_flush=-1,Ni}if(t.status===VR){if(t.gzhead.extra){let i=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Zs(n),t.pending!==0)return t.last_flush=-1,Ni;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=jR}if(t.status===jR){if(t.gzhead.name){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),Zs(n),t.pending!==0)return t.last_flush=-1,Ni;i=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Bn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=HR}if(t.status===HR){if(t.gzhead.comment){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),Zs(n),t.pending!==0)return t.last_flush=-1,Ni;i=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Bn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i))}t.status=YR}if(t.status===YR){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Zs(n),t.pending!==0))return t.last_flush=-1,Ni;Bn(t,n.adler&255),Bn(t,n.adler>>8&255),n.adler=0}if(t.status=Kl,Zs(n),t.pending!==0)return t.last_flush=-1,Ni}if(n.avail_in!==0||t.lookahead!==0||e!==Wu&&t.status!==Ng){let i=t.level===0?s6(t,e):t.strategy===Db?U1e(t,e):t.strategy===_1e?D1e(t,e):$g[t.level].func(t,e);if((i===bd||i===Fp)&&(t.status=Ng),i===ds||i===bd)return n.avail_out===0&&(t.last_flush=-1),Ni;if(i===Wp&&(e===b1e?m1e(t):e!==ZO&&(WR(t,0,0,!1),e===w1e&&(wu(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Zs(n),n.avail_out===0))return t.last_flush=-1,Ni}return e!==Bo?Ni:t.wrap<=0?XO:(t.wrap===2?(Bn(t,n.adler&255),Bn(t,n.adler>>8&255),Bn(t,n.adler>>16&255),Bn(t,n.adler>>24&255),Bn(t,n.total_in&255),Bn(t,n.total_in>>8&255),Bn(t,n.total_in>>16&255),Bn(t,n.total_in>>24&255)):(Sg(t,n.adler>>>16),Sg(t,n.adler&65535)),Zs(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Ni:XO)},H1e=n=>{if(Gm(n))return nc;const e=n.state.status;return n.state=null,e===Kl?Wl(n,k1e):Ni},Y1e=(n,e)=>{let t=e.length;if(Gm(n))return nc;const r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==bp||r.lookahead)return nc;if(i===1&&(n.adler=hm(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(wu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(t-r.w_size,t),0),e=c,t=r.w_size}const s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,wp(r);r.lookahead>=an;){let c=r.strstart,u=r.lookahead-(an-1);do r.ins_h=Fu(r,r.ins_h,r.window[c+an-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=an-1,wp(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=an-1,r.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,r.wrap=i,Ni};var G1e=V1e,J1e=c6,Q1e=a6,Z1e=o6,X1e=F1e,e0e=j1e,t0e=H1e,n0e=Y1e,r0e="pako deflate (from Nodeca project)",uy={deflateInit:G1e,deflateInit2:J1e,deflateReset:Q1e,deflateResetKeep:Z1e,deflateSetHeader:X1e,deflate:e0e,deflateEnd:t0e,deflateSetDictionary:n0e,deflateInfo:r0e};const i0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var s0e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)i0e(t,r)&&(n[r]=t[r])}}return n},o0e=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},iA={assign:s0e,flattenChunks:o0e};let u6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u6=!1}const pm=new Uint8Array(256);for(let n=0;n<256;n++)pm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;pm[254]=pm[254]=1;var a0e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const c0e=(n,e)=>{if(e<65534&&n.subarray&&u6)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var u0e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=pm[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<t;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return c0e(s,i)},l0e=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+pm[n[t]]>e?t:e},gm={string2buf:a0e,buf2string:u0e,utf8border:l0e};function d0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var l6=d0e;const d6=Object.prototype.toString,{Z_NO_FLUSH:h0e,Z_SYNC_FLUSH:f0e,Z_FULL_FLUSH:p0e,Z_FINISH:g0e,Z_OK:Fw,Z_STREAM_END:y0e,Z_DEFAULT_COMPRESSION:m0e,Z_DEFAULT_STRATEGY:b0e,Z_DEFLATED:w0e}=nA;function kT(n){this.options=iA.assign({level:m0e,method:w0e,chunkSize:16384,windowBits:15,memLevel:8,strategy:b0e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l6,this.strm.avail_out=0;let t=uy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Fw)throw new Error(fm[t]);if(e.header&&uy.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=gm.string2buf(e.dictionary):d6.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=uy.deflateSetDictionary(this.strm,r),t!==Fw)throw new Error(fm[t]);this._dict_set=!0}}kT.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?g0e:h0e,typeof n=="string"?t.input=gm.string2buf(n):d6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===f0e||s===p0e)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=uy.deflate(t,s),i===y0e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=uy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Fw;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};kT.prototype.onData=function(n){this.chunks.push(n)};kT.prototype.onEnd=function(n){n===Fw&&(this.result=iA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const Ub=16209,k0e=16191;var S0e=function(e,t){let r,i,s,o,a,c,u,l,d,b,p,g,y,S,w,_,R,x,K,J,M,Z,ie,X;const ne=e.state;r=e.next_in,ie=e.input,i=r+(e.avail_in-5),s=e.next_out,X=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=ne.dmax,u=ne.wsize,l=ne.whave,d=ne.wnext,b=ne.window,p=ne.hold,g=ne.bits,y=ne.lencode,S=ne.distcode,w=(1<<ne.lenbits)-1,_=(1<<ne.distbits)-1;e:do{g<15&&(p+=ie[r++]<<g,g+=8,p+=ie[r++]<<g,g+=8),R=y[p&w];t:for(;;){if(x=R>>>24,p>>>=x,g-=x,x=R>>>16&255,x===0)X[s++]=R&65535;else if(x&16){K=R&65535,x&=15,x&&(g<x&&(p+=ie[r++]<<g,g+=8),K+=p&(1<<x)-1,p>>>=x,g-=x),g<15&&(p+=ie[r++]<<g,g+=8,p+=ie[r++]<<g,g+=8),R=S[p&_];n:for(;;){if(x=R>>>24,p>>>=x,g-=x,x=R>>>16&255,x&16){if(J=R&65535,x&=15,g<x&&(p+=ie[r++]<<g,g+=8,g<x&&(p+=ie[r++]<<g,g+=8)),J+=p&(1<<x)-1,J>c){e.msg="invalid distance too far back",ne.mode=Ub;break e}if(p>>>=x,g-=x,x=s-o,J>x){if(x=J-x,x>l&&ne.sane){e.msg="invalid distance too far back",ne.mode=Ub;break e}if(M=0,Z=b,d===0){if(M+=u-x,x<K){K-=x;do X[s++]=b[M++];while(--x);M=s-J,Z=X}}else if(d<x){if(M+=u+d-x,x-=d,x<K){K-=x;do X[s++]=b[M++];while(--x);if(M=0,d<K){x=d,K-=x;do X[s++]=b[M++];while(--x);M=s-J,Z=X}}}else if(M+=d-x,x<K){K-=x;do X[s++]=b[M++];while(--x);M=s-J,Z=X}for(;K>2;)X[s++]=Z[M++],X[s++]=Z[M++],X[s++]=Z[M++],K-=3;K&&(X[s++]=Z[M++],K>1&&(X[s++]=Z[M++]))}else{M=s-J;do X[s++]=X[M++],X[s++]=X[M++],X[s++]=X[M++],K-=3;while(K>2);K&&(X[s++]=X[M++],K>1&&(X[s++]=X[M++]))}}else if(x&64){e.msg="invalid distance code",ne.mode=Ub;break e}else{R=S[(R&65535)+(p&(1<<x)-1)];continue n}break}}else if(x&64)if(x&32){ne.mode=k0e;break e}else{e.msg="invalid literal/length code",ne.mode=Ub;break e}else{R=y[(R&65535)+(p&(1<<x)-1)];continue t}break}}while(r<i&&s<a);K=g>>3,r-=K,g-=K<<3,p&=(1<<g)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),ne.hold=p,ne.bits=g};const Zd=15,tN=852,nN=592,rN=0,jv=1,iN=2,A0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),v0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),E0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),I0e=(n,e,t,r,i,s,o,a)=>{const c=a.bits;let u=0,l=0,d=0,b=0,p=0,g=0,y=0,S=0,w=0,_=0,R,x,K,J,M,Z=null,ie;const X=new Uint16Array(Zd+1),ne=new Uint16Array(Zd+1);let ae=null,L,m,v;for(u=0;u<=Zd;u++)X[u]=0;for(l=0;l<r;l++)X[e[t+l]]++;for(p=c,b=Zd;b>=1&&X[b]===0;b--);if(p>b&&(p=b),b===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<b&&X[d]===0;d++);for(p<d&&(p=d),S=1,u=1;u<=Zd;u++)if(S<<=1,S-=X[u],S<0)return-1;if(S>0&&(n===rN||b!==1))return-1;for(ne[1]=0,u=1;u<Zd;u++)ne[u+1]=ne[u]+X[u];for(l=0;l<r;l++)e[t+l]!==0&&(o[ne[e[t+l]]++]=l);if(n===rN?(Z=ae=o,ie=20):n===jv?(Z=A0e,ae=_0e,ie=257):(Z=v0e,ae=E0e,ie=0),_=0,l=0,u=d,M=s,g=p,y=0,K=-1,w=1<<p,J=w-1,n===jv&&w>tN||n===iN&&w>nN)return 1;for(;;){L=u-y,o[l]+1<ie?(m=0,v=o[l]):o[l]>=ie?(m=ae[o[l]-ie],v=Z[o[l]-ie]):(m=96,v=0),R=1<<u-y,x=1<<g,d=x;do x-=R,i[M+(_>>y)+x]=L<<24|m<<16|v|0;while(x!==0);for(R=1<<u-1;_&R;)R>>=1;if(R!==0?(_&=R-1,_+=R):_=0,l++,--X[u]===0){if(u===b)break;u=e[t+o[l]]}if(u>p&&(_&J)!==K){for(y===0&&(y=p),M+=d,g=u-y,S=1<<g;g+y<b&&(S-=X[g+y],!(S<=0));)g++,S<<=1;if(w+=1<<g,n===jv&&w>tN||n===iN&&w>nN)return 1;K=_&J,i[K]=p<<24|g<<16|M-s|0}}return _!==0&&(i[M+_]=u-y<<24|64<<16|0),a.bits=p,0};var ly=I0e;const R0e=0,h6=1,f6=2,{Z_FINISH:sN,Z_BLOCK:P0e,Z_TREES:Kb,Z_OK:wd,Z_STREAM_END:x0e,Z_NEED_DICT:B0e,Z_STREAM_ERROR:qo,Z_DATA_ERROR:p6,Z_MEM_ERROR:g6,Z_BUF_ERROR:T0e,Z_DEFLATED:oN}=nA,sA=16180,aN=16181,cN=16182,uN=16183,lN=16184,dN=16185,hN=16186,fN=16187,pN=16188,gN=16189,Vw=16190,wc=16191,Hv=16192,yN=16193,Yv=16194,mN=16195,bN=16196,wN=16197,kN=16198,Wb=16199,Fb=16200,SN=16201,AN=16202,_N=16203,vN=16204,EN=16205,Gv=16206,IN=16207,RN=16208,Cr=16209,y6=16210,m6=16211,C0e=852,M0e=592,L0e=15,O0e=L0e,PN=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function N0e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kd=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<sA||e.mode>m6?1:0},b6=n=>{if(Kd(n))return qo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=sA,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(C0e),e.distcode=e.distdyn=new Int32Array(M0e),e.sane=1,e.back=-1,wd},w6=n=>{if(Kd(n))return qo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,b6(n)},k6=(n,e)=>{let t;if(Kd(n))return qo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?qo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,w6(n))},S6=(n,e)=>{if(!n)return qo;const t=new N0e;n.state=t,t.strm=n,t.window=null,t.mode=sA;const r=k6(n,e);return r!==wd&&(n.state=null),r},$0e=n=>S6(n,O0e);let xN=!0,Jv,Qv;const q0e=n=>{if(xN){Jv=new Int32Array(512),Qv=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(ly(h6,n.lens,0,288,Jv,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;ly(f6,n.lens,0,32,Qv,0,n.work,{bits:5}),xN=!1}n.lencode=Jv,n.lenbits=9,n.distcode=Qv,n.distbits=5},A6=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},z0e=(n,e)=>{let t,r,i,s,o,a,c,u,l,d,b,p,g,y,S=0,w,_,R,x,K,J,M,Z;const ie=new Uint8Array(4);let X,ne;const ae=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kd(n)||!n.output||!n.input&&n.avail_in!==0)return qo;t=n.state,t.mode===wc&&(t.mode=Hv),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,u=t.hold,l=t.bits,d=a,b=c,Z=wd;e:for(;;)switch(t.mode){case sA:if(t.wrap===0){t.mode=Hv;break}for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0),u=0,l=0,t.mode=aN;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){n.msg="incorrect header check",t.mode=Cr;break}if((u&15)!==oN){n.msg="unknown compression method",t.mode=Cr;break}if(u>>>=4,l-=4,M=(u&15)+8,t.wbits===0&&(t.wbits=M),M>15||M>t.wbits){n.msg="invalid window size",t.mode=Cr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=u&512?gN:wc,u=0,l=0;break;case aN:for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.flags=u,(t.flags&255)!==oN){n.msg="unknown compression method",t.mode=Cr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Cr;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0)),u=0,l=0,t.mode=cN;case cN:for(;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,ie[2]=u>>>16&255,ie[3]=u>>>24&255,t.check=Ai(t.check,ie,4,0)),u=0,l=0,t.mode=uN;case uN:for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0)),u=0,l=0,t.mode=lN;case lN:if(t.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0)),u=0,l=0}else t.head&&(t.head.extra=null);t.mode=dN;case dN:if(t.flags&1024&&(p=t.length,p>a&&(p=a),p&&(t.head&&(M=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+p),M)),t.flags&512&&t.wrap&4&&(t.check=Ai(t.check,r,p,s)),a-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=hN;case hN:if(t.flags&2048){if(a===0)break e;p=0;do M=r[s+p++],t.head&&M&&t.length<65536&&(t.head.name+=String.fromCharCode(M));while(M&&p<a);if(t.flags&512&&t.wrap&4&&(t.check=Ai(t.check,r,p,s)),a-=p,s+=p,M)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=fN;case fN:if(t.flags&4096){if(a===0)break e;p=0;do M=r[s+p++],t.head&&M&&t.length<65536&&(t.head.comment+=String.fromCharCode(M));while(M&&p<a);if(t.flags&512&&t.wrap&4&&(t.check=Ai(t.check,r,p,s)),a-=p,s+=p,M)break e}else t.head&&(t.head.comment=null);t.mode=pN;case pN:if(t.flags&512){for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.wrap&4&&u!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Cr;break}u=0,l=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=wc;break;case gN:for(;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}n.adler=t.check=PN(u),u=0,l=0,t.mode=Vw;case Vw:if(t.havedict===0)return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=u,t.bits=l,B0e;n.adler=t.check=1,t.mode=wc;case wc:if(e===P0e||e===Kb)break e;case Hv:if(t.last){u>>>=l&7,l-=l&7,t.mode=Gv;break}for(;l<3;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}switch(t.last=u&1,u>>>=1,l-=1,u&3){case 0:t.mode=yN;break;case 1:if(q0e(t),t.mode=Wb,e===Kb){u>>>=2,l-=2;break e}break;case 2:t.mode=bN;break;case 3:n.msg="invalid block type",t.mode=Cr}u>>>=2,l-=2;break;case yN:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Cr;break}if(t.length=u&65535,u=0,l=0,t.mode=Yv,e===Kb)break e;case Yv:t.mode=mN;case mN:if(p=t.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,c-=p,o+=p,t.length-=p;break}t.mode=wc;break;case bN:for(;l<14;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.nlen=(u&31)+257,u>>>=5,l-=5,t.ndist=(u&31)+1,u>>>=5,l-=5,t.ncode=(u&15)+4,u>>>=4,l-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Cr;break}t.have=0,t.mode=wN;case wN:for(;t.have<t.ncode;){for(;l<3;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.lens[ae[t.have++]]=u&7,u>>>=3,l-=3}for(;t.have<19;)t.lens[ae[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,X={bits:t.lenbits},Z=ly(R0e,t.lens,0,19,t.lencode,0,t.work,X),t.lenbits=X.bits,Z){n.msg="invalid code lengths set",t.mode=Cr;break}t.have=0,t.mode=kN;case kN:for(;t.have<t.nlen+t.ndist;){for(;S=t.lencode[u&(1<<t.lenbits)-1],w=S>>>24,_=S>>>16&255,R=S&65535,!(w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(R<16)u>>>=w,l-=w,t.lens[t.have++]=R;else{if(R===16){for(ne=w+2;l<ne;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(u>>>=w,l-=w,t.have===0){n.msg="invalid bit length repeat",t.mode=Cr;break}M=t.lens[t.have-1],p=3+(u&3),u>>>=2,l-=2}else if(R===17){for(ne=w+3;l<ne;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=w,l-=w,M=0,p=3+(u&7),u>>>=3,l-=3}else{for(ne=w+7;l<ne;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=w,l-=w,M=0,p=11+(u&127),u>>>=7,l-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Cr;break}for(;p--;)t.lens[t.have++]=M}}if(t.mode===Cr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Cr;break}if(t.lenbits=9,X={bits:t.lenbits},Z=ly(h6,t.lens,0,t.nlen,t.lencode,0,t.work,X),t.lenbits=X.bits,Z){n.msg="invalid literal/lengths set",t.mode=Cr;break}if(t.distbits=6,t.distcode=t.distdyn,X={bits:t.distbits},Z=ly(f6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,X),t.distbits=X.bits,Z){n.msg="invalid distances set",t.mode=Cr;break}if(t.mode=Wb,e===Kb)break e;case Wb:t.mode=Fb;case Fb:if(a>=6&&c>=258){n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=u,t.bits=l,S0e(n,b),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,u=t.hold,l=t.bits,t.mode===wc&&(t.back=-1);break}for(t.back=0;S=t.lencode[u&(1<<t.lenbits)-1],w=S>>>24,_=S>>>16&255,R=S&65535,!(w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(_&&!(_&240)){for(x=w,K=_,J=R;S=t.lencode[J+((u&(1<<x+K)-1)>>x)],w=S>>>24,_=S>>>16&255,R=S&65535,!(x+w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=x,l-=x,t.back+=x}if(u>>>=w,l-=w,t.back+=w,t.length=R,_===0){t.mode=EN;break}if(_&32){t.back=-1,t.mode=wc;break}if(_&64){n.msg="invalid literal/length code",t.mode=Cr;break}t.extra=_&15,t.mode=SN;case SN:if(t.extra){for(ne=t.extra;l<ne;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,l-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=AN;case AN:for(;S=t.distcode[u&(1<<t.distbits)-1],w=S>>>24,_=S>>>16&255,R=S&65535,!(w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(!(_&240)){for(x=w,K=_,J=R;S=t.distcode[J+((u&(1<<x+K)-1)>>x)],w=S>>>24,_=S>>>16&255,R=S&65535,!(x+w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=x,l-=x,t.back+=x}if(u>>>=w,l-=w,t.back+=w,_&64){n.msg="invalid distance code",t.mode=Cr;break}t.offset=R,t.extra=_&15,t.mode=_N;case _N:if(t.extra){for(ne=t.extra;l<ne;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,l-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Cr;break}t.mode=vN;case vN:if(c===0)break e;if(p=b-c,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Cr;break}p>t.wnext?(p-=t.wnext,g=t.wsize-p):g=t.wnext-p,p>t.length&&(p=t.length),y=t.window}else y=i,g=o-t.offset,p=t.length;p>c&&(p=c),c-=p,t.length-=p;do i[o++]=y[g++];while(--p);t.length===0&&(t.mode=Fb);break;case EN:if(c===0)break e;i[o++]=t.length,c--,t.mode=Fb;break;case Gv:if(t.wrap){for(;l<32;){if(a===0)break e;a--,u|=r[s++]<<l,l+=8}if(b-=c,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?Ai(t.check,i,b,o-b):hm(t.check,i,b,o-b)),b=c,t.wrap&4&&(t.flags?u:PN(u))!==t.check){n.msg="incorrect data check",t.mode=Cr;break}u=0,l=0}t.mode=IN;case IN:if(t.wrap&&t.flags){for(;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.wrap&4&&u!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Cr;break}u=0,l=0}t.mode=RN;case RN:Z=x0e;break e;case Cr:Z=p6;break e;case y6:return g6;case m6:default:return qo}return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=u,t.bits=l,(t.wsize||b!==n.avail_out&&t.mode<Cr&&(t.mode<Gv||e!==sN))&&A6(n,n.output,n.next_out,b-n.avail_out),d-=n.avail_in,b-=n.avail_out,n.total_in+=d,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?Ai(t.check,i,b,n.next_out-b):hm(t.check,i,b,n.next_out-b)),n.data_type=t.bits+(t.last?64:0)+(t.mode===wc?128:0)+(t.mode===Wb||t.mode===Yv?256:0),(d===0&&b===0||e===sN)&&Z===wd&&(Z=T0e),Z},D0e=n=>{if(Kd(n))return qo;let e=n.state;return e.window&&(e.window=null),n.state=null,wd},U0e=(n,e)=>{if(Kd(n))return qo;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,wd):qo},K0e=(n,e)=>{const t=e.length;let r,i,s;return Kd(n)||(r=n.state,r.wrap!==0&&r.mode!==Vw)?qo:r.mode===Vw&&(i=1,i=hm(i,e,t,0),i!==r.check)?p6:(s=A6(n,e,t,t),s?(r.mode=y6,g6):(r.havedict=1,wd))};var W0e=w6,F0e=k6,V0e=b6,j0e=$0e,H0e=S6,Y0e=z0e,G0e=D0e,J0e=U0e,Q0e=K0e,Z0e="pako inflate (from Nodeca project)",xc={inflateReset:W0e,inflateReset2:F0e,inflateResetKeep:V0e,inflateInit:j0e,inflateInit2:H0e,inflate:Y0e,inflateEnd:G0e,inflateGetHeader:J0e,inflateSetDictionary:Q0e,inflateInfo:Z0e};function X0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ewe=X0e;const _6=Object.prototype.toString,{Z_NO_FLUSH:twe,Z_FINISH:nwe,Z_OK:ym,Z_STREAM_END:Zv,Z_NEED_DICT:Xv,Z_STREAM_ERROR:rwe,Z_DATA_ERROR:BN,Z_MEM_ERROR:iwe}=nA;function ST(n){this.options=iA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l6,this.strm.avail_out=0;let t=xc.inflateInit2(this.strm,e.windowBits);if(t!==ym)throw new Error(fm[t]);if(this.header=new ewe,xc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=gm.string2buf(e.dictionary):_6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=xc.inflateSetDictionary(this.strm,e.dictionary),t!==ym)))throw new Error(fm[t])}ST.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?nwe:twe,_6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=xc.inflate(t,o),s===Xv&&i&&(s=xc.inflateSetDictionary(t,i),s===ym?s=xc.inflate(t,o):s===BN&&(s=Xv));t.avail_in>0&&s===Zv&&t.state.wrap>0&&n[t.next_in]!==0;)xc.inflateReset(t),s=xc.inflate(t,o);switch(s){case rwe:case BN:case Xv:case iwe:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===Zv))if(this.options.to==="string"){let c=gm.utf8border(t.output,t.next_out),u=t.next_out-c,l=gm.buf2string(t.output,c);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(l)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===ym&&a===0)){if(s===Zv)return s=xc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ST.prototype.onData=function(n){this.chunks.push(n)};ST.prototype.onEnd=function(n){n===ym&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=iA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};Gi.struct([Gi.publicKey("authority"),Gi.vecU8("data")]);class swe extends TypeError{constructor(e,t){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function owe(n){return Wh(n)&&typeof n[Symbol.iterator]=="function"}function Wh(n){return typeof n=="object"&&n!=null}function el(n){return typeof n=="string"?JSON.stringify(n):""+n}function awe(n){const{done:e,value:t}=n.next();return e?void 0:t}function cwe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+el(r)+"`"}=n;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...n,message:c}}function*TN(n,e,t,r){owe(n)||(n=[n]);for(const i of n){const s=cwe(i,e,t,r);s&&(yield s)}}function*AT(n,e,t){t===void 0&&(t={});const{path:r=[],branch:i=[n],coerce:s=!1,mask:o=!1}=t,a={path:r,branch:i};if(s&&(n=e.coercer(n,a),o&&e.type!=="type"&&Wh(e.schema)&&Wh(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const b=AT(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const p of b)p[0]?(c=!1,yield[p[0],void 0]):s&&(l=p[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Wh(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class al{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return TN(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return TN(l,u,this,c)}:this.refiner=()=>[]}assert(e){return uwe(e,this)}create(e){return v6(e,this)}is(e){return E6(e,this)}mask(e){return lwe(e,this)}validate(e,t){return t===void 0&&(t={}),Jm(e,this,t)}}function uwe(n,e){const t=Jm(n,e);if(t[0])throw t[0]}function v6(n,e){const t=Jm(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function lwe(n,e){const t=Jm(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function E6(n,e){return!Jm(n,e)[0]}function Jm(n,e,t){t===void 0&&(t={});const r=AT(n,e,t),i=awe(r);return i[0]?[new swe(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Qm(n,e){return new al({type:n,schema:null,validator:e})}function dwe(){return Qm("any",()=>!0)}function eE(n){return new al({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+el(e)}})}function hwe(){return Qm("boolean",n=>typeof n=="boolean")}function CN(n){const e=el(n);return new al({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+el(t)}})}function Vb(n){return new al({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function X1(){return Qm("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+el(n))}function e0(n){return new al({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Fl(){return Qm("string",n=>typeof n=="string"||"Expected a string, but received: "+el(n))}function Vu(n){const e=Object.keys(n);return new al({type:"type",schema:n,*entries(t){if(Wh(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Wh(t)||"Expected an object, but received: "+el(t)}})}function I6(n){const e=n.map(t=>t.type).join(" | ");return new al({type:"union",schema:null,coercer(t,r){return(n.find(s=>{const[o]=s.validate(t,{coerce:!0});return!o})||_T()).coercer(t,r)},validator(t,r){const i=[];for(const s of n){const[...o]=AT(t,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+el(t),...i]}})}function _T(){return Qm("unknown",()=>!0)}function fwe(n,e,t){return new al({...n,coercer:(r,i)=>E6(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}function pwe(n){return fwe(R6(n),gwe,e=>"error"in e?e:{...e,result:v6(e.result,n)})}const gwe=R6(_T());function R6(n){return I6([Vu({jsonrpc:CN("2.0"),id:Fl(),result:n}),Vu({jsonrpc:CN("2.0"),id:Fl(),error:Vu({code:_T(),message:Fl(),data:e0(dwe())})})])}function ywe(n){return pwe(Vu({context:Vu({slot:X1()}),value:n}))}ywe(Vu({err:Vb(I6([Vu({}),Fl()])),logs:Vb(eE(Fl())),accounts:e0(Vb(eE(Vb(Vu({executable:hwe(),owner:Fl(),lamports:X1(),data:eE(Fl()),rentEpoch:e0(X1())}))))),unitsConsumed:e0(X1())}));var mwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};class Ks{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var oA=Ks;function bwe(n,e){return e.property?n+"["+e.property+"]":n}class Vl extends Ks{isCount(){throw new Error("ExternalLayout is abstract")}}class P6 extends Vl{constructor(e,t,r){if(!(e instanceof Ks))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof aA||this.layout instanceof x6}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class aA extends Ks{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class x6 extends Ks{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const JR=Math.pow(2,32);function B6(n){const e=Math.floor(n/JR),t=n-e*JR;return{hi32:e,lo32:t}}function T6(n,e){return n*JR+e}class wwe extends Ks{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return T6(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=B6(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}}class kwe extends Ks{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return T6(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=B6(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}}class Swe extends Ks{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ks,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class C6{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class MN extends C6{constructor(e,t){if(!(e instanceof Vl&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class M6 extends Ks{constructor(e,t,r){const i=e instanceof aA||e instanceof x6;if(i)e=new MN(new P6(e));else if(e instanceof Vl&&e.isCount())e=new MN(e);else if(!(e instanceof C6))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ks))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&i&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,s=i.decode(e,t);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,r),a+o.encode(e[o.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new Awe(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class Awe extends Ks{constructor(e,t,r,i){if(!(e instanceof M6))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ks))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class _we extends Ks{constructor(e,t){if(!(e instanceof Vl&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Vl||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Vl&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(bwe("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Vl&&this.length.encode(i,t,r),i}}var vwe=(n,e,t)=>new P6(n,e,t),Ewe=n=>new aA(1,n),qc=n=>new aA(4,n),Iwe=n=>new wwe(n),Zc=n=>new kwe(n),wi=(n,e,t)=>new Swe(n,e,t),L6=(n,e,t)=>new M6(n,e,t),Zm=(n,e)=>new _we(n,e);class Rwe extends oA{constructor(e){super(-1,e),this.property=e,this.layout=wi([qc("length"),qc("lengthPadding"),Zm(vwe(qc(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return qc().span+qc().span+new Zi(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function cA(n){return new Rwe(n)}function zo(n){return Zm(32,n)}const wo=L6(qc("instruction"));wo.addVariant(0,wi([Zc("lamports"),Zc("space"),zo("owner")]),"createAccount");wo.addVariant(1,wi([zo("owner")]),"assign");wo.addVariant(2,wi([Zc("lamports")]),"transfer");wo.addVariant(3,wi([zo("base"),cA("seed"),Zc("lamports"),Zc("space"),zo("owner")]),"createAccountWithSeed");wo.addVariant(4,wi([zo("authorized")]),"advanceNonceAccount");wo.addVariant(5,wi([Zc("lamports")]),"withdrawNonceAccount");wo.addVariant(6,wi([zo("authorized")]),"initializeNonceAccount");wo.addVariant(7,wi([zo("authorized")]),"authorizeNonceAccount");wo.addVariant(8,wi([Zc("space")]),"allocate");wo.addVariant(9,wi([zo("base"),cA("seed"),Zc("space"),zo("owner")]),"allocateWithSeed");wo.addVariant(10,wi([zo("base"),cA("seed"),zo("owner")]),"assignWithSeed");wo.addVariant(11,wi([Zc("lamports"),cA("seed"),zo("owner")]),"transferWithSeed");Math.max(...Object.values(wo.registry).map(n=>n.span));class Pwe extends oA{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function LN(n){return new Pwe(Zm(32),e=>new Se(e),e=>e.toBuffer(),n)}wi([qc("version"),qc("state"),LN("authorizedPubkey"),LN("nonce"),wi([Iwe("lamportsPerSignature")],"feeCalculator")]);new Se("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new Se("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ON={exports:{}};(function(n,e){var t=typeof self<"u"?self:mwe,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(m){return m&&DataView.prototype.isPrototypeOf(m)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(m){return m&&u.indexOf(Object.prototype.toString.call(m))>-1};function d(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function b(m){return typeof m!="string"&&(m=String(m)),m}function p(m){var v={next:function(){var B=m.shift();return{done:B===void 0,value:B}}};return a.iterable&&(v[Symbol.iterator]=function(){return v}),v}function g(m){this.map={},m instanceof g?m.forEach(function(v,B){this.append(B,v)},this):Array.isArray(m)?m.forEach(function(v){this.append(v[0],v[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(v){this.append(v,m[v])},this)}g.prototype.append=function(m,v){m=d(m),v=b(v);var B=this.map[m];this.map[m]=B?B+", "+v:v},g.prototype.delete=function(m){delete this.map[d(m)]},g.prototype.get=function(m){return m=d(m),this.has(m)?this.map[m]:null},g.prototype.has=function(m){return this.map.hasOwnProperty(d(m))},g.prototype.set=function(m,v){this.map[d(m)]=b(v)},g.prototype.forEach=function(m,v){for(var B in this.map)this.map.hasOwnProperty(B)&&m.call(v,this.map[B],B,this)},g.prototype.keys=function(){var m=[];return this.forEach(function(v,B){m.push(B)}),p(m)},g.prototype.values=function(){var m=[];return this.forEach(function(v){m.push(v)}),p(m)},g.prototype.entries=function(){var m=[];return this.forEach(function(v,B){m.push([B,v])}),p(m)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function S(m){return new Promise(function(v,B){m.onload=function(){v(m.result)},m.onerror=function(){B(m.error)}})}function w(m){var v=new FileReader,B=S(v);return v.readAsArrayBuffer(m),B}function _(m){var v=new FileReader,B=S(v);return v.readAsText(m),B}function R(m){for(var v=new Uint8Array(m),B=new Array(v.length),W=0;W<v.length;W++)B[W]=String.fromCharCode(v[W]);return B.join("")}function x(m){if(m.slice)return m.slice(0);var v=new Uint8Array(m.byteLength);return v.set(new Uint8Array(m)),v.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:a.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:a.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():a.arrayBuffer&&a.blob&&c(m)?(this._bodyArrayBuffer=x(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||l(m))?this._bodyArrayBuffer=x(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var m=y(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var m=y(this);if(m)return m;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(ie)}),this.json=function(){return this.text().then(JSON.parse)},this}var J=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(m){var v=m.toUpperCase();return J.indexOf(v)>-1?v:m}function Z(m,v){v=v||{};var B=v.body;if(m instanceof Z){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,v.headers||(this.headers=new g(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!B&&m._bodyInit!=null&&(B=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new g(v.headers)),this.method=M(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}Z.prototype.clone=function(){return new Z(this,{body:this._bodyInit})};function ie(m){var v=new FormData;return m.trim().split("&").forEach(function(B){if(B){var W=B.split("="),C=W.shift().replace(/\+/g," "),$=W.join("=").replace(/\+/g," ");v.append(decodeURIComponent(C),decodeURIComponent($))}}),v}function X(m){var v=new g,B=m.replace(/\r?\n[\t ]+/g," ");return B.split(/\r?\n/).forEach(function(W){var C=W.split(":"),$=C.shift().trim();if($){var Q=C.join(":").trim();v.append($,Q)}}),v}K.call(Z.prototype);function ne(m,v){v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"OK",this.headers=new g(v.headers),this.url=v.url||"",this._initBody(m)}K.call(ne.prototype),ne.prototype.clone=function(){return new ne(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},ne.error=function(){var m=new ne(null,{status:0,statusText:""});return m.type="error",m};var ae=[301,302,303,307,308];ne.redirect=function(m,v){if(ae.indexOf(v)===-1)throw new RangeError("Invalid status code");return new ne(null,{status:v,headers:{location:m}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(v,B){this.message=v,this.name=B;var W=Error(v);this.stack=W.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function L(m,v){return new Promise(function(B,W){var C=new Z(m,v);if(C.signal&&C.signal.aborted)return W(new o.DOMException("Aborted","AbortError"));var $=new XMLHttpRequest;function Q(){$.abort()}$.onload=function(){var N={status:$.status,statusText:$.statusText,headers:X($.getAllResponseHeaders()||"")};N.url="responseURL"in $?$.responseURL:N.headers.get("X-Request-URL");var E="response"in $?$.response:$.responseText;B(new ne(E,N))},$.onerror=function(){W(new TypeError("Network request failed"))},$.ontimeout=function(){W(new TypeError("Network request failed"))},$.onabort=function(){W(new o.DOMException("Aborted","AbortError"))},$.open(C.method,C.url,!0),C.credentials==="include"?$.withCredentials=!0:C.credentials==="omit"&&($.withCredentials=!1),"responseType"in $&&a.blob&&($.responseType="blob"),C.headers.forEach(function(N,E){$.setRequestHeader(E,N)}),C.signal&&(C.signal.addEventListener("abort",Q),$.onreadystatechange=function(){$.readyState===4&&C.signal.removeEventListener("abort",Q)}),$.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return L.polyfill=!0,s.fetch||(s.fetch=L,s.Headers=g,s.Request=Z,s.Response=ne),o.Headers=g,o.Request=Z,o.Response=ne,o.fetch=L,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(ON,ON.exports);Gi.rustEnum([Gi.struct([],"uninitialized"),Gi.struct([Gi.option(Gi.publicKey(),"authorityAddress")],"buffer"),Gi.struct([Gi.publicKey("programdataAddress")],"program"),Gi.struct([Gi.u64("slot"),Gi.option(Gi.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Gi.u32());function tE(n){return new O6(Zm(8),e=>vT.fromBuffer(e),e=>e.toBuffer(),n)}function jb(n){return new O6(Zm(32),e=>new Se(e),e=>e.toBuffer(),n)}function nE(n,e){return new xwe(n,e)}class O6 extends oA{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class xwe extends oA{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=qc()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class vT extends Zi{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new vT([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}wi([jb("mint"),jb("owner"),tE("amount"),nE(jb(),"delegate"),(n=>{const e=L6(Ewe("discriminator"),null,n);return e.addVariant(0,wi([]),"uninitialized"),e.addVariant(1,wi([]),"initialized"),e.addVariant(2,wi([]),"frozen"),e})("state"),nE(tE(),"isNative"),tE("delegatedAmount"),nE(jb(),"closeAuthority")]);new Se("11111111111111111111111111111111");const rE="https://palpable-soft-snow.solana-mainnet.quiknode.pro/57fb180da8c3fd0277b2b11220fd2800886a3f0b/",Bwe={EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:!0,Dn4noZ5jgGfkntzcQSUZ8czkreiZ1ForXYoV2H8Dm7S1:!0,"75oMBjDFXA4mxg4M9xM3Z5fqmApVtsSZWssRFyA6qTho":!0,"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk":!0,So11111111111111111111111111111111111111112:!0},Twe="H2dovpqu6bjyPyY9nDVM4Z9C8uPi51vZbXe6QPCj4XQS",Ag=()=>{if(window.solana&&window.phantom){const n=window.phantom.solana;if(n!=null&&n.isPhantom)return n}else window.open("https://phantom.app/","_blank")},Cwe=function(n){return n.slice(0,5)+"..."+n.slice(n.length-5,n.length)},Mwe="/assets/5-Dhciu4OE.png",Lwe="/assets/1-BfkTqIuF.png",Owe="/assets/2-CrECtg2z.png",Nwe="/assets/12-BZTW9xrm.png",$we="/assets/Phantom-Ch6fC34c.png",qwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAaCAYAAABPY4eKAAAAAXNSR0IArs4c6QAAAQJJREFUSA3llWEOgyAMhWHZvfRocjM5GdurdHEIDl6jf0aCDZX2a6GAd7aWDObeG4zTsvDWsH2S5ilJzvgg/jEZwkZ9kHABelm45EalMtllN2WeN9u255oBIdmkCVTDpCcC5jj1+JVSbcQl6rSu69n/wz/MX7Yz+DOAs2qnwIdoThQt+OVgxFSD3wIGvNwXM7h3v0v4reA9XMDTNEHX1YJe0Hn2SMYK+HpYYoyqH5IMGIBawQl4nmeHjnOL3mosGP6qcEDxcgCanVcDsIDLZHCNSn+DUQOfseorsvRhGoO7B5ucjRj/HxirI1lDjiyVdS6qHWDHnnFrAJqtSqs/yv52+As4F6M8VWFaEAAAAABJRU5ErkJggg==";var zwe={637:function(n,e,t){var r=t(537),i=t.n(r),s=t(645),o=t.n(s),a=o()(i());a.push([n.id,":host{display:inline-block;border:solid 8px #bdbdbd;max-width:100%;font-size:0;white-space:nowrap}*,*::after,*::before{-webkit-box-sizing:border-box;box-sizing:border-box}.svg-container{height:0;width:0;overflow:hidden;display:inline-block}.sweeper-container{display:-webkit-box;display:-ms-flexbox;display:flex;border:3px solid;border-color:#7b7b7b #fff #fff #7b7b7b;background-color:#bdbdbd;overflow-x:auto}.sweeper-container:not(.show-hover-elements) .sweeper-field>*:nth-child(2),.sweeper-container.show-hover-elements .sweeper-field:not(:hover)>*:nth-child(2){display:none}.sweeper-box{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;place-items:center;place-content:center}.sweeper-row{display:inline-block}.sweeper-field{display:inline-block;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;height:40px;width:40px;overflow:hidden;position:relative;-o-object-position:center;object-position:center;-o-object-fit:cover;object-fit:cover;cursor:pointer}.sweeper-field.unselectable{cursor:default}.sweeper-field>*{position:absolute;inset:0}.sweeper-field>*:nth-child(2){opacity:.25}","",{version:3,sources:["webpack://./src/minesweeper.scss"],names:[],mappings:"AAAA,MACE,oBAAA,CACA,wBAAA,CACA,cAAA,CAGA,WAAA,CACA,kBAAA,CAGF,qBAGE,6BAAA,CAAA,qBAAA,CAGF,eACE,QAAA,CACA,OAAA,CACA,eAAA,CACA,oBAAA,CAGF,mBACE,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,gBAAA,CACA,sCAAA,CACA,wBAAA,CACA,eAAA,CAIE,4JACE,YAAA,CAKN,aACE,0BAAA,CAAA,0BAAA,CAAA,mBAAA,CACA,2BAAA,CAAA,4BAAA,CAAA,yBAAA,CAAA,qBAAA,CACA,kBAAA,CACA,oBAAA,CAGF,aACE,oBAAA,CAGF,eACE,oBAAA,CACA,qBAAA,CAAA,oBAAA,CAAA,gBAAA,CACA,yCAAA,CACA,wBAAA,CACA,0BAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CACA,yBAAA,CAAA,sBAAA,CACA,mBAAA,CAAA,gBAAA,CACA,cAAA,CAEA,4BACE,cAAA,CAGF,iBACE,iBAAA,CACA,OAAA,CAEA,8BACE,WAAA",sourcesContent:[`:host {
  display: inline-block;
  border: solid 8px #bdbdbd;
  max-width: 100%;

  // Fontsize of 0 to remove white space between inline-block childs
  font-size: 0;
  white-space: nowrap;
}

*,
*::after,
*::before {
  box-sizing: border-box;
}

.svg-container {
  height: 0;
  width: 0;
  overflow: hidden;
  display: inline-block;
}

.sweeper-container {
  display: flex;
  border: 3px solid;
  border-color: rgb(123 123 123) white white rgb(123 123 123);
  background-color: #bdbdbd;
  overflow-x: auto;

  &:not(.show-hover-elements) .sweeper-field,
  &.show-hover-elements .sweeper-field:not(:hover) {
    > *:nth-child(2) {
      display: none;
    }
  }
}

.sweeper-box {
  display: inline-flex;
  flex-direction: column;
  place-items: center;
  place-content: center;
}

.sweeper-row {
  display: inline-block;
}

.sweeper-field {
  display: inline-block;
  user-select: none;
  -webkit-tap-highlight-color: transparent; /* for removing the highlight */
  -webkit-user-select: none; /* disable selection/Copy of UIWebView */
  -webkit-touch-callout: none; /* disable the IOS popup when long-press on a link */
  height: 40px;
  width: 40px;
  overflow: hidden;
  position: relative;
  object-position: center;
  object-fit: cover;
  cursor: pointer;

  &.unselectable {
    cursor: default;
  }

  > * {
    position: absolute;
    inset: 0;

    &:nth-child(2) {
      opacity: 0.25;
    }
  }
}
`],sourceRoot:""}]),e.Z=a},645:function(n){n.exports=function(e){var t=[];return t.toString=function(){return this.map(function(i){var s="",o=typeof i[5]<"u";return i[4]&&(s+="@supports (".concat(i[4],") {")),i[2]&&(s+="@media ".concat(i[2]," {")),o&&(s+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),s+=e(i),o&&(s+="}"),i[2]&&(s+="}"),i[4]&&(s+="}"),s}).join("")},t.i=function(i,s,o,a,c){typeof i=="string"&&(i=[[null,i,void 0]]);var u={};if(o)for(var l=0;l<this.length;l++){var d=this[l][0];d!=null&&(u[d]=!0)}for(var b=0;b<i.length;b++){var p=[].concat(i[b]);o&&u[p[0]]||(typeof c<"u"&&(typeof p[5]>"u"||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=c),s&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=s),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},537:function(n){n.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if(typeof btoa=="function"){var i=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(s," */");return[t].concat([o]).join(`
`)}return[t].join(`
`)}},528:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><defs><path d="M2 74L2 2L74 2L74 74L74 74L2 74Z" id="e1cjUtGijV"></path><mask id="maske5Vz1Zki6" x="-2" y="-2" width="80" height="80" maskUnits="userSpaceOnUse"><rect x="-2" y="-2" width="80" height="80" fill="white"></rect><use xlink:href="#e1cjUtGijV" opacity="1" fill="black"></use></mask></defs><g id="bomb-explode"><g><use xlink:href="#e1cjUtGijV" opacity="1" fill="#ff0000" fill-opacity="1"></use><g mask="url(#maske5Vz1Zki6)"><use xlink:href="#e1cjUtGijV" opacity="1" fill-opacity="0" stroke="#757575" stroke-width="4" stroke-opacity="1"></use></g></g><use xlink:href="#bomb-element"></use></g></svg>'},726:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><defs><path d="M2 74L2 2L74 2L74 74L74 74L2 74Z" id="e2iiwvZd6v"></path><mask id="maskaXtlGt3qy" x="-2" y="-2" width="80" height="80" maskUnits="userSpaceOnUse"><rect x="-2" y="-2" width="80" height="80" fill="white"></rect><use xlink:href="#e2iiwvZd6v" opacity="1" fill="black"></use></mask><path d="M35.6 6.8L40.4 6.8L40.4 69.2L35.6 69.2L35.6 6.8Z" id="c9eN9knBh"></path><clipPath id="clipd1zPYXGAwy"><use xlink:href="#c9eN9knBh" opacity="1"></use></clipPath><path d="M40.4 16.4L50 16.4L50 59.6L40.4 59.6L40.4 16.4Z" id="gx4drqHvY"></path><clipPath id="clipa2yM9RkR6"><use xlink:href="#gx4drqHvY" opacity="1"></use></clipPath><path d="M50 21.2L54.8 21.2L54.8 54.8L50 54.8L50 21.2Z" id="fgtYUnw8A"></path><clipPath id="clipk32QKT1MaU"><use xlink:href="#fgtYUnw8A" opacity="1"></use></clipPath><path d="M54.8 26L59.6 26L59.6 50L54.8 50L54.8 26Z" id="cgzxabwz1"></path><clipPath id="cliph2KpOi7P9O"><use xlink:href="#cgzxabwz1" opacity="1"></use></clipPath><path d="M59.6 35.6L69.2 35.6L69.2 40.4L59.6 40.4L59.6 35.6Z" id="b3gPwqEoX"></path><clipPath id="clipe23gtVrUJ"><use xlink:href="#b3gPwqEoX" opacity="1"></use></clipPath><path d="M26 16.4L35.6 16.4L35.6 59.6L26 59.6L26 16.4Z" id="ad99VAl8I"></path><clipPath id="clipd1v1rV6sj4"><use xlink:href="#ad99VAl8I" opacity="1"></use></clipPath><path d="M21.2 21.2L26 21.2L26 54.8L21.2 54.8L21.2 21.2Z" id="c13ZaXjO2p"></path><clipPath id="cliph399Xr21VH"><use xlink:href="#c13ZaXjO2p" opacity="1"></use></clipPath><path d="M16.4 26L21.2 26L21.2 50L16.4 50L16.4 26Z" id="b2SwHVIyUf"></path><clipPath id="clipbgmy6Y3Gb"><use xlink:href="#b2SwHVIyUf" opacity="1"></use></clipPath><path d="M6.8 35.6L16.4 35.6L16.4 40.4L6.8 40.4L6.8 35.6Z" id="g3CI8RzO6L"></path><clipPath id="clipb4iPMKkLd9"><use xlink:href="#g3CI8RzO6L" opacity="1"></use></clipPath><path d="M54.8 16.4L59.6 16.4L59.6 21.2L54.8 21.2L54.8 16.4Z" id="bVu929Gr"></path><clipPath id="clipb5eim9AY4T"><use xlink:href="#bVu929Gr" opacity="1"></use></clipPath><path d="M16.4 16.4L21.2 16.4L21.2 21.2L16.4 21.2L16.4 16.4Z" id="bbmkl5w40"></path><clipPath id="clipdILmNb1DZ"><use xlink:href="#bbmkl5w40" opacity="1"></use></clipPath><path d="M54.8 54.8L59.6 54.8L59.6 59.6L54.8 59.6L54.8 54.8Z" id="afRzpmA7F"></path><clipPath id="clipa1MHsUZSGO"><use xlink:href="#afRzpmA7F" opacity="1"></use></clipPath><path d="M16.4 54.8L21.2 54.8L21.2 59.6L16.4 59.6L16.4 54.8Z" id="f34Z0Cg2H2"></path><clipPath id="clipaiMYuA5gL"><use xlink:href="#f34Z0Cg2H2" opacity="1"></use></clipPath><path d="M26 26L35.6 26L35.6 35.6L26 35.6L26 26Z" id="a7XCqe2jKp"></path></defs><g id="bomb"><g id="bomb-background"><use xlink:href="#e2iiwvZd6v" opacity="1" fill="#b9b9b9" fill-opacity="1"></use><g mask="url(#maskaXtlGt3qy)"><use xlink:href="#e2iiwvZd6v" opacity="1" fill-opacity="0" stroke="#757575" stroke-width="4" stroke-opacity="1"></use></g></g><g id="bomb-element"><g><use xlink:href="#c9eN9knBh" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipd1zPYXGAwy)"><use xlink:href="#c9eN9knBh" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#gx4drqHvY" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipa2yM9RkR6)"><use xlink:href="#gx4drqHvY" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#fgtYUnw8A" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipk32QKT1MaU)"><use xlink:href="#fgtYUnw8A" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#cgzxabwz1" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#cliph2KpOi7P9O)"><use xlink:href="#cgzxabwz1" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#b3gPwqEoX" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipe23gtVrUJ)"><use xlink:href="#b3gPwqEoX" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#ad99VAl8I" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipd1v1rV6sj4)"><use xlink:href="#ad99VAl8I" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#c13ZaXjO2p" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#cliph399Xr21VH)"><use xlink:href="#c13ZaXjO2p" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#b2SwHVIyUf" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipbgmy6Y3Gb)"><use xlink:href="#b2SwHVIyUf" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#g3CI8RzO6L" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipb4iPMKkLd9)"><use xlink:href="#g3CI8RzO6L" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#bVu929Gr" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipb5eim9AY4T)"><use xlink:href="#bVu929Gr" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#bbmkl5w40" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipdILmNb1DZ)"><use xlink:href="#bbmkl5w40" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#afRzpmA7F" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipa1MHsUZSGO)"><use xlink:href="#afRzpmA7F" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#f34Z0Cg2H2" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipaiMYuA5gL)"><use xlink:href="#f34Z0Cg2H2" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#a7XCqe2jKp" opacity="1" fill="#ffffff" fill-opacity="1"></use></g></g></g></svg>'},202:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="flag-missed"><use href="#bomb"></use><line stroke-width="4" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_78" y2="72" x2="72" y1="4" x1="4" stroke="#ff0000" fill="none"></line><line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_79" y2="72" x2="4" y1="4" x1="72" stroke-width="4" stroke="#ff0000" fill="none"></line></g></svg>'},379:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="flag"><use href="#unopened-square"></use><g><polygon points="35.999,55.5 35.999,16.5 40,16.5 40,55.5 35.999,55.5 "></polygon><polygon fill="#FF0000" points="40,13.875 19.375,27 40,40.125 "></polygon><rect x="28.571" y="51.625" width="18.857" height="5.5"></rect><rect x="20.222" y="56.459" width="35.555" height="7.041"></rect></g></g></svg>'},885:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="blank"><polygon fill="#B9B9B9" points="75.001,75.001 1,75.001 1,1 75.001,1 75.001,75.001 "></polygon><path fill="#757575" d="M75.991,0C75.996,0,76,0.004,76,0.009V75.99c0,0.006-0.004,0.01-0.009,0.01H0.009 C0.004,76,0,75.996,0,75.99V0.009C0,0.004,0.004,0,0.009,0H75.991 M74,2H2v72h72V2L74,2z"></path></g></svg>'},113:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-1"><use href="#blank"></use><polygon fill="#0000FF" points="40.857,8.928 18,26.071 18,31.785 32.286,31.785 32.286,54.644 18,54.644 18,66.071 58,66.071 58,54.644 46.571,54.644 46.571,8.928 "></polygon></g></svg>'},877:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-2"><use href="#blank"></use><path fill="#008200" d="M51.256,26.134v-4.545c0-1.545-1.293-2.796-2.892-2.796H27.393c-1.593,0-2.892,1.251-2.892,2.796v4.545 H8.593v-5.942C8.593,14.011,13.778,9,20.163,9h35.433c6.388,0,11.569,5.011,11.569,11.191c0,4.064,1.287,8.448-2.521,11.417 c-2.649,2.062-5.948,3.822-8.757,5.743c-6.993,4.777-14.083,9.431-21.093,14.188c-0.91,0.621-3.707,3.276-4.87,3.276 c0.012,0,37.602,0,37.602,0V66H8.774c0-4.529-1.605-9.863,2.609-13.253c2.949-2.372,6.773-4.315,9.932-6.502 c8-5.557,16.259-10.779,24.287-16.306C46.188,29.535,51.256,26.874,51.256,26.134z"></path></g></svg>'},389:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-3"><use href="#blank"></use><path fill="#FF0000" d="M66.322,20.4c0-6.295-5.104-11.4-11.4-11.4H9.678v10.688H48.51c1.575,0,2.85,1.275,2.85,2.85v6.413 c0,1.569-1.274,2.85-2.85,2.85H26.778v12.825H48.51c1.575,0,2.85,1.274,2.85,2.85v6.413c0,1.569-1.274,2.85-2.85,2.85H9.678V66 h45.244c6.296,0,11.4-5.11,11.4-11.4V43.912c0-2.376-0.729-4.586-1.977-6.412c1.247-1.832,1.977-4.036,1.977-6.413V20.4z"></path></g></svg>'},527:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-4"><use href="#blank"></use><polygon fill="#000084" points="25.8,9 6.922,42.765 47.584,42.765 47.584,66 63.559,65.637 63.559,42.765 69.078,42.765 69.078,31.873 63.559,31.873 63.559,9 47.584,9 47.584,32.236 29.192,32.236 41.774,9 "></polygon></g></svg>'},434:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-5"><use href="#blank"></use><path fill="#840000" d="M60.78,32.065c1.765,0.757,3.006,1.726,3.869,2.922c1.324,1.837,1.736,4.211,1.736,7.139 c0,0.012,0,10.689,0,10.689c0,6.291-2.494,12.48-11.401,13.182H9.497V54.953h39.074c1.576,0,2.851-1.279,2.851-2.85v-6.412 c0-1.57-1.274-2.852-2.851-2.852L9.497,42.852V9.001l57.006,0v11.396H26.031v11.668"></path></g></svg>'},287:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-6"><use href="#blank"></use><path fill="#008284" d="M66.856,23.967v-3.565c0-6.296-5.109-11.4-11.399-11.4H20.544c-6.29,0-11.4,5.104-11.4,11.4v34.197 c0,6.29,5.11,11.4,11.4,11.4h34.913c6.29,0,11.399-5.11,11.399-11.4V43.911c0-4.984-4.921-12.11-11.405-12.11H27.669 c-1.569,0-2.85-1.28-2.85-2.85v-6.412c0-1.575,1.28-2.851,2.85-2.851h20.663c1.569,0,2.85,1.275,2.85,2.851v1.005L66.856,23.967z M25.531,47.474c0-1.569,1.28-2.85,2.851-2.85h20.662c1.57,0,2.851,1.28,2.851,2.85v6.412c0,1.57-1.28,2.851-2.851,2.851H28.382 c-1.57,0-2.851-1.28-2.851-2.851V47.474z"></path></g></svg>'},312:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-7"><use href="#blank"></use><polygon fill="#840084" points="10.363,9.001 10.363,21.783 44.834,21.78 10.018,65.999 30.464,65.999 65.291,21.78 65.982,9.001 "></polygon></g></svg>'},835:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-8"><use href="#blank"></use><path fill="#757575" d="M66.856,31.087c0,2.377-0.729,4.581-1.977,6.413c1.247,1.826,1.977,4.036,1.977,6.412V54.6 c0,6.29-5.104,11.4-11.4,11.4H20.544c-6.29,0-11.4-5.11-11.4-11.4V43.912c0-2.376,0.729-4.586,1.982-6.412 c-1.252-1.832-1.982-4.036-1.982-6.413V20.4c0-6.295,5.11-11.4,11.4-11.4h34.912c6.296,0,11.4,5.104,11.4,11.4V31.087z M51.182,22.538c0-1.575-1.275-2.85-2.851-2.85H27.669c-1.57,0-2.851,1.275-2.851,2.85v6.413c0,1.569,1.28,2.85,2.851,2.85h20.662 c1.575,0,2.851-1.28,2.851-2.85V22.538z M51.182,46.05c0-1.575-1.275-2.85-2.851-2.85H27.669c-1.57,0-2.851,1.274-2.851,2.85v6.413 c0,1.569,1.28,2.85,2.851,2.85h20.662c1.575,0,2.851-1.28,2.851-2.85V46.05z"></path></g></svg>'},177:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="question-mark"><use href="#unopened-square"></use><path d="M24.684,28.694c0-4.57,1.569-8.347,4.716-11.338c2.219-2.109,5.175-3.164,8.877-3.164c4.065,0,7.213,1.055,9.433,3.164 c2.4,2.285,3.606,5.186,3.606,8.701c0,2.991-1.109,5.537-3.329,7.646c-1.295,1.23-3.052,2.9-5.271,5.01 c-1.664,1.582-2.497,3.955-2.497,7.119h-4.993c0-3.864,0.647-6.765,1.942-8.701c0.924-1.406,2.678-3.337,5.271-5.801 c1.479-1.406,2.22-3.073,2.22-5.01c0-2.461-0.65-4.307-1.942-5.537c-1.109-1.055-2.681-1.582-4.716-1.582 c-1.665,0-3.052,0.527-4.161,1.582c-1.85,1.758-2.774,4.395-2.774,7.91H24.684z M34.671,53.479h6.104v6.328h-6.104V53.479z"></path></g></svg>'},100:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="unopened-square"><path id="rect1313_65_" fill="#FDFCFD" d="M0.009,0h75.982C75.996,0,76,0.004,76,0.009V75.99c0,0.006-0.004,0.01-0.009,0.01H0.009 C0.004,76,0,75.996,0,75.99V0.009C0,0.004,0.004,0,0.009,0z"></path><path id="path1341_65_" fill="#757575" d="M75.99,0C75.995,0,76,0.005,76,0.01v75.981C76,75.996,75.995,76,75.99,76H0.009 C0.004,76,0,75.996,0,75.991L75.99,0z"></path><polygon id="rect1311_65_" fill="#B9B9B9" points="8.508,8.5 67.492,8.5 67.5,8.508 67.5,67.491 67.492,67.5 8.508,67.5 8.5,67.491 8.5,8.508 "></polygon></g></svg>'},887:function(n,e,t){t.d(e,{A:function(){return Ui}});function r(ge,T,j,re){var ye=arguments.length,Ie=ye<3?T:re===null?re=Object.getOwnPropertyDescriptor(T,j):re,$e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ie=Reflect.decorate(ge,T,j,re);else for(var It=ge.length-1;It>=0;It--)($e=ge[It])&&(Ie=(ye<3?$e(Ie):ye>3?$e(T,j,Ie):$e(T,j))||Ie);return ye>3&&Ie&&Object.defineProperty(T,j,Ie),Ie}function i(ge,T,j,re){if(j==="a"&&!re)throw new TypeError("Private accessor was defined without a getter");if(typeof T=="function"?ge!==T||!re:!T.has(ge))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?re:j==="a"?re.call(ge):re?re.value:T.get(ge)}function s(ge,T,j,re,ye){if(typeof T=="function"?ge!==T||!ye:!T.has(ge))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T.set(ge,j),j}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o=window,a=o.ShadowRoot&&(o.ShadyCSS===void 0||o.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),u=new WeakMap;class l{constructor(T,j,re){if(this._$cssResult$=!0,re!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=T,this.t=j}get styleSheet(){let T=this.o;const j=this.t;if(a&&T===void 0){const re=j!==void 0&&j.length===1;re&&(T=u.get(j)),T===void 0&&((this.o=T=new CSSStyleSheet).replaceSync(this.cssText),re&&u.set(j,T))}return T}toString(){return this.cssText}}const d=ge=>new l(typeof ge=="string"?ge:ge+"",void 0,c),b=(ge,T)=>{a?ge.adoptedStyleSheets=T.map(j=>j instanceof CSSStyleSheet?j:j.styleSheet):T.forEach(j=>{const re=document.createElement("style"),ye=o.litNonce;ye!==void 0&&re.setAttribute("nonce",ye),re.textContent=j.cssText,ge.appendChild(re)})},p=a?ge=>ge:ge=>ge instanceof CSSStyleSheet?(T=>{let j="";for(const re of T.cssRules)j+=re.cssText;return d(j)})(ge):ge;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var g;const y=window,S=y.trustedTypes,w=S?S.emptyScript:"",_=y.reactiveElementPolyfillSupport,R={toAttribute(ge,T){switch(T){case Boolean:ge=ge?w:null;break;case Object:case Array:ge=ge==null?ge:JSON.stringify(ge)}return ge},fromAttribute(ge,T){let j=ge;switch(T){case Boolean:j=ge!==null;break;case Number:j=ge===null?null:Number(ge);break;case Object:case Array:try{j=JSON.parse(ge)}catch{j=null}}return j}},x=(ge,T)=>T!==ge&&(T==T||ge==ge),K={attribute:!0,type:String,converter:R,reflect:!1,hasChanged:x};class J extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(T){var j;this.finalize(),((j=this.h)!==null&&j!==void 0?j:this.h=[]).push(T)}static get observedAttributes(){this.finalize();const T=[];return this.elementProperties.forEach((j,re)=>{const ye=this._$Ep(re,j);ye!==void 0&&(this._$Ev.set(ye,re),T.push(ye))}),T}static createProperty(T,j=K){if(j.state&&(j.attribute=!1),this.finalize(),this.elementProperties.set(T,j),!j.noAccessor&&!this.prototype.hasOwnProperty(T)){const re=typeof T=="symbol"?Symbol():"__"+T,ye=this.getPropertyDescriptor(T,re,j);ye!==void 0&&Object.defineProperty(this.prototype,T,ye)}}static getPropertyDescriptor(T,j,re){return{get(){return this[j]},set(ye){const Ie=this[T];this[j]=ye,this.requestUpdate(T,Ie,re)},configurable:!0,enumerable:!0}}static getPropertyOptions(T){return this.elementProperties.get(T)||K}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const T=Object.getPrototypeOf(this);if(T.finalize(),T.h!==void 0&&(this.h=[...T.h]),this.elementProperties=new Map(T.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const j=this.properties,re=[...Object.getOwnPropertyNames(j),...Object.getOwnPropertySymbols(j)];for(const ye of re)this.createProperty(ye,j[ye])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(T){const j=[];if(Array.isArray(T)){const re=new Set(T.flat(1/0).reverse());for(const ye of re)j.unshift(p(ye))}else T!==void 0&&j.push(p(T));return j}static _$Ep(T,j){const re=j.attribute;return re===!1?void 0:typeof re=="string"?re:typeof T=="string"?T.toLowerCase():void 0}u(){var T;this._$E_=new Promise(j=>this.enableUpdating=j),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(T=this.constructor.h)===null||T===void 0||T.forEach(j=>j(this))}addController(T){var j,re;((j=this._$ES)!==null&&j!==void 0?j:this._$ES=[]).push(T),this.renderRoot!==void 0&&this.isConnected&&((re=T.hostConnected)===null||re===void 0||re.call(T))}removeController(T){var j;(j=this._$ES)===null||j===void 0||j.splice(this._$ES.indexOf(T)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((T,j)=>{this.hasOwnProperty(j)&&(this._$Ei.set(j,this[j]),delete this[j])})}createRenderRoot(){var T;const j=(T=this.shadowRoot)!==null&&T!==void 0?T:this.attachShadow(this.constructor.shadowRootOptions);return b(j,this.constructor.elementStyles),j}connectedCallback(){var T;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(T=this._$ES)===null||T===void 0||T.forEach(j=>{var re;return(re=j.hostConnected)===null||re===void 0?void 0:re.call(j)})}enableUpdating(T){}disconnectedCallback(){var T;(T=this._$ES)===null||T===void 0||T.forEach(j=>{var re;return(re=j.hostDisconnected)===null||re===void 0?void 0:re.call(j)})}attributeChangedCallback(T,j,re){this._$AK(T,re)}_$EO(T,j,re=K){var ye;const Ie=this.constructor._$Ep(T,re);if(Ie!==void 0&&re.reflect===!0){const $e=(((ye=re.converter)===null||ye===void 0?void 0:ye.toAttribute)!==void 0?re.converter:R).toAttribute(j,re.type);this._$El=T,$e==null?this.removeAttribute(Ie):this.setAttribute(Ie,$e),this._$El=null}}_$AK(T,j){var re;const ye=this.constructor,Ie=ye._$Ev.get(T);if(Ie!==void 0&&this._$El!==Ie){const $e=ye.getPropertyOptions(Ie),It=typeof $e.converter=="function"?{fromAttribute:$e.converter}:((re=$e.converter)===null||re===void 0?void 0:re.fromAttribute)!==void 0?$e.converter:R;this._$El=Ie,this[Ie]=It.fromAttribute(j,$e.type),this._$El=null}}requestUpdate(T,j,re){let ye=!0;T!==void 0&&(((re=re||this.constructor.getPropertyOptions(T)).hasChanged||x)(this[T],j)?(this._$AL.has(T)||this._$AL.set(T,j),re.reflect===!0&&this._$El!==T&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(T,re))):ye=!1),!this.isUpdatePending&&ye&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(j){Promise.reject(j)}const T=this.scheduleUpdate();return T!=null&&await T,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var T;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((ye,Ie)=>this[Ie]=ye),this._$Ei=void 0);let j=!1;const re=this._$AL;try{j=this.shouldUpdate(re),j?(this.willUpdate(re),(T=this._$ES)===null||T===void 0||T.forEach(ye=>{var Ie;return(Ie=ye.hostUpdate)===null||Ie===void 0?void 0:Ie.call(ye)}),this.update(re)):this._$Ek()}catch(ye){throw j=!1,this._$Ek(),ye}j&&this._$AE(re)}willUpdate(T){}_$AE(T){var j;(j=this._$ES)===null||j===void 0||j.forEach(re=>{var ye;return(ye=re.hostUpdated)===null||ye===void 0?void 0:ye.call(re)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(T)),this.updated(T)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(T){return!0}update(T){this._$EC!==void 0&&(this._$EC.forEach((j,re)=>this._$EO(re,this[re],j)),this._$EC=void 0),this._$Ek()}updated(T){}firstUpdated(T){}}J.finalized=!0,J.elementProperties=new Map,J.elementStyles=[],J.shadowRootOptions={mode:"open"},_==null||_({ReactiveElement:J}),((g=y.reactiveElementVersions)!==null&&g!==void 0?g:y.reactiveElementVersions=[]).push("1.5.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var M;const Z=window,ie=Z.trustedTypes,X=ie?ie.createPolicy("lit-html",{createHTML:ge=>ge}):void 0,ne=`lit$${(Math.random()+"").slice(9)}$`,ae="?"+ne,L=`<${ae}>`,m=document,v=(ge="")=>m.createComment(ge),B=ge=>ge===null||typeof ge!="object"&&typeof ge!="function",W=Array.isArray,C=ge=>W(ge)||typeof(ge==null?void 0:ge[Symbol.iterator])=="function",$=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Q=/-->/g,N=/>/g,E=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Y=/'/g,fe=/"/g,we=/^(?:script|style|textarea|title)$/i,ve=ge=>(T,...j)=>({_$litType$:ge,strings:T,values:j}),De=ve(1),Ge=Symbol.for("lit-noChange"),Ke=Symbol.for("lit-nothing"),Pn=new WeakMap,wt=m.createTreeWalker(m,129,null,!1),yt=(ge,T)=>{const j=ge.length-1,re=[];let ye,Ie=T===2?"<svg>":"",$e=$;for(let ut=0;ut<j;ut++){const vt=ge[ut];let Fr,cn,Er=-1,Vo=0;for(;Vo<vt.length&&($e.lastIndex=Vo,cn=$e.exec(vt),cn!==null);)Vo=$e.lastIndex,$e===$?cn[1]==="!--"?$e=Q:cn[1]!==void 0?$e=N:cn[2]!==void 0?(we.test(cn[2])&&(ye=RegExp("</"+cn[2],"g")),$e=E):cn[3]!==void 0&&($e=E):$e===E?cn[0]===">"?($e=ye??$,Er=-1):cn[1]===void 0?Er=-2:(Er=$e.lastIndex-cn[2].length,Fr=cn[1],$e=cn[3]===void 0?E:cn[3]==='"'?fe:Y):$e===fe||$e===Y?$e=E:$e===Q||$e===N?$e=$:($e=E,ye=void 0);const tb=$e===E&&ge[ut+1].startsWith("/>")?" ":"";Ie+=$e===$?vt+L:Er>=0?(re.push(Fr),vt.slice(0,Er)+"$lit$"+vt.slice(Er)+ne+tb):vt+ne+(Er===-2?(re.push(void 0),ut):tb)}const It=Ie+(ge[j]||"<?>")+(T===2?"</svg>":"");if(!Array.isArray(ge)||!ge.hasOwnProperty("raw"))throw Error("invalid template strings array");return[X!==void 0?X.createHTML(It):It,re]};class kt{constructor({strings:T,_$litType$:j},re){let ye;this.parts=[];let Ie=0,$e=0;const It=T.length-1,ut=this.parts,[vt,Fr]=yt(T,j);if(this.el=kt.createElement(vt,re),wt.currentNode=this.el.content,j===2){const cn=this.el.content,Er=cn.firstChild;Er.remove(),cn.append(...Er.childNodes)}for(;(ye=wt.nextNode())!==null&&ut.length<It;){if(ye.nodeType===1){if(ye.hasAttributes()){const cn=[];for(const Er of ye.getAttributeNames())if(Er.endsWith("$lit$")||Er.startsWith(ne)){const Vo=Fr[$e++];if(cn.push(Er),Vo!==void 0){const tb=ye.getAttribute(Vo.toLowerCase()+"$lit$").split(ne),nb=/([.?@])?(.*)/.exec(Vo);ut.push({type:1,index:Ie,name:nb[2],strings:tb,ctor:nb[1]==="."?On:nb[1]==="?"?wn:nb[1]==="@"?nn:Ht})}else ut.push({type:6,index:Ie})}for(const Er of cn)ye.removeAttribute(Er)}if(we.test(ye.tagName)){const cn=ye.textContent.split(ne),Er=cn.length-1;if(Er>0){ye.textContent=ie?ie.emptyScript:"";for(let Vo=0;Vo<Er;Vo++)ye.append(cn[Vo],v()),wt.nextNode(),ut.push({type:2,index:++Ie});ye.append(cn[Er],v())}}}else if(ye.nodeType===8)if(ye.data===ae)ut.push({type:2,index:Ie});else{let cn=-1;for(;(cn=ye.data.indexOf(ne,cn+1))!==-1;)ut.push({type:7,index:Ie}),cn+=ne.length-1}Ie++}}static createElement(T,j){const re=m.createElement("template");return re.innerHTML=T,re}}function bt(ge,T,j=ge,re){var ye,Ie,$e,It;if(T===Ge)return T;let ut=re!==void 0?(ye=j._$Co)===null||ye===void 0?void 0:ye[re]:j._$Cl;const vt=B(T)?void 0:T._$litDirective$;return(ut==null?void 0:ut.constructor)!==vt&&((Ie=ut==null?void 0:ut._$AO)===null||Ie===void 0||Ie.call(ut,!1),vt===void 0?ut=void 0:(ut=new vt(ge),ut._$AT(ge,j,re)),re!==void 0?(($e=(It=j)._$Co)!==null&&$e!==void 0?$e:It._$Co=[])[re]=ut:j._$Cl=ut),ut!==void 0&&(T=bt(ge,ut._$AS(ge,T.values),ut,re)),T}class tn{constructor(T,j){this.u=[],this._$AN=void 0,this._$AD=T,this._$AM=j}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(T){var j;const{el:{content:re},parts:ye}=this._$AD,Ie=((j=T==null?void 0:T.creationScope)!==null&&j!==void 0?j:m).importNode(re,!0);wt.currentNode=Ie;let $e=wt.nextNode(),It=0,ut=0,vt=ye[0];for(;vt!==void 0;){if(It===vt.index){let Fr;vt.type===2?Fr=new dr($e,$e.nextSibling,this,T):vt.type===1?Fr=new vt.ctor($e,vt.name,vt.strings,this,T):vt.type===6&&(Fr=new on($e,this,T)),this.u.push(Fr),vt=ye[++ut]}It!==(vt==null?void 0:vt.index)&&($e=wt.nextNode(),It++)}return Ie}p(T){let j=0;for(const re of this.u)re!==void 0&&(re.strings!==void 0?(re._$AI(T,re,j),j+=re.strings.length-2):re._$AI(T[j])),j++}}class dr{constructor(T,j,re,ye){var Ie;this.type=2,this._$AH=Ke,this._$AN=void 0,this._$AA=T,this._$AB=j,this._$AM=re,this.options=ye,this._$Cm=(Ie=ye==null?void 0:ye.isConnected)===null||Ie===void 0||Ie}get _$AU(){var T,j;return(j=(T=this._$AM)===null||T===void 0?void 0:T._$AU)!==null&&j!==void 0?j:this._$Cm}get parentNode(){let T=this._$AA.parentNode;const j=this._$AM;return j!==void 0&&T.nodeType===11&&(T=j.parentNode),T}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(T,j=this){T=bt(this,T,j),B(T)?T===Ke||T==null||T===""?(this._$AH!==Ke&&this._$AR(),this._$AH=Ke):T!==this._$AH&&T!==Ge&&this.g(T):T._$litType$!==void 0?this.$(T):T.nodeType!==void 0?this.T(T):C(T)?this.k(T):this.g(T)}O(T,j=this._$AB){return this._$AA.parentNode.insertBefore(T,j)}T(T){this._$AH!==T&&(this._$AR(),this._$AH=this.O(T))}g(T){this._$AH!==Ke&&B(this._$AH)?this._$AA.nextSibling.data=T:this.T(m.createTextNode(T)),this._$AH=T}$(T){var j;const{values:re,_$litType$:ye}=T,Ie=typeof ye=="number"?this._$AC(T):(ye.el===void 0&&(ye.el=kt.createElement(ye.h,this.options)),ye);if(((j=this._$AH)===null||j===void 0?void 0:j._$AD)===Ie)this._$AH.p(re);else{const $e=new tn(Ie,this),It=$e.v(this.options);$e.p(re),this.T(It),this._$AH=$e}}_$AC(T){let j=Pn.get(T.strings);return j===void 0&&Pn.set(T.strings,j=new kt(T)),j}k(T){W(this._$AH)||(this._$AH=[],this._$AR());const j=this._$AH;let re,ye=0;for(const Ie of T)ye===j.length?j.push(re=new dr(this.O(v()),this.O(v()),this,this.options)):re=j[ye],re._$AI(Ie),ye++;ye<j.length&&(this._$AR(re&&re._$AB.nextSibling,ye),j.length=ye)}_$AR(T=this._$AA.nextSibling,j){var re;for((re=this._$AP)===null||re===void 0||re.call(this,!1,!0,j);T&&T!==this._$AB;){const ye=T.nextSibling;T.remove(),T=ye}}setConnected(T){var j;this._$AM===void 0&&(this._$Cm=T,(j=this._$AP)===null||j===void 0||j.call(this,T))}}class Ht{constructor(T,j,re,ye,Ie){this.type=1,this._$AH=Ke,this._$AN=void 0,this.element=T,this.name=j,this._$AM=ye,this.options=Ie,re.length>2||re[0]!==""||re[1]!==""?(this._$AH=Array(re.length-1).fill(new String),this.strings=re):this._$AH=Ke}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(T,j=this,re,ye){const Ie=this.strings;let $e=!1;if(Ie===void 0)T=bt(this,T,j,0),$e=!B(T)||T!==this._$AH&&T!==Ge,$e&&(this._$AH=T);else{const It=T;let ut,vt;for(T=Ie[0],ut=0;ut<Ie.length-1;ut++)vt=bt(this,It[re+ut],j,ut),vt===Ge&&(vt=this._$AH[ut]),$e||($e=!B(vt)||vt!==this._$AH[ut]),vt===Ke?T=Ke:T!==Ke&&(T+=(vt??"")+Ie[ut+1]),this._$AH[ut]=vt}$e&&!ye&&this.j(T)}j(T){T===Ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,T??"")}}class On extends Ht{constructor(){super(...arguments),this.type=3}j(T){this.element[this.name]=T===Ke?void 0:T}}const ko=ie?ie.emptyScript:"";class wn extends Ht{constructor(){super(...arguments),this.type=4}j(T){T&&T!==Ke?this.element.setAttribute(this.name,ko):this.element.removeAttribute(this.name)}}class nn extends Ht{constructor(T,j,re,ye,Ie){super(T,j,re,ye,Ie),this.type=5}_$AI(T,j=this){var re;if((T=(re=bt(this,T,j,0))!==null&&re!==void 0?re:Ke)===Ge)return;const ye=this._$AH,Ie=T===Ke&&ye!==Ke||T.capture!==ye.capture||T.once!==ye.once||T.passive!==ye.passive,$e=T!==Ke&&(ye===Ke||Ie);Ie&&this.element.removeEventListener(this.name,this,ye),$e&&this.element.addEventListener(this.name,this,T),this._$AH=T}handleEvent(T){var j,re;typeof this._$AH=="function"?this._$AH.call((re=(j=this.options)===null||j===void 0?void 0:j.host)!==null&&re!==void 0?re:this.element,T):this._$AH.handleEvent(T)}}class on{constructor(T,j,re){this.element=T,this.type=6,this._$AN=void 0,this._$AM=j,this.options=re}get _$AU(){return this._$AM._$AU}_$AI(T){bt(this,T)}}const Bt=Z.litHtmlPolyfillSupport;Bt==null||Bt(kt,dr),((M=Z.litHtmlVersions)!==null&&M!==void 0?M:Z.litHtmlVersions=[]).push("2.5.0");const yn=(ge,T,j)=>{var re,ye;const Ie=(re=j==null?void 0:j.renderBefore)!==null&&re!==void 0?re:T;let $e=Ie._$litPart$;if($e===void 0){const It=(ye=j==null?void 0:j.renderBefore)!==null&&ye!==void 0?ye:null;Ie._$litPart$=$e=new dr(T.insertBefore(v(),It),It,void 0,j??{})}return $e._$AI(ge),$e};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var xn,Tt;class A extends J{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var T,j;const re=super.createRenderRoot();return(T=(j=this.renderOptions).renderBefore)!==null&&T!==void 0||(j.renderBefore=re.firstChild),re}update(T){const j=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(T),this._$Do=yn(j,this.renderRoot,this.renderOptions)}connectedCallback(){var T;super.connectedCallback(),(T=this._$Do)===null||T===void 0||T.setConnected(!0)}disconnectedCallback(){var T;super.disconnectedCallback(),(T=this._$Do)===null||T===void 0||T.setConnected(!1)}render(){return Ge}}A.finalized=!0,A._$litElement$=!0,(xn=globalThis.litElementHydrateSupport)===null||xn===void 0||xn.call(globalThis,{LitElement:A});const h=globalThis.litElementPolyfillSupport;h==null||h({LitElement:A}),((Tt=globalThis.litElementVersions)!==null&&Tt!==void 0?Tt:globalThis.litElementVersions=[]).push("3.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f=(ge,T)=>T.kind==="method"&&T.descriptor&&!("value"in T.descriptor)?{...T,finisher(j){j.createProperty(T.key,ge)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:T.key,initializer(){typeof T.initializer=="function"&&(this[T.key]=T.initializer.call(this))},finisher(j){j.createProperty(T.key,ge)}};function I(ge){return(T,j)=>j!==void 0?((re,ye,Ie)=>{ye.constructor.createProperty(Ie,re)})(ge,T,j):f(ge,T)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function z(ge){return I({...ge,state:!0})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const G=({finisher:ge,descriptor:T})=>(j,re)=>{var ye;if(re===void 0){const Ie=(ye=j.originalKey)!==null&&ye!==void 0?ye:j.key,$e=T!=null?{kind:"method",placement:"prototype",key:Ie,descriptor:T(j.key)}:{...j,key:Ie};return ge!=null&&($e.finisher=function(It){ge(It,Ie)}),$e}{const Ie=j.constructor;T!==void 0&&Object.defineProperty(j,re,T(re)),ge==null||ge(Ie,re)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ee(ge){return G({finisher:(T,j)=>{Object.assign(T.prototype[j],ge)}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Le;((Le=window.HTMLSlotElement)===null||Le===void 0?void 0:Le.prototype.assignedElements)!=null;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const Xe={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},We=ge=>(...T)=>({_$litDirective$:ge,values:T});class mt{constructor(T){}get _$AU(){return this._$AM._$AU}_$AT(T,j,re){this._$Ct=T,this._$AM=j,this._$Ci=re}_$AS(T,j){return this.update(T,j)}update(T,j){return this.render(...j)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Oe extends mt{constructor(T){if(super(T),this.it=Ke,T.type!==Xe.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(T){if(T===Ke||T==null)return this._t=void 0,this.it=T;if(T===Ge)return T;if(typeof T!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(T===this.it)return this._t;this.it=T;const j=[T];return j.raw=j,this._t={_$litType$:this.constructor.resultType,strings:j,values:[]}}}Oe.directiveName="unsafeHTML",Oe.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Qn extends Oe{}Qn.directiveName="unsafeSVG",Qn.resultType=2;const mc=We(Qn);var Nn;(function(ge){ge.Unveiled="UNVEILED",ge.FlagAction="FLAG_ACTION",ge.QuestionMarkAction="QUESTION_MARK_ACTION"})(Nn||(Nn={}));var Zn;(function(ge){ge.Placed="PLACED",ge.Removed="REMOVED",ge.NoChange="NO_CHANGE"})(Zn||(Zn={}));var ii;(function(ge){ge.FLAG="FLAG",ge.QUESTION_MARK="QUESTION_MARK",ge.BOMB="BOMB",ge.BOMB_EXPLODE="BOMB_EXPLODE"})(ii||(ii={}));var rn,se,le,de,Ae;class et{constructor(T){rn.set(this,void 0),se.set(this,void 0),le.set(this,0),de.set(this,void 0),Ae.set(this,void 0),this.gameModeConfiguration=T,s(this,rn,this.generate2dFields(0)),s(this,se,this.generate2dFields(!1)),s(this,de,this.generate2dFields(!1)),s(this,Ae,this.generate2dFields(!1)),this.placeBombs(),this.applyFieldNumbers()}get rows(){return this.gameModeConfiguration.rows}get columns(){return this.gameModeConfiguration.columns}get bombs(){return this.gameModeConfiguration.bombs}get positions(){return i(this,rn,"f")}get flags(){return i(this,se,"f")}get flagCounter(){return i(this,le,"f")}get questionMarks(){return i(this,de,"f")}get revealedFields(){return i(this,Ae,"f")}generate2dFields(T){return Array.from({length:this.rows}).fill([T]).map(()=>Array.from({length:this.columns}).fill(T))}placeBombs(){const T=this.calculateRandomBombIndices();let j=0;for(let re=0;re<this.rows;re+=1)for(let ye=0;ye<this.columns;ye+=1)T.includes(j)&&(i(this,rn,"f")[re][ye]=ii.BOMB),j+=1}calculateRandomBombIndices(){const T=[],j=this.rows*this.columns,re=Math.min(this.bombs,j);for(;T.length!==re;){const ye=Math.floor(Math.random()*j);T.includes(ye)||T.push(ye)}return T}applyFieldNumbers(){for(let T=0;T<this.rows;T+=1)for(let j=0;j<this.columns;j+=1)if(i(this,rn,"f")[T][j]!==ii.BOMB){const re=this.getNeighbors(T,j).filter(ye=>i(this,rn,"f")[ye[0]][ye[1]]===ii.BOMB).length;i(this,rn,"f")[T][j]=re}}revealField(T,j){if(i(this,se,"f")[T][j])return ii.FLAG;i(this,de,"f")[T][j]&&(i(this,de,"f")[T][j]=!1);const re=i(this,rn,"f")[T][j];return re===ii.BOMB?i(this,rn,"f")[T][j]=ii.BOMB_EXPLODE:re===0?this.expand(T,j):i(this,Ae,"f")[T][j]=!0,re}expand(T,j){const re=i(this,rn,"f")[T][j];if(!(re===ii.BOMB||i(this,Ae,"f")[T][j])&&(i(this,Ae,"f")[T][j]=!0,i(this,se,"f")[T][j]&&this.removeFlag(T,j),i(this,de,"f")[T][j]&&this.removeQuestionMark(T,j),re===0)){const ye=this.getNeighbors(T,j);for(const Ie of ye)this.expand(Ie[0],Ie[1])}}getNeighbors(T,j){const re=[];return T>0&&j>0&&re.push([T-1,j-1]),T>0&&re.push([T-1,j]),T>0&&j<this.columns-1&&re.push([T-1,j+1]),j<this.columns-1&&re.push([T,j+1]),T<this.rows-1&&j<this.columns-1&&re.push([T+1,j+1]),T<this.rows-1&&re.push([T+1,j]),T<this.rows-1&&j>0&&re.push([T+1,j-1]),j>0&&re.push([T,j-1]),re}addFlag(T,j){i(this,se,"f")[T][j]||(i(this,se,"f")[T][j]=!0,s(this,le,i(this,le,"f")+1),this.removeQuestionMark(T,j))}removeFlag(T,j){i(this,se,"f")[T][j]&&(i(this,se,"f")[T][j]=!1,s(this,le,i(this,le,"f")-1))}addQuestionMark(T,j){i(this,de,"f")[T][j]||(i(this,de,"f")[T][j]=!0,this.removeFlag(T,j))}removeQuestionMark(T,j){i(this,de,"f")[T][j]&&(i(this,de,"f")[T][j]=!1)}revealBombs(T=!1){for(let j=0;j<this.rows;j+=1)for(let re=0;re<this.columns;re+=1)i(this,rn,"f")[j][re]===ii.BOMB&&(i(this,Ae,"f")[j][re]=!0,T?this.addFlag(j,re):i(this,de,"f")[j][re]&&this.removeQuestionMark(j,re)),(i(this,se,"f")[j][re]||i(this,rn,"f")[j][re]===ii.BOMB_EXPLODE)&&(i(this,Ae,"f")[j][re]=!0)}}rn=new WeakMap,se=new WeakMap,le=new WeakMap,de=new WeakMap,Ae=new WeakMap;var Ne;class Fe{constructor(T=()=>{},j=()=>{}){Ne.set(this,void 0),this.isGameOver=!0,this.onWinCallback=T,this.onLoseCallback=j}get board(){return i(this,Ne,"f")}createBoard(T=9,j=9,re=10){this.gameModeConfiguration={columns:T,rows:j,bombs:re},this.restart()}restart(){s(this,Ne,new et(this.gameModeConfiguration)),this.isGameOver=!1}toggleFlag(T,j){return i(this,Ne,"f").revealedFields[T][j]?0:i(this,Ne,"f").flags[T][j]?(i(this,Ne,"f").removeFlag(T,j),-1):i(this,Ne,"f").flagCounter<i(this,Ne,"f").bombs?(i(this,Ne,"f").addFlag(T,j),1):0}toggleQuestionMark(T,j){return i(this,Ne,"f").revealedFields[T][j]?0:i(this,Ne,"f").questionMarks[T][j]?(i(this,Ne,"f").removeQuestionMark(T,j),-1):(i(this,Ne,"f").addQuestionMark(T,j),1)}selectField(T,j){const re=i(this,Ne,"f").revealField(T,j);return re===ii.BOMB?(i(this,Ne,"f").revealBombs(),this.onLoseCallback(),this.isGameOver=!0,re):(i(this,Ne,"f").revealedFields.flat().filter(Ie=>!Ie).length===i(this,Ne,"f").bombs&&(i(this,Ne,"f").revealBombs(!0),this.onWinCallback(),this.isGameOver=!0),re)}}Ne=new WeakMap;var it=t(726),ct=t.n(it),st=t(528),Wr=t.n(st),Ct=t(379),rt=t.n(Ct),Wn=t(202),xt=t.n(Wn),Xn=t(177),Hs=t.n(Xn),Fn=t(100),Vn=t.n(Fn),So=t(885),Di=t.n(So),ha=t(113),fa=t.n(ha),pa=t(877),Mt=t.n(pa),ti=t(389),Si=t.n(ti),Nr=t(527),Fo=t.n(Nr),ru=t(434),cl=t.n(ru),Vp=t(287),jp=t.n(Vp),Hp=t(312),Yp=t.n(Hp),Gp=t(835),Jp=t.n(Gp),Qp={Bomb:ct(),BombExplode:Wr(),Flag:rt(),FlagMissed:xt(),QuestionMark:Hs(),UnopenedSquare:Vn(),Number0:Di(),Number1:fa(),Number2:Mt(),Number3:Si(),Number4:Fo(),Number5:cl(),Number6:jp(),Number7:Yp(),Number8:Jp()};function es(ge){return`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><use href="#${ge}" /></svg>`}function yA(ge){return ge>0?Zn.Placed:ge<0?Zn.Removed:Zn.NoChange}function mA(ge){if(Array.isArray(ge))return ge.map(T=>mA(T));if(ge instanceof Date)return new Date(ge.getTime());if(ge&&typeof ge=="object"){const T=Object.entries(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(ge))).filter(([re,ye])=>typeof ye.get=="function"&&re!=="__proto__").map(([re])=>re),j={};for(const re of[...Object.keys(ge),...T])j[re]=mA(ge[re]);return j}return ge}class Zp extends CustomEvent{constructor(T,j,re={}){const{detail:ye,...Ie}=re;super(`minesweeper:${T}`,{detail:{board:mA(j),...ye},bubbles:!0,composed:!0,cancelable:!1,...Ie})}}class cF extends Zp{constructor(T,j,re){super("field-click",T,{cancelable:!0,detail:{target:j,field:re}})}}class eb extends Zp{constructor(T,j,re){super("field-interaction",T,{detail:{target:j,interaction:re}})}}class uF extends Zp{constructor(T,j,re){super("field-long-press",T,{cancelable:!0,detail:{target:j,field:re}})}}class lF extends Zp{constructor(T){super("game-lost",T)}}class dF extends Zp{constructor(T){super("game-won",T)}}var hF=t(637);const ts={BOMB:es("bomb"),BOMB_EXPLODE:es("bomb-explode"),FLAG:es("flag"),FLAG_MISSED:es("flag-missed"),QUESTION_MARK:es("question-mark"),UNOPENED_SQUARE:es("unopened-square"),NUMBER_0:es("blank"),NUMBER_1:es("number-1"),NUMBER_2:es("number-2"),NUMBER_3:es("number-3"),NUMBER_4:es("number-4"),NUMBER_5:es("number-5"),NUMBER_6:es("number-6"),NUMBER_7:es("number-7"),NUMBER_8:es("number-8")};class Ui extends A{static get styles(){return d(hF.Z)}constructor(){super(),this.flagPlacementMode=!1,this.disableQuestionMarks=!1,this.longPressThreshold=500,this.columns=9,this.rows=9,this.bombs=10,this.isPressingFlagKey=!1,this.engine=new Fe(this.gameWonCallback.bind(this),this.gameLostCallback.bind(this))}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.restartSelector&&document.querySelectorAll(this.restartSelector).forEach(j=>{j.addEventListener("click",this.restartGame.bind(this))}),this.createGameBoard(),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentKeyup=this.handleDocumentKeyup.bind(this),this.handleScroll=this.handleScroll.bind(this),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("keyup",this.handleDocumentKeyup),document.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("keyup",this.handleDocumentKeyup),document.removeEventListener("scroll",this.handleScroll)}handleDocumentKeydown(T){this.isPressingFlagKey=T.ctrlKey||T.altKey||T.metaKey}handleDocumentKeyup(){this.isPressingFlagKey=!1}handleSweeperContainerMouseMove(T){this.isPressingFlagKey=T.ctrlKey||T.altKey||T.metaKey}createGameBoard(){this.engine&&(this.engine.createBoard(this.columns,this.rows,this.bombs),this.requestUpdate())}gameWonCallback(){this.dispatchEvent(new dF(this.engine.board))}gameLostCallback(){this.dispatchEvent(new lF(this.engine.board))}setGameModeConfiguration(T){this.columns=T.columns,this.rows=T.rows,this.bombs=T.bombs,this.createGameBoard()}restartGame(){this.engine&&(this.engine.restart(),this.requestUpdate())}get isLongPressDisabled(){return!this.longPressThreshold||this.longPressThreshold<=0}resetLongPressStates(){this.isLongPressDisabled||window.clearTimeout(this.longPressTimerId)}handleScroll(){this.resetLongPressStates()}handleLongPress(T){const{row:j,column:re}=T.dataset;if(!j||!re){console.error(new Error('Provided sweeper field does not contain the "row" and "column" data attribute.'));return}const ye=Number.parseInt(j,10),Ie=Number.parseInt(re,10);if(!this.dispatchEvent(new uF(this.engine.board,{row:ye,column:Ie},T)))return;let It;const ut=T.querySelector("svg");if(!ut){console.error(new Error("Svg child of the provided sweeper field not found."));return}let vt=1;const Fr=()=>{vt>=1.25?(window.clearInterval(It),ut.style.transform="none",this.triggerSecondActionClick(ye,Ie),this.requestUpdate()):(vt+=.01,ut.style.transform=`scale(${vt})`)};It=window.setInterval(Fr,2),typeof window.navigator.vibrate=="function"&&window.navigator.vibrate(100)}handleFieldClickStart(T){if(window.ontouchstart!==void 0&&T.type==="mousedown"){this.resetLongPressStates();return}const j=T.currentTarget;this.pressStartSweeperField=j,!this.isLongPressDisabled&&(this.pressStartTimestamp=T.timeStamp,this.engine&&this.engine.board&&!this.engine.isGameOver&&(this.longPressTimerId=window.setTimeout(()=>this.handleLongPress(j),this.longPressThreshold)))}handleFieldClickLeave(){this.resetLongPressStates()}handleFieldClickEnd(T){const j=T.currentTarget,re=!this.isLongPressDisabled&&T.timeStamp-(this.pressStartTimestamp||T.timeStamp)>this.longPressThreshold,ye=this.pressStartSweeperField===j;if(this.resetLongPressStates(),!this.engine||!this.engine.board||this.engine.isGameOver||!ye||re)return;const{row:Ie,column:$e}=j.dataset;if(!Ie||!$e){console.error(new Error('Provided sweeper field does not contain the "row" and "column" data attribute.'));return}const It=Number.parseInt(Ie,10),ut=Number.parseInt($e,10);if(!this.dispatchEvent(new cF(this.engine.board,{row:It,column:ut},j)))return;const{flags:Fr}=this.engine.board,cn=Fr[It][ut];if(T.ctrlKey||T.altKey||T.metaKey||this.flagPlacementMode)this.triggerSecondActionClick(It,ut);else if(!cn){const Er=this.engine.selectField(It,ut);this.dispatchEvent(new eb(this.engine.board,{row:It,column:ut},{type:Nn.Unveiled,value:Er}))}this.requestUpdate()}triggerSecondActionClick(T,j){const{flags:re,questionMarks:ye}=this.engine.board,Ie=re[T][j],$e=ye[T][j],It={row:T,column:j};if(!this.flagPlacementMode&&!this.disableQuestionMarks&&($e||Ie)){const ut=this.engine.toggleQuestionMark(T,j);Ie&&ut===1&&this.dispatchEvent(new eb(this.engine.board,It,{type:Nn.FlagAction,action:yA(-1)})),this.dispatchEvent(new eb(this.engine.board,It,{type:Nn.QuestionMarkAction,action:yA(ut)}))}else{const ut=this.engine.toggleFlag(T,j);this.dispatchEvent(new eb(this.engine.board,It,{type:Nn.FlagAction,action:yA(ut)}))}}render(){var T;if(!(!((T=this.engine)===null||T===void 0)&&T.board))return De`No Board :(`;const{bombs:j,flagCounter:re,positions:ye}=this.engine.board;return this.bombCounterSelector&&document.querySelectorAll(this.bombCounterSelector).forEach($e=>{$e.textContent=`${j-re}`}),De`
      <div
        class="sweeper-container${this.flagPlacementMode||this.isPressingFlagKey?" show-hover-elements":""}"
        @mousemove="${this.handleSweeperContainerMouseMove}"
        @scroll="${this.handleScroll}"
      >
        <div class="sweeper-box" @click="${Ie=>Ie.preventDefault()}">
          ${ye.map((Ie,$e)=>De`
                <div class="sweeper-row">
                  ${Ie.map((It,ut)=>this.getSweeperFieldHtml($e,ut))}
                </div>
              `)}
        </div>
        <div class="svg-container">
          ${Object.values(Qp).map(Ie=>mc(Ie))}
        </div>
      </div>
    `}getSweeperFieldSvg(T,j){const{revealedFields:re,questionMarks:ye,flags:Ie,positions:$e}=this.engine.board,It=re[T][j],ut=ye[T][j],vt=Ie[T][j];let Fr=ts.UNOPENED_SQUARE;if(It){const cn=$e[T][j];if(cn===ii.BOMB)Fr=vt?ts.FLAG:ts.BOMB;else if(cn===ii.BOMB_EXPLODE)Fr=ts.BOMB_EXPLODE;else if(vt)Fr=ts.FLAG_MISSED;else{const Er=`NUMBER_${cn}`;Fr=ts[Er]}}else ut?Fr=ts.QUESTION_MARK:vt&&(Fr=ts.FLAG);return Fr}getHoverSweeperFieldSvg(T){switch(T){case ts.FLAG:return this.disableQuestionMarks||this.flagPlacementMode?ts.UNOPENED_SQUARE:ts.QUESTION_MARK;case ts.QUESTION_MARK:return ts.UNOPENED_SQUARE;case ts.UNOPENED_SQUARE:return ts.FLAG;default:return T}}getSweeperFieldHtml(T,j){const{isGameOver:re,board:{revealedFields:ye,flags:Ie}}=this.engine,$e=ye[T][j],It=Ie[T][j],ut=this.getSweeperFieldSvg(T,j),vt=$e||It&&!(this.flagPlacementMode||this.isPressingFlagKey)||re?" unselectable":"";return!$e&&!re?De`
        <div
          class="sweeper-field${vt}"
          @touchstart="${this.handleFieldClickStart}"
          @touchend="${this.handleFieldClickLeave}"
          @touchcancel="${this.handleFieldClickLeave}"
          @mousedown="${this.handleFieldClickStart}"
          @mouseup="${this.handleFieldClickLeave}"
          @mouseleave="${this.handleFieldClickLeave}"
          @click="${this.handleFieldClickEnd}"
          data-row="${T}"
          data-column="${j}"
        >
          ${mc(ut)} ${mc(this.getHoverSweeperFieldSvg(ut))}
        </div>
      `:De`
      <div
        class="sweeper-field${vt}"
        data-row="${T}"
        data-column="${j}"
      >
        ${mc(ut)}
      </div>
    `}}r([I({attribute:"restart-selector",type:String})],Ui.prototype,"restartSelector",void 0),r([I({attribute:"bomb-counter-selector",type:String})],Ui.prototype,"bombCounterSelector",void 0),r([I({attribute:"flag-placement-mode",type:Boolean,reflect:!0})],Ui.prototype,"flagPlacementMode",void 0),r([I({attribute:"disable-question-marks",type:Boolean})],Ui.prototype,"disableQuestionMarks",void 0),r([I({attribute:"long-press-threshold",type:Number})],Ui.prototype,"longPressThreshold",void 0),r([I({type:Number})],Ui.prototype,"columns",void 0),r([I({type:Number})],Ui.prototype,"rows",void 0),r([I({type:Number})],Ui.prototype,"bombs",void 0),r([z({})],Ui.prototype,"engine",void 0),r([z({})],Ui.prototype,"pressStartTimestamp",void 0),r([z({})],Ui.prototype,"pressStartSweeperField",void 0),r([z({})],Ui.prototype,"longPressTimerId",void 0),r([z({})],Ui.prototype,"isPressingFlagKey",void 0),r([ee({passive:!0})],Ui.prototype,"handleFieldClickStart",null),r([ee({passive:!0})],Ui.prototype,"handleFieldClickLeave",null)}},NN={};function ju(n){var e=NN[n];if(e!==void 0)return e.exports;var t=NN[n]={id:n,exports:{}};return zwe[n](t,t.exports,ju),t.exports}(function(){ju.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return ju.d(e,{a:e}),e}})();(function(){ju.d=function(n,e){for(var t in e)ju.o(e,t)&&!ju.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}})();(function(){ju.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}})();(function(){var n=ju(887);window.customElements.define("minesweeper-game",n.A)})();var uA={exports:{}},N6={},$6={exports:{}},Dwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uwe=Dwe,Kwe=Uwe;function q6(){}function z6(){}z6.resetWarningCache=q6;var Wwe=function(){function n(r,i,s,o,a,c){if(c!==Kwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:z6,resetWarningCache:q6};return t.PropTypes=t,t};$6.exports=Wwe();var D6=$6.exports;function U6(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=U6(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function $N(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=U6(n))&&(r&&(r+=" "),r+=e);return r}const Fwe=Object.freeze(Object.defineProperty({__proto__:null,clsx:$N,default:$N},Symbol.toStringTag,{value:"Module"})),Vwe=la(Fwe);var ei={},gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.dontSetMe=Jwe;gc.findInArray=jwe;gc.int=Gwe;gc.isFunction=Hwe;gc.isNum=Ywe;function jwe(n,e){for(let t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function Hwe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function Ywe(n){return typeof n=="number"&&!isNaN(n)}function Gwe(n){return parseInt(n,10)}function Jwe(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))}var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.browserPrefixToKey=W6;Wd.browserPrefixToStyle=Qwe;Wd.default=void 0;Wd.getPrefix=K6;const iE=["Moz","Webkit","O","ms"];function K6(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!t||e in t)return"";for(let r=0;r<iE.length;r++)if(W6(e,iE[r])in t)return iE[r];return""}function W6(n,e){return e?"".concat(e).concat(Zwe(n)):n}function Qwe(n,e){return e?"-".concat(e.toLowerCase(),"-").concat(n):n}function Zwe(n){let e="",t=!0;for(let r=0;r<n.length;r++)t?(e+=n[r].toUpperCase(),t=!1):n[r]==="-"?t=!0:e+=n[r];return e}Wd.default=K6();Object.defineProperty(ei,"__esModule",{value:!0});ei.addClassName=j6;ei.addEvent=tke;ei.addUserSelectStyles=hke;ei.createCSSTransform=cke;ei.createSVGTransform=uke;ei.getTouch=lke;ei.getTouchIdentifier=dke;ei.getTranslation=ET;ei.innerHeight=ske;ei.innerWidth=oke;ei.matchesSelector=V6;ei.matchesSelectorAndParentsTo=eke;ei.offsetXYFromParent=ake;ei.outerHeight=rke;ei.outerWidth=ike;ei.removeClassName=H6;ei.removeEvent=nke;ei.removeUserSelectStyles=fke;var lo=gc,qN=Xwe(Wd);function F6(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(F6=function(r){return r?t:e})(n)}function Xwe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=F6(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}let Hb="";function V6(n,e){return Hb||(Hb=(0,lo.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,lo.isFunction)(n[t])})),(0,lo.isFunction)(n[Hb])?n[Hb](e):!1}function eke(n,e,t){let r=n;do{if(V6(r,e))return!0;if(r===t)return!1;r=r.parentNode}while(r);return!1}function tke(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.addEventListener?n.addEventListener(e,t,i):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function nke(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.removeEventListener?n.removeEventListener(e,t,i):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function rke(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,lo.int)(t.borderTopWidth),e+=(0,lo.int)(t.borderBottomWidth),e}function ike(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,lo.int)(t.borderLeftWidth),e+=(0,lo.int)(t.borderRightWidth),e}function ske(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,lo.int)(t.paddingTop),e-=(0,lo.int)(t.paddingBottom),e}function oke(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,lo.int)(t.paddingLeft),e-=(0,lo.int)(t.paddingRight),e}function ake(n,e,t){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-i.left)/t,o=(n.clientY+e.scrollTop-i.top)/t;return{x:s,y:o}}function cke(n,e){const t=ET(n,e,"px");return{[(0,qN.browserPrefixToKey)("transform",qN.default)]:t}}function uke(n,e){return ET(n,e,"")}function ET(n,e,t){let{x:r,y:i}=n,s="translate(".concat(r).concat(t,",").concat(i).concat(t,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+t),a="".concat(typeof e.y=="string"?e.y:e.y+t);s="translate(".concat(o,", ").concat(a,")")+s}return s}function lke(n,e){return n.targetTouches&&(0,lo.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,lo.findInArray)(n.changedTouches,t=>e===t.identifier)}function dke(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function hke(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&j6(n.body,"react-draggable-transparent-selection")}function fke(n){if(n)try{if(n.body&&H6(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function j6(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(n.className+=" ".concat(e))}function H6(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.canDragX=yke;yc.canDragY=mke;yc.createCoreData=wke;yc.createDraggableData=kke;yc.getBoundPosition=pke;yc.getControlPosition=bke;yc.snapToGrid=gke;var Qs=gc,Ch=ei;function pke(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:r}=n.props;r=typeof r=="string"?r:Ske(r);const i=IT(n);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=s.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,u=o.getComputedStyle(i),l=o.getComputedStyle(c);r={left:-i.offsetLeft+(0,Qs.int)(l.paddingLeft)+(0,Qs.int)(u.marginLeft),top:-i.offsetTop+(0,Qs.int)(l.paddingTop)+(0,Qs.int)(u.marginTop),right:(0,Ch.innerWidth)(c)-(0,Ch.outerWidth)(i)-i.offsetLeft+(0,Qs.int)(l.paddingRight)-(0,Qs.int)(u.marginRight),bottom:(0,Ch.innerHeight)(c)-(0,Ch.outerHeight)(i)-i.offsetTop+(0,Qs.int)(l.paddingBottom)-(0,Qs.int)(u.marginBottom)}}return(0,Qs.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Qs.isNum)(r.bottom)&&(t=Math.min(t,r.bottom)),(0,Qs.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Qs.isNum)(r.top)&&(t=Math.max(t,r.top)),[e,t]}function gke(n,e,t){const r=Math.round(e/n[0])*n[0],i=Math.round(t/n[1])*n[1];return[r,i]}function yke(n){return n.props.axis==="both"||n.props.axis==="x"}function mke(n){return n.props.axis==="both"||n.props.axis==="y"}function bke(n,e,t){const r=typeof e=="number"?(0,Ch.getTouch)(n,e):null;if(typeof e=="number"&&!r)return null;const i=IT(t),s=t.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ch.offsetXYFromParent)(r||n,s,t.props.scale)}function wke(n,e,t){const r=!(0,Qs.isNum)(n.lastX),i=IT(n);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:i,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function kke(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function Ske(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function IT(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var lA={},dA={};Object.defineProperty(dA,"__esModule",{value:!0});dA.default=Ake;function Ake(){}Object.defineProperty(lA,"__esModule",{value:!0});lA.default=void 0;var sE=vke(ke),ms=RT(D6),_ke=RT(vm),Yi=ei,lu=yc,oE=gc,_g=RT(dA);function RT(n){return n&&n.__esModule?n:{default:n}}function Y6(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Y6=function(r){return r?t:e})(n)}function vke(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=Y6(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function ns(n,e,t){return e=Eke(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Eke(n){var e=Ike(n,"string");return typeof e=="symbol"?e:String(e)}function Ike(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Yo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let du=Yo.mouse,hA=class extends sE.Component{constructor(){super(...arguments),ns(this,"dragging",!1),ns(this,"lastX",NaN),ns(this,"lastY",NaN),ns(this,"touchIdentifier",null),ns(this,"mounted",!1),ns(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Yi.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,Yi.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Yi.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,lu.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,c=(0,lu.createCoreData)(this,o,a);(0,_g.default)("DraggableCore: handleDragStart: %j",c),(0,_g.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Yi.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Yi.addEvent)(r,du.move,this.handleDrag),(0,Yi.addEvent)(r,du.stop,this.handleDragStop))}),ns(this,"handleDrag",e=>{const t=(0,lu.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=i-this.lastY;if([a,c]=(0,lu.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,i=this.lastY+c}const s=(0,lu.createCoreData)(this,r,i);if((0,_g.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=i}),ns(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,lu.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=i-this.lastY||0;[c,u]=(0,lu.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,i=this.lastY+u}const s=(0,lu.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Yi.removeUserSelectStyles)(a.ownerDocument),(0,_g.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,_g.default)("DraggableCore: Removing handlers"),(0,Yi.removeEvent)(a.ownerDocument,du.move,this.handleDrag),(0,Yi.removeEvent)(a.ownerDocument,du.stop,this.handleDragStop))}),ns(this,"onMouseDown",e=>(du=Yo.mouse,this.handleDragStart(e))),ns(this,"onMouseUp",e=>(du=Yo.mouse,this.handleDragStop(e))),ns(this,"onTouchStart",e=>(du=Yo.touch,this.handleDragStart(e))),ns(this,"onTouchEnd",e=>(du=Yo.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Yi.addEvent)(e,Yo.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,Yi.removeEvent)(t,Yo.mouse.move,this.handleDrag),(0,Yi.removeEvent)(t,Yo.touch.move,this.handleDrag),(0,Yi.removeEvent)(t,Yo.mouse.stop,this.handleDragStop),(0,Yi.removeEvent)(t,Yo.touch.stop,this.handleDragStop),(0,Yi.removeEvent)(e,Yo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Yi.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:_ke.default.findDOMNode(this)}render(){return sE.cloneElement(sE.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};lA.default=hA;ns(hA,"displayName","DraggableCore");ns(hA,"propTypes",{allowAnyClick:ms.default.bool,children:ms.default.node.isRequired,disabled:ms.default.bool,enableUserSelectHack:ms.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ms.default.arrayOf(ms.default.number),handle:ms.default.string,cancel:ms.default.string,nodeRef:ms.default.object,onStart:ms.default.func,onDrag:ms.default.func,onStop:ms.default.func,onMouseDown:ms.default.func,scale:ms.default.number,className:oE.dontSetMe,style:oE.dontSetMe,transform:oE.dontSetMe});ns(hA,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var e=b(ke),t=l(D6),r=l(vm),i=l(Vwe),s=ei,o=yc,a=gc,c=l(lA),u=l(dA);function l(_){return _&&_.__esModule?_:{default:_}}function d(_){if(typeof WeakMap!="function")return null;var R=new WeakMap,x=new WeakMap;return(d=function(K){return K?x:R})(_)}function b(_,R){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var x=d(R);if(x&&x.has(_))return x.get(_);var K={},J=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in _)if(M!=="default"&&Object.prototype.hasOwnProperty.call(_,M)){var Z=J?Object.getOwnPropertyDescriptor(_,M):null;Z&&(Z.get||Z.set)?Object.defineProperty(K,M,Z):K[M]=_[M]}return K.default=_,x&&x.set(_,K),K}function p(){return p=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var x=arguments[R];for(var K in x)Object.prototype.hasOwnProperty.call(x,K)&&(_[K]=x[K])}return _},p.apply(this,arguments)}function g(_,R,x){return R=y(R),R in _?Object.defineProperty(_,R,{value:x,enumerable:!0,configurable:!0,writable:!0}):_[R]=x,_}function y(_){var R=S(_,"string");return typeof R=="symbol"?R:String(R)}function S(_,R){if(typeof _!="object"||_===null)return _;var x=_[Symbol.toPrimitive];if(x!==void 0){var K=x.call(_,R||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}class w extends e.Component{static getDerivedStateFromProps(R,x){let{position:K}=R,{prevPropsPosition:J}=x;return K&&(!J||K.x!==J.x||K.y!==J.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:K,prevPropsPosition:J}),{x:K.x,y:K.y,prevPropsPosition:{...K}}):null}constructor(R){super(R),g(this,"onDragStart",(x,K)=>{if((0,u.default)("Draggable: onDragStart: %j",K),this.props.onStart(x,(0,o.createDraggableData)(this,K))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(x,K)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",K);const J=(0,o.createDraggableData)(this,K),M={x:J.x,y:J.y,slackX:0,slackY:0};if(this.props.bounds){const{x:ie,y:X}=M;M.x+=this.state.slackX,M.y+=this.state.slackY;const[ne,ae]=(0,o.getBoundPosition)(this,M.x,M.y);M.x=ne,M.y=ae,M.slackX=this.state.slackX+(ie-M.x),M.slackY=this.state.slackY+(X-M.y),J.x=M.x,J.y=M.y,J.deltaX=M.x-this.state.x,J.deltaY=M.y-this.state.y}if(this.props.onDrag(x,J)===!1)return!1;this.setState(M)}),g(this,"onDragStop",(x,K)=>{if(!this.state.dragging||this.props.onStop(x,(0,o.createDraggableData)(this,K))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",K);const M={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:ie,y:X}=this.props.position;M.x=ie,M.y=X}this.setState(M)}),this.state={dragging:!1,dragged:!1,x:R.position?R.position.x:R.defaultPosition.x,y:R.position?R.position.y:R.defaultPosition.y,prevPropsPosition:{...R.position},slackX:0,slackY:0,isElementSVG:!1},R.position&&!(R.onDrag||R.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var R,x;return(R=(x=this.props)===null||x===void 0||(x=x.nodeRef)===null||x===void 0?void 0:x.current)!==null&&R!==void 0?R:r.default.findDOMNode(this)}render(){const{axis:R,bounds:x,children:K,defaultPosition:J,defaultClassName:M,defaultClassNameDragging:Z,defaultClassNameDragged:ie,position:X,positionOffset:ne,scale:ae,...L}=this.props;let m={},v=null;const W=!!!X||this.state.dragging,C=X||J,$={x:(0,o.canDragX)(this)&&W?this.state.x:C.x,y:(0,o.canDragY)(this)&&W?this.state.y:C.y};this.state.isElementSVG?v=(0,s.createSVGTransform)($,ne):m=(0,s.createCSSTransform)($,ne);const Q=(0,i.default)(K.props.className||"",M,{[Z]:this.state.dragging,[ie]:this.state.dragged});return e.createElement(c.default,p({},L,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(K),{className:Q,style:{...K.props.style,...m},transform:v}))}}n.default=w,g(w,"displayName","Draggable"),g(w,"propTypes",{...c.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(N6);const{default:G6,DraggableCore:Rke}=N6;uA.exports=G6;uA.exports.default=G6;uA.exports.DraggableCore=Rke;var Pke=uA.exports;const xke=Do(Pke);var J6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(J6);var Bke=J6.exports;const Xm=Do(Bke);var Q6="r95_1bzq74l0";function Tke(n){var e=n.match(/^var\((.*)\)$/);return e?e[1]:n}function Cke(n,e){var t={};{var r=n;for(var i in r){var s=r[i];s!=null&&(t[Tke(i)]=s)}}return Object.defineProperty(t,"toString",{value:function(){return Object.keys(this).map(a=>"".concat(a,":").concat(this[a])).join(";")},writable:!1}),t}function QR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Z6(n,e){if(n){if(typeof n=="string")return QR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return QR(n,e)}}function Mke(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lke(n){var e=Mke(n,"string");return typeof e=="symbol"?e:String(e)}function Oke(n,e,t){return e=Lke(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nke(n){if(Array.isArray(n))return QR(n)}function $ke(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(n){return Nke(n)||$ke(n)||Z6(n)||qke()}var eF=/(-)?\B\$([\w\-.]+)/g;function zN(n,e,t){if(Array.isArray(t)&&t.indexOf(n)>-1)return!1;var r=!1,i=n.replace(eF,function(s){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];var u=a[0],l=a[1],d="".concat(u?"-":"").concat(l);return t!=null&&t[d]?(r=!0,s):e!=null&&e[d]?e[d]:s});return r?!1:i}function zke(n,e){for(var t,r=[];t=eF.exec(n);)r.push.apply(r,X6(t.slice(1)));if(r.length===2){var i=r[0],s=r[1],o="".concat(i?"-":"").concat(s);if(o in e)return e[o]}return null}function DN(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Z6(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function UN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function aE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UN(Object(t),!0).forEach(function(r){Oke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dke(n,e,t){if(!e&&e!==0)return"";if(typeof e=="string"||typeof e=="number")return KN(n,"".concat(e),t);var r=Object.keys(e);if(r.length<1)return"";var i=r.map(function(s){var o="".concat(e[s]);return KN(n,o,t,s)}).filter(Boolean);return i.join(" ").trim()}function KN(n,e,t,r){var i=n.dynamic,s=n.values,o=n.name,a=n.staticScale,c=r?"".concat(r).concat(e):e;if(t.has(c))return t.get(c);if(s){if(Array.isArray(a)&&a.includes(e)){var u=r?s[e].conditions[r]:s[e].default;return t.set(c,u),u}var l=zke(e,s);if(l){var d=r?l.conditions[r]:l.default;return t.set(c,d),d}}if(i){var b=r?i.conditions[r]:i.default;return t.set(c,b),b}return console.error("Rainbow Sprinkles: invalid value provided to prop '".concat(o,"'. Expected one of ").concat(Object.keys(s).map(function(p){return'"'.concat(p,'"')}).join(", "),". Received: ").concat(JSON.stringify(e),".")),""}function Uke(n,e){return function(r,i){var s=r.vars,o=r.dynamicScale,a=r.staticScale;r.values;var c=r.dynamic;if(!c)return n;if(typeof i=="string"||typeof i=="number"){var u;return e.has(i)?u=e.get(i):(u=zN("".concat(i),o,a),e.set(i,u)),u&&(n[s.default]=u),n}if(i&&Object.keys(i).length<1||i==null)return n;for(var l in i){var d=i[l];if(typeof d=="string"||typeof d=="number"){var b=void 0;if(e.has(d)?b=e.get(d):(b=zN("".concat(d),o,a),e.set(d,b)),!b)continue;n[s.conditions[l]]=b}}return n}}var Kke=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Object.assign.apply(Object,[{}].concat(X6(t.map(function(l){return l.config})))),s=Object.keys(i),o=new Set(s),a=s.filter(function(l){return"mappings"in i[l]}),c=new Map,u=function(d){var b={},p=[],g={},y={},S=aE({},d),w=!1,_=DN(a),R;try{for(_.s();!(R=_.n()).done;){var x=R.value,K=d[x];if(K!=null){var J=i[x];w=!0;var M=DN(J.mappings),Z;try{for(M.s();!(Z=M.n()).done;){var ie=Z.value;y[ie]=K,S[ie]==null&&delete S[ie]}}catch($){M.e($)}finally{M.f()}}}}catch($){_.e($)}finally{_.f()}var X=w?aE(aE({},y),S):d;for(var ne in X){if(!o.has(ne)){g[ne]=d[ne];continue}var ae=i[ne],L=X[ne];if(!("mappings"in ae)){var m=void 0,v=void 0;if(ae){if(c.has(ne)){var B=c.get(ne);m=B.get("class"),v=B.get("style")}else{var W=new Map;m=new Map,v=new Map,W.set("class",m),W.set("style",v),c.set(ne,W)}var C=Uke(b,v);p.push(Dke(ae,L,m)),C(ae,L)}}}return{className:p.join(" ").trim(),style:Cke(b),otherProps:g}};return Object.assign(u,{properties:o})},Wke=Kke(function(){var n={config:{bgColor:{mappings:["backgroundColor"]},backgroundColor:{vars:{default:"var(--r95_iuzg893o)"},dynamic:{default:"r95_iuzg893p"},dynamicScale:{anchor:"var(--r95-color-anchor)",anchorVisited:"var(--r95-color-anchorVisited)",borderDark:"var(--r95-color-borderDark)",borderDarkest:"var(--r95-color-borderDarkest)",borderLight:"var(--r95-color-borderLight)",borderLighter:"var(--r95-color-borderLighter)",borderLightest:"var(--r95-color-borderLightest)",canvas:"var(--r95-color-canvas)",canvasText:"var(--r95-color-canvasText)",headerBackground:"var(--r95-color-headerBackground)",headerNotActiveBackground:"var(--r95-color-headerNotActiveBackground)",headerNotActiveText:"var(--r95-color-headerNotActiveText)",headerText:"var(--r95-color-headerText)",material:"var(--r95-color-material)",materialText:"var(--r95-color-materialText)",materialTextDisabled:"var(--r95-color-materialTextDisabled)",materialTextDisabledShadow:"var(--r95-color-materialTextDisabledShadow)",materialTextInvert:"var(--r95-color-materialTextInvert)",progress:"var(--r95-color-progress)",inputBackground:"var(--r95-color-inputBackground)",inputBackgroundDisabled:"var(--r95-color-inputBackgroundDisabled)"},name:"backgroundColor"},color:{vars:{default:"var(--r95_iuzg893q)"},dynamic:{default:"r95_iuzg893r"},dynamicScale:void 0,name:"color"}}};return n.config.color.dynamicScale=n.config.backgroundColor.dynamicScale,n}(),{config:{boxShadow:{vars:{default:"var(--r95_iuzg895y)"},dynamic:{default:"r95_iuzg895z"},dynamicScale:{out:"var(--r95-shadow-out)",in:"var(--r95-shadow-in)",input:"var(--r95-shadow-input)"},name:"boxShadow"}}},{config:{zIndex:{vars:{default:"var(--r95_iuzg897c)"},dynamic:{default:"r95_iuzg897d"},dynamicScale:{modal:"var(--r95-zIndex-modal)",tooltip:"var(--r95-zIndex-tooltip)",taskbar:"var(--r95-zIndex-taskbar)"},name:"zIndex"}}},function(){var n={config:{size:{mappings:["height","width"]},h:{mappings:["height"]},w:{mappings:["width"]},minH:{mappings:["minHeight"]},minW:{mappings:["minWidth"]},m:{mappings:["margin"]},mr:{mappings:["marginRight"]},ml:{mappings:["marginLeft"]},mt:{mappings:["marginTop"]},mb:{mappings:["marginBottom"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},mx:{mappings:["marginLeft","marginRight"]},my:{mappings:["marginTop","marginBottom"]},p:{mappings:["padding"]},pr:{mappings:["paddingRight"]},pl:{mappings:["paddingLeft"]},pt:{mappings:["paddingTop"]},pb:{mappings:["paddingBottom"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},px:{mappings:["paddingLeft","paddingRight"]},py:{mappings:["paddingTop","paddingBottom"]},display:{vars:{default:"var(--r95_iuzg890)"},dynamic:{default:"r95_iuzg891"},dynamicScale:!0,name:"display"},overflow:{vars:{default:"var(--r95_iuzg892)"},dynamic:{default:"r95_iuzg893"},dynamicScale:!0,name:"overflow"},boxSizing:{vars:{default:"var(--r95_iuzg894)"},dynamic:{default:"r95_iuzg895"},dynamicScale:!0,name:"boxSizing"},grid:{vars:{default:"var(--r95_iuzg896)"},dynamic:{default:"r95_iuzg897"},dynamicScale:!0,name:"grid"},gridArea:{vars:{default:"var(--r95_iuzg898)"},dynamic:{default:"r95_iuzg899"},dynamicScale:!0,name:"gridArea"},gridAutoColumns:{vars:{default:"var(--r95_iuzg89a)"},dynamic:{default:"r95_iuzg89b"},dynamicScale:!0,name:"gridAutoColumns"},gridAutoFlow:{vars:{default:"var(--r95_iuzg89c)"},dynamic:{default:"r95_iuzg89d"},dynamicScale:!0,name:"gridAutoFlow"},gridAutoRows:{vars:{default:"var(--r95_iuzg89e)"},dynamic:{default:"r95_iuzg89f"},dynamicScale:!0,name:"gridAutoRows"},gridColumn:{vars:{default:"var(--r95_iuzg89g)"},dynamic:{default:"r95_iuzg89h"},dynamicScale:!0,name:"gridColumn"},gridColumnEnd:{vars:{default:"var(--r95_iuzg89i)"},dynamic:{default:"r95_iuzg89j"},dynamicScale:!0,name:"gridColumnEnd"},gridColumnStart:{vars:{default:"var(--r95_iuzg89k)"},dynamic:{default:"r95_iuzg89l"},dynamicScale:!0,name:"gridColumnStart"},gridRow:{vars:{default:"var(--r95_iuzg89m)"},dynamic:{default:"r95_iuzg89n"},dynamicScale:!0,name:"gridRow"},gridRowEnd:{vars:{default:"var(--r95_iuzg89o)"},dynamic:{default:"r95_iuzg89p"},dynamicScale:!0,name:"gridRowEnd"},gridRowStart:{vars:{default:"var(--r95_iuzg89q)"},dynamic:{default:"r95_iuzg89r"},dynamicScale:!0,name:"gridRowStart"},gridTemplate:{vars:{default:"var(--r95_iuzg89s)"},dynamic:{default:"r95_iuzg89t"},dynamicScale:!0,name:"gridTemplate"},gridTemplateAreas:{vars:{default:"var(--r95_iuzg89u)"},dynamic:{default:"r95_iuzg89v"},dynamicScale:!0,name:"gridTemplateAreas"},gridTemplateColumns:{vars:{default:"var(--r95_iuzg89w)"},dynamic:{default:"r95_iuzg89x"},dynamicScale:!0,name:"gridTemplateColumns"},gridTemplateRows:{vars:{default:"var(--r95_iuzg89y)"},dynamic:{default:"r95_iuzg89z"},dynamicScale:!0,name:"gridTemplateRows"},flex:{vars:{default:"var(--r95_iuzg8910)"},dynamic:{default:"r95_iuzg8911"},dynamicScale:!0,name:"flex"},flexBasis:{vars:{default:"var(--r95_iuzg8912)"},dynamic:{default:"r95_iuzg8913"},dynamicScale:!0,name:"flexBasis"},flexDirection:{vars:{default:"var(--r95_iuzg8914)"},dynamic:{default:"r95_iuzg8915"},dynamicScale:!0,name:"flexDirection"},flexFlow:{vars:{default:"var(--r95_iuzg8916)"},dynamic:{default:"r95_iuzg8917"},dynamicScale:!0,name:"flexFlow"},flexGrow:{vars:{default:"var(--r95_iuzg8918)"},dynamic:{default:"r95_iuzg8919"},dynamicScale:!0,name:"flexGrow"},flexShrink:{vars:{default:"var(--r95_iuzg891a)"},dynamic:{default:"r95_iuzg891b"},dynamicScale:!0,name:"flexShrink"},flexWrap:{vars:{default:"var(--r95_iuzg891c)"},dynamic:{default:"r95_iuzg891d"},dynamicScale:!0,name:"flexWrap"},justifyContent:{vars:{default:"var(--r95_iuzg891e)"},dynamic:{default:"r95_iuzg891f"},dynamicScale:!0,name:"justifyContent"},justifyItems:{vars:{default:"var(--r95_iuzg891g)"},dynamic:{default:"r95_iuzg891h"},dynamicScale:!0,name:"justifyItems"},justifySelf:{vars:{default:"var(--r95_iuzg891i)"},dynamic:{default:"r95_iuzg891j"},dynamicScale:!0,name:"justifySelf"},alignContent:{vars:{default:"var(--r95_iuzg891k)"},dynamic:{default:"r95_iuzg891l"},dynamicScale:!0,name:"alignContent"},alignItems:{vars:{default:"var(--r95_iuzg891m)"},dynamic:{default:"r95_iuzg891n"},dynamicScale:!0,name:"alignItems"},alignSelf:{vars:{default:"var(--r95_iuzg891o)"},dynamic:{default:"r95_iuzg891p"},dynamicScale:!0,name:"alignSelf"},gap:{vars:{default:"var(--r95_iuzg891q)"},dynamic:{default:"r95_iuzg891r"},dynamicScale:{0:"var(--r95-space-0)",1:"var(--r95-space-1)",2:"var(--r95-space-2)",3:"var(--r95-space-3)",4:"var(--r95-space-4)",5:"var(--r95-space-5)",6:"var(--r95-space-6)",7:"var(--r95-space-7)",8:"var(--r95-space-8)",9:"var(--r95-space-9)",10:"var(--r95-space-10)",11:"var(--r95-space-11)",12:"var(--r95-space-12)",13:"var(--r95-space-13)",14:"var(--r95-space-14)",15:"var(--r95-space-15)",16:"var(--r95-space-16)",17:"var(--r95-space-17)",18:"var(--r95-space-18)",19:"var(--r95-space-19)",20:"var(--r95-space-20)"},name:"gap"},width:{vars:{default:"var(--r95_iuzg891s)"},dynamic:{default:"r95_iuzg891t"},dynamicScale:void 0,name:"width"},maxWidth:{vars:{default:"var(--r95_iuzg891u)"},dynamic:{default:"r95_iuzg891v"},dynamicScale:void 0,name:"maxWidth"},minWidth:{vars:{default:"var(--r95_iuzg891w)"},dynamic:{default:"r95_iuzg891x"},dynamicScale:void 0,name:"minWidth"},height:{vars:{default:"var(--r95_iuzg891y)"},dynamic:{default:"r95_iuzg891z"},dynamicScale:void 0,name:"height"},maxHeight:{vars:{default:"var(--r95_iuzg8920)"},dynamic:{default:"r95_iuzg8921"},dynamicScale:void 0,name:"maxHeight"},minHeight:{vars:{default:"var(--r95_iuzg8922)"},dynamic:{default:"r95_iuzg8923"},dynamicScale:void 0,name:"minHeight"},margin:{vars:{default:"var(--r95_iuzg8924)"},dynamic:{default:"r95_iuzg8925"},dynamicScale:void 0,name:"margin"},marginBlock:{vars:{default:"var(--r95_iuzg8926)"},dynamic:{default:"r95_iuzg8927"},dynamicScale:void 0,name:"marginBlock"},marginBlockEnd:{vars:{default:"var(--r95_iuzg8928)"},dynamic:{default:"r95_iuzg8929"},dynamicScale:void 0,name:"marginBlockEnd"},marginBlockStart:{vars:{default:"var(--r95_iuzg892a)"},dynamic:{default:"r95_iuzg892b"},dynamicScale:void 0,name:"marginBlockStart"},marginBottom:{vars:{default:"var(--r95_iuzg892c)"},dynamic:{default:"r95_iuzg892d"},dynamicScale:void 0,name:"marginBottom"},marginInline:{vars:{default:"var(--r95_iuzg892e)"},dynamic:{default:"r95_iuzg892f"},dynamicScale:void 0,name:"marginInline"},marginInlineEnd:{vars:{default:"var(--r95_iuzg892g)"},dynamic:{default:"r95_iuzg892h"},dynamicScale:void 0,name:"marginInlineEnd"},marginInlineStart:{vars:{default:"var(--r95_iuzg892i)"},dynamic:{default:"r95_iuzg892j"},dynamicScale:void 0,name:"marginInlineStart"},marginLeft:{vars:{default:"var(--r95_iuzg892k)"},dynamic:{default:"r95_iuzg892l"},dynamicScale:void 0,name:"marginLeft"},marginRight:{vars:{default:"var(--r95_iuzg892m)"},dynamic:{default:"r95_iuzg892n"},dynamicScale:void 0,name:"marginRight"},marginTop:{vars:{default:"var(--r95_iuzg892o)"},dynamic:{default:"r95_iuzg892p"},dynamicScale:void 0,name:"marginTop"},padding:{vars:{default:"var(--r95_iuzg892q)"},dynamic:{default:"r95_iuzg892r"},dynamicScale:void 0,name:"padding"},paddingBlock:{vars:{default:"var(--r95_iuzg892s)"},dynamic:{default:"r95_iuzg892t"},dynamicScale:void 0,name:"paddingBlock"},paddingBlockEnd:{vars:{default:"var(--r95_iuzg892u)"},dynamic:{default:"r95_iuzg892v"},dynamicScale:void 0,name:"paddingBlockEnd"},paddingBlockStart:{vars:{default:"var(--r95_iuzg892w)"},dynamic:{default:"r95_iuzg892x"},dynamicScale:void 0,name:"paddingBlockStart"},paddingBottom:{vars:{default:"var(--r95_iuzg892y)"},dynamic:{default:"r95_iuzg892z"},dynamicScale:void 0,name:"paddingBottom"},paddingInline:{vars:{default:"var(--r95_iuzg8930)"},dynamic:{default:"r95_iuzg8931"},dynamicScale:void 0,name:"paddingInline"},paddingInlineEnd:{vars:{default:"var(--r95_iuzg8932)"},dynamic:{default:"r95_iuzg8933"},dynamicScale:void 0,name:"paddingInlineEnd"},paddingInlineStart:{vars:{default:"var(--r95_iuzg8934)"},dynamic:{default:"r95_iuzg8935"},dynamicScale:void 0,name:"paddingInlineStart"},paddingLeft:{vars:{default:"var(--r95_iuzg8936)"},dynamic:{default:"r95_iuzg8937"},dynamicScale:void 0,name:"paddingLeft"},paddingRight:{vars:{default:"var(--r95_iuzg8938)"},dynamic:{default:"r95_iuzg8939"},dynamicScale:void 0,name:"paddingRight"},paddingTop:{vars:{default:"var(--r95_iuzg893a)"},dynamic:{default:"r95_iuzg893b"},dynamicScale:void 0,name:"paddingTop"}}};return n.config.width.dynamicScale=n.config.gap.dynamicScale,n.config.maxWidth.dynamicScale=n.config.gap.dynamicScale,n.config.minWidth.dynamicScale=n.config.gap.dynamicScale,n.config.height.dynamicScale=n.config.gap.dynamicScale,n.config.maxHeight.dynamicScale=n.config.gap.dynamicScale,n.config.minHeight.dynamicScale=n.config.gap.dynamicScale,n.config.margin.dynamicScale=n.config.gap.dynamicScale,n.config.marginBlock.dynamicScale=n.config.gap.dynamicScale,n.config.marginBlockEnd.dynamicScale=n.config.gap.dynamicScale,n.config.marginBlockStart.dynamicScale=n.config.gap.dynamicScale,n.config.marginBottom.dynamicScale=n.config.gap.dynamicScale,n.config.marginInline.dynamicScale=n.config.gap.dynamicScale,n.config.marginInlineEnd.dynamicScale=n.config.gap.dynamicScale,n.config.marginInlineStart.dynamicScale=n.config.gap.dynamicScale,n.config.marginLeft.dynamicScale=n.config.gap.dynamicScale,n.config.marginRight.dynamicScale=n.config.gap.dynamicScale,n.config.marginTop.dynamicScale=n.config.gap.dynamicScale,n.config.padding.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBlock.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBlockEnd.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBlockStart.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBottom.dynamicScale=n.config.gap.dynamicScale,n.config.paddingInline.dynamicScale=n.config.gap.dynamicScale,n.config.paddingInlineEnd.dynamicScale=n.config.gap.dynamicScale,n.config.paddingInlineStart.dynamicScale=n.config.gap.dynamicScale,n.config.paddingLeft.dynamicScale=n.config.gap.dynamicScale,n.config.paddingRight.dynamicScale=n.config.gap.dynamicScale,n.config.paddingTop.dynamicScale=n.config.gap.dynamicScale,n}(),{config:{position:{vars:{default:"var(--r95_iuzg893c)"},dynamic:{default:"r95_iuzg893d"},dynamicScale:!0,name:"position"},top:{vars:{default:"var(--r95_iuzg893e)"},dynamic:{default:"r95_iuzg893f"},dynamicScale:!0,name:"top"},right:{vars:{default:"var(--r95_iuzg893g)"},dynamic:{default:"r95_iuzg893h"},dynamicScale:!0,name:"right"},bottom:{vars:{default:"var(--r95_iuzg893i)"},dynamic:{default:"r95_iuzg893j"},dynamicScale:!0,name:"bottom"},left:{vars:{default:"var(--r95_iuzg893k)"},dynamic:{default:"r95_iuzg893l"},dynamicScale:!0,name:"left"},pointerEvents:{vars:{default:"var(--r95_iuzg893m)"},dynamic:{default:"r95_iuzg893n"},dynamicScale:!0,name:"pointerEvents"}}},{config:{bg:{mappings:["background"]},background:{vars:{default:"var(--r95_iuzg893s)"},dynamic:{default:"r95_iuzg893t"},dynamicScale:!0,name:"background"},backgroundAttachment:{vars:{default:"var(--r95_iuzg893u)"},dynamic:{default:"r95_iuzg893v"},dynamicScale:!0,name:"backgroundAttachment"},backgroundImage:{vars:{default:"var(--r95_iuzg893w)"},dynamic:{default:"r95_iuzg893x"},dynamicScale:!0,name:"backgroundImage"},backgroundPosition:{vars:{default:"var(--r95_iuzg893y)"},dynamic:{default:"r95_iuzg893z"},dynamicScale:!0,name:"backgroundPosition"},backgroundRepeat:{vars:{default:"var(--r95_iuzg8940)"},dynamic:{default:"r95_iuzg8941"},dynamicScale:!0,name:"backgroundRepeat"},backgroundSize:{vars:{default:"var(--r95_iuzg8942)"},dynamic:{default:"r95_iuzg8943"},dynamicScale:!0,name:"backgroundSize"},backgroundOrigin:{vars:{default:"var(--r95_iuzg8944)"},dynamic:{default:"r95_iuzg8945"},dynamicScale:!0,name:"backgroundOrigin"},backgroundClip:{vars:{default:"var(--r95_iuzg8946)"},dynamic:{default:"r95_iuzg8947"},dynamicScale:!0,name:"backgroundClip"}}},function(){var n={config:{border:{vars:{default:"var(--r95_iuzg8948)"},dynamic:{default:"r95_iuzg8949"},dynamicScale:!0,name:"border"},borderStyle:{vars:{default:"var(--r95_iuzg894a)"},dynamic:{default:"r95_iuzg894b"},dynamicScale:!0,name:"borderStyle"},borderWidth:{vars:{default:"var(--r95_iuzg894c)"},dynamic:{default:"r95_iuzg894d"},dynamicScale:!0,name:"borderWidth"},borderColor:{vars:{default:"var(--r95_iuzg894e)"},dynamic:{default:"r95_iuzg894f"},dynamicScale:{anchor:"var(--r95-color-anchor)",anchorVisited:"var(--r95-color-anchorVisited)",borderDark:"var(--r95-color-borderDark)",borderDarkest:"var(--r95-color-borderDarkest)",borderLight:"var(--r95-color-borderLight)",borderLighter:"var(--r95-color-borderLighter)",borderLightest:"var(--r95-color-borderLightest)",canvas:"var(--r95-color-canvas)",canvasText:"var(--r95-color-canvasText)",headerBackground:"var(--r95-color-headerBackground)",headerNotActiveBackground:"var(--r95-color-headerNotActiveBackground)",headerNotActiveText:"var(--r95-color-headerNotActiveText)",headerText:"var(--r95-color-headerText)",material:"var(--r95-color-material)",materialText:"var(--r95-color-materialText)",materialTextDisabled:"var(--r95-color-materialTextDisabled)",materialTextDisabledShadow:"var(--r95-color-materialTextDisabledShadow)",materialTextInvert:"var(--r95-color-materialTextInvert)",progress:"var(--r95-color-progress)",inputBackground:"var(--r95-color-inputBackground)",inputBackgroundDisabled:"var(--r95-color-inputBackgroundDisabled)"},name:"borderColor"},borderTop:{vars:{default:"var(--r95_iuzg894g)"},dynamic:{default:"r95_iuzg894h"},dynamicScale:!0,name:"borderTop"},borderTopColor:{vars:{default:"var(--r95_iuzg894i)"},dynamic:{default:"r95_iuzg894j"},dynamicScale:void 0,name:"borderTopColor"},borderTopStyle:{vars:{default:"var(--r95_iuzg894k)"},dynamic:{default:"r95_iuzg894l"},dynamicScale:!0,name:"borderTopStyle"},borderTopWidth:{vars:{default:"var(--r95_iuzg894m)"},dynamic:{default:"r95_iuzg894n"},dynamicScale:!0,name:"borderTopWidth"},borderRight:{vars:{default:"var(--r95_iuzg894o)"},dynamic:{default:"r95_iuzg894p"},dynamicScale:!0,name:"borderRight"},borderRightColor:{vars:{default:"var(--r95_iuzg894q)"},dynamic:{default:"r95_iuzg894r"},dynamicScale:void 0,name:"borderRightColor"},borderRightStyle:{vars:{default:"var(--r95_iuzg894s)"},dynamic:{default:"r95_iuzg894t"},dynamicScale:!0,name:"borderRightStyle"},borderRightWidth:{vars:{default:"var(--r95_iuzg894u)"},dynamic:{default:"r95_iuzg894v"},dynamicScale:!0,name:"borderRightWidth"},borderBottom:{vars:{default:"var(--r95_iuzg894w)"},dynamic:{default:"r95_iuzg894x"},dynamicScale:!0,name:"borderBottom"},borderBottomColor:{vars:{default:"var(--r95_iuzg894y)"},dynamic:{default:"r95_iuzg894z"},dynamicScale:void 0,name:"borderBottomColor"},borderBottomStyle:{vars:{default:"var(--r95_iuzg8950)"},dynamic:{default:"r95_iuzg8951"},dynamicScale:!0,name:"borderBottomStyle"},borderBottomWidth:{vars:{default:"var(--r95_iuzg8952)"},dynamic:{default:"r95_iuzg8953"},dynamicScale:!0,name:"borderBottomWidth"},borderLeft:{vars:{default:"var(--r95_iuzg8954)"},dynamic:{default:"r95_iuzg8955"},dynamicScale:!0,name:"borderLeft"},borderLeftColor:{vars:{default:"var(--r95_iuzg8956)"},dynamic:{default:"r95_iuzg8957"},dynamicScale:void 0,name:"borderLeftColor"},borderLeftStyle:{vars:{default:"var(--r95_iuzg8958)"},dynamic:{default:"r95_iuzg8959"},dynamicScale:!0,name:"borderLeftStyle"},borderLeftWidth:{vars:{default:"var(--r95_iuzg895a)"},dynamic:{default:"r95_iuzg895b"},dynamicScale:!0,name:"borderLeftWidth"}}};return n.config.borderTopColor.dynamicScale=n.config.borderColor.dynamicScale,n.config.borderRightColor.dynamicScale=n.config.borderColor.dynamicScale,n.config.borderBottomColor.dynamicScale=n.config.borderColor.dynamicScale,n.config.borderLeftColor.dynamicScale=n.config.borderColor.dynamicScale,n}(),{config:{borderBottomLeftRadius:{vars:{default:"var(--r95_iuzg895c)"},dynamic:{default:"r95_iuzg895d"},dynamicScale:!0,name:"borderBottomLeftRadius"},borderBottomRightRadius:{vars:{default:"var(--r95_iuzg895e)"},dynamic:{default:"r95_iuzg895f"},dynamicScale:!0,name:"borderBottomRightRadius"},borderImage:{vars:{default:"var(--r95_iuzg895g)"},dynamic:{default:"r95_iuzg895h"},dynamicScale:!0,name:"borderImage"},borderImageOutset:{vars:{default:"var(--r95_iuzg895i)"},dynamic:{default:"r95_iuzg895j"},dynamicScale:!0,name:"borderImageOutset"},borderImageRepeat:{vars:{default:"var(--r95_iuzg895k)"},dynamic:{default:"r95_iuzg895l"},dynamicScale:!0,name:"borderImageRepeat"},borderImageSlice:{vars:{default:"var(--r95_iuzg895m)"},dynamic:{default:"r95_iuzg895n"},dynamicScale:!0,name:"borderImageSlice"},borderImageSource:{vars:{default:"var(--r95_iuzg895o)"},dynamic:{default:"r95_iuzg895p"},dynamicScale:!0,name:"borderImageSource"},borderImageWidth:{vars:{default:"var(--r95_iuzg895q)"},dynamic:{default:"r95_iuzg895r"},dynamicScale:!0,name:"borderImageWidth"},borderRadius:{vars:{default:"var(--r95_iuzg895s)"},dynamic:{default:"r95_iuzg895t"},dynamicScale:!0,name:"borderRadius"},borderTopLeftRadius:{vars:{default:"var(--r95_iuzg895u)"},dynamic:{default:"r95_iuzg895v"},dynamicScale:!0,name:"borderTopLeftRadius"},borderTopRightRadius:{vars:{default:"var(--r95_iuzg895w)"},dynamic:{default:"r95_iuzg895x"},dynamicScale:!0,name:"borderTopRightRadius"}}},{config:{outline:{vars:{default:"var(--r95_iuzg8960)"},dynamic:{default:"r95_iuzg8961"},dynamicScale:!0,name:"outline"},outlineColor:{vars:{default:"var(--r95_iuzg8962)"},dynamic:{default:"r95_iuzg8963"},dynamicScale:!0,name:"outlineColor"},outlineStyle:{vars:{default:"var(--r95_iuzg8964)"},dynamic:{default:"r95_iuzg8965"},dynamicScale:!0,name:"outlineStyle"},outlineWidth:{vars:{default:"var(--r95_iuzg8966)"},dynamic:{default:"r95_iuzg8967"},dynamicScale:!0,name:"outlineWidth"}}},{config:{font:{vars:{default:"var(--r95_iuzg8968)"},dynamic:{default:"r95_iuzg8969"},dynamicScale:!0,name:"font"},fontFamily:{vars:{default:"var(--r95_iuzg896a)"},dynamic:{default:"r95_iuzg896b"},dynamicScale:!0,name:"fontFamily"},fontStyle:{vars:{default:"var(--r95_iuzg896c)"},dynamic:{default:"r95_iuzg896d"},dynamicScale:!0,name:"fontStyle"},fontSize:{vars:{default:"var(--r95_iuzg896e)"},dynamic:{default:"r95_iuzg896f"},dynamicScale:!0,name:"fontSize"},fontWeight:{vars:{default:"var(--r95_iuzg896g)"},dynamic:{default:"r95_iuzg896h"},dynamicScale:!0,name:"fontWeight"},fontVariant:{vars:{default:"var(--r95_iuzg896i)"},dynamic:{default:"r95_iuzg896j"},dynamicScale:!0,name:"fontVariant"},fontSizeAdjust:{vars:{default:"var(--r95_iuzg896k)"},dynamic:{default:"r95_iuzg896l"},dynamicScale:!0,name:"fontSizeAdjust"}}},{config:{color:{vars:{default:"var(--r95_iuzg896m)"},dynamic:{default:"r95_iuzg896n"},dynamicScale:{anchor:"var(--r95-color-anchor)",anchorVisited:"var(--r95-color-anchorVisited)",borderDark:"var(--r95-color-borderDark)",borderDarkest:"var(--r95-color-borderDarkest)",borderLight:"var(--r95-color-borderLight)",borderLighter:"var(--r95-color-borderLighter)",borderLightest:"var(--r95-color-borderLightest)",canvas:"var(--r95-color-canvas)",canvasText:"var(--r95-color-canvasText)",headerBackground:"var(--r95-color-headerBackground)",headerNotActiveBackground:"var(--r95-color-headerNotActiveBackground)",headerNotActiveText:"var(--r95-color-headerNotActiveText)",headerText:"var(--r95-color-headerText)",material:"var(--r95-color-material)",materialText:"var(--r95-color-materialText)",materialTextDisabled:"var(--r95-color-materialTextDisabled)",materialTextDisabledShadow:"var(--r95-color-materialTextDisabledShadow)",materialTextInvert:"var(--r95-color-materialTextInvert)",progress:"var(--r95-color-progress)",inputBackground:"var(--r95-color-inputBackground)",inputBackgroundDisabled:"var(--r95-color-inputBackgroundDisabled)"},name:"color"},direction:{vars:{default:"var(--r95_iuzg896o)"},dynamic:{default:"r95_iuzg896p"},dynamicScale:!0,name:"direction"},letterSpacing:{vars:{default:"var(--r95_iuzg896q)"},dynamic:{default:"r95_iuzg896r"},dynamicScale:!0,name:"letterSpacing"},lineHeight:{vars:{default:"var(--r95_iuzg896s)"},dynamic:{default:"r95_iuzg896t"},dynamicScale:!0,name:"lineHeight"},textAlign:{vars:{default:"var(--r95_iuzg896u)"},dynamic:{default:"r95_iuzg896v"},dynamicScale:!0,name:"textAlign"},textDecoration:{vars:{default:"var(--r95_iuzg896w)"},dynamic:{default:"r95_iuzg896x"},dynamicScale:!0,name:"textDecoration"},textIndent:{vars:{default:"var(--r95_iuzg896y)"},dynamic:{default:"r95_iuzg896z"},dynamicScale:!0,name:"textIndent"},textShadow:{vars:{default:"var(--r95_iuzg8970)"},dynamic:{default:"r95_iuzg8971"},dynamicScale:!0,name:"textShadow"},textTransform:{vars:{default:"var(--r95_iuzg8972)"},dynamic:{default:"r95_iuzg8973"},dynamicScale:!0,name:"textTransform"},verticalAlign:{vars:{default:"var(--r95_iuzg8974)"},dynamic:{default:"r95_iuzg8975"},dynamicScale:!0,name:"verticalAlign"},whiteSpace:{vars:{default:"var(--r95_iuzg8976)"},dynamic:{default:"r95_iuzg8977"},dynamicScale:!0,name:"whiteSpace"},wordSpacing:{vars:{default:"var(--r95_iuzg8978)"},dynamic:{default:"r95_iuzg8979"},dynamicScale:!0,name:"wordSpacing"},wordBreak:{vars:{default:"var(--r95_iuzg897a)"},dynamic:{default:"r95_iuzg897b"},dynamicScale:!0,name:"wordBreak"}}});const tF=ke.forwardRef,Fke=(n,e)=>{const{as:t,children:r,...i}=n,s=t||"div",{className:o,style:a,otherProps:c}=Wke(i);return Re.createElement(s,{...c,style:{...a,...c.style},className:Xm(o,c.className),ref:e},r)},kd=tF(Fke),ZR=tF((n,e)=>Re.createElement(kd,{as:"button",...n,className:Xm(Q6,n.className),ref:e}));function Vke(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jke(n){var e=Vke(n,"string");return typeof e=="symbol"?e:String(e)}function Hke(n,e,t){return e=jke(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function WN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function FN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WN(Object(t),!0).forEach(function(r){Hke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VN(n,e){var t={};for(var r in n)t[r]=e(n[r],r);return t}var Yke=(n,e,t)=>{for(var r of Object.keys(n)){var i;if(n[r]!==((i=e[r])!==null&&i!==void 0?i:t[r]))return!1}return!0},fA=n=>{var e=t=>{var r=n.defaultClassName,i=FN(FN({},n.defaultVariants),t);for(var s in i){var o,a=(o=i[s])!==null&&o!==void 0?o:n.defaultVariants[s];if(a!=null){var c=a;typeof c=="boolean"&&(c=c===!0?"true":"false");var u=n.variantClassNames[s][c];u&&(r+=" "+u)}}for(var[l,d]of n.compoundVariants)Yke(l,i,n.defaultVariants)&&(r+=" "+d);return r};return e.variants=()=>Object.keys(n.variantClassNames),e.classNames={get base(){return n.defaultClassName.split(" ")[0]},get variants(){return VN(n.variantClassNames,t=>VN(t,r=>r.split(" ")[0]))}},e},Gke="r95_1kpzw681",Jke="r95_1kpzw680",Qke="r95_1kpzw685",Zke=fA({defaultClassName:"r95_1kpzw682",variantClassNames:{active:{true:"r95_1kpzw683",false:"r95_1kpzw684"}},defaultVariants:{},compoundVariants:[]});const Xke=ke.forwardRef((n,e)=>Re.createElement(kd,{...n,ref:e,className:Xm(Jke,n.className)})),eSe=ke.forwardRef((n,e)=>Re.createElement(kd,{...n,ref:e,as:"button",className:Xm(Q6,Gke,n.className)})),tSe=({children:n,title:e="UNKNOWN.EXE",icon:t,active:r=!0,...i},s)=>Re.createElement(kd,{...i,className:Xm(Zke({active:r}),i.className),ref:s},t&&t,Re.createElement("div",{className:Qke},e),n),Yb=Object.assign(ke.forwardRef(tSe),{Option:eSe,OptionsBox:Xke}),nSe=ke.createContext({windows:{},addWindows:()=>{},removeWindow:()=>{},updateWindow:()=>{},setActiveWindow:()=>{},activeWindow:""});var rSe="r95_1txblt62",iSe="r95_1txblt63",sSe=fA({defaultClassName:"r95_1txblt65",variantClassNames:{active:{true:"r95_1txblt66"}},defaultVariants:{},compoundVariants:[]}),oSe="r95_1txblt64",aSe=fA({defaultClassName:"r95_1txblt60",variantClassNames:{active:{true:"r95_1txblt61"}},defaultVariants:{},compoundVariants:[]});const cSe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nOCcgaGVpZ2h0PSc3JyBmaWxsPSdjdXJyZW50Q29sb3InIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00wIDBoMnYxaDF2MWgyVjFoMVYwaDJ2MUg3djFINnYxSDV2MWgxdjFoMXYxaDF2MUg2VjZINVY1SDN2MUgydjFIMFY2aDFWNWgxVjRoMVYzSDJWMkgxVjFIMFYweicgLz48L3N2Zz4=",uSe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nNicgaGVpZ2h0PSc5JyBmaWxsPSdjdXJyZW50Q29sb3InIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTTAgMWgydjJIMHpNMSAwaDR2MUgxek00IDFoMnYySDR6TTMgM2gydjFIM3pNMiA0aDJ2Mkgyek0yIDdoMnYySDJ6Jy8+PC9zdmc+",lSe=({hasWindowButton:n=!0,buttons:e=[],buttonsAlignment:t="flex-end",children:r,onClose:i=()=>{},onHelp:s,defaultPosition:o={x:0,y:0},positionOffset:a,height:c,icon:u,menu:l=[],title:d,width:b,...p},g)=>{const{addWindows:y,removeWindow:S,updateWindow:w,setActiveWindow:_,activeWindow:R}=ke.useContext(nSe),[x,K]=ke.useState(null),[J,M]=ke.useState(""),[Z,ie]=ke.useState(!1);return ke.useEffect(()=>{if(x)w(x,{icon:u,title:d,hasButton:n});else{const X=y({icon:u,title:d,hasButton:n});X&&(K(X),_(X))}},[x,u,d,n]),ke.useEffect(()=>()=>{x&&S(x)},[x]),ke.useEffect(()=>ie(x===R),[x,R]),Re.createElement(xke,{handle:".draggable",defaultPosition:o,positionOffset:a,onMouseDown:x?()=>_(x):void 0},Re.createElement(kd,{...p,width:b,height:c,className:aSe({active:Z}),ref:g},Re.createElement(Yb,{active:Z,icon:u,title:d,className:"draggable"},Re.createElement(Yb.OptionsBox,null,s&&Re.createElement(Yb.Option,null,Re.createElement("img",{src:uSe,alt:"help",onClick:s})),Re.createElement(Yb.Option,{onClick:i},Re.createElement("img",{src:cSe,alt:"close"})))),l&&l.length>0&&Re.createElement("ul",{className:oSe},l.map(({name:X,list:ne})=>{const ae=J===X;return Re.createElement("li",{key:X,onMouseDown:()=>M(X),className:sSe({active:ae})},X,ae&&ne)})),Re.createElement("div",{className:iSe,onClick:()=>M("")},r),e&&e.length>0&&Re.createElement(kd,{className:rSe,justifyContent:t},e.map(X=>Re.createElement(ZR,{key:X.value,onClick:X.onClick,value:X.value},X.value)))))},jl=ke.forwardRef(lSe);jl.displayName="Modal";jl.defaultProps={icon:void 0,title:"Modal",children:null,defaultPosition:{x:0,y:0},buttons:[],menu:[],width:void 0,height:void 0,onClose:()=>{}};var dSe=["variant"];function hSe(n,e){if(n==null)return{};var t=fSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function fSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function jw(){return jw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jw.apply(this,arguments)}var pSe=function(e){return Re.createElement("svg",jw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M13 0h3m-4 1h1m2 0h2m-6 1h1m4 0h2m-7 1h1m5 0h1m-8 1h1m6 0h2m-9 1h1m7 0h1M9 6h1m8 0h2M9 7h1m9 0h1M8 8h1m10 0h2M8 9h1m4 0h3m4 0h1M7 10h1m4 0h5m3 0h2M7 11h1m4 0h5m4 0h1M6 12h1m5 0h5m4 0h2M6 13h1m5 0h5m5 0h1M5 14h1m6 0h5m5 0h2M5 15h1m7 0h3m7 0h1M4 16h1m8 0h3m7 0h2M4 17h1m8 0h3m8 0h1M3 18h1m10 0h1m9 0h2M3 19h1m10 0h1m10 0h1M2 20h1m11 0h1m10 0h2M2 21h1m23 0h1M1 22h1m12 0h2m10 0h2M1 23h1m11 0h4m10 0h1M0 24h1m12 0h4m10 0h2M0 25h1m13 0h2m12 0h1M0 26h1m27 0h1M0 27h1m26 0h2M1 28h1m24 0h2M2 29h25"}),Re.createElement("path",{stroke:"#fff",d:"M13 1h2m-3 1h4m-4 1h5m-6 1h6m-6 1h7m-8 1h8m-8 1h9M9 8h10M9 9h4m3 0h4M8 10h4m5 0h3M8 11h4m5 0h4M7 12h5m5 0h4M7 13h5m5 0h5M6 14h6m5 0h5M6 15h7m3 0h7M5 16h8m3 0h7M5 17h8m3 0h8M4 18h10m1 0h9M4 19h10m1 0h10M3 20h11m1 0h10M3 21h23M2 22h12m2 0h10M2 23h11m4 0h10M1 24h12m4 0h10M1 25h13m2 0h12M1 26h27M1 27h26M2 28h24"}))},gSe=function(e){return Re.createElement("svg",jw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"olive",d:"M13 0h3m-4 1h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1M9 6h1M9 7h1M8 8h1M8 9h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m6 0h1m3 0h1M4 16h1m-1 1h1m-2 1h1m9 0h1m1 0h1M3 19h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m-1 1h1m-1 1h1m0 1h1m0 1h1"}),Re.createElement("path",{stroke:"#ff0",d:"M13 1h2m-3 1h4m-4 1h5m-6 1h6m-6 1h7m-8 1h8m-8 1h9M9 8h10M9 9h3m5 0h3M8 10h4m5 0h3M8 11h4m5 0h4M7 12h5m5 0h4M7 13h5m5 0h5M6 14h6m5 0h5M6 15h6m5 0h6M5 16h7m5 0h6M5 17h8m3 0h8M4 18h9m3 0h8M4 19h9m3 0h9M3 20h11m1 0h10M3 21h23M2 22h11m4 0h9M2 23h11m4 0h10M1 24h12m4 0h10M1 25h12m4 0h11M1 26h27M1 27h26M2 28h24"}),Re.createElement("path",{stroke:"silver",d:"M15 1h1m0 1h1m0 2h1m0 2h1m0 2h1m-8 1h1m3 0h1m3 1h1m0 2h1m0 2h1m-11 2h1m3 0h1m6 0h1m0 2h1m-12 1h1m1 0h1m9 1h1m-13 2h1m2 0h1m9 0h1m0 2h1m-15 1h1m2 0h1m10 2h1m-2 1h1"}),Re.createElement("path",{stroke:"#000",d:"M16 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m0 1h1m-8 1h3m4 0h1m-9 1h5m4 0h1m-10 1h5m4 0h1m-10 1h5m5 0h1m-11 1h5m5 0h1m-11 1h5m6 0h1m-11 1h3m7 0h1m-11 1h3m8 0h1m-12 1h3m8 0h1m-11 1h1m10 0h1m-12 1h1m10 0h1m-12 1h1m11 0h1m-1 1h1m-13 1h2m11 0h1m-15 1h4m10 0h1m-15 1h4m11 0h1m-15 1h2m12 0h1m-1 1h1m-1 1h1m-2 1h1M3 29h24"}),Re.createElement("path",{stroke:"gray",d:"M18 2h1m-1 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-2 1h3m-3 1h3m-4 1h4m-5 1h5M4 30h27M5 31h25"}))},ySe={"32x32_1":pSe,"32x32_4":gSe},mSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=hSe(e,dSe),s=ySe[r];return Re.createElement(s,i)},bSe=["variant"];function wSe(n,e){if(n==null)return{};var t=kSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Hw(){return Hw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hw.apply(this,arguments)}var SSe=function(e){return Re.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M11 0h8M8 1h4m6 0h4M6 2h3m12 0h3M5 3h2m16 0h2M4 4h1m20 0h1M3 5h1m8 0h6m8 0h1M2 6h1m8 0h1m3 0h4m8 0h1M1 7h2m7 0h2m4 0h4m7 0h2M1 8h1m8 0h4m2 0h4m8 0h1M0 9h2m8 0h4m2 0h4m8 0h2M0 10h1m10 0h2m2 0h4m10 0h1M0 11h1m14 0h3m11 0h1M0 12h1m13 0h3m12 0h1M0 13h1m13 0h2m13 0h1M0 14h1m13 0h2m13 0h1M0 15h2m26 0h2M1 16h1m12 0h2m12 0h1M1 17h2m10 0h4m10 0h2M2 18h1m10 0h4m10 0h1M3 19h1m10 0h2m10 0h1M4 20h1m20 0h1M5 21h2m16 0h2M6 22h3m12 0h3M8 23h4m6 0h4m-11 1h4m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h20M4 5h8m6 0h8M3 6h8m1 0h3m4 0h8M3 7h7m2 0h4m4 0h7M2 8h8m4 0h2m4 0h8M2 9h8m4 0h2m4 0h8M1 10h10m2 0h2m4 0h10M1 11h14m3 0h11M1 12h13m3 0h12M1 13h13m2 0h13M1 14h13m2 0h13M2 15h26M2 16h12m2 0h12M3 17h10m4 0h10M3 18h10m4 0h10M4 19h10m2 0h10M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}))},ASe=function(e){return Re.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"gray",d:"M11 0h8M8 1h3m8 0h3M6 2h2m14 0h2M5 3h1m18 0h1M4 4h1M3 5h1M2 6h1M1 7h1M1 8h1m27 0h1M0 9h1m29 0h1M0 10h1m29 0h1M0 11h1m29 0h2M0 12h1m29 0h2M0 13h1m29 0h2M0 14h1m29 0h2M0 15h1m29 0h2M1 16h1m27 0h3M1 17h1m27 0h3M2 18h1m25 0h3m-4 1h4m-5 1h4m-5 1h4m-5 1h4M7 23h1m14 0h5M8 24h3m8 0h7m-16 1h4m5 0h5m-11 1h1m5 0h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-2 1h2"}),Re.createElement("path",{stroke:"silver",d:"M11 1h1m6 0h1M8 2h1m12 0h1M6 3h1m16 0h1M11 5h1m6 0h1m-9 1h1m1 0h1m6 0h1M2 7h1m24 0h1M1 9h1m13 0h1m12 0h1m-19 1h1m2 0h1m0 1h1m1 2h1M1 15h1m26 0h1m-16 1h1m2 0h1M2 17h1m24 0h1m-15 2h1m2 0h1M6 21h1m16 0h1M8 22h1m12 0h1m-11 1h1m6 0h1m-5 1h1"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h20M4 5h7m8 0h7M3 6h7m3 0h2m5 0h7M3 7h7m2 0h4m4 0h7M2 8h8m4 0h2m4 0h8M2 9h8m4 0h1m5 0h8M1 10h9m4 0h1m4 0h10M1 11h13m4 0h11M1 12h13m3 0h12M1 13h13m3 0h12M1 14h13m2 0h13M2 15h26M2 16h11m4 0h11M3 17h10m4 0h10M3 18h10m4 0h10M4 19h9m4 0h9M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}),Re.createElement("path",{stroke:"#000",d:"M25 4h1m0 1h1m0 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1M3 19h1m22 0h1M4 20h1m20 0h1M5 21h1m18 0h1M6 22h2m14 0h2M8 23h3m8 0h3m-11 1h3m4 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}),Re.createElement("path",{stroke:"#00f",d:"M12 5h6m-7 1h1m3 0h4m-9 1h2m4 0h4M10 8h4m2 0h4M10 9h4m2 0h4m-9 1h2m2 0h4m-4 1h3m-4 1h3m-3 1h2m-2 1h2m-2 2h2m-3 1h4m-4 1h4m-3 1h2"}))},_Se={"32x32_1":SSe,"32x32_4":ASe},vSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=wSe(e,bSe),s=_Se[r];return Re.createElement(s,i)},ESe=["variant"];function ISe(n,e){if(n==null)return{};var t=RSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function RSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yw.apply(this,arguments)}var PSe=function(e){return Re.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M11 0h8M8 1h3m8 0h3M7 2h1m14 0h1M5 3h2m16 0h2M4 4h1m20 0h1M3 5h1m22 0h1M3 6h1m22 0h1M2 7h1m6 0h1m10 0h1m6 0h1M1 8h1m6 0h3m8 0h3m6 0h1M1 9h1m5 0h5m6 0h5m5 0h1M1 10h1m6 0h5m4 0h5m6 0h1M0 11h1m8 0h5m2 0h5m8 0h1M0 12h1m9 0h10m9 0h1M0 13h1m10 0h8m10 0h1M0 14h1m11 0h6m11 0h1M0 15h1m11 0h6m11 0h1M0 16h1m10 0h8m10 0h1M0 17h1m9 0h10m9 0h1M0 18h1m8 0h5m2 0h5m8 0h1M1 19h1m6 0h5m4 0h5m6 0h1M1 20h1m5 0h5m6 0h5m5 0h1M1 21h1m6 0h3m8 0h3m6 0h1M2 22h1m6 0h1m10 0h1m6 0h1M3 23h1m22 0h1M3 24h1m22 0h1M4 25h1m20 0h1M5 26h2m16 0h2M7 27h1m14 0h1M8 28h3m8 0h3m-11 1h8"}),Re.createElement("path",{stroke:"#fff",d:"M11 1h8M8 2h14M7 3h16M5 4h20M4 5h22M4 6h22M3 7h6m1 0h10m1 0h6M2 8h6m3 0h8m3 0h6M2 9h5m5 0h6m5 0h5M2 10h6m5 0h4m5 0h6M1 11h8m5 0h2m5 0h8M1 12h9m10 0h9M1 13h10m8 0h10M1 14h11m6 0h11M1 15h11m6 0h11M1 16h10m8 0h10M1 17h9m10 0h9M1 18h8m5 0h2m5 0h8M2 19h6m5 0h4m5 0h6M2 20h5m5 0h6m5 0h5M2 21h6m3 0h8m3 0h6M3 22h6m1 0h10m1 0h6M4 23h22M4 24h22M5 25h20M7 26h16M8 27h14m-11 1h8"}))},xSe=function(e){return Re.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"maroon",d:"M11 0h8M8 1h3m8 0h3M7 2h1m14 0h1M5 3h2m16 0h2M4 4h1m20 0h1M3 5h1m22 0h1M3 6h1m22 0h1M2 7h1m24 0h1M1 8h1m26 0h1M1 9h1m26 0h1M1 10h1m26 0h1M0 11h1m28 0h1M0 12h1m28 0h1M0 13h1m28 0h1M0 14h1m28 0h1M0 15h1m28 0h1M0 16h1m28 0h1M0 17h1m28 0h1M0 18h1m28 0h1M1 19h1m26 0h1M1 20h1m26 0h1M1 21h1m26 0h1M2 22h1m24 0h1M3 23h1m22 0h1M3 24h1m22 0h1M4 25h1m20 0h1M5 26h2m16 0h2M7 27h1m14 0h1M8 28h3m8 0h3m-11 1h8"}),Re.createElement("path",{stroke:"red",d:"M11 1h8M8 2h14M7 3h16M5 4h20M4 5h22M4 6h22M3 7h6m1 0h10m1 0h6M2 8h6m3 0h8m3 0h6M2 9h5m5 0h6m5 0h5M2 10h6m5 0h4m5 0h6M1 11h8m5 0h2m5 0h8M1 12h9m10 0h9M1 13h10m8 0h10M1 14h11m6 0h11M1 15h11m6 0h11M1 16h10m8 0h10M1 17h9m10 0h9M1 18h8m5 0h2m5 0h8M2 19h6m5 0h4m5 0h6M2 20h5m5 0h6m5 0h5M2 21h6m3 0h8m3 0h6M3 22h6m1 0h10m1 0h6M4 23h22M4 24h22M5 25h20M7 26h16M8 27h14m-11 1h8"}),Re.createElement("path",{stroke:"gray",d:"M27 6h1m0 1h1m0 2h1m-1 1h2m-1 1h1m-1 1h1m-1 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-3 1h3m-3 1h2m-3 1h3m-4 1h4m-4 1h3m-4 1h3m-4 1h4M6 27h1m16 0h5M7 28h1m14 0h5M9 29h2m8 0h6m-15 1h14m-11 1h8"}),Re.createElement("path",{stroke:"#fff",d:"M9 7h1m10 0h1M8 8h3m8 0h3M7 9h5m6 0h5M8 10h5m4 0h5M9 11h5m2 0h5m-11 1h10m-9 1h8m-7 1h6m-6 1h6m-7 1h8m-9 1h10M9 18h5m2 0h5M8 19h5m4 0h5M7 20h5m6 0h5M8 21h3m8 0h3M9 22h1m10 0h1"}))},BSe={"32x32_1":PSe,"32x32_4":xSe},TSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=ISe(e,ESe),s=BSe[r];return Re.createElement(s,i)},CSe=["variant"];function MSe(n,e){if(n==null)return{};var t=LSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function LSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Gw(){return Gw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gw.apply(this,arguments)}var OSe=function(e){return Re.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M11 0h8M8 1h4m6 0h4M6 2h3m12 0h3M5 3h2m16 0h2M4 4h1m8 0h4m8 0h1M3 5h1m8 0h6m8 0h1M2 6h1m9 0h6m9 0h1M1 7h2m10 0h4m10 0h2M1 8h1m26 0h1M0 9h2m26 0h2M0 10h1m10 0h7m11 0h1M0 11h1m12 0h5m11 0h1M0 12h1m12 0h5m11 0h1M0 13h1m12 0h5m11 0h1M0 14h1m12 0h5m11 0h1M0 15h2m11 0h5m10 0h2M1 16h1m11 0h5m10 0h1M1 17h2m10 0h5m9 0h2M2 18h1m8 0h9m7 0h1M3 19h1m22 0h1M4 20h1m20 0h1M5 21h2m16 0h2M6 22h3m12 0h3M8 23h4m6 0h4m-11 1h4m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h8m4 0h8M4 5h8m6 0h8M3 6h9m6 0h9M3 7h10m4 0h10M2 8h26M2 9h26M1 10h10m7 0h11M1 11h12m5 0h11M1 12h12m5 0h11M1 13h12m5 0h11M1 14h12m5 0h11M2 15h11m5 0h10M2 16h11m5 0h10M3 17h10m5 0h9M3 18h8m9 0h7M4 19h22M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}))},NSe=function(e){return Re.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"gray",d:"M11 0h8M8 1h3m8 0h3M6 2h2m14 0h2M5 3h1m18 0h1M4 4h1M3 5h1M2 6h1M1 7h1M1 8h1m27 0h1M0 9h1m29 0h1M0 10h1m29 0h1M0 11h1m29 0h2M0 12h1m29 0h2M0 13h1m29 0h2M0 14h1m29 0h2M0 15h1m29 0h2M1 16h1m27 0h3M1 17h1m27 0h3M2 18h1m25 0h3m-4 1h4m-5 1h4m-5 1h4m-5 1h4M7 23h1m14 0h5M8 24h3m8 0h7m-16 1h4m5 0h5m-11 1h1m5 0h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-2 1h2"}),Re.createElement("path",{stroke:"silver",d:"M11 1h1m6 0h1M8 2h1m12 0h1M6 3h1m16 0h1M12 4h1m4 0h1M2 7h1m9 0h1m4 0h1m9 0h1M1 9h1m26 0h1M1 15h1m26 0h1M2 17h1m24 0h1M6 21h1m16 0h1M8 22h1m12 0h1m-11 1h1m6 0h1m-5 1h1"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h7m6 0h7M4 5h8m6 0h8M3 6h9m6 0h9M3 7h9m6 0h9M2 8h26M2 9h26M1 10h10m7 0h11M1 11h12m5 0h11M1 12h12m5 0h11M1 13h12m5 0h11M1 14h12m5 0h11M2 15h11m5 0h10M2 16h11m5 0h10M3 17h10m5 0h9M3 18h8m9 0h7M4 19h22M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}),Re.createElement("path",{stroke:"#00f",d:"M13 4h4m-5 1h6m-6 1h6m-5 1h4m-6 3h7m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-7 1h9"}),Re.createElement("path",{stroke:"#000",d:"M25 4h1m0 1h1m0 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1M3 19h1m22 0h1M4 20h1m20 0h1M5 21h1m18 0h1M6 22h2m14 0h2M8 23h3m8 0h3m-11 1h3m4 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}))},$Se={"32x32_1":OSe,"32x32_4":NSe},qSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=MSe(e,CSe),s=$Se[r];return Re.createElement(s,i)},zSe="r95_lcz1rw2",DSe="r95_lcz1rw1",USe="r95_lcz1rw0";const KSe="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQ1LjEwMAAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAtAABLGQALCxAQFhYbGyEhISYmLCwyMjc3PT09QkJISE1NU1NTWVleXmRkaWlvb290dHp6f3+FhYWLi5CQlpabm6GhoaamrKyysre3t729wsLIyM3N09PT2dne3uTk6enp7+/09Pr6//8AAAAATGF2YzU4LjkxAAAAAAAAAAAAAAAAJAVqAAAAAAAASxmpyp/VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAAA2A6r7UlgAIAAA0goAABGijvWbnfFBgAADSDAAAAAGBAAAbNkABAwyRhtYEycoFBQ4jJ5GatgwMIjs/sZvwHDnXvN7zlKdMzMzNKUmnNr7sGB5CYRHYlv4cHlVkTa9+A4PISYoOxLP4BAJiGBw0HMCYjoQAgDFoEB8K4ExHaCQDiIkHkJ2v9Ys4AuNx2Gx+m5+extUkAAAkUOHt0WG0vTpmPXzA+Fb8wwKuAs6GHzSE+TAsTpfDDf0pphnomVaJy4FpdaB8sMJILwxDQXDEOFIXhOSSXwu9LzIoEyMdYqAy+DIjL4Ge7yzPr/hynceCDGRC9BAThhpA7FYPIsBbMZP5L32lkgrQ5AmZgsgpmGUBcYI4RJhjhGmJEAoYQ4K9bn5XdfjWlkmpocLqCwMZgmA4GBUASMgamBIEUYGgEM/hjZuf2c7hz///MDYA8wFwAg4ChHFPuxhz5bXyVAIAAAAAUA4ADLHNlhNE0gUimWBbEe3M4J4XVEDpfxYFfKnSAFLYAzctXtDGpbDMTkDwTr2vshC5jNF+sf903//uSZB+G9CYzT9dnAAQAAA0g4AABHDjzNm5jRAAAADSAAAAE3jbhMciU/A0ESu5HIaj8titNeoovGpiH3o7KKWB55+aGS3bMnr0kMZuHlYxqUkVa3EsIEszMHS+bymM+Z3bFmu4Jhog7oA4BlYSGUlYcKMxqh4HLGgY/OIH8dXkMw0Ks8PM3pUakCywCrAQJDk4CRhcKZ80bbgaY2ZEUlCXeMsVOOxNMUM0GMWRMqTCHZo2ZxT5CWDIDAwqCJpoJBq2BdYIq4KxGKRBV4ImYGfG4XMfNQaMCPMIgAIE0Y8xwhIBOgxC4qyzVhzTgjrGiYIsoSUFBcGnzTuTFhgEYBQ9egNBiig2xIzNsDc0JZkwpkSpUAlCMiICyE358ElSJGYlSaNGCpBhhCJAoSM4CGQYGBq1slXLBSpIEduvUqSy12UyOGIcq38NfYwUAAAUAwggPWETYV4EQqVIeeGBlBpJsVFcAkoK/PUEgBFgjWvBxxfMGoGeOYx6WZ3mmSaZAq5wqqCSC+RKeHBjIIfcnYHTG+2ZYxdAFACbYLKMbdlCfCf/7kmQrD/ZrOtCbedJyAAANIAAAAQ6M0VoMPY3QAAA0gAAABMxgkAROSCMzFtzaJk8gTDHrBghEYDHZcRCcFjLLAAFMmZNAOMsoZgARIMGjydKAxYUUAmANiShBMXyHAIGkCRMxYMvgDBK6gEfYEqx0kcDECAYVbqDULbMfM6Ld1BYsAh0LFFku0yKC5Rg9cPQNUh+hhjHWNr6RTwi2lQgiB7MW4QZAQUvIS8jr8fVFZubA3EeZSQKg9i8tigpBkPtStUxey6HKnYisVSlOfRvE9Ok4oK4JfVkLEh6GpdOkMJzAQshTOHKrVXoDx8RB+JQYNJ0a+B9EnEdrnCekQlxXE0zxSeRxqm7XmsQMm0+lAAAEAXiEgi1zA8BoCz0VWSBNiHAcTaSB7ATsRcF7URq1DGDEK0hJAh/rR+Gs7OFSoIDRJFHZIx0iKQKXOZVnqapokc5ronzMXRaydxjcx1rADUeCw/VCqRCjOIVDLFdsb3KuJyN2LBP5JWZGg3UlBhmK46iwpYwFBQ89y3aAOA1APXClrpAToMunOB7AwbAWYJr/+5JkSQ7z7DJVmzh4JAAADSAAAAEPtNFUbOHigAAANIAAAAQwE8ADo0MNU3DzN8n4DxFcy7GkxGkrEMWznJ8MIu7AcRLleT1UuL1KB9nuPpFKCRGIS+KhhOcmpL0NQk6TkBeIBSFlEO4u0JCQyYBdCHpPVV2pm9DbxIbMk3TMRLxqTdsXxqbNZn5ZyfQqAAAFAXAAtETCUgPDMNBZyE8UGbgnMqx4oiBgcHFGZAgNBiEIWk4qzxVrCoW4X6JL0EfOhlbxuIUc6/HmSypYx7q0/4S0ctUlGXyTpPRDT5TIbbnHPYuSdOA/T/cG8eyuyyUYFSwo1pUsdePVkVUjVDcWeLqL5GwIETrPmFoGFpZ885OFDrgKEKGFk09lIL+93QUKYjrDDmNGCb4UBCHp2nktPDbsR6RPcchpmVg+oxOktC2Up/wxdE4nG03yhgnulCQm0SheYzWOgvyHQz+NRmJzdTq+OfzkUeOrmAXIjYpJimbgtry5aSD6kCxOZBIyIfrqTEFNRTMuMTAwqgAABAGcjljI4CIH2gk5dREJCFyYmiTV//uSZIoP8+Ay1RssexQAAA0gAAABDsjDVAw9j9AAADSAAAAEfQujQvotU+1EpxOQNyjQRPC9I4jS8pVUe64BypRU4eMo9DLM3oeO1xJm5w2VFuaaMFxN8+0NiP2LYQVKsKILysHw3p1CrqUXj1LqudWCS/ZdarYFTwsKVRbVdMZpYkFTf0AcABBTMXzjoDZkBPUba2bIZqphfJEAJfIruPgcIzjPqV1oBygBPxUgBoGm4ZHRk912JvJA09hBtRIKKLxccwEqboFjuRTMqVuUXc0dEn9XbCrASAhKYjByoEtQ0WGiAMQX2eWI5y5bCt8RU5vJ/RpkjIyy7ltCmZAwdJBWJ1Wvxh9c0vl7MxduA59xIHm5NVsdispsXL4MBHG7qkxBTUUzLjEwAAIAEgnAzRuxEZYyip8eFFG/Wn2JmVvmRFCxM6Ad0goFOcTEgJYBmOTAYWnOg2IjgJmDTcuSxJWJpphzqRVsgMRDgYQ6YQoi7MNA4FgQKrQTu2w4FOmLWXgEZZnDl5oWIGmVowDASQwiPB0YyZD4y20ouERskSlMrP/7kmTKjvPFMVUbD2P0AAANIAAAARNU1UZtZwWAAAA0gAAABIvFEksjOCJBoKfhCWFkkdEumGEoIEDBwzXWht6wpk7JQAMv4u815x2kJyz0DRGV13hmK12KT28bJ0VCWg0Q8Pgnzz3w8Z4Pg1THNI0ALMkhDqRAR1NoZP2KAoMaSAekYkOYgMfw2ZcKIxmRVJCD0VzUEYVMl8DDgTIBy6aAoSTgwKyUKzAqKDCZhCAEc4jTZyCwCNAjJFmhzkiEEShHmXJc8BHhUkeGbItQxBxRRAOlwGKiE9DkHlmgOwVdBiIuo0R+AS48UVU7N6dDoBgpBBYs8LYDT7bOAwUt+TEgUQlGM58WIUpVqTZeeDb0GPw4ll8YxB8Vg+5D9uyrXftMQU1FMy4xMDBVVVVVVVVVAAIDEhg7EyNIpwVNnQq5ssidQGfcyYVwioGCzlBwufWwGVGRg0YJU0oi/7WBgMAJAticgvYCr5QFBigpVIorQZCBRT8dJRGL3iMQMNOYNqsCtIKBBlcBMIdXIJgmzlR1IhPxEeSOCDR2dqPM+Ltl6BD/+5Jk+4/1qjbPk3rJZAAADSAAAAEYFN84DesnyAAANIAAAAQQxNJVciES1xYeALIWCbo/hihQS9F9CaZABMeup8ZYhPZKrZAaOYscoO11m5fCnu6d+B2RUbwzUXjMivy7l8mU3mWB4LxDHy44hpMAyDO+kzEPMpTzCYsw0SAoob2cGEmhBczY9M1oRtSwkWh4vKFTphrxQqMIGFXQYma+Yk8BmDBB6eAgZjAxupgyOGgqsBhh4GLGUJv6pUnND4UamADF6EgaRRIIAAoMhOdJlCxUviaLpJpIsK3naYuBapIGdRuM2acgSZhtPBhE0UQn6XkzkvIX+S+lNVihMROoFPd0RCY8mqF1Kwv1BaVjhzkug54XYvvlTTFTO3Y7utiqTEFNRTMuMTAwqjLBM+ddMb6TXYw/BYNFkDUUg2qiMFOEd05yg4jkzUEInmOSJFg1CJTzLikgWZGMamRgBgZraqBvEPSDHwNKrUVuqGiJ4x4UiwYMpMG2gZ44XCKZeqq66jARMYFCaAgU4XAC0AFDJkRw9FZfoVFBRb9jWYt4jKYZ//uSZPeP9Y83zxN6yWQAAA0gAAABF2jpOA3rC8AAADSAAAAEhEcXcQeVuBSgNMc8VLTzZ4I5BCAmo4bAGWghg0lIQrBkMAqbLUCyUBKB9hwvmlYuhYBHGdeWROJHolWopBGKl35pBKbACnZSRvjYcyDn9jZr9wO5jSFThLNK48LgIUIgg8o38zZSELZwfHGUNBmWEooa7jHzTTVyCU3OCjglemA4RqAhDgDaU0ZyOEHoGlCYhMLhiBH3EBJZlAKJbCTa7EMwoWIQzUQUkYRIOeVjLPkqAsSkcZADDkJSYY8IXXQ2CxI5eCskZU5zKFYcqW6qsARwabByAdEddy8EKxY9qaKC/0OxdALCrVYmiPuTy+EulA7L5XDs1hc+nzytCExBTUUzLjEwMDWFY6nTEu8zxrA0UZEDmPBRiV2ZcuiI4MTEQ4jGUIx8uCyAHEgcEAsZFl8BKA0IjRWYaCTQo1jR/IomCSF1i6hegtm4gcIFDkAWIi0VlC0UAznA1waEzoSwQvJywrTQxEMzHChFIEqWsicFLxY4RtQkAPNahXJJg//7kmT6j/XTOE2DesnSAAANIAAAARc05zQN6yQIAAA0gAAABMRwqUShF9EaA+8uigyYYBdtLgoCTmESJg2DxstQBOm6rziNRZqIizo0EHoJGaxAuNEGWRhmruROvL4xErcr5GWAM0wMMSzDoLw5t4OMOk04bxU8gFGGSTQBBCcsZ9GmvsDvwBfGwLEDnzPJOsMmzMCgkMCJA5gh0NBZTlHtgpjqBAZdsEAnAIq1EtaF8PPLXPlFhg8mXa2gLIlAYKVCFFwSGq9OQFOqQaw9aAxuptwBYhSBzqBkyf6FYv3NGKSgNEAg8+1gWbMYRkCliZoYKDTwu0rA3RNVRJowwKMnlv0k0qlDQYbNQ87aJDC42+bZrryZwBfkk1hRzGf/a7VMQU1FVVU1IPNeqzm4wzZ3PRoR6YAqU2fYzC8xhoLIQWLAqQRKTIsAKCHQRSvBo5xKByJYkNowMUApxjkAPEBFCJ1gBgFESSVpawHdl4kEiyguKTRBwQYMuAmIAgxiEOy66aQkGswUREQJdtCJhgXOAIwk+WAw7QxnlkANwZCa0YD/+5Jk+w/1zDhMg3jMUgAADSAAAAEXXOsyDfMigAAANIAAAARIG6GCB41MIYiNJJ/lLRwsIVRUfISAMIoHHDy6xom1R+mggwKAwqEvRRQKqIuL+ctiyYr2Usohmjd+7LrGN2XVc93rPDMBhNPpIykDB58GbYUYQBRhAJGNmmZBkFwQUhiTggkEDgirMwYwKQFUYowxaUCGLqbVBRygiAhZnnqcBBaUhf4oOSPUkCkBoVgbplUIvgJgKZqCGEADkQqMAi2DmGuXQRPIQASGDRhV1KlRQDBggRiRhgUYhBWWoQPFJbhxxWKFiICFDgFyMCFShD6XLYhUOIiAopYy+HKZciPDZRMDQFAZYswxTUy3coGDsusW+x1zX/gKj/X0tfidNUBs4kyQMnjJAOONOAWIRrNEbsKG/pRloKZmMhjOZgvBzOY0TAkFMEBTqBIzcQNPLgU5GQEoynGVAKSo8SCzwOsEa5jjiF5PsGCLAg7YaWLnllDMYcI26oaQLgUfGDJTJJIBREIY6aBRpKCSQOqCtQVVRKIiwoMDAzHoBcSaYxAP//uSZPyP9fg6zAN6yUAAAA0gAAABFxjhMA5rJkgAADSAAAAEMINLMBVYlvDSHxhGGQC1gyxAoeiMoYk8nkM7GekLONWdEYBVI9SoxCCoDOqqj5KVDewy8zU1fM5dJ/oHct95bIJbKqufdYTRoohHB0AYIepnAagKbGGwkYwFBndbHKqloDAtC3wM6ARSaMWWjMUiNoxNOQG2IYZEQEA3A5At6CMjGehAVDGjhgwISMoURiDYgKFVsRCVODATvLVDBRnAkThCYEbBhQOlGpFAgrQmExIAiNOGBQuIhLARItYCSHEMZ9XCdwFNAoIWFTTcl5l6o/BQ0xiBgB7kG3NMe0KxLHWkhEmsX0SoQ5suLxKSaUsGzta8REg3IhMPwh9X6Z3jLpimmdRO/us2EWjpyvMlJc0+2jSJ7NzrsxC2QbEzJyUMjjkxYPgcbzBawMeGYxoAAEMQEEijfGvOHndmHOAFWaWQTRTEjzP6k+AIKM4cCB4BMBGIyplN0JnAkcgsoilSZ4GegyVhlbTGFkSAqMLzGQOGHhyyOABbOJlGUSeAUP/7kmT/j/ZFOksDm8lgAAANIAAAARfs5S4OaycIAAA0gAAABIraOKt3gYykQIwbApvxOchUBKQMiELGWKIAlbg41ZpjblU04S2lN1M00x9zCZMYJMNhhbOGx1Y5hjFWLxtNQDQApyh0VeYoCEpU4FFZojO0lg6umDtgdCKQLJs6kwasInSmBpL+a2onIX5kpKI354DJvd4YAQzBYpi2HAQGDgakhRM2QxyxB0ZIILQNGBLlGQSTLmwISuMrJFkK1h5EGOgIGkjRe9M0zRmAMJnBpsDBA5IYGBJKSjdTPBaKCABkdVVcShyi0/IQyYhFGzGMLOY+j6ARE/YuwQsAg4FJ5Couy0tS2EmUS27JHdY4XsW+7alUNFqFrNPmCIC0sxOFsNtleEss00WlVBOUWdaSRTZSBOgEY2QjjRJNMINExOJhGVzQsINBA0xIIjSSEIDDDRU3BNM6BjHSsZKSkgMtGzqlkyYoMGhgomAQOBQYliFA15QwGHhgqEAYKGIDIBDQoNGElAsJqzAgVYqaiEl4lKyyYsEBjpvgmYeI2ki0UxH/+5Jk+o/2ozlKA5rLwAAADSAAAAEWBOEwDeskSAAANIAAAAQSLlGU2IkQICDBQNAHDvOZQI8sHFg9IxwQsAZA5IKFUAuuCQEkwzpEYQ7Co5WOXGjK8k1wE0BAVMgwFAYGHmS6FD0fzRDeNHweEUpWMoEIg6ZZq1mAsugeggF+Xv1Ds9D8tB6OHSDp58SbPJGXuxCjG1MxhjEcCymElAR6YgOaIaMuTkHiKuDjQjRB6UFUz+iBGOMmTMAwFIAEYwnAEEy0ILHlTJUZoKhkhBuRgR1WCNG+WiuPSK1MNARQKDFGjXNGSAiEdLZaBjC0SSAGER7QZc5TaCCAlMxrp8Bowl3S/w1mpokSh4IUB6uNlznCVoUCbgFQWsAYtQVlDsI9oJES2pSNuhfVeqn5AzZliebPp6gdqxBcAW7VnH6l1ZKqF3g1TSMoaDE8kz1WOcXDGFw3xvMXWzEA81UEqQApvLRArYUXQbANWzAw8NeGJAGCGiRhfadYEiCodUZhACMQgHApWFxJghhrzhg2iDzZx4oIhwDMINAQGZUCIhgVDBIA//uSZPcP9qE4ygObynIAAA0gAAABFyDhLA3rJwgAADSAAAAEBfBV4gKQKCxxhkmEuh2L3GQ6leCBnyDs26FrR8dLwkXLaiNJxzAiBxYWGMsRk0NiTohBjUbEKBhigBtGpuqApVRXrvQgtiDk1er2Gn2czSn48/bL67dqGUxuJSmipKSiuIMTlDgy+pM1jjbHIHGRmSmSEBh1UZQjDBYZQAmHF46rmBjZMJCSuRB5xYQKvG+2TOkJgiMhlW8w1AeTHAMMTMIcx7MvWYiJgomDCgSYCSFlg45aQUGBU0EIIJwOcDNRYRBGWEFvkUi4yryLIE2WzaSDGjTUcWAmTi5a6dq7UJKC5dwcAlzGU2yMhmQ0xPpB9CkCDT4TIRfLWp1l/ge1rapmRSsuQ+SsK3Flw7EmhZPHAsud6lxypcq9qyoDypvXMaOpnATBklOFd80ecivkMw2q80CA+PgEUyLeBiplRhgSJ7EQNMGdqGxUDp1UIHMIgjLLChwEKEYJXsucINM6cDCG58ByDRALLAIsCmhsQ82YSZfcKKBAQ02BEQQua//7kmTvD/YUOEqDespyAAANIAAAARcY4ywN5w8AAAA0gAAABBDdzJbNK8z5QsKmCaSq0jaFAAplFqoBUc4ny9AISRXO81bwgbYMqNAALGGQ2uwCgqqkQAiBBFD1KWtRRVZUmg0g9Zk7i9rDBUAwgXibmnOLHLkeyDJ2C7EvhrKnxltNGOWeXeHqH5wGKbEJGTSIgezf3I1u3Myiwsgig0ASYzWFBAmc2NGIAJmhgUMGUtgEEeBqZZGaoiGBzYAC0RENLXjQdVoOImQAGSACh+GQbdARMHAhkoKGBRk/qBoIAkg81SYihBjogEMk4z3CzJktA5cBbAEp/SA8BjiqSF4BheEwTTpWHkRkIs2UHpGBhQYAYjoJNTkLAafBkHAoGAAIODR0Y1yxtYOAmR0CY6qhbx91LghoSNT7MIN1GQIuOK90GwB8ejfvpE8oItct4zxlM5FqOBjTaIgxYNONhhpNNUhDPxgxVCQQGASBikwLxDRMZMGDgf+NPnWoBiTrmEBIG5AIJbQIeYMDW0TjDUFjEvx5EcqHoGmkoAJcUENqNFT/+5Jk8A/2LTrJg3rJUAAADSAAAAEZCOkmDestAAAANIAAAARHtI8vK3AKBltwMuZUpf80JjOABoKLYsSqQhUWusIY5KShoino24JckdXZXDaApuArCNfJrCEe6xsiQY8WwEpB5gOXdNLNYpdRb5Cag4NFixbO0jlh17PyXFcLNx3fb6bsUsYpqa5SdnLEQ/4EOwdT0LM5eZM2ZDnxUzYWPRJDFlsZFjKRgqy5VyHFBmaLCMkFyJnQph1ZmiZk0giGmMAnEBoUjIwHC2xgkG1kYQDQsWRhhQ06koTwWXuAAAONBoZ2RCLMUaWYnKBAkhDgYM+ROoRKGCa8AkEw8yGj1LMs9W4YHFlAIOeIhWGFBwtSGBsjDrH1YMPnF6goOAQw6kHIroQ5pRr9NFCuVSVYlIlQAKjQyBBGdBAwGVR4SFL+qwrvVetuNRWB8X8jTxVNSC/VzuRFFUxBTT9Ij+kjmgzNVWnnE3mJRGdogEUjaJPzMTAbIaGYkKqQOAgYwAjrkETwvM01J2l3GPFuIkIAkx4Ui2wwhGAHBQKFCaYXIAjo//uSZOgP9eQ5SgN6yoIAAA0gAAABGRjnJg3rK4gAADSAAAAEPPAo+gc6zxu864JOkS4wxVrjLUr4MchDBJxTKJegRNQFMWbM/U2l6PUQTdIvKTbgXWQFq0O5I2Ghd2HrLM0FYcgLIIACmKdOmMGSW5PSNabnb7q1dWmzXU2+TAbYNcH5TiAMWIumP5HhgiguOG0JZAcZRNJwLlVQGkl6M1UPhHzuVJeFlWDuQgaSsJoeIcZpLUUKhdCMu37Er+S0+SENiWNxJpV6yk8DVwGRDiTFzQ1PtyjJcyqrZ1nmkDQSsWfdRvE1XbWdZXH9zdOZYpBR96zKRlgUheWRyzP//4sYUds0V9m4hVOt1VvzI2rEE0ON0E8DbSwP5g77rRNoFQAC870JTWZjNp7gz2mTRJ9NfS4iJ5iwyGakeZIEZpzJsLhtTAQfJq5yYIElGlOAJ8fswZESYKwYlubIoAi5i2A92EBwzwInODBIHdDDkwoVOUeM8VRDNABS0McFDUfx4Qy6TNsAFBscDtRw5m+EbwRk6nnECLR4IyXzIkORg5i10v/7kmTijvUPOEuDWHvyAAANIAAAARQs0zhs4eNYAAA0gAAABC9IO+NYs4zgMSWTJaAuKHVI1HI2QmJNEWBizGfQYOaKJiiAWM4AACGXiTBUyByzCxIF+Ad+DqQAGaiT9BB4km5Ik2oAVho7MOEYLlrISoXa5bNKehgXssqZXxRP/+r9X/5s5IbTHg+MqSTmlYz0sOHVjmkgxzvMUojBTEwUPNhGQwhAiIYKrhxstkBc4ECAwFMGGQFErKLwlBakkxiEYEsqHAmCLniokoW/C9jGAwg/4jLFGpktS4RhkGIeZxgkGSHmTEDkVimgIDkE/DJZJlwQUSygqwHNgwVAowFzHALZgJsaFChAcGaD5cct6XITLL/A0RmKPzyEhpijBx5ISXTDB1LIcGHAMGWFAF8hk7AULU+yVPAvszNDgnYnGvdeMCwhpEsex+ZTEsuZXbVMQU1FVRdhC52Yg2CKIOFEMv5DB5nzxyzoQTByQaQhAAKiDGEDFBxoOUdx1wZZCcSOQxH5oBGFgpEIAkE8AMQSugAC4U4hAVk69Dskvem8wRD/+5Jk/4/3FjrHk5rKYAAADSAAAAEZYOkiDm8hwAAANIAAAAQMX3SHWsX8LxWiIyA4ZMPbGEvI4CdxJYFOQTF/EyFclKY0s0RmTOWgpIuM5xfGRqqJsLfhDWy4Jbl7k1FGlpuum1CHAQed5AI8gUQ3N/3BkzdHTgaSyCQ00bo+dtX9ilQLsEyA0owWwYqkQFjUZyyyFjIVBBYaMiIEvemeyFRhobuMwLbNQjTOuVrCOkTet4GGxJXrTF2Ioi1WdKwqaQNl2XZ9GmnSjZCfHQmkOFhUbK1IkoTjWZHisShPmMtypZj7XTw30tlaRySb1qC+Tiqc2/N1S6ftz+FDwRzKhDnLv/e39v+03ey33V66iz01OZwkvlqhFX4YovZH2WOqTEFNAAADkOLDgywoTLgGMiEc1uQjGjEIjsZoYJtcBnRQgQGoEgVibgkZ7gYYAASoGSiUY2BMza0UjnQKCixAKh2MI9ZA1+DBF7AKVOYiANUgafTVMUY3WVnm2mWpFmxVEviZrILbXUXKLrNzAypsWgGMKjIHJwAXSHUBRZAB9mrW//uSZOUO9V44SoN6wNIAAA0gAAABE41JOGy8txgAADSAAAAENjPuKgNOT6YgY6o0qCkSLlcQXlL1BcFqzcCRdwDKOIA0ZgaunSlaXcQDlRJ7jHLZoXMfQLCF8gwsOCwSPR1Yy2WYeyEtq9+ESmKaj2fe///91//3G/06AUA/4nEIRjBVLplDiIRexoCdrN1BGyDI8FCM1qrTodb5v8GQq4a2VKwJFYYU40UbxaWRjdnajxTGJuNPsJO4CpLWdRq9OKJxmHSSpmO880SfUz1RqBWxFGiYTewoQrUPZ04uE3I+hKFKpZYl8j9dR5mFuC4ExEGheVQZoWQ1f/04x440tqNWYmeru2terP/rl5WCJMYcocqQ8rv32997Nn+4lJevlTggzMeEU08eCQNmGFCARGYkDJm8UAZOmHASDQALFAAocwKJwsuAjAYZD+xAOLCJWAQIHBAtpIcRlloTGUwEQnkqC/44ESQYrFQ7WFyAqJlMj6KtVOyMmSMRM4Ad0t0VgpQSUwYIQ063VYTjoQxGBIRuSskjchAzAwvAA0mhILDwrP/7kmT+AvaqOcibmsnAAAANIAAAARSlSzrsvRHYAAA0gAAABFdtZIUImhq+qgChQUwQsC4lrDiHGZkgRkimjWUwn4UtpSAYcEZan/Byx17Mea5ba/BT7P/qQQdMzqw/H8VU4+ZmZPxzooYhGmQiZgpGjSIihZJjYOVF8w0GFatH4VAzOApKQFEBAKmAkYiJAdHtMfQUIRsALQGgb0SuBAZiAG5eY4iPcnS3L3Aa5ZKUHcQhKKnA7ocUyUuVKlTKQVwvmoGDDEXAyK+y7TVkVUWF0BYIginKrGrEDBjoUfoilwXjL7soTGLhIDwhTYC8iQ7JCLaKQUM0ZfClDS0jICEArLE4CkshhxY0tTGmWtU+u5VPtm6A+va5W6+6hbKr/rxqcU8c0uoWAAADcOcDYFMI0UNzQYJM+JQzUJDI4fNRBEULqJpg4fkIuFCuGL8Ctwu8MCDnGxQAeUurMY5KZ+YRwi+gJKFyy4g4nNUDGS5mxg4PM0QO2UavDyTY8FHCpjERcsCCjBhwaCC4Tq0uqm+xFZZioAXIBy3CYwwA3qFjLtX/+5Jk/4711jlJA5nDIAAADSAAAAEZSOUmTecSUAAANIAAAARyIZktwb1ZgwAuOABEASyqqxgOoEjeDBBYwHQIMC5gtQHaAqEIVyJHqUlkQiFIWVXUMJHklQIWQw2GB0LG4uxeMRiJtenKe3H7s5Jvxt8Jo///+36U/+1qQOlAYQzMYDMSBoy4cM8mgYuGduxgzkYgPmIE41FmSFpr5aZl2hzSYUDCW8YMAmGJw0GiJaCr0aqHKSFApd0WGZyJJNMHQDIoMNM4c0WgQ+lmZy5Wmj4aQRdMxziHFoZJGPBkj6qAkAXCTxHrQuoYJK7jeEMFE2EwqOcaCw43mJHGgEHilyRQEEuBBIlGo7BBiiAclDEDBoXqHGuAjKVCHnTGKgAZMiHGnlSWRQBIKfiUCZYC9CE0iwcgjANBI0xdyZQyFpUBOBDkQfUikTpQPGj6ZYCwQvzRIoBwXDFwaFHYsNDBBCJgYJHgiIpi8GGR28JBNwTFIMBgOMMD0uiNBIwkgh4zmFQcIgIPOhxJlNNAEA4WXZafggMmMAMYCQxOEVkQgfTA//uSZPwP9pI6SJuaw1AAAA0gAAABGZDjIA5vI8gAADSAAAAEFjknxDEAmltkjxcACGbCEAlFEo3lQ1ODR7yCWG1qj+2DtkDim4JbALqAwAMg1oPJRsAJQnMR/UUE5AjBcwQJAwxFVS85xQgUoEWAYJcwiIANpMhRAgOgU7oyNYccisVni32Qp1NNbk78qZPOybG3etzgdNStC8QAQzbGDVITChTCA1kIAgSKMWTGQgOpG4no1BYtTZ/zPILqhYEg0G431WYuB0WFosrmTnWaNABV9Yz1Mhf4uAUHPPCXLCwLCQgdvmeowo6ILJqJqTqmatoiILAzKWML/Xu1aCGfxtKKGF0ygmYL4K8cNmieDTk4H0SPplqFooaL0vuyCNLNa+8LPJqAkALhqNwWwZ0X9cWGZTDr+ym1S7osLPUAAAOQj7TUQ0ZXTIDM0B5FEEUFzeEBYwBQmnEGajDlIUUnv9JCmJDlAgHCykY7hgFRJKN2CSuYs/yt4XJrfFgQRCMAAJlhYUOkWbTlYWtE3cFRiqWaGMCY6ai6QCguAiuhJHiraf/7kmTrj/ZTOkgDmcSiAAANIAAAARTs5yoN6yFAAAA0gAAABAyUIKyEJUN0YhoxOEsuCnIOJZthUgwNHxShiALY5CSLJWjDBBQKSYRAdaj8rCxMu2zQFCEbDIUsATlQKKTqRSuJtM4mVooc4bdtx5bKJZVdeR1681rdbf///Wz/vOaBoKj4xUnBkqAKtGKhCYrFyVBhoDBcEmfMGCdjvg0ho/FsvusoO4CoQ4K1aYkjMY+Es6CghBg46ARAQMQmEwoGBiUgjcCVoVEKxF/AK0LzBxAFFC4yOaRoN6FGK8QDByVdmbJnCAoJZBwS/w4RXyabPQ8pexQFPRrBEkhgmOcxuupMyAEQxEUE3EAypQQiGVjKDPQKhRWVWKACMQEAmSBBs4JTp7FnDFExCBBkaQYERggSLsNZw7TcW1jsGPLLc43N0WaVP0HgAVmD+nUHmUrAyMWDxzyZlz74ixA0y4xbA0Qw9bZyxAMcQ6UAgyCxYNJHDheYQEAwQzTEsAcU5QBPBzZkBNCOp5CeXNYaOEF0AwMmCDAhJlSocDBMhb5Dqrn/+5Jk8Y/2DjpJG3rB8AAADSAAAAEYmOkiDmsJwAAANIAAAARZ6GQEDJi0uy2qaiT6Rg8OoAnOXtBjwOFaaWpEYgXDQHiAsIEeqTJfmWQhExEu0YBQ8+NVKDJljILczCGgJCWulPiLl+jDBHQi/yL7is/kJMqrxvpI161FnpfaHb25JNdudAko/QFiAAABQwFgQjDJgoTkexAN1U62Lh4Q3MDITlvwIXddBnKLjUpp/V1y2G7UBPHTvuDjva9h2D9JyEaO8JcY7KrT/LgXB6uUixnKQQbyQMYQI7jkH+UxwI1lKYXRVmqTRdqm6daBbjweCXOcuJIwvBxRUoUQPgR9QtJLTnQsHNY8DvonjdYFRSCxqx61/OJ0ShOjb/5tjrPgQBWi0clLQsGkEoWSKBt2gIBmIWuDSAa+RGl3ZnxicwRKDmIApjgGAqQVWzShAbFyJUEQWaqCExYa6AGDhZAFhRAAQMCB8wgOQiQpOQwADiooDHKrRovnE8XyYuYo5rCABEWIbqTAmMdGBUI0AC+QCjAxJlDCIYxmkMhAwNXIhmAW//uQZO0O9e46yQN6yFAAAA0gAAABFQTlMG1h59AAADSAAAAEJEI8gLgsiIBQd2CgjNJCiKQoYkyI3jjBsBTBACQtAg8yQjnAMCEzSEMnoPoEziwgNdpnZQ2RvGAKRIqpD4gFWGGCJ1lij5lDpNgIZrau4ikMxBa8WaA/rVoAmJwPFaKSoZlCplgxt8ZnCBpL4CjmcXmVFgwsVtACRMxJMABAbRC5AWsYzhQewXMBgIgyBMgAHLJBizzAHASTgAXKTlUrPEcKAoOBcJJ5+mhhAqUSm6YRCYhJakIniVpQAueEIiSoqIXHX1Do0qpkBiwQIkaCpSAoGBAYZVRpqXhIESmF9gEQm6a50CBDCC5E4GBQa3BizXBUYaBkoCFNBYBMF4GUoqjyYJALTDICAYv+vlLcmNa8jk3qJsPP9GIe1ao7TFVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVUQkAAAABtyeDoI3xJFVbDElY3FUshxdro3lfkpEEBSPi2tEIxfLqY5uc1VktsIEzU1Vj6MX2JriEVndOqkCKljwnJT0HLt//uSZPiP9pQ5R4ObyPIAAA0gAAABF/TnIg5rIUgAADSAAAAECBBbk08VFCMSG8YAoLSJwVQ4NGxPKhgfUOnUZxMZUpmWwYLBb0rU+jPbmEFwk14tc2l4SMDgWB5B0QhcVQeWDRw8MEQZP+HC1pjJBqVJo65l7BkjBxRwXbKoA0YIQZgwoCDm2DEzRoAAGAVKVImGCRhoElYssM2zZRSKizsF70MlYC4TKXeQjZ4NFQwZIKiIjpytCL+s0ABEiFtOolsHFCwxIkPEoDBUCFAQg5IpFiaRLBB0Ih0QkcoYIYopvKKKXP6XsgNmpYEIVlylYxUYt5JNLgKDLmlvxYpucpuu0AiSIC9SsaqgJWNKXIXGVc5Cj0cgCWOPG5fDkm+wpQCBb5JhQamQTeRoOa2CgoD5AWucIB4kIgGyaVnHuaaIYOGOtIwDQcwaYBkuAU4aNTWGXgFki+WzDhzJkApYQoSiAx8KIAYkehQCCRZhGPMylI4BCJIggcGAg48SPRrHRDJFBxKsAYqOmHMahsWoLvAwVYUmuL6iwbIAsyQlFUFSpv/7kmTiB/RYNc/TDEtEAAANIAAAARbw6SQN6wFAAAA0gAAABASNYhQEtJoOwFQAcMOOGDeYZowKxZYQ3XwU6LbHI6YSILNAJqQQy0S7JQnGIZKps0gIwCpOSjIJBF+mcJmsKYwjUyJ5Iy7FPXHo///sAUp+AGAggwgEwCA1hQztkLhDtADCEwqCTvQHiIWk8Z4AhsEBQAiSQFhsVB0WELDrbW0LHYYZgKhQmg6TKZSGjEZ0G2Ql2lutq6gc9aK9hYit4GMWsWAEhpNK2MgXwhe60AqMkwWIpoMEVqQpYFDj4L8QzGHiM6u00k5G9U+E0Mo08DJQtAlSbCu4ssEIKNFri9RbEauBjkk0TASA3ITTMZlDG7wKxZ9mXt3cfrqtcXa8khrbtJR//VZ/77aP2l/NKjpxBARvNmWCgQ1dQzQUy5s0q0LygujJiZhBYkZAxY058SEmEMHADiyTD2smcIFBDBFaqWEw4kv6FS0fTFDHqg5ZCgxFjOKGQ25jTQtkLLiMkBABYJczIh49RkGitBS+MENBOXjIg0HDAJLUmOelipT/+5Jk/472cDpHi5rIFAAADSAAAAEYBOkkbesBgAAANIAAAAQ44cpBAGSLA5FEbwpIGFADRGB4BjAltzGBLcl9wa0FFhkIzRCJFP9EBYQsyjgsACRjHHRYAQZzmAXlQAeOKCjKGB0ZuEg4QmEISUEaeMqgB+HoaTOOa509LbVfoBkB94W8MOOyZ1MlKDJ1YKjnWWFw1hg5MyABIgSCAaCS6QhlSiQmUpeq8SYgWRJT1HlxsOaW5VMtdKVwGCPq5KVqABAKpeGEV7D7qBgmXESnSCh1h3BSfT3LarRVGj2VRNeEjK6ZUmYxlUSCFvkeE1EzUmlhVHGAw8imoGmYZwO+FoLoHQJ9DJC64FIAFIGI0LqC7REEwoSYQmrkQFl7XRUHaCXqchn6TD9SxyX8gTWF2rnd//d//0VMQU1FMy4xMDBVVVVVVVVVVVUgAAAA2wa5LX2S/KxFY06WkKYwHgzNYCD2bx121vRVyK0fhF+SXRedKC6RIBJWVIhLa6JpcOhULdiwnWoRYRlAvnjahgqF8kqjkWi8SE7A9kA6LjRSH2rh//uSZPcO9ls7SAOayGAAAA0gAAABFwjrJm3nBMAAADSAAAAEOLi5QWy6TyQPAlnw/Ec1OgBQ5D8J4ASJSJKuLy8/sidmerv7MzKQ9pC5Fz5D/VD7cj/fy9f9bD5HcYv8O5tBcbdh5HDk0ELAtoa8EIMwQVrJYPgEqy5CEto6KiC7iqCZyChKvHRcB5l3snX2oY50eZYex/mEeLiaSLXYc6EHQq3BChyKZQt5I1C7ajDULiWFlOV4ZT+Yc6uVKlTsZStBkihSRez5FdjwSPP5ELT1pEOEwUgpe0nOTMjZD0JB9E9ABapYxDR/H+Xfl6USolZJ21icY1Yl63/4Uz5bVf75Fm/6amCrGUr7JP/I381t3SndHXP/hGtrmR65whtzKgAAB/wWel8AToTOZzlCiUQImATpuBYJcUKySAItJWw8NUwLyKwCEZKB/litNf99kQ5Io0hc3zjJ7MRYHADAXdLsKteNureMObRa7Yl1uQtFMGcnl1MTjrAoCYw2r9o4LlonIQAvWqeGHqUzWM4TD1oNdTkeNsTkAoKaAFAshr5YGv/7kmTrBvT6V047LBz2AAANIAAAARadmzBtPHPYAAA0gAAABD8mSNUbosEqVq6AQv4BnK2hwWctDT7jMbkS63r7BdBEZByu2sjZTW2lKHVNsdf7nnbbwklKm3tUsHzwBXM5jkSgiQE2hAxKIHCjmzAESKVBwxVCCshiGguU0SyE4EhmaEYmIUWFUQTEyRQJa2YqeYC4MKAAo9ujwW5EZ5AwYawIHL/FsQBGx9CaJGgrNTUoiCLAsWRjIGmyCzxcBblS5MkukcIwEBAwLnEUpkAIqQ6QGAkFrIp2b7AQs7hZAEtGAiYoxowGWWKBICDaVBVjLQFYFiDVWDijKRO1kZPEizLTOSsyR2oAKwEEGKKZBhfw1AVahKxSws4iGmgsOud+5NHItG7VGtv/+vZ/v+++v1U58FTKAVMmiM2cBsgYKCaBt6GowZB5lqAkQwVDEDBZYFOAR4L+MJk/zAUCnqCQg68KgI3FxjNFGQE/ZaJNDg4AOW2MjlAA0CVpiBNS0szDsw+JsEl1UWjIJBzEBLEZEjk3qCqeDKVphcqMpvl9wEH/+5Jk/471zDnKm3jAAAAADSAAAAEaxOseTmsggAAANIAAAASjgqxeAJLJThGMBRgxgYQAVgBBVnMkc3WBA8YYhljoQBl4gEMU8iGEaYWsBgoKCFCDRUASpvApmGmqVUQSihxCCBCEwtRwBCFwEMJl/oCaLD7Z4s/eNbIadCFgcTzBHDEmDU1jKKSgOaxeGFXITVBx0BAgVANEEMwUQFihQEChcCCjYGCSQoziiVarhQxW9pYEWGimsjhCh7LisZPQYHRlIhlF4YFRkTUh0GwuYne8wUDR6QTlr1WAQx+nVMQcvlBwYoFwASAtsMIQcRnGBkZRwVmzvByAsiBhwaoKyjgCCwhbMNsmJKBAQIFiDCAEJJgABAiI4WUBCAcSdwgiRQlBD4SY44OhS4TDWahWyJSbXFFZSwBrcO1oxaVVTEFNRVUEIAAAABbQkAjwl4hJaQhSjItBv3hR6XixmBX7hTwNWfNMN1r4iCGYjibE8cXCCJzPg4dtBQB7jMQxx4vo8H5xIpgjKa4SPGzBZLI+BsDNcuFCAhAYiWEkRRBIZzik//uSZPaP9jc6yAOayBIAAA0gAAABGEzpIA5rIcgAADSAAAAEnF5cmIXM9j9ZkoyHGK+uC8oaNMWJaSioEmZC+KWAdGnyoyxYtmu//49CDBw0XqLFMvY9aR9XTasoLWwKtFLQm5lygJIB+pgAKPRUMKhUNHjiUkrVpqZKjBpRwMUspzBg0H0dEllZiAjfu1GWGsHZExKIVWSNyWPLnUfds8PwW27Y3Ao2rt6y6HX0WMndRvu06iVG9rvwSmUztkDTEQGqZQ0wNfrCVbYbdpsrrqQWGeB8HVXO1NpqY7A1lJnQG4aZiV84mCAsR9nqOrPHjXC119nhfx1ozDUloqKe72kO+tDRg6bT9+/5dOvjx/cu+tde+39U+2sdW3iov11uKkxBTUUzLjEwMKqqqqqqqqqqAAAG/OqCRAIGcGBZ1Ky/xrmm+FHy1YVSIxkVElkXoY0NrVrYWAjq0puJqskeVRuVTCpy7aYzpsNdVMJp6D7qKXQiAlKmQtagBUqMzWVYWXtSTBa4ymdTyVTRgcpjFDUfZaEJXaydZaWkrV2ggZC9S//7kmTuBvUCPM1TTHxkAAANIAAAARc85yxtYwAYAAA0gAAABFm2ZYrclytIsAHRIdxgA0NUgYUuSmsX9NgxG9/0ODtwEBpkCJUoQkCzSHGIRh4G7QHt8obxzvJOm2doavoe6kJs0KbObzrHIsUhdsKiJVBAEC2jcVBKPDVXaUXiTJRhQfkAdxbaqaxsX/ZpPPwGCYBEyEL7GnVMlGQ/3o/ycJQQ5iVh54WUMZD5Qhjfn0XBdmqWAzjyUq6Ok+C4KNkLePMuD1tw1lhYEgaaNJSShD5SfqVRnAchTnSTom5oDsJwrW5IEvEnKbYRJbRjBCA6ROTpJunezItiSilWINoXxQBkgcS9bwMEouQdZPECZ7CIqKT7nAgbWZEnIDhYhXU9wJDKZKNgfMbKEdgJBAg4ZMQCERjjhKxCyQDDgFbMiVMWRMUCDRghVHUDDxJYEGgDYYRGYxQJeMEg1hw5oxJlChGYMFJ6GWaNBmu0l0WsZaX8AXodGDgTHNA4BiBGCGu8MaMJkyjFuM3EiyEdMU0gQKSokhsBIA5gCGpUFzS7Qob/+5Jk9wb1/jnKG3nAAAAADSAAAAEVlOcw7WHh0AAANIAAAASX1NcA2SCKEtYA4wIoJKqDt1R1FyTaaN5gqsiCcNKNUk5jmaAxQRlj/Bq0nA6cHQBYMSwDqmlsHaAcMQiA51BdTBYcGgLcRAR1Rwbk2kCu5Grd0DflJ6PCgk4R9Q4RNCBDUxE4sEcRVcRAMpJQsOwJW1GIIHBqt8LaqX7VgamvBl7kzi9qGJoVJHr8dFib9NLlLkxC4vFrjdl2MpeN/WBv00R0EA6ykxYDcxrrrMVepp70sFRzb9sMLbg2rtKGQ0t5oy9YIVprFUirGWJjrULzqpFZgdEOAlkpciq8yaSILlsQdpfMjWHvvfLZLUkchsgyLU6tL+7Ql6mFo6Tcu+naKrYXooVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVTEAAAC7E7Dbq8TagYiEVqa/Im5z7fLkh+LNMsNuVQOGwhp0h2br4061MbH5TBqo9FA00dLnj6OCYVVDYZOMsqiQEj5q4hKSggEkRGBwRpy4fRnKUUm4ljgfiqU6//uSZP+O9pw7RwOayHAAAA0gAAABFkDjKm3LAAAAADSAAAAEcbIQ9mZLrEZSGykSXrKJwhqoVbxc2dwGuCa1O/z1Lf/4///7BioiVo4cfZ6S6U+fPwjSRD2mXbuqffOcTOpjQMMdPfz9FNxAAFmZ8NKmMOwk1pzFUTrNYwPbQ5m+4KGjD4sAu0tmocWQBhYADBihAOj2kwFQkBxghOqQmsyTnHi3IU1dBAQxwUAROQmICU6w4EmIRNCw40C2xfpkqdaYyOIkIX3HhjCLYIzhbN0ChpY0g0KLcKyGcKVDlMzUCMdUxDQEmSMAFIqJCpSFYIZMcMDGiABiiUBGUY1gssEUG0CaJinKFCO5qjhUMRhrjQJzyaaIj7w2/LtQBVpKvExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUwYQAAABdg/q01iFzVeyqy6LTnodlGKGIq578wS5gVWNiIE2DCi9AiSgCRRgVTKw46YBs6hRWXLoFBmBVBa8ScSSVMmUwQVRQbVIWzemxQpaI2gTyrkV0J6oYCjP/7kmTtA/S+Ns47LHv2AAANIAAAARgo7SAOYyAAAAA0gAAABNzbBtcDtZ53kR8q0JxAhKISDHH9v9BtNI4IqB5jGLKraLsFxY0ReIjkzxGsZc9YFBJIMVEYMTiOgYcJv2m4mC1wbaWfLCKFpmNGAUDiFQBjprGgIMwEWoM4HUQw8RCFVQKDJ2NOEQ6eTvBgZEwQkBhzUUOTWRkIGDLwEJ6vCyilLSB0lfa6VpJ8PqXNR6SGQ9d9VJNphqQwFCM880xGWLRL9udDy8iI0HCqEobBBY4CJHI/A08VVKLBqAwB5cYg4sgYhAGcMrEIHMFwEICK0IDNHoHBg0MSBMsA2zV1DwRUAREQgWqqospzrkrn34+nMkf/0aO3s2085U/iyJdMQU1FMy4xMDBVVVU4sKjBIPCxYFpPVI2ZUKTzkS5KojFTTPEABFIBxhCjNKwOgDgiJxNJOFdy0B0B6xQBkKCBuoc0NLPaZCbDFtMQGj7hggDQLvsgGhguAhygB90kAYoDllGRIFrsBiMlrCPAkFDiWyML2qXrZU6XkZIoOflwgLX/+5Jk7QL0VTXO0wl79AAADSAAAAEZzOkgTmsgEAAANIAAAASI3FMYaIIiDECBgSUgGKaEW3aSJIjgIQWXWHlFoRNDYwmCxWlEFa1whdA0CmIhZEEkqsYOslaqLzPFcuDJIEjUrrS+x0DkgHA5pQ/QpZBWgVpKppEOg8FEAxEvMg2fwhunBZIHTrdYUgABoywrhCAUBHgI0iOFg0ekDU2SAQSaiJiFRQDChyr/OvFREIogikw5OhOZlCky3q4GUjxceUg0pMZh6lkFJfomq4CoZKK7hbFAwLrPmk8Ai0mi0gjAASAc2t0qgl6GCKWKrDpLtmkGZIwtAXRDqDTPOQEs8gOZDMg68swaJ6RQZ6lK2aAFxo/ix02/j8tdjVHbv3xiPvAozsDggfmQR0DS+FyoZMGxkQZhxNMCCQw4OwqLjDgRMiBszaEwgJlQDixGMhAo3FTg7Y4BLi8y0o2JAhgugEdagBUNpsyIiKkwiwodBRmNESJgFGEKgyYKCKgIGSoSoEKS3l6BnYzCDiw6wVKMAgtQWnTUQXMcUYDNCIlSQPLL//uSZPmP9co7SIOZyAAAAA0gAAABFwzrIg5jIAgAADSAAAAEhkpqphhokkTEg0VfpkEsYCxwNgMpRoAKRKDylhgwA8LNlSMe1NoaMOIHsAsPBBZCYEqjF2hABMy/Ji5mRwGJmbIGVCAV0JCgqLFBqJgABo/g4SPBEGMI+/FLb2kC2kZlA5KlAKme9zMlLmrNJoWSwO8Zeh3ZdLHkV7A7ll9GKEJEVz8JBUThzUAeHuNOWSsokblwOmqG2qMoGZzLctE4bIadUbOZK5PQ625oORQNKjPUk+D3bl8tiHLBCEARopjfMIsZKT+TB5F4PcxkPMcvA8QbpYHIYbMwMjdhoYGCLJGBgziSHVhhIkcxa2VpKKEVig+YtAOdNOTVUdMuWLLcQkxBTRMSDRJEngMhS4ONiTALCNZRBMYpQGzSTUYPcMLpFvlGy+jEyhwu6KijgZIApMYHXiVQEz0F0+1NwsOrY2NDFKhCwWOEh28CgMCJMjRKqjtt8wxYZHRYrKHUYhHAEiYo77orJUEwhggFuH7CJGbNwRua8kOARWSqZsrQIP/7kmT/jvboO0aDmdPwAAANIAAAARR44TJtMfDQAAA0gAAABGY8SClkzRKQoRyMYss4KEGVahWjQpcONkJggIMF5DQwlQoE0EuaJMEVy807AULRg0FTRkDW1irrjtil5KgOlAYWJ4UFEogtSSDigGAFrKDECjBIwMQEZsvgcxYhQLTFIZQiOKBwQVlM5Oyv9C8AlDU4yCvsvkOiA4RP0WPYQY5qEKvQcC6BZJAKrSWmTcpncj6GyqoVBRyQ3BBKplBkWS3BfYviDB2Zw+0dzWYA59D0mgWkIyUkwi9n5oLBBQJBCJSzhiEK3KzJ+CEsySVG1gRAWIcRoQxfg4AyQ4PEjAYYYZ4NmDoV2GUOkmIQAqDIoFRzbrJVjQTKKfGzXQVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU/QGHiAydxIgBLCz5bIBqGaCYYaVStYODUUPU8FHIll4lURYCHcRhQ/ehThJosqutOZTpM2II7pcoKipEeWaEgGLL/+5Jk/I/1wjnIg5jIAgAADSAAAAEX7OsgDmshSAAANIAAAAQ6KgbK5CYLLlB01FmMmQiZGtIKiDHl2B46maLFubVEz11n3S8JiojJNhBUB6E1N4vwI2lZkwIcRXCBongJiGi9AYMs8WcLrLqEI0gz3BnocM2OGcG7JfpVyU7+pzMaZw0qFvhL2cSj4KdO9WAyaRAAuw/2GAMBCYiRIJUoipBPV1mqvDClSMObCqzCehOiQaksccPoIXFWn8aWFaeRLTNFpWXFbUp88cTKM0JT5TRJly+K5ygxoRzh0qHsvKqII/HBmJIkpiuP5kSQaj2dkp44H0kCcLSMrMgrbgdccRO9R+eccn2eABQPGCMWcljFxwqfDpqKjQ64mo1cQ4oqAAAAr2O2BIQjk6ULQhDHBAYZZHBg8IGKx8YCIBh8AmIwmFwgYvCwGEhgImmLBaYRJZiYHQAYsUCZ5rRpboziEdKCMcZkMpSCSYKgJCmGDmBCAZKY0mh6jSY04AgAQwFCCB7LVRI9IopCGGCpIAgYYIYgPNKJcsefjwExYszQ5wHm//uSZOAC9XQ5yQN5wFIAAA0gAAABEfTjO1WGABAAADSCgAAELRIupJjyM0x0zAcHLDHgioiIkogWlrwYPNMNElxgEJUVtMNmiR5BSI15MzY00SdLREc1okwCkRGzCwDevDSDjTDxJwISIqEM6iIt5kWZtTgGoIpgoLPPzT/5jRhCTMWKLrMgytf6liw6YaEyExnf3fZMp8Xq9C/ssSkQkGzId+R64HXAa5gGKRSWNFZVLo6piXdLSlyUAqgSplAkVkAyAZIpYzXodltmUv61lnLOWGs6Xcu5nTlP8/zlOVOyq++qwqYqxX5xlTlM6Z0u5YZQJFZIp+X2Yk/UdUxQklsS5KxpG4KpViwKyItUAhMFZkiskU06PrlQkl3VTNel2b6pylnTEUzJMIiyRZIskWSLTF4kHkVl2tdh3mVNaCpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7kmT/gAfYPkgWc0AAAAANIMAAABQ45xIdnAAIAAA0g4AABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+5JkQI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uSZECP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",WSe=({option:n})=>{switch(n){case"info":return Re.createElement(qSe,{width:32,height:32,variant:"32x32_4"});case"question":return Re.createElement(vSe,{width:32,height:32,variant:"32x32_4"});case"warning":return Re.createElement(mSe,{width:32,height:32,variant:"32x32_4"});case"error":default:return Re.createElement(TSe,{width:32,height:32,variant:"32x32_4"})}},nF=ke.forwardRef(({type:n="error",message:e,hasSound:t,...r},i)=>(t&&ke.useEffect(()=>{new Audio(KSe).play()},[]),Re.createElement(jl,{height:"120",hasWindowButton:!1,...r,ref:i},Re.createElement("div",{className:zSe},Re.createElement("div",{className:DSe},Re.createElement(WSe,{option:n})),Re.createElement("div",{className:USe},e)))));nF.defaultProps={type:"error",buttons:[{value:"OK",onClick:()=>{}}],buttonsAlignment:"center",positionOffset:{x:typeof window>"u"?0:Math.floor(window.innerWidth/2)-150,y:typeof window>"u"?0:Math.floor(window.innerHeight/2)-100},hasSound:!1};var FSe=fA({defaultClassName:"r95_vljy2n0",variantClassNames:{circle:{true:"r95_vljy2n1"}},defaultVariants:{},compoundVariants:[]}),VSe="r95_vljy2n2";const jSe=ke.forwardRef(({src:n,srcSet:e,alt:t,circle:r,children:i,size:s="48px",...o},a)=>Re.createElement(kd,{className:FSe({circle:r}),ref:a,...o,size:s},n||e?Re.createElement("img",{className:VSe,src:n,srcSet:e,alt:t}):i));var HSe="r95_6vt7xv2",YSe="r95_6vt7xv0",GSe="r95_6vt7xv3",JSe="r95_6vt7xv1";const jN=ke.forwardRef(({children:n,style:e,label:t,disabled:r=!1,...i},s)=>Re.createElement("label",{style:e,className:GSe},Re.createElement("input",{className:HSe,type:"checkbox",disabled:r,...i,ref:s}),Re.createElement("span",{className:YSe}),Re.createElement("span",{className:JSe},n||t))),QSe=()=>me.jsx(me.Fragment,{children:me.jsxs("div",{className:"loading",children:[me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{}),me.jsx("div",{})]})});function rF(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=rF(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Iu(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=rF(n))&&(r&&(r+=" "),r+=e);return r}const mm=n=>typeof n=="number"&&!isNaN(n),Xl=n=>typeof n=="string",co=n=>typeof n=="function",t0=n=>Xl(n)||co(n)?n:null,XR=n=>ke.isValidElement(n)||Xl(n)||co(n)||mm(n);function ZSe(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function pA(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=n;return function(o){let{children:a,position:c,preventExitTransition:u,done:l,nodeRef:d,isIn:b,playToast:p}=o;const g=r?`${e}--${c}`:e,y=r?`${t}--${c}`:t,S=ke.useRef(0);return ke.useLayoutEffect(()=>{const w=d.current,_=g.split(" "),R=x=>{x.target===d.current&&(p(),w.removeEventListener("animationend",R),w.removeEventListener("animationcancel",R),S.current===0&&x.type!=="animationcancel"&&w.classList.remove(..._))};w.classList.add(..._),w.addEventListener("animationend",R),w.addEventListener("animationcancel",R)},[]),ke.useEffect(()=>{const w=d.current,_=()=>{w.removeEventListener("animationend",_),i?ZSe(w,l,s):l()};b||(u?_():(S.current=1,w.className+=` ${y}`,w.addEventListener("animationend",_)))},[b]),Re.createElement(Re.Fragment,null,a)}}function HN(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const cs=new Map;let bm=[];const eP=new Set,XSe=n=>eP.forEach(e=>e(n)),iF=()=>cs.size>0;function sF(n,e){var t;if(e)return!((t=cs.get(e))==null||!t.isToastActive(n));let r=!1;return cs.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function oF(n,e){XR(n)&&(iF()||bm.push({content:n,options:e}),cs.forEach(t=>{t.buildToast(n,e)}))}function YN(n,e){cs.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function eAe(n){const{subscribe:e,getSnapshot:t,setProps:r}=ke.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const c=function(l,d,b){let p=1,g=0,y=[],S=[],w=[],_=d;const R=new Map,x=new Set,K=()=>{w=Array.from(R.values()),x.forEach(Z=>Z())},J=Z=>{S=Z==null?[]:S.filter(ie=>ie!==Z),K()},M=Z=>{const{toastId:ie,onOpen:X,updateId:ne,children:ae}=Z.props,L=ne==null;Z.staleId&&R.delete(Z.staleId),R.set(ie,Z),S=[...S,Z.props.toastId].filter(m=>m!==Z.staleId),K(),b(HN(Z,L?"added":"updated")),L&&co(X)&&X(ke.isValidElement(ae)&&ae.props)};return{id:l,props:_,observe:Z=>(x.add(Z),()=>x.delete(Z)),toggle:(Z,ie)=>{R.forEach(X=>{ie!=null&&ie!==X.props.toastId||co(X.toggle)&&X.toggle(Z)})},removeToast:J,toasts:R,clearQueue:()=>{g-=y.length,y=[]},buildToast:(Z,ie)=>{if((E=>{let{containerId:Y,toastId:fe,updateId:we}=E;const ve=Y?Y!==l:l!==1,De=R.has(fe)&&we==null;return ve||De})(ie))return;const{toastId:X,updateId:ne,data:ae,staleId:L,delay:m}=ie,v=()=>{J(X)},B=ne==null;B&&g++;const W={..._,style:_.toastStyle,key:p++,...Object.fromEntries(Object.entries(ie).filter(E=>{let[Y,fe]=E;return fe!=null})),toastId:X,updateId:ne,data:ae,closeToast:v,isIn:!1,className:t0(ie.className||_.toastClassName),bodyClassName:t0(ie.bodyClassName||_.bodyClassName),progressClassName:t0(ie.progressClassName||_.progressClassName),autoClose:!ie.isLoading&&(C=ie.autoClose,$=_.autoClose,C===!1||mm(C)&&C>0?C:$),deleteToast(){const E=R.get(X),{onClose:Y,children:fe}=E.props;co(Y)&&Y(ke.isValidElement(fe)&&fe.props),b(HN(E,"removed")),R.delete(X),g--,g<0&&(g=0),y.length>0?M(y.shift()):K()}};var C,$;W.closeButton=_.closeButton,ie.closeButton===!1||XR(ie.closeButton)?W.closeButton=ie.closeButton:ie.closeButton===!0&&(W.closeButton=!XR(_.closeButton)||_.closeButton);let Q=Z;ke.isValidElement(Z)&&!Xl(Z.type)?Q=ke.cloneElement(Z,{closeToast:v,toastProps:W,data:ae}):co(Z)&&(Q=Z({closeToast:v,toastProps:W,data:ae}));const N={content:Q,props:W,staleId:L};_.limit&&_.limit>0&&g>_.limit&&B?y.push(N):mm(m)?setTimeout(()=>{M(N)},m):M(N)},setProps(Z){_=Z},setToggle:(Z,ie)=>{R.get(Z).toggle=ie},isToastActive:Z=>S.some(ie=>ie===Z),getSnapshot:()=>_.newestOnTop?w.reverse():w}}(o,s,XSe);cs.set(o,c);const u=c.observe(a);return bm.forEach(l=>oF(l.content,l.options)),bm=[],()=>{u(),cs.delete(o)}},setProps(a){var c;(c=cs.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=cs.get(o))==null?void 0:a.getSnapshot()}}}(n)).current;r(n);const i=ke.useSyncExternalStore(e,t,t);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:sF,count:i==null?void 0:i.length}}function tAe(n){const[e,t]=ke.useState(!1),[r,i]=ke.useState(!1),s=ke.useRef(null),o=ke.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:l,closeOnClick:d}=n;var b,p;function g(){t(!0)}function y(){t(!1)}function S(R){const x=s.current;o.canDrag&&x&&(o.didMove=!0,e&&y(),o.delta=n.draggableDirection==="x"?R.clientX-o.start:R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1),x.style.transform=`translate3d(${n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",w);const R=s.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),n.closeToast(),void n.collapseAll();R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}(p=cs.get((b={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||p.setToggle(b.id,b.fn),ke.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",y)}},[n.pauseOnFocusLoss]);const _={onPointerDown:function(R){if(n.draggable===!0||n.draggable===R.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",w);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=x.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(R){const{top:x,bottom:K,left:J,right:M}=s.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&n.pauseOnHover&&R.clientX>=J&&R.clientX<=M&&R.clientY>=x&&R.clientY<=K?y():g()}};return a&&c&&(_.onMouseEnter=y,n.stacked||(_.onMouseLeave=g)),d&&(_.onClick=R=>{l&&l(R),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function nAe(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:c,progress:u,rtl:l,isIn:d,theme:b}=n;const p=s||c&&u===0,g={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(g.transform=`scaleX(${u})`);const y=Iu("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),S=co(o)?o({rtl:l,type:i,defaultClassName:y}):Iu(y,o),w={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&r()}};return Re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${i}`}),Re.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:S,style:g,...w}))}let rAe=1;const aF=()=>""+rAe++;function iAe(n){return n&&(Xl(n.toastId)||mm(n.toastId))?n.toastId:aF()}function dy(n,e){return oF(n,e),e.toastId}function Jw(n,e){return{...e,type:e&&e.type||n,toastId:iAe(e)}}function Gb(n){return(e,t)=>dy(e,Jw(n,t))}function jn(n,e){return dy(n,Jw("default",e))}jn.loading=(n,e)=>dy(n,Jw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),jn.promise=function(n,e,t){let r,{pending:i,error:s,success:o}=e;i&&(r=Xl(i)?jn.loading(i,t):jn.loading(i.render,{...t,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(l,d,b)=>{if(d==null)return void jn.dismiss(r);const p={type:l,...a,...t,data:b},g=Xl(d)?{render:d}:d;return r?jn.update(r,{...p,...g}):jn(g.render,{...p,...g}),b},u=co(n)?n():n;return u.then(l=>c("success",o,l)).catch(l=>c("error",s,l)),u},jn.success=Gb("success"),jn.info=Gb("info"),jn.error=Gb("error"),jn.warning=Gb("warning"),jn.warn=jn.warning,jn.dark=(n,e)=>dy(n,Jw("default",{theme:"dark",...e})),jn.dismiss=function(n){(function(e){var t;if(iF()){if(e==null||Xl(t=e)||mm(t))cs.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=cs.get(e.containerId);r?r.removeToast(e.id):cs.forEach(i=>{i.removeToast(e.id)})}}else bm=bm.filter(r=>e!=null&&r.options.toastId!==e)})(n)},jn.clearWaitingQueue=function(n){n===void 0&&(n={}),cs.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},jn.isActive=sF,jn.update=function(n,e){e===void 0&&(e={});const t=((r,i)=>{var s;let{containerId:o}=i;return(s=cs.get(o||1))==null?void 0:s.toasts.get(r)})(n,e);if(t){const{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:aF()};s.toastId!==n&&(s.staleId=n);const o=s.render||i;delete s.render,dy(o,s)}},jn.done=n=>{jn.update(n,{progress:1})},jn.onChange=function(n){return eP.add(n),()=>{eP.delete(n)}},jn.play=n=>YN(!0,n),jn.pause=n=>YN(!1,n);const sAe=typeof window<"u"?ke.useLayoutEffect:ke.useEffect,Jb=n=>{let{theme:e,type:t,isLoading:r,...i}=n;return Re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},cE={info:function(n){return Re.createElement(Jb,{...n},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Re.createElement(Jb,{...n},Re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Re.createElement(Jb,{...n},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Re.createElement(Jb,{...n},Re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Re.createElement("div",{className:"Toastify__spinner"})}},oAe=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=tAe(n),{closeButton:o,children:a,autoClose:c,onClick:u,type:l,hideProgressBar:d,closeToast:b,transition:p,position:g,className:y,style:S,bodyClassName:w,bodyStyle:_,progressClassName:R,progressStyle:x,updateId:K,role:J,progress:M,rtl:Z,toastId:ie,deleteToast:X,isIn:ne,isLoading:ae,closeOnClick:L,theme:m}=n,v=Iu("Toastify__toast",`Toastify__toast-theme--${m}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":Z},{"Toastify__toast--close-on-click":L}),B=co(y)?y({rtl:Z,position:g,type:l,defaultClassName:v}):Iu(v,y),W=function(N){let{theme:E,type:Y,isLoading:fe,icon:we}=N,ve=null;const De={theme:E,type:Y};return we===!1||(co(we)?ve=we({...De,isLoading:fe}):ke.isValidElement(we)?ve=ke.cloneElement(we,De):fe?ve=cE.spinner():(Ge=>Ge in cE)(Y)&&(ve=cE[Y](De))),ve}(n),C=!!M||!c,$={closeToast:b,type:l,theme:m};let Q=null;return o===!1||(Q=co(o)?o($):ke.isValidElement(o)?ke.cloneElement(o,$):function(N){let{closeToast:E,theme:Y,ariaLabel:fe="close"}=N;return Re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Y}`,type:"button",onClick:we=>{we.stopPropagation(),E(we)},"aria-label":fe},Re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}($)),Re.createElement(p,{isIn:ne,done:X,position:g,preventExitTransition:t,nodeRef:r,playToast:s},Re.createElement("div",{id:ie,onClick:u,"data-in":ne,className:B,...i,style:S,ref:r},Re.createElement("div",{...ne&&{role:J},className:co(w)?w({type:l}):Iu("Toastify__toast-body",w),style:_},W!=null&&Re.createElement("div",{className:Iu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ae})},W),Re.createElement("div",null,a)),Q,Re.createElement(nAe,{...K&&!C?{key:`pb-${K}`}:{},rtl:Z,theme:m,delay:c,isRunning:e,isIn:ne,closeToast:b,hide:d,type:l,style:x,className:R,controlledProgress:C,progress:M||0})))},gA=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},aAe=pA(gA("bounce",!0));pA(gA("slide",!0));pA(gA("zoom"));pA(gA("flip"));const cAe={position:"top-right",transition:aAe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function uAe(n){let e={...cAe,...n};const t=n.stacked,[r,i]=ke.useState(!0),s=ke.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=eAe(e),{className:u,style:l,rtl:d,containerId:b}=e;function p(y){const S=Iu("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":d});return co(u)?u({position:y,rtl:d,defaultClassName:S}):Iu(S,t0(u))}function g(){t&&(i(!0),jn.play())}return sAe(()=>{if(t){var y;const S=s.current.querySelectorAll('[data-in="true"]'),w=12,_=(y=e.position)==null?void 0:y.includes("top");let R=0,x=0;Array.from(S).reverse().forEach((K,J)=>{const M=K;M.classList.add("Toastify__toast--stacked"),J>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=_?"top":"bot");const Z=R*(r?.2:1)+(r?0:w*J);M.style.setProperty("--y",`${_?Z:-1*Z}px`),M.style.setProperty("--g",`${w}`),M.style.setProperty("--s",""+(1-(r?x:0))),R+=M.offsetHeight,x+=.025})}},[r,c,t]),Re.createElement("div",{ref:s,className:"Toastify",id:b,onMouseEnter:()=>{t&&(i(!1),jn.pause())},onMouseLeave:g},o((y,S)=>{const w=S.length?{...l}:{...l,pointerEvents:"none"};return Re.createElement("div",{className:p(y),style:w,key:`container-${y}`},S.map(_=>{let{content:R,props:x}=_;return Re.createElement(oAe,{...x,stacked:t,collapseAll:g,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},R)}))}))}window.Buffer=H.Buffer;let Xd=!1;const lAe=()=>{const[n,e]=ke.useState(!1),[t,r]=ke.useState(!1),[i,s]=ke.useState(),[,o]=ke.useState(!1),[a,c]=ke.useState([]),[u,l]=ke.useState(!1),[d,b]=ke.useState(!1),[p,g]=ke.useState("Coming Soon!"),[y,S]=ke.useState(!1),[w,_]=ke.useState(!1),[R,x]=ke.useState(0),[K,J]=ke.useState(!1);ke.useEffect(()=>{const L=Ag();return L!=null&&L.isConnected?(s({address:L.publicKey.toString()}),ie(L.publicKey.toString()),o(!0)):localStorage.getItem("disconnect")=="false"&&(L==null||L.connect().then(B=>{s({address:B.publicKey.toString()}),ie(B.publicKey.toString()),o(!0)}).catch(B=>{console.log(B)})),localStorage.getItem("webInit")||(S(!0),Xd=!0),document.addEventListener("keydown",ae),()=>{document.removeEventListener("keydown",ae)}},[]),ke.useEffect(()=>{if(a.length==0)x(0);else{const L=a.filter(m=>m.active);L.length>0?x(L.length):x(0)}},[a]);const M=async(L,m)=>{const v=new Se(L),[B]=await Se.findProgramAddress([H.Buffer.from("metadata"),zv.metadata.MetadataProgram.PUBKEY.toBuffer(),v.toBuffer()],zv.metadata.MetadataProgram.PUBKEY),W=await m.getAccountInfo(B);if(W){const C=zv.metadata.MetadataData.deserialize(W.data);try{return(await ri.get(C.data.uri)).data}catch{return null}}else return null},Z=(L,m)=>{m&&m=="success"?jn.success(L,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"}):m&&m=="error"?jn.error(L,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"}):m&&m=="warn"?jn.warn(L,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"}):jn(L,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"})},ie=async L=>{e(!0);const m=new f1(rE,{commitment:"confirmed",confirmTransactionInitialTimeout:6e4}),B=(await m.getParsedTokenAccountsByOwner(new Se(L),{programId:ta})).value.filter(fe=>{const we=fe.account.data.parsed.info.mint;if(!Bwe[we])return fe});if(B.length==0)return;const C=`https://lite-api.jup.ag/price/v2?ids=${B.map(fe=>fe.account.data.parsed.info.mint).join(",")}`,Q=(await ri.get(C)).data.data;let N=0;for(const fe of B){const we=await M(fe.account.data.parsed.info.mint,m);we&&typeof we!="string"?fe.info=we:fe.info={symbol:Q[fe.account.data.parsed.info.mint].mintSymbol},Q[fe.account.data.parsed.info.mint]?(fe.price=Q[fe.account.data.parsed.info.mint].price,fe.totalPrice=Q[fe.account.data.parsed.info.mint].price*fe.account.data.parsed.info.tokenAmount.uiAmount,fe.totalPrice>.01?(fe.active=!1,N++):(fe.active=!0,N++)):(fe.price=0,fe.totalPrice=0,fe.active=!0)}x(N);const E=B.sort((fe,we)=>fe.totalPrice-we.totalPrice);c(E);const Y=E.every(fe=>fe.active);r(Y),e(!1)},X=async(L,m,v)=>{const B=[];for(const $ of L){const Q=$;if(Q.account.data.parsed.info.tokenAmount.uiAmount==0){const N=mn.createCloseAccountInstruction(ta,Q.pubkey,new Se(m),new Se(m),[]);B.push(N)}else{const N=new Se(Q.account.data.parsed.info.mint),E=mn.createBurnInstruction(ta,N,Q.pubkey,new Se(m),[],Q.account.data.parsed.info.tokenAmount.uiAmount*Math.pow(10,Q.account.data.parsed.info.tokenAmount.decimals));B.push(E);const Y=mn.createCloseAccountInstruction(ta,Q.pubkey,new Se(m),new Se(m),[]);B.push(Y)}}const W=306e3*L.length,C=br.transfer({fromPubkey:new Se(m),toPubkey:new Se(Twe),lamports:Math.floor(W)});return B.push(C),B},ne=async(L,m,v)=>{const B=Ag();try{const{blockhash:W}=await v.getLatestBlockhash(),C=new r4({payerKey:new Se(m),recentBlockhash:W,instructions:L}).compileToV0Message(),$=new s4(C),{signature:Q}=await B.signAndSendTransaction($);console.log(Q)}catch(W){Z(W.message,"error")}},ae=L=>{if(L.key==="Enter"&&Xd){const m=Ag();m!=null&&m.isConnected?(S(!1),Xd=!1,_(!0),localStorage.setItem("webInit","true")):(S(!1),Xd=!1,b(!0),g("Connect your wallet"))}};return me.jsxs("div",{className:"page home",children:[me.jsxs("div",{className:"container",children:[me.jsxs("ul",{className:"desktop-item",onDoubleClick:()=>{i!=null&&i.address?_(!0):(b(!0),g("Connect your wallet"))},children:[me.jsx("img",{className:"scale",src:Nwe,alt:""}),me.jsx("p",{children:"Boosh"})]}),me.jsxs("ul",{className:"desktop-item",children:[me.jsx("img",{src:Lwe,alt:"",onDoubleClick:()=>{b(!0),g("Coming Soon!")}}),me.jsx("p",{children:"Referral"})]}),me.jsxs("ul",{className:"desktop-item",onDoubleClick:()=>{J(!0)},children:[me.jsx("img",{src:Owe,alt:""}),me.jsx("p",{children:"Minesweeper"})]})]}),me.jsx("div",{className:"ljt"}),me.jsxs("div",{className:"bottom",children:[me.jsxs("div",{className:"left",children:[me.jsx("p",{className:"startbtn",onClick:()=>{S(!0),Xd=!0},children:me.jsx("img",{src:Mwe,alt:"start"})}),me.jsxs("div",{className:"content-btn",onClick:async()=>{i!=null&&i.address,l(!0)},children:[me.jsx("span",{className:"btn-text"}),me.jsx("img",{className:"btn-icon",src:qwe,alt:""}),me.jsx("span",{className:"btn-text",children:i!=null&&i.address?Cwe(i==null?void 0:i.address):"Connect Wallet"})]})]}),me.jsx("div",{className:"right",children:me.jsxs("div",{className:"bottomIcon-btn-list",children:[me.jsx("a",{className:"tg",href:"www.google.com",target:"_blank"}),me.jsx("a",{className:"x",href:"www.google.com",target:"_blank"}),me.jsx("a",{className:"dis",href:"www.google.com",target:"_blank"})]})})]}),d&&me.jsx(nF,{title:"Message",type:"info",minWidth:"300px",message:p,onClose:()=>{b(!1)},hasSound:!0,buttons:[{value:"OK",onClick:()=>{b(!1),p=="Connect your wallet"&&l(!0)}}]}),y?me.jsx(jl,{className:"game",width:"1051.7px",height:"600px",title:"Boosh",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-525,y:(window.innerHeight||document.documentElement.clientHeight)/2-400},onClose:()=>{S(!1),Xd=!1},children:me.jsxs("div",{className:"dego-container",children:[me.jsxs("pre",{children:[me.jsx("pre",{className:"custom",children:"======================================================================================================"}),"##     ##",me.jsx("br",{}),"##    ##",me.jsx("br",{}),"##    ##",me.jsx("br",{}),"##    ##",me.jsx("br",{}),"##    ##",me.jsx("br",{}),"##     ##",me.jsx("pre",{className:"custom",children:"======================================================================================================"})]}),me.jsxs("p",{className:"title-1 ",children:["A MESSAGE FROM THE ANTI-MEME MEME COIN",me.jsx("br",{}),me.jsx("br",{}),"Degens:",me.jsx("br",{}),me.jsx("br",{}),"- Had enough with all the shitcoin airdrops spamming your wallet?",me.jsx("br",{}),"- Bought shitcoins, never made it, don't want to see them again?",me.jsx("br",{}),"- Got rugged by your favorite celebrity, or your favorite PRESIDENT?",me.jsx("br",{}),"- Did you know shitcoin devs paid fees for space on Solana to dump shit to your address?",me.jsx("br",{}),me.jsx("br",{}),"YOU HAVE FOUND YOUR SALVATION",me.jsx("br",{}),me.jsx("br",{}),"The Boox-of-Trash project is the recycle bin, the graveyard, the monumnet of shame, for all your good [yes/no?] memories.",me.jsx("br",{}),"You will get free $SOL for every single kind of shitcoin you once hold.",me.jsx("br",{}),"How do you empty your shitcoin balance?",me.jsx("br",{}),"Burn it? Move somewhere else? Transfer to us?",me.jsx("br",{}),"Dont care.",me.jsx("br",{}),me.jsx("br",{}),"Empty the balance, recover space with us, receive $SOL FOR FREE, and give your trashes another shot!",me.jsx("br",{}),"We only take 15% of the rent fees you recover!",me.jsx("br",{}),me.jsx("br",{}),"YOU READY?",me.jsx("br",{}),"[PRESS ENTER TO CONTINUE] ",me.jsx("br",{})]})]})}):null,u?me.jsx(jl,{className:"game",width:"auto",height:"auto",title:"Connect Wallet",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-242,y:(window.innerHeight||document.documentElement.clientHeight)/2-180},onClose:()=>{l(!1)},children:me.jsx("div",{className:"account-container",children:me.jsxs("div",{className:"account-main",children:[me.jsxs("div",{className:"account-router",children:[me.jsx("div",{className:"router-text",children:"Connect Wallet"}),i!=null&&i.address?me.jsx(ZR,{onClick:()=>{Ag().disconnect(),s({address:""}),localStorage.setItem("disconnect","true"),Z("Wallet DisConnect Successfully","success")},children:"Disconnect"}):null]}),i!=null&&i.address?me.jsx("div",{className:"address-bar",children:i==null?void 0:i.address}):me.jsx(me.Fragment,{children:me.jsx(ZR,{onClick:async()=>{const L=Ag();localStorage.setItem("disconnect","false"),L.isConnected||L.connect().then(m=>{s({address:m.publicKey.toString()}),l(!1),ie(m.publicKey.toString()),Z("Wallet Connected Successfully","success")}).catch(m=>{Z(m.message,"error")})},children:me.jsxs("div",{className:"block",children:[me.jsx("img",{className:"Phantom",src:$we,alt:""}),me.jsx("span",{children:"Phantom"})]})})}),me.jsxs("div",{className:"func-bar",children:[me.jsx("p",{className:"func-item copy-btn",onClick:()=>{navigator.clipboard.writeText(i==null?void 0:i.address),l(!1)},children:"Copy Address"}),me.jsx("a",{className:"func-item net",href:`https://solscan.io/account/${i==null?void 0:i.address}`,target:"_blank",children:"View On Solscan"})]})]})})}):null,w?me.jsx(jl,{className:"game",width:"auto",height:"auto",title:"Boosh",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-500,y:(window.innerHeight||document.documentElement.clientHeight)/2-400},onClose:()=>{_(!1)},children:me.jsx("div",{className:"account-container1",children:me.jsxs("div",{className:"account-main",children:[me.jsxs("div",{className:"table",children:[me.jsxs("div",{className:"header",children:[me.jsx("div",{className:"tb"}),me.jsx("div",{className:"tb"}),me.jsx("div",{className:"tb count",children:"VALUE"}),me.jsx("div",{className:"tb count",children:"PRICE"}),me.jsx("div",{className:"tb",style:{width:"50px"},children:"TOKEN"}),me.jsx("div",{className:"tb name",children:"SYMBOL"}),me.jsx("div",{className:"tb count",children:"AMOUNT"}),me.jsx("div",{className:"tb"}),me.jsx("div",{className:"tb"}),me.jsx("div",{className:"tb"})]}),me.jsxs("div",{className:"list",children:[a.map((L,m)=>{var v,B;return me.jsxs("div",{className:m%2==0?"item line":"item",onClick:()=>{L.active?L.active=!1:L.active=!0,c([...a]);const W=a.every(C=>C.active);r(W)},children:[me.jsx(jN,{checked:L.active,onChange:()=>{L.active?L.active=!1:L.active=!0,c([...a]);const W=a.every(C=>C.active);r(W)},style:{width:"20px",height:"20px"}}),me.jsxs("span",{className:"count",children:[L.totalPrice>.01?L.totalPrice.toFixed(2):"-"," "]}),me.jsx("span",{className:"count",style:{width:"300px"},children:Number(L.price)>0?L.price:"-"}),me.jsx(jSe,{width:"50px",height:"50px",src:(v=L==null?void 0:L.info)==null?void 0:v.image,alt:"photo",circle:!0}),me.jsx("span",{className:"name",children:(B=L==null?void 0:L.info)==null?void 0:B.symbol}),me.jsx("span",{className:"count",children:L.account.data.parsed.info.tokenAmount.uiAmount}),me.jsx("div",{className:"btn",onClick:async W=>{W.stopPropagation();try{const C=new f1(rE,{commitment:"confirmed",confirmTransactionInitialTimeout:6e4}),$=a.filter(N=>N.account.data.parsed.info.mint==L.account.data.parsed.info.mint),Q=i==null?void 0:i.address;if(Q){const N=await X($,Q,C);await ne(N,Q,C)}}catch{}},children:"Clean Up"})]},m)}),a.length==0?me.jsx(me.Fragment,{children:me.jsxs("div",{className:"empty",children:[me.jsx("span",{children:"NO DATA"}),n?me.jsx(QSe,{}):null]})}):null]})]}),me.jsxs("div",{className:"bBottom",children:[me.jsxs("div",{className:"max",children:[me.jsx("div",{className:"box",children:me.jsx(jN,{checked:t,onChange:L=>{L.target.checked?a.forEach(m=>{m.active=!0}):a.forEach(m=>{m.active=!1}),c([...a]),r(L.target.checked)},children:"Select All"})}),"Max Selection ",R,"/20"]}),me.jsx("button",{className:"btn",onClick:async()=>{try{const L=new f1(rE,{commitment:"confirmed",confirmTransactionInitialTimeout:6e4}),m=a.filter(B=>B.active),v=i==null?void 0:i.address;if(v){const B=await X(m,v,L);await ne(B,v,L),Z("Transaction Successful","success")}}catch(L){Z(L.message,"error")}},children:"Clean Up"})]})]})})}):null,K&&me.jsx(jl,{className:"game",width:"680px",height:"680px",title:"Minesweeper",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-340,y:(window.innerHeight||document.documentElement.clientHeight)/2-380},onClose:()=>{J(!1)},onHelp:()=>{console.log("Help!")},buttons:[{value:"Ok",onClick:()=>{J(!1)}},{value:"Cancel",onClick:()=>{J(!1)}}],children:me.jsx("minesweeper-game",{rows:"14",columns:"16",bombs:"99"})}),me.jsx(uAe,{closeButton:!1,hideProgressBar:!1,theme:"light"})]})},dAe=tH([{path:"/",element:me.jsx(lAe,{})}]);uE.createRoot(document.getElementById("root")).render(me.jsx(Re.StrictMode,{children:me.jsx(lH,{router:dAe})}));
