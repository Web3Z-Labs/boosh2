var fF=Object.defineProperty;var pF=(n,e,t)=>e in n?fF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ee=(n,e,t)=>(pF(n,typeof e!="symbol"?e+"":e,t),t);function Sd(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function la(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var GN={exports:{}},Zw={},JN={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var km=Symbol.for("react.element"),gF=Symbol.for("react.portal"),yF=Symbol.for("react.fragment"),mF=Symbol.for("react.strict_mode"),bF=Symbol.for("react.profiler"),wF=Symbol.for("react.provider"),kF=Symbol.for("react.context"),SF=Symbol.for("react.forward_ref"),AF=Symbol.for("react.suspense"),_F=Symbol.for("react.memo"),vF=Symbol.for("react.lazy"),PT=Symbol.iterator;function EF(n){return n===null||typeof n!="object"?null:(n=PT&&n[PT]||n["@@iterator"],typeof n=="function"?n:null)}var QN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZN=Object.assign,XN={};function kp(n,e,t){this.props=n,this.context=e,this.refs=XN,this.updater=t||QN}kp.prototype.isReactComponent={};kp.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};kp.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function e3(){}e3.prototype=kp.prototype;function nP(n,e,t){this.props=n,this.context=e,this.refs=XN,this.updater=t||QN}var rP=nP.prototype=new e3;rP.constructor=nP;ZN(rP,kp.prototype);rP.isPureReactComponent=!0;var xT=Array.isArray,t3=Object.prototype.hasOwnProperty,iP={current:null},n3={key:!0,ref:!0,__self:!0,__source:!0};function r3(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)t3.call(e,r)&&!n3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:km,type:n,key:s,ref:o,props:i,_owner:iP.current}}function IF(n,e){return{$$typeof:km,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function sP(n){return typeof n=="object"&&n!==null&&n.$$typeof===km}function RF(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var BT=/\/+/g;function wA(n,e){return typeof n=="object"&&n!==null&&n.key!=null?RF(""+n.key):e.toString(36)}function Zb(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case km:case gF:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+wA(o,0):r,xT(i)?(t="",n!=null&&(t=n.replace(BT,"$&/")+"/"),Zb(i,e,t,"",function(u){return u})):i!=null&&(sP(i)&&(i=IF(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(BT,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",xT(n))for(var a=0;a<n.length;a++){s=n[a];var c=r+wA(s,a);o+=Zb(s,e,t,c,i)}else if(c=EF(n),typeof c=="function")for(n=c.call(n),a=0;!(s=n.next()).done;)s=s.value,c=r+wA(s,a++),o+=Zb(s,e,t,c,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ib(n,e,t){if(n==null)return n;var r=[],i=0;return Zb(n,r,"","",function(s){return e.call(t,s,i++)}),r}function PF(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var fs={current:null},Xb={transition:null},xF={ReactCurrentDispatcher:fs,ReactCurrentBatchConfig:Xb,ReactCurrentOwner:iP};function i3(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:ib,forEach:function(n,e,t){ib(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return ib(n,function(){e++}),e},toArray:function(n){return ib(n,function(e){return e})||[]},only:function(n){if(!sP(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};en.Component=kp;en.Fragment=yF;en.Profiler=bF;en.PureComponent=nP;en.StrictMode=mF;en.Suspense=AF;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xF;en.act=i3;en.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=ZN({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=iP.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(c in e)t3.call(e,c)&&!n3.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=t;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:km,type:n.type,key:i,ref:s,props:r,_owner:o}};en.createContext=function(n){return n={$$typeof:kF,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:wF,_context:n},n.Consumer=n};en.createElement=r3;en.createFactory=function(n){var e=r3.bind(null,n);return e.type=n,e};en.createRef=function(){return{current:null}};en.forwardRef=function(n){return{$$typeof:SF,render:n}};en.isValidElement=sP;en.lazy=function(n){return{$$typeof:vF,_payload:{_status:-1,_result:n},_init:PF}};en.memo=function(n,e){return{$$typeof:_F,type:n,compare:e===void 0?null:e}};en.startTransition=function(n){var e=Xb.transition;Xb.transition={};try{n()}finally{Xb.transition=e}};en.unstable_act=i3;en.useCallback=function(n,e){return fs.current.useCallback(n,e)};en.useContext=function(n){return fs.current.useContext(n)};en.useDebugValue=function(){};en.useDeferredValue=function(n){return fs.current.useDeferredValue(n)};en.useEffect=function(n,e){return fs.current.useEffect(n,e)};en.useId=function(){return fs.current.useId()};en.useImperativeHandle=function(n,e,t){return fs.current.useImperativeHandle(n,e,t)};en.useInsertionEffect=function(n,e){return fs.current.useInsertionEffect(n,e)};en.useLayoutEffect=function(n,e){return fs.current.useLayoutEffect(n,e)};en.useMemo=function(n,e){return fs.current.useMemo(n,e)};en.useReducer=function(n,e,t){return fs.current.useReducer(n,e,t)};en.useRef=function(n){return fs.current.useRef(n)};en.useState=function(n){return fs.current.useState(n)};en.useSyncExternalStore=function(n,e,t){return fs.current.useSyncExternalStore(n,e,t)};en.useTransition=function(){return fs.current.useTransition()};en.version="18.3.1";JN.exports=en;var we=JN.exports;const Re=Uo(we),BF=Sd({__proto__:null,default:Re},[we]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TF=we,CF=Symbol.for("react.element"),MF=Symbol.for("react.fragment"),LF=Object.prototype.hasOwnProperty,OF=TF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NF={key:!0,ref:!0,__self:!0,__source:!0};function s3(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)LF.call(e,r)&&!NF.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:CF,type:n,key:s,ref:o,props:i,_owner:OF.current}}Zw.Fragment=MF;Zw.jsx=s3;Zw.jsxs=s3;GN.exports=Zw;var ye=GN.exports,lE={},o3={exports:{}},go={},a3={exports:{}},c3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(C,N){var Z=C.length;C.push(N);e:for(;0<Z;){var L=Z-1>>>1,E=C[L];if(0<i(E,N))C[L]=N,C[Z]=E,Z=L;else break e}}function t(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var N=C[0],Z=C.pop();if(Z!==N){C[0]=Z;e:for(var L=0,E=C.length,Y=E>>>1;L<Y;){var be=2*(L+1)-1,Ae=C[be],ve=be+1,De=C[ve];if(0>i(Ae,Z))ve<E&&0>i(De,Ae)?(C[L]=De,C[ve]=Z,L=ve):(C[L]=Ae,C[be]=Z,L=be);else if(ve<E&&0>i(De,Z))C[L]=De,C[ve]=Z,L=ve;else break e}}return N}function i(C,N){var Z=C.sortIndex-N.sortIndex;return Z!==0?Z:C.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var c=[],u=[],l=1,d=null,b=3,p=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(C){for(var N=t(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=C)r(u),N.sortIndex=N.expirationTime,e(c,N);else break;N=t(u)}}function x(C){if(y=!1,R(C),!g)if(t(c)!==null)g=!0,T(K);else{var N=t(u);N!==null&&V(x,N.startTime-C)}}function K(C,N){g=!1,y&&(y=!1,w(Q),Q=-1),p=!0;var Z=b;try{for(R(N),d=t(c);d!==null&&(!(d.expirationTime>N)||C&&!X());){var L=d.callback;if(typeof L=="function"){d.callback=null,b=d.priorityLevel;var E=L(d.expirationTime<=N);N=n.unstable_now(),typeof E=="function"?d.callback=E:d===t(c)&&r(c),R(N)}else r(c);d=t(c)}if(d!==null)var Y=!0;else{var be=t(u);be!==null&&V(x,be.startTime-N),Y=!1}return Y}finally{d=null,b=Z,p=!1}}var G=!1,M=null,Q=-1,ie=5,ee=-1;function X(){return!(n.unstable_now()-ee<ie)}function oe(){if(M!==null){var C=n.unstable_now();ee=C;var N=!0;try{N=M(!0,C)}finally{N?z():(G=!1,M=null)}}else G=!1}var z;if(typeof _=="function")z=function(){_(oe)};else if(typeof MessageChannel<"u"){var m=new MessageChannel,v=m.port2;m.port1.onmessage=oe,z=function(){v.postMessage(null)}}else z=function(){S(oe,0)};function T(C){M=C,G||(G=!0,z())}function V(C,N){Q=S(function(){C(n.unstable_now())},N)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,T(K))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(C){switch(b){case 1:case 2:case 3:var N=3;break;default:N=b}var Z=b;b=N;try{return C()}finally{b=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,N){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Z=b;b=C;try{return N()}finally{b=Z}},n.unstable_scheduleCallback=function(C,N,Z){var L=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?L+Z:L):Z=L,C){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=Z+E,C={id:l++,callback:N,priorityLevel:C,startTime:Z,expirationTime:E,sortIndex:-1},Z>L?(C.sortIndex=Z,e(u,C),t(c)===null&&C===t(u)&&(y?(w(Q),Q=-1):y=!0,V(x,Z-L))):(C.sortIndex=E,e(c,C),g||p||(g=!0,T(K))),C},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(C){var N=b;return function(){var Z=b;b=N;try{return C.apply(this,arguments)}finally{b=Z}}}})(c3);a3.exports=c3;var $F=a3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF=we,fo=$F;function Me(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u3=new Set,hy={};function Ad(n,e){Fh(n,e),Fh(n+"Capture",e)}function Fh(n,e){for(hy[n]=e,n=0;n<e.length;n++)u3.add(e[n])}var jc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dE=Object.prototype.hasOwnProperty,zF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TT={},CT={};function DF(n){return dE.call(CT,n)?!0:dE.call(TT,n)?!1:zF.test(n)?CT[n]=!0:(TT[n]=!0,!1)}function UF(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function KF(n,e,t,r){if(e===null||typeof e>"u"||UF(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ps(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var zi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){zi[n]=new ps(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];zi[e]=new ps(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){zi[n]=new ps(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){zi[n]=new ps(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){zi[n]=new ps(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){zi[n]=new ps(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){zi[n]=new ps(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){zi[n]=new ps(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){zi[n]=new ps(n,5,!1,n.toLowerCase(),null,!1,!1)});var oP=/[\-:]([a-z])/g;function aP(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(oP,aP);zi[e]=new ps(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(oP,aP);zi[e]=new ps(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(oP,aP);zi[e]=new ps(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){zi[n]=new ps(n,1,!1,n.toLowerCase(),null,!1,!1)});zi.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){zi[n]=new ps(n,1,!1,n.toLowerCase(),null,!0,!0)});function cP(n,e,t,r){var i=zi.hasOwnProperty(e)?zi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KF(e,t,i,r)&&(t=null),r||i===null?DF(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Xc=qF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sb=Symbol.for("react.element"),lh=Symbol.for("react.portal"),dh=Symbol.for("react.fragment"),uP=Symbol.for("react.strict_mode"),hE=Symbol.for("react.profiler"),l3=Symbol.for("react.provider"),d3=Symbol.for("react.context"),lP=Symbol.for("react.forward_ref"),fE=Symbol.for("react.suspense"),pE=Symbol.for("react.suspense_list"),dP=Symbol.for("react.memo"),fu=Symbol.for("react.lazy"),h3=Symbol.for("react.offscreen"),MT=Symbol.iterator;function Xp(n){return n===null||typeof n!="object"?null:(n=MT&&n[MT]||n["@@iterator"],typeof n=="function"?n:null)}var Kr=Object.assign,kA;function vg(n){if(kA===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);kA=e&&e[1]||""}return`
`+kA+n}var SA=!1;function AA(n,e){if(!n||SA)return"";SA=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){r=u}n.call(e.prototype)}else{try{throw Error()}catch(u){r=u}n()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=o&&0<=a);break}}}finally{SA=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?vg(n):""}function WF(n){switch(n.tag){case 5:return vg(n.type);case 16:return vg("Lazy");case 13:return vg("Suspense");case 19:return vg("SuspenseList");case 0:case 2:case 15:return n=AA(n.type,!1),n;case 11:return n=AA(n.type.render,!1),n;case 1:return n=AA(n.type,!0),n;default:return""}}function gE(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case dh:return"Fragment";case lh:return"Portal";case hE:return"Profiler";case uP:return"StrictMode";case fE:return"Suspense";case pE:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case d3:return(n.displayName||"Context")+".Consumer";case l3:return(n._context.displayName||"Context")+".Provider";case lP:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case dP:return e=n.displayName||null,e!==null?e:gE(n.type)||"Memo";case fu:e=n._payload,n=n._init;try{return gE(n(e))}catch{}}return null}function FF(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gE(e);case 8:return e===uP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hu(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function f3(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VF(n){var e=f3(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ob(n){n._valueTracker||(n._valueTracker=VF(n))}function p3(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=f3(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function r0(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function yE(n,e){var t=e.checked;return Kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function LT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Hu(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function g3(n,e){e=e.checked,e!=null&&cP(n,"checked",e,!1)}function mE(n,e){g3(n,e);var t=Hu(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?bE(n,e.type,t):e.hasOwnProperty("defaultValue")&&bE(n,e.type,Hu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function OT(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function bE(n,e,t){(e!=="number"||r0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Eg=Array.isArray;function Mh(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Hu(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function wE(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Kr({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function NT(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Me(92));if(Eg(t)){if(1<t.length)throw Error(Me(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Hu(t)}}function y3(n,e){var t=Hu(e.value),r=Hu(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function $T(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function m3(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kE(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?m3(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ab,b3=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ab=ab||document.createElement("div"),ab.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ab.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function fy(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var qg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jF=["Webkit","ms","Moz","O"];Object.keys(qg).forEach(function(n){jF.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),qg[e]=qg[n]})});function w3(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||qg.hasOwnProperty(n)&&qg[n]?(""+e).trim():e+"px"}function k3(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=w3(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var HF=Kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function SE(n,e){if(e){if(HF[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Me(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Me(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Me(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Me(62))}}function AE(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _E=null;function hP(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var vE=null,Lh=null,Oh=null;function qT(n){if(n=_m(n)){if(typeof vE!="function")throw Error(Me(280));var e=n.stateNode;e&&(e=rk(e),vE(n.stateNode,n.type,e))}}function S3(n){Lh?Oh?Oh.push(n):Oh=[n]:Lh=n}function A3(){if(Lh){var n=Lh,e=Oh;if(Oh=Lh=null,qT(n),e)for(n=0;n<e.length;n++)qT(e[n])}}function _3(n,e){return n(e)}function v3(){}var _A=!1;function E3(n,e,t){if(_A)return n(e,t);_A=!0;try{return _3(n,e,t)}finally{_A=!1,(Lh!==null||Oh!==null)&&(v3(),A3())}}function py(n,e){var t=n.stateNode;if(t===null)return null;var r=rk(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Me(231,e,typeof t));return t}var EE=!1;if(jc)try{var eg={};Object.defineProperty(eg,"passive",{get:function(){EE=!0}}),window.addEventListener("test",eg,eg),window.removeEventListener("test",eg,eg)}catch{EE=!1}function YF(n,e,t,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(l){this.onError(l)}}var zg=!1,i0=null,s0=!1,IE=null,GF={onError:function(n){zg=!0,i0=n}};function JF(n,e,t,r,i,s,o,a,c){zg=!1,i0=null,YF.apply(GF,arguments)}function QF(n,e,t,r,i,s,o,a,c){if(JF.apply(this,arguments),zg){if(zg){var u=i0;zg=!1,i0=null}else throw Error(Me(198));s0||(s0=!0,IE=u)}}function _d(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function I3(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function zT(n){if(_d(n)!==n)throw Error(Me(188))}function ZF(n){var e=n.alternate;if(!e){if(e=_d(n),e===null)throw Error(Me(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return zT(i),n;if(s===r)return zT(i),e;s=s.sibling}throw Error(Me(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Me(189))}}if(t.alternate!==r)throw Error(Me(190))}if(t.tag!==3)throw Error(Me(188));return t.stateNode.current===t?n:e}function R3(n){return n=ZF(n),n!==null?P3(n):null}function P3(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=P3(n);if(e!==null)return e;n=n.sibling}return null}var x3=fo.unstable_scheduleCallback,DT=fo.unstable_cancelCallback,XF=fo.unstable_shouldYield,eV=fo.unstable_requestPaint,ni=fo.unstable_now,tV=fo.unstable_getCurrentPriorityLevel,fP=fo.unstable_ImmediatePriority,B3=fo.unstable_UserBlockingPriority,o0=fo.unstable_NormalPriority,nV=fo.unstable_LowPriority,T3=fo.unstable_IdlePriority,Xw=null,Ya=null;function rV(n){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(Xw,n,void 0,(n.current.flags&128)===128)}catch{}}var na=Math.clz32?Math.clz32:oV,iV=Math.log,sV=Math.LN2;function oV(n){return n>>>=0,n===0?32:31-(iV(n)/sV|0)|0}var cb=64,ub=4194304;function Ig(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function a0(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Ig(a):(s&=o,s!==0&&(r=Ig(s)))}else o=t&~i,o!==0?r=Ig(o):s!==0&&(r=Ig(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-na(e),i=1<<t,r|=n[t],e&=~i;return r}function aV(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cV(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-na(s),a=1<<o,c=i[o];c===-1?(!(a&t)||a&r)&&(i[o]=aV(a,e)):c<=e&&(n.expiredLanes|=a),s&=~a}}function RE(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function C3(){var n=cb;return cb<<=1,!(cb&4194240)&&(cb=64),n}function vA(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Sm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-na(e),n[e]=t}function uV(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-na(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function pP(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-na(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Hn=0;function M3(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var L3,gP,O3,N3,$3,PE=!1,lb=[],Ru=null,Pu=null,xu=null,gy=new Map,yy=new Map,yu=[],lV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function UT(n,e){switch(n){case"focusin":case"focusout":Ru=null;break;case"dragenter":case"dragleave":Pu=null;break;case"mouseover":case"mouseout":xu=null;break;case"pointerover":case"pointerout":gy.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yy.delete(e.pointerId)}}function tg(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_m(e),e!==null&&gP(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function dV(n,e,t,r,i){switch(e){case"focusin":return Ru=tg(Ru,n,e,t,r,i),!0;case"dragenter":return Pu=tg(Pu,n,e,t,r,i),!0;case"mouseover":return xu=tg(xu,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return gy.set(s,tg(gy.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yy.set(s,tg(yy.get(s)||null,n,e,t,r,i)),!0}return!1}function q3(n){var e=xl(n.target);if(e!==null){var t=_d(e);if(t!==null){if(e=t.tag,e===13){if(e=I3(t),e!==null){n.blockedOn=e,$3(n.priority,function(){O3(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function e1(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=xE(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);_E=r,t.target.dispatchEvent(r),_E=null}else return e=_m(t),e!==null&&gP(e),n.blockedOn=t,!1;e.shift()}return!0}function KT(n,e,t){e1(n)&&t.delete(e)}function hV(){PE=!1,Ru!==null&&e1(Ru)&&(Ru=null),Pu!==null&&e1(Pu)&&(Pu=null),xu!==null&&e1(xu)&&(xu=null),gy.forEach(KT),yy.forEach(KT)}function ng(n,e){n.blockedOn===e&&(n.blockedOn=null,PE||(PE=!0,fo.unstable_scheduleCallback(fo.unstable_NormalPriority,hV)))}function my(n){function e(i){return ng(i,n)}if(0<lb.length){ng(lb[0],n);for(var t=1;t<lb.length;t++){var r=lb[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Ru!==null&&ng(Ru,n),Pu!==null&&ng(Pu,n),xu!==null&&ng(xu,n),gy.forEach(e),yy.forEach(e),t=0;t<yu.length;t++)r=yu[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<yu.length&&(t=yu[0],t.blockedOn===null);)q3(t),t.blockedOn===null&&yu.shift()}var Nh=Xc.ReactCurrentBatchConfig,c0=!0;function fV(n,e,t,r){var i=Hn,s=Nh.transition;Nh.transition=null;try{Hn=1,yP(n,e,t,r)}finally{Hn=i,Nh.transition=s}}function pV(n,e,t,r){var i=Hn,s=Nh.transition;Nh.transition=null;try{Hn=4,yP(n,e,t,r)}finally{Hn=i,Nh.transition=s}}function yP(n,e,t,r){if(c0){var i=xE(n,e,t,r);if(i===null)LA(n,e,r,u0,t),UT(n,r);else if(dV(i,n,e,t,r))r.stopPropagation();else if(UT(n,r),e&4&&-1<lV.indexOf(n)){for(;i!==null;){var s=_m(i);if(s!==null&&L3(s),s=xE(n,e,t,r),s===null&&LA(n,e,r,u0,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else LA(n,e,r,null,t)}}var u0=null;function xE(n,e,t,r){if(u0=null,n=hP(r),n=xl(n),n!==null)if(e=_d(n),e===null)n=null;else if(t=e.tag,t===13){if(n=I3(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return u0=n,null}function z3(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tV()){case fP:return 1;case B3:return 4;case o0:case nV:return 16;case T3:return 536870912;default:return 16}default:return 16}}var ku=null,mP=null,t1=null;function D3(){if(t1)return t1;var n,e=mP,t=e.length,r,i="value"in ku?ku.value:ku.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return t1=i.slice(n,1<r?1-r:void 0)}function n1(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function db(){return!0}function WT(){return!1}function yo(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?db:WT,this.isPropagationStopped=WT,this}return Kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=db)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=db)},persist:function(){},isPersistent:db}),e}var Sp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bP=yo(Sp),Am=Kr({},Sp,{view:0,detail:0}),gV=yo(Am),EA,IA,rg,ek=Kr({},Am,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wP,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rg&&(rg&&n.type==="mousemove"?(EA=n.screenX-rg.screenX,IA=n.screenY-rg.screenY):IA=EA=0,rg=n),EA)},movementY:function(n){return"movementY"in n?n.movementY:IA}}),FT=yo(ek),yV=Kr({},ek,{dataTransfer:0}),mV=yo(yV),bV=Kr({},Am,{relatedTarget:0}),RA=yo(bV),wV=Kr({},Sp,{animationName:0,elapsedTime:0,pseudoElement:0}),kV=yo(wV),SV=Kr({},Sp,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),AV=yo(SV),_V=Kr({},Sp,{data:0}),VT=yo(_V),vV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RV(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=IV[n])?!!e[n]:!1}function wP(){return RV}var PV=Kr({},Am,{key:function(n){if(n.key){var e=vV[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=n1(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?EV[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wP,charCode:function(n){return n.type==="keypress"?n1(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?n1(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xV=yo(PV),BV=Kr({},ek,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jT=yo(BV),TV=Kr({},Am,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wP}),CV=yo(TV),MV=Kr({},Sp,{propertyName:0,elapsedTime:0,pseudoElement:0}),LV=yo(MV),OV=Kr({},ek,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),NV=yo(OV),$V=[9,13,27,32],kP=jc&&"CompositionEvent"in window,Dg=null;jc&&"documentMode"in document&&(Dg=document.documentMode);var qV=jc&&"TextEvent"in window&&!Dg,U3=jc&&(!kP||Dg&&8<Dg&&11>=Dg),HT=" ",YT=!1;function K3(n,e){switch(n){case"keyup":return $V.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W3(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var hh=!1;function zV(n,e){switch(n){case"compositionend":return W3(e);case"keypress":return e.which!==32?null:(YT=!0,HT);case"textInput":return n=e.data,n===HT&&YT?null:n;default:return null}}function DV(n,e){if(hh)return n==="compositionend"||!kP&&K3(n,e)?(n=D3(),t1=mP=ku=null,hh=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U3&&e.locale!=="ko"?null:e.data;default:return null}}var UV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!UV[n.type]:e==="textarea"}function F3(n,e,t,r){S3(r),e=l0(e,"onChange"),0<e.length&&(t=new bP("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Ug=null,by=null;function KV(n){t$(n,0)}function tk(n){var e=gh(n);if(p3(e))return n}function WV(n,e){if(n==="change")return e}var V3=!1;if(jc){var PA;if(jc){var xA="oninput"in document;if(!xA){var JT=document.createElement("div");JT.setAttribute("oninput","return;"),xA=typeof JT.oninput=="function"}PA=xA}else PA=!1;V3=PA&&(!document.documentMode||9<document.documentMode)}function QT(){Ug&&(Ug.detachEvent("onpropertychange",j3),by=Ug=null)}function j3(n){if(n.propertyName==="value"&&tk(by)){var e=[];F3(e,by,n,hP(n)),E3(KV,e)}}function FV(n,e,t){n==="focusin"?(QT(),Ug=e,by=t,Ug.attachEvent("onpropertychange",j3)):n==="focusout"&&QT()}function VV(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return tk(by)}function jV(n,e){if(n==="click")return tk(e)}function HV(n,e){if(n==="input"||n==="change")return tk(e)}function YV(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var oa=typeof Object.is=="function"?Object.is:YV;function wy(n,e){if(oa(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!dE.call(e,i)||!oa(n[i],e[i]))return!1}return!0}function ZT(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function XT(n,e){var t=ZT(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=ZT(t)}}function H3(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?H3(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Y3(){for(var n=window,e=r0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=r0(n.document)}return e}function SP(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function GV(n){var e=Y3(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&H3(t.ownerDocument.documentElement,t)){if(r!==null&&SP(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=XT(t,s);var o=XT(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var JV=jc&&"documentMode"in document&&11>=document.documentMode,fh=null,BE=null,Kg=null,TE=!1;function e2(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;TE||fh==null||fh!==r0(r)||(r=fh,"selectionStart"in r&&SP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kg&&wy(Kg,r)||(Kg=r,r=l0(BE,"onSelect"),0<r.length&&(e=new bP("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=fh)))}function hb(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ph={animationend:hb("Animation","AnimationEnd"),animationiteration:hb("Animation","AnimationIteration"),animationstart:hb("Animation","AnimationStart"),transitionend:hb("Transition","TransitionEnd")},BA={},G3={};jc&&(G3=document.createElement("div").style,"AnimationEvent"in window||(delete ph.animationend.animation,delete ph.animationiteration.animation,delete ph.animationstart.animation),"TransitionEvent"in window||delete ph.transitionend.transition);function nk(n){if(BA[n])return BA[n];if(!ph[n])return n;var e=ph[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in G3)return BA[n]=e[t];return n}var J3=nk("animationend"),Q3=nk("animationiteration"),Z3=nk("animationstart"),X3=nk("transitionend"),e$=new Map,t2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tl(n,e){e$.set(n,e),Ad(e,[n])}for(var TA=0;TA<t2.length;TA++){var CA=t2[TA],QV=CA.toLowerCase(),ZV=CA[0].toUpperCase()+CA.slice(1);tl(QV,"on"+ZV)}tl(J3,"onAnimationEnd");tl(Q3,"onAnimationIteration");tl(Z3,"onAnimationStart");tl("dblclick","onDoubleClick");tl("focusin","onFocus");tl("focusout","onBlur");tl(X3,"onTransitionEnd");Fh("onMouseEnter",["mouseout","mouseover"]);Fh("onMouseLeave",["mouseout","mouseover"]);Fh("onPointerEnter",["pointerout","pointerover"]);Fh("onPointerLeave",["pointerout","pointerover"]);Ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rg));function n2(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,QF(r,e,void 0,n),n.currentTarget=null}function t$(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;n2(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;n2(i,a,u),s=c}}}if(s0)throw n=IE,s0=!1,IE=null,n}function kr(n,e){var t=e[NE];t===void 0&&(t=e[NE]=new Set);var r=n+"__bubble";t.has(r)||(n$(e,n,2,!1),t.add(r))}function MA(n,e,t){var r=0;e&&(r|=4),n$(t,n,r,e)}var fb="_reactListening"+Math.random().toString(36).slice(2);function ky(n){if(!n[fb]){n[fb]=!0,u3.forEach(function(t){t!=="selectionchange"&&(XV.has(t)||MA(t,!1,n),MA(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[fb]||(e[fb]=!0,MA("selectionchange",!1,e))}}function n$(n,e,t,r){switch(z3(e)){case 1:var i=fV;break;case 4:i=pV;break;default:i=yP}t=i.bind(null,e,t,n),i=void 0,!EE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function LA(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xl(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}E3(function(){var u=s,l=hP(t),d=[];e:{var b=e$.get(n);if(b!==void 0){var p=bP,g=n;switch(n){case"keypress":if(n1(t)===0)break e;case"keydown":case"keyup":p=xV;break;case"focusin":g="focus",p=RA;break;case"focusout":g="blur",p=RA;break;case"beforeblur":case"afterblur":p=RA;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=FT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=mV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CV;break;case J3:case Q3:case Z3:p=kV;break;case X3:p=LV;break;case"scroll":p=gV;break;case"wheel":p=NV;break;case"copy":case"cut":case"paste":p=AV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=jT}var y=(e&4)!==0,S=!y&&n==="scroll",w=y?b!==null?b+"Capture":null:b;y=[];for(var _=u,R;_!==null;){R=_;var x=R.stateNode;if(R.tag===5&&x!==null&&(R=x,w!==null&&(x=py(_,w),x!=null&&y.push(Sy(_,x,R)))),S)break;_=_.return}0<y.length&&(b=new p(b,g,null,t,l),d.push({event:b,listeners:y}))}}if(!(e&7)){e:{if(b=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",b&&t!==_E&&(g=t.relatedTarget||t.fromElement)&&(xl(g)||g[Hc]))break e;if((p||b)&&(b=l.window===l?l:(b=l.ownerDocument)?b.defaultView||b.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=u,g=g?xl(g):null,g!==null&&(S=_d(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(y=FT,x="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=jT,x="onPointerLeave",w="onPointerEnter",_="pointer"),S=p==null?b:gh(p),R=g==null?b:gh(g),b=new y(x,_+"leave",p,t,l),b.target=S,b.relatedTarget=R,x=null,xl(l)===u&&(y=new y(w,_+"enter",g,t,l),y.target=R,y.relatedTarget=S,x=y),S=x,p&&g)t:{for(y=p,w=g,_=0,R=y;R;R=Fd(R))_++;for(R=0,x=w;x;x=Fd(x))R++;for(;0<_-R;)y=Fd(y),_--;for(;0<R-_;)w=Fd(w),R--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=Fd(y),w=Fd(w)}y=null}else y=null;p!==null&&r2(d,b,p,y,!1),g!==null&&S!==null&&r2(d,S,g,y,!0)}}e:{if(b=u?gh(u):window,p=b.nodeName&&b.nodeName.toLowerCase(),p==="select"||p==="input"&&b.type==="file")var K=WV;else if(GT(b))if(V3)K=HV;else{K=VV;var G=FV}else(p=b.nodeName)&&p.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(K=jV);if(K&&(K=K(n,u))){F3(d,K,t,l);break e}G&&G(n,b,u),n==="focusout"&&(G=b._wrapperState)&&G.controlled&&b.type==="number"&&bE(b,"number",b.value)}switch(G=u?gh(u):window,n){case"focusin":(GT(G)||G.contentEditable==="true")&&(fh=G,BE=u,Kg=null);break;case"focusout":Kg=BE=fh=null;break;case"mousedown":TE=!0;break;case"contextmenu":case"mouseup":case"dragend":TE=!1,e2(d,t,l);break;case"selectionchange":if(JV)break;case"keydown":case"keyup":e2(d,t,l)}var M;if(kP)e:{switch(n){case"compositionstart":var Q="onCompositionStart";break e;case"compositionend":Q="onCompositionEnd";break e;case"compositionupdate":Q="onCompositionUpdate";break e}Q=void 0}else hh?K3(n,t)&&(Q="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(Q="onCompositionStart");Q&&(U3&&t.locale!=="ko"&&(hh||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&hh&&(M=D3()):(ku=l,mP="value"in ku?ku.value:ku.textContent,hh=!0)),G=l0(u,Q),0<G.length&&(Q=new VT(Q,n,null,t,l),d.push({event:Q,listeners:G}),M?Q.data=M:(M=W3(t),M!==null&&(Q.data=M)))),(M=qV?zV(n,t):DV(n,t))&&(u=l0(u,"onBeforeInput"),0<u.length&&(l=new VT("onBeforeInput","beforeinput",null,t,l),d.push({event:l,listeners:u}),l.data=M))}t$(d,e)})}function Sy(n,e,t){return{instance:n,listener:e,currentTarget:t}}function l0(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=py(n,t),s!=null&&r.unshift(Sy(n,s,i)),s=py(n,e),s!=null&&r.push(Sy(n,s,i))),n=n.return}return r}function Fd(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function r2(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=py(t,s),c!=null&&o.unshift(Sy(t,c,a))):i||(c=py(t,s),c!=null&&o.push(Sy(t,c,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var e9=/\r\n?/g,t9=/\u0000|\uFFFD/g;function i2(n){return(typeof n=="string"?n:""+n).replace(e9,`
`).replace(t9,"")}function pb(n,e,t){if(e=i2(e),i2(n)!==e&&t)throw Error(Me(425))}function d0(){}var CE=null,ME=null;function LE(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var OE=typeof setTimeout=="function"?setTimeout:void 0,n9=typeof clearTimeout=="function"?clearTimeout:void 0,s2=typeof Promise=="function"?Promise:void 0,r9=typeof queueMicrotask=="function"?queueMicrotask:typeof s2<"u"?function(n){return s2.resolve(null).then(n).catch(i9)}:OE;function i9(n){setTimeout(function(){throw n})}function OA(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),my(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);my(e)}function Bu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function o2(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Ap=Math.random().toString(36).slice(2),Ia="__reactFiber$"+Ap,Ay="__reactProps$"+Ap,Hc="__reactContainer$"+Ap,NE="__reactEvents$"+Ap,s9="__reactListeners$"+Ap,o9="__reactHandles$"+Ap;function xl(n){var e=n[Ia];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Hc]||t[Ia]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=o2(n);n!==null;){if(t=n[Ia])return t;n=o2(n)}return e}n=t,t=n.parentNode}return null}function _m(n){return n=n[Ia]||n[Hc],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function gh(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Me(33))}function rk(n){return n[Ay]||null}var $E=[],yh=-1;function nl(n){return{current:n}}function Sr(n){0>yh||(n.current=$E[yh],$E[yh]=null,yh--)}function wr(n,e){yh++,$E[yh]=n.current,n.current=e}var Yu={},Qi=nl(Yu),$s=nl(!1),ed=Yu;function Vh(n,e){var t=n.type.contextTypes;if(!t)return Yu;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function qs(n){return n=n.childContextTypes,n!=null}function h0(){Sr($s),Sr(Qi)}function a2(n,e,t){if(Qi.current!==Yu)throw Error(Me(168));wr(Qi,e),wr($s,t)}function r$(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Me(108,FF(n)||"Unknown",i));return Kr({},t,r)}function f0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yu,ed=Qi.current,wr(Qi,n),wr($s,$s.current),!0}function c2(n,e,t){var r=n.stateNode;if(!r)throw Error(Me(169));t?(n=r$(n,e,ed),r.__reactInternalMemoizedMergedChildContext=n,Sr($s),Sr(Qi),wr(Qi,n)):Sr($s),wr($s,t)}var Rc=null,ik=!1,NA=!1;function i$(n){Rc===null?Rc=[n]:Rc.push(n)}function a9(n){ik=!0,i$(n)}function rl(){if(!NA&&Rc!==null){NA=!0;var n=0,e=Hn;try{var t=Rc;for(Hn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Rc=null,ik=!1}catch(i){throw Rc!==null&&(Rc=Rc.slice(n+1)),x3(fP,rl),i}finally{Hn=e,NA=!1}}return null}var mh=[],bh=0,p0=null,g0=0,Po=[],xo=0,td=null,zc=1,Dc="";function ll(n,e){mh[bh++]=g0,mh[bh++]=p0,p0=n,g0=e}function s$(n,e,t){Po[xo++]=zc,Po[xo++]=Dc,Po[xo++]=td,td=n;var r=zc;n=Dc;var i=32-na(r)-1;r&=~(1<<i),t+=1;var s=32-na(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zc=1<<32-na(e)+i|t<<i|r,Dc=s+n}else zc=1<<s|t<<i|r,Dc=n}function AP(n){n.return!==null&&(ll(n,1),s$(n,1,0))}function _P(n){for(;n===p0;)p0=mh[--bh],mh[bh]=null,g0=mh[--bh],mh[bh]=null;for(;n===td;)td=Po[--xo],Po[xo]=null,Dc=Po[--xo],Po[xo]=null,zc=Po[--xo],Po[xo]=null}var lo=null,ao=null,Or=!1,ea=null;function o$(n,e){var t=Co(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function u2(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,lo=n,ao=Bu(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,lo=n,ao=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=td!==null?{id:zc,overflow:Dc}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Co(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,lo=n,ao=null,!0):!1;default:return!1}}function qE(n){return(n.mode&1)!==0&&(n.flags&128)===0}function zE(n){if(Or){var e=ao;if(e){var t=e;if(!u2(n,e)){if(qE(n))throw Error(Me(418));e=Bu(t.nextSibling);var r=lo;e&&u2(n,e)?o$(r,t):(n.flags=n.flags&-4097|2,Or=!1,lo=n)}}else{if(qE(n))throw Error(Me(418));n.flags=n.flags&-4097|2,Or=!1,lo=n}}}function l2(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;lo=n}function gb(n){if(n!==lo)return!1;if(!Or)return l2(n),Or=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!LE(n.type,n.memoizedProps)),e&&(e=ao)){if(qE(n))throw a$(),Error(Me(418));for(;e;)o$(n,e),e=Bu(e.nextSibling)}if(l2(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Me(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ao=Bu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ao=null}}else ao=lo?Bu(n.stateNode.nextSibling):null;return!0}function a$(){for(var n=ao;n;)n=Bu(n.nextSibling)}function jh(){ao=lo=null,Or=!1}function vP(n){ea===null?ea=[n]:ea.push(n)}var c9=Xc.ReactCurrentBatchConfig;function ig(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Me(309));var r=t.stateNode}if(!r)throw Error(Me(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Me(284));if(!t._owner)throw Error(Me(290,n))}return n}function yb(n,e){throw n=Object.prototype.toString.call(e),Error(Me(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function d2(n){var e=n._init;return e(n._payload)}function c$(n){function e(w,_){if(n){var R=w.deletions;R===null?(w.deletions=[_],w.flags|=16):R.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=Lu(w,_),w.index=0,w.sibling=null,w}function s(w,_,R){return w.index=R,n?(R=w.alternate,R!==null?(R=R.index,R<_?(w.flags|=2,_):R):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,_,R,x){return _===null||_.tag!==6?(_=WA(R,w.mode,x),_.return=w,_):(_=i(_,R),_.return=w,_)}function c(w,_,R,x){var K=R.type;return K===dh?l(w,_,R.props.children,x,R.key):_!==null&&(_.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===fu&&d2(K)===_.type)?(x=i(_,R.props),x.ref=ig(w,_,R),x.return=w,x):(x=u1(R.type,R.key,R.props,null,w.mode,x),x.ref=ig(w,_,R),x.return=w,x)}function u(w,_,R,x){return _===null||_.tag!==4||_.stateNode.containerInfo!==R.containerInfo||_.stateNode.implementation!==R.implementation?(_=FA(R,w.mode,x),_.return=w,_):(_=i(_,R.children||[]),_.return=w,_)}function l(w,_,R,x,K){return _===null||_.tag!==7?(_=Yl(R,w.mode,x,K),_.return=w,_):(_=i(_,R),_.return=w,_)}function d(w,_,R){if(typeof _=="string"&&_!==""||typeof _=="number")return _=WA(""+_,w.mode,R),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sb:return R=u1(_.type,_.key,_.props,null,w.mode,R),R.ref=ig(w,null,_),R.return=w,R;case lh:return _=FA(_,w.mode,R),_.return=w,_;case fu:var x=_._init;return d(w,x(_._payload),R)}if(Eg(_)||Xp(_))return _=Yl(_,w.mode,R,null),_.return=w,_;yb(w,_)}return null}function b(w,_,R,x){var K=_!==null?_.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return K!==null?null:a(w,_,""+R,x);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case sb:return R.key===K?c(w,_,R,x):null;case lh:return R.key===K?u(w,_,R,x):null;case fu:return K=R._init,b(w,_,K(R._payload),x)}if(Eg(R)||Xp(R))return K!==null?null:l(w,_,R,x,null);yb(w,R)}return null}function p(w,_,R,x,K){if(typeof x=="string"&&x!==""||typeof x=="number")return w=w.get(R)||null,a(_,w,""+x,K);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sb:return w=w.get(x.key===null?R:x.key)||null,c(_,w,x,K);case lh:return w=w.get(x.key===null?R:x.key)||null,u(_,w,x,K);case fu:var G=x._init;return p(w,_,R,G(x._payload),K)}if(Eg(x)||Xp(x))return w=w.get(R)||null,l(_,w,x,K,null);yb(_,x)}return null}function g(w,_,R,x){for(var K=null,G=null,M=_,Q=_=0,ie=null;M!==null&&Q<R.length;Q++){M.index>Q?(ie=M,M=null):ie=M.sibling;var ee=b(w,M,R[Q],x);if(ee===null){M===null&&(M=ie);break}n&&M&&ee.alternate===null&&e(w,M),_=s(ee,_,Q),G===null?K=ee:G.sibling=ee,G=ee,M=ie}if(Q===R.length)return t(w,M),Or&&ll(w,Q),K;if(M===null){for(;Q<R.length;Q++)M=d(w,R[Q],x),M!==null&&(_=s(M,_,Q),G===null?K=M:G.sibling=M,G=M);return Or&&ll(w,Q),K}for(M=r(w,M);Q<R.length;Q++)ie=p(M,w,Q,R[Q],x),ie!==null&&(n&&ie.alternate!==null&&M.delete(ie.key===null?Q:ie.key),_=s(ie,_,Q),G===null?K=ie:G.sibling=ie,G=ie);return n&&M.forEach(function(X){return e(w,X)}),Or&&ll(w,Q),K}function y(w,_,R,x){var K=Xp(R);if(typeof K!="function")throw Error(Me(150));if(R=K.call(R),R==null)throw Error(Me(151));for(var G=K=null,M=_,Q=_=0,ie=null,ee=R.next();M!==null&&!ee.done;Q++,ee=R.next()){M.index>Q?(ie=M,M=null):ie=M.sibling;var X=b(w,M,ee.value,x);if(X===null){M===null&&(M=ie);break}n&&M&&X.alternate===null&&e(w,M),_=s(X,_,Q),G===null?K=X:G.sibling=X,G=X,M=ie}if(ee.done)return t(w,M),Or&&ll(w,Q),K;if(M===null){for(;!ee.done;Q++,ee=R.next())ee=d(w,ee.value,x),ee!==null&&(_=s(ee,_,Q),G===null?K=ee:G.sibling=ee,G=ee);return Or&&ll(w,Q),K}for(M=r(w,M);!ee.done;Q++,ee=R.next())ee=p(M,w,Q,ee.value,x),ee!==null&&(n&&ee.alternate!==null&&M.delete(ee.key===null?Q:ee.key),_=s(ee,_,Q),G===null?K=ee:G.sibling=ee,G=ee);return n&&M.forEach(function(oe){return e(w,oe)}),Or&&ll(w,Q),K}function S(w,_,R,x){if(typeof R=="object"&&R!==null&&R.type===dh&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case sb:e:{for(var K=R.key,G=_;G!==null;){if(G.key===K){if(K=R.type,K===dh){if(G.tag===7){t(w,G.sibling),_=i(G,R.props.children),_.return=w,w=_;break e}}else if(G.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===fu&&d2(K)===G.type){t(w,G.sibling),_=i(G,R.props),_.ref=ig(w,G,R),_.return=w,w=_;break e}t(w,G);break}else e(w,G);G=G.sibling}R.type===dh?(_=Yl(R.props.children,w.mode,x,R.key),_.return=w,w=_):(x=u1(R.type,R.key,R.props,null,w.mode,x),x.ref=ig(w,_,R),x.return=w,w=x)}return o(w);case lh:e:{for(G=R.key;_!==null;){if(_.key===G)if(_.tag===4&&_.stateNode.containerInfo===R.containerInfo&&_.stateNode.implementation===R.implementation){t(w,_.sibling),_=i(_,R.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=FA(R,w.mode,x),_.return=w,w=_}return o(w);case fu:return G=R._init,S(w,_,G(R._payload),x)}if(Eg(R))return g(w,_,R,x);if(Xp(R))return y(w,_,R,x);yb(w,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,_!==null&&_.tag===6?(t(w,_.sibling),_=i(_,R),_.return=w,w=_):(t(w,_),_=WA(R,w.mode,x),_.return=w,w=_),o(w)):t(w,_)}return S}var Hh=c$(!0),u$=c$(!1),y0=nl(null),m0=null,wh=null,EP=null;function IP(){EP=wh=m0=null}function RP(n){var e=y0.current;Sr(y0),n._currentValue=e}function DE(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function $h(n,e){m0=n,EP=wh=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Os=!0),n.firstContext=null)}function No(n){var e=n._currentValue;if(EP!==n)if(n={context:n,memoizedValue:e,next:null},wh===null){if(m0===null)throw Error(Me(308));wh=n,m0.dependencies={lanes:0,firstContext:n}}else wh=wh.next=n;return e}var Bl=null;function PP(n){Bl===null?Bl=[n]:Bl.push(n)}function l$(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,PP(e)):(t.next=i.next,i.next=t),e.interleaved=t,Yc(n,r)}function Yc(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var pu=!1;function xP(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d$(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Uc(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Tu(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Yc(n,t)}return i=r.interleaved,i===null?(e.next=e,PP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Yc(n,t)}function r1(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,pP(n,t)}}function h2(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function b0(n,e,t,r){var i=n.updateQueue;pu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var l=n.alternate;l!==null&&(l=l.updateQueue,a=l.lastBaseUpdate,a!==o&&(a===null?l.firstBaseUpdate=u:a.next=u,l.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,l=u=c=null,a=s;do{var b=a.lane,p=a.eventTime;if((r&b)===b){l!==null&&(l=l.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(b=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,b);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,b=typeof g=="function"?g.call(p,d,b):g,b==null)break e;d=Kr({},d,b);break e;case 2:pu=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,b=i.effects,b===null?i.effects=[a]:b.push(a))}else p={eventTime:p,lane:b,tag:a.tag,payload:a.payload,callback:a.callback,next:null},l===null?(u=l=p,c=d):l=l.next=p,o|=b;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;b=a,a=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(!0);if(l===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=l,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);rd|=o,n.lanes=o,n.memoizedState=d}}function f2(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Me(191,i));i.call(r)}}}var vm={},Ga=nl(vm),_y=nl(vm),vy=nl(vm);function Tl(n){if(n===vm)throw Error(Me(174));return n}function BP(n,e){switch(wr(vy,e),wr(_y,n),wr(Ga,vm),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kE(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=kE(e,n)}Sr(Ga),wr(Ga,e)}function Yh(){Sr(Ga),Sr(_y),Sr(vy)}function h$(n){Tl(vy.current);var e=Tl(Ga.current),t=kE(e,n.type);e!==t&&(wr(_y,n),wr(Ga,t))}function TP(n){_y.current===n&&(Sr(Ga),Sr(_y))}var qr=nl(0);function w0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $A=[];function CP(){for(var n=0;n<$A.length;n++)$A[n]._workInProgressVersionPrimary=null;$A.length=0}var i1=Xc.ReactCurrentDispatcher,qA=Xc.ReactCurrentBatchConfig,nd=0,Ur=null,yi=null,xi=null,k0=!1,Wg=!1,Ey=0,u9=0;function Ki(){throw Error(Me(321))}function MP(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!oa(n[t],e[t]))return!1;return!0}function LP(n,e,t,r,i,s){if(nd=s,Ur=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,i1.current=n===null||n.memoizedState===null?f9:p9,n=t(r,i),Wg){s=0;do{if(Wg=!1,Ey=0,25<=s)throw Error(Me(301));s+=1,xi=yi=null,e.updateQueue=null,i1.current=g9,n=t(r,i)}while(Wg)}if(i1.current=S0,e=yi!==null&&yi.next!==null,nd=0,xi=yi=Ur=null,k0=!1,e)throw Error(Me(300));return n}function OP(){var n=Ey!==0;return Ey=0,n}function ba(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xi===null?Ur.memoizedState=xi=n:xi=xi.next=n,xi}function $o(){if(yi===null){var n=Ur.alternate;n=n!==null?n.memoizedState:null}else n=yi.next;var e=xi===null?Ur.memoizedState:xi.next;if(e!==null)xi=e,yi=n;else{if(n===null)throw Error(Me(310));yi=n,n={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},xi===null?Ur.memoizedState=xi=n:xi=xi.next=n}return xi}function Iy(n,e){return typeof e=="function"?e(n):e}function zA(n){var e=$o(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var r=yi,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var l=u.lane;if((nd&l)===l)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:n(r,u.action);else{var d={lane:l,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,Ur.lanes|=l,rd|=l}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,oa(r,e.memoizedState)||(Os=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Ur.lanes|=s,rd|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function DA(n){var e=$o(),t=e.queue;if(t===null)throw Error(Me(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);oa(s,e.memoizedState)||(Os=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function f$(){}function p$(n,e){var t=Ur,r=$o(),i=e(),s=!oa(r.memoizedState,i);if(s&&(r.memoizedState=i,Os=!0),r=r.queue,NP(m$.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||xi!==null&&xi.memoizedState.tag&1){if(t.flags|=2048,Ry(9,y$.bind(null,t,r,i,e),void 0,null),Mi===null)throw Error(Me(349));nd&30||g$(t,e,i)}return i}function g$(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function y$(n,e,t,r){e.value=t,e.getSnapshot=r,b$(e)&&w$(n)}function m$(n,e,t){return t(function(){b$(e)&&w$(n)})}function b$(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!oa(n,t)}catch{return!0}}function w$(n){var e=Yc(n,1);e!==null&&ra(e,n,1,-1)}function p2(n){var e=ba();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iy,lastRenderedState:n},e.queue=n,n=n.dispatch=h9.bind(null,Ur,n),[e.memoizedState,n]}function Ry(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Ur.updateQueue,e===null?(e={lastEffect:null,stores:null},Ur.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function k$(){return $o().memoizedState}function s1(n,e,t,r){var i=ba();Ur.flags|=n,i.memoizedState=Ry(1|e,t,void 0,r===void 0?null:r)}function sk(n,e,t,r){var i=$o();r=r===void 0?null:r;var s=void 0;if(yi!==null){var o=yi.memoizedState;if(s=o.destroy,r!==null&&MP(r,o.deps)){i.memoizedState=Ry(e,t,s,r);return}}Ur.flags|=n,i.memoizedState=Ry(1|e,t,s,r)}function g2(n,e){return s1(8390656,8,n,e)}function NP(n,e){return sk(2048,8,n,e)}function S$(n,e){return sk(4,2,n,e)}function A$(n,e){return sk(4,4,n,e)}function _$(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function v$(n,e,t){return t=t!=null?t.concat([n]):null,sk(4,4,_$.bind(null,e,n),t)}function $P(){}function E$(n,e){var t=$o();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&MP(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function I$(n,e){var t=$o();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&MP(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function R$(n,e,t){return nd&21?(oa(t,e)||(t=C3(),Ur.lanes|=t,rd|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Os=!0),n.memoizedState=t)}function l9(n,e){var t=Hn;Hn=t!==0&&4>t?t:4,n(!0);var r=qA.transition;qA.transition={};try{n(!1),e()}finally{Hn=t,qA.transition=r}}function P$(){return $o().memoizedState}function d9(n,e,t){var r=Mu(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},x$(n))B$(e,t);else if(t=l$(n,e,t,r),t!==null){var i=hs();ra(t,n,r,i),T$(t,e,r)}}function h9(n,e,t){var r=Mu(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(x$(n))B$(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,oa(a,o)){var c=e.interleaved;c===null?(i.next=i,PP(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=l$(n,e,i,r),t!==null&&(i=hs(),ra(t,n,r,i),T$(t,e,r))}}function x$(n){var e=n.alternate;return n===Ur||e!==null&&e===Ur}function B$(n,e){Wg=k0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function T$(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,pP(n,t)}}var S0={readContext:No,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useInsertionEffect:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki,useDeferredValue:Ki,useTransition:Ki,useMutableSource:Ki,useSyncExternalStore:Ki,useId:Ki,unstable_isNewReconciler:!1},f9={readContext:No,useCallback:function(n,e){return ba().memoizedState=[n,e===void 0?null:e],n},useContext:No,useEffect:g2,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,s1(4194308,4,_$.bind(null,e,n),t)},useLayoutEffect:function(n,e){return s1(4194308,4,n,e)},useInsertionEffect:function(n,e){return s1(4,2,n,e)},useMemo:function(n,e){var t=ba();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=ba();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=d9.bind(null,Ur,n),[r.memoizedState,n]},useRef:function(n){var e=ba();return n={current:n},e.memoizedState=n},useState:p2,useDebugValue:$P,useDeferredValue:function(n){return ba().memoizedState=n},useTransition:function(){var n=p2(!1),e=n[0];return n=l9.bind(null,n[1]),ba().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Ur,i=ba();if(Or){if(t===void 0)throw Error(Me(407));t=t()}else{if(t=e(),Mi===null)throw Error(Me(349));nd&30||g$(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,g2(m$.bind(null,r,s,n),[n]),r.flags|=2048,Ry(9,y$.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=ba(),e=Mi.identifierPrefix;if(Or){var t=Dc,r=zc;t=(r&~(1<<32-na(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ey++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=u9++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},p9={readContext:No,useCallback:E$,useContext:No,useEffect:NP,useImperativeHandle:v$,useInsertionEffect:S$,useLayoutEffect:A$,useMemo:I$,useReducer:zA,useRef:k$,useState:function(){return zA(Iy)},useDebugValue:$P,useDeferredValue:function(n){var e=$o();return R$(e,yi.memoizedState,n)},useTransition:function(){var n=zA(Iy)[0],e=$o().memoizedState;return[n,e]},useMutableSource:f$,useSyncExternalStore:p$,useId:P$,unstable_isNewReconciler:!1},g9={readContext:No,useCallback:E$,useContext:No,useEffect:NP,useImperativeHandle:v$,useInsertionEffect:S$,useLayoutEffect:A$,useMemo:I$,useReducer:DA,useRef:k$,useState:function(){return DA(Iy)},useDebugValue:$P,useDeferredValue:function(n){var e=$o();return yi===null?e.memoizedState=n:R$(e,yi.memoizedState,n)},useTransition:function(){var n=DA(Iy)[0],e=$o().memoizedState;return[n,e]},useMutableSource:f$,useSyncExternalStore:p$,useId:P$,unstable_isNewReconciler:!1};function Qo(n,e){if(n&&n.defaultProps){e=Kr({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function UE(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Kr({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ok={isMounted:function(n){return(n=n._reactInternals)?_d(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=hs(),i=Mu(n),s=Uc(r,i);s.payload=e,t!=null&&(s.callback=t),e=Tu(n,s,i),e!==null&&(ra(e,n,i,r),r1(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=hs(),i=Mu(n),s=Uc(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Tu(n,s,i),e!==null&&(ra(e,n,i,r),r1(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=hs(),r=Mu(n),i=Uc(t,r);i.tag=2,e!=null&&(i.callback=e),e=Tu(n,i,r),e!==null&&(ra(e,n,r,t),r1(e,n,r))}};function y2(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wy(t,r)||!wy(i,s):!0}function C$(n,e,t){var r=!1,i=Yu,s=e.contextType;return typeof s=="object"&&s!==null?s=No(s):(i=qs(e)?ed:Qi.current,r=e.contextTypes,s=(r=r!=null)?Vh(n,i):Yu),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ok,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function m2(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ok.enqueueReplaceState(e,e.state,null)}function KE(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},xP(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=No(s):(s=qs(e)?ed:Qi.current,i.context=Vh(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(UE(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ok.enqueueReplaceState(i,i.state,null),b0(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Gh(n,e){try{var t="",r=e;do t+=WF(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function UA(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function WE(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var y9=typeof WeakMap=="function"?WeakMap:Map;function M$(n,e,t){t=Uc(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){_0||(_0=!0,XE=r),WE(n,e)},t}function L$(n,e,t){t=Uc(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){WE(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){WE(n,e),typeof r!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function b2(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new y9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=B9.bind(null,n,e,t),e.then(n,n))}function w2(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function k2(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Uc(-1,1),e.tag=2,Tu(t,e,1))),t.lanes|=1),n)}var m9=Xc.ReactCurrentOwner,Os=!1;function rs(n,e,t,r){e.child=n===null?u$(e,null,t,r):Hh(e,n.child,t,r)}function S2(n,e,t,r,i){t=t.render;var s=e.ref;return $h(e,i),r=LP(n,e,t,r,s,i),t=OP(),n!==null&&!Os?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gc(n,e,i)):(Or&&t&&AP(e),e.flags|=1,rs(n,e,r,i),e.child)}function A2(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!VP(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,O$(n,e,s,r,i)):(n=u1(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:wy,t(o,r)&&n.ref===e.ref)return Gc(n,e,i)}return e.flags|=1,n=Lu(s,r),n.ref=e.ref,n.return=e,e.child=n}function O$(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(wy(s,r)&&n.ref===e.ref)if(Os=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Os=!0);else return e.lanes=n.lanes,Gc(n,e,i)}return FE(n,e,t,r,i)}function N$(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},wr(Sh,eo),eo|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,wr(Sh,eo),eo|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,wr(Sh,eo),eo|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,wr(Sh,eo),eo|=r;return rs(n,e,i,t),e.child}function $$(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function FE(n,e,t,r,i){var s=qs(t)?ed:Qi.current;return s=Vh(e,s),$h(e,i),t=LP(n,e,t,r,s,i),r=OP(),n!==null&&!Os?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gc(n,e,i)):(Or&&r&&AP(e),e.flags|=1,rs(n,e,t,i),e.child)}function _2(n,e,t,r,i){if(qs(t)){var s=!0;f0(e)}else s=!1;if($h(e,i),e.stateNode===null)o1(n,e),C$(e,t,r),KE(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=t.contextType;typeof u=="object"&&u!==null?u=No(u):(u=qs(t)?ed:Qi.current,u=Vh(e,u));var l=t.getDerivedStateFromProps,d=typeof l=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&m2(e,o,r,u),pu=!1;var b=e.memoizedState;o.state=b,b0(e,r,o,i),c=e.memoizedState,a!==r||b!==c||$s.current||pu?(typeof l=="function"&&(UE(e,t,l,r),c=e.memoizedState),(a=pu||y2(e,t,a,r,b,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,d$(n,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qo(e.type,a),o.props=u,d=e.pendingProps,b=o.context,c=t.contextType,typeof c=="object"&&c!==null?c=No(c):(c=qs(t)?ed:Qi.current,c=Vh(e,c));var p=t.getDerivedStateFromProps;(l=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||b!==c)&&m2(e,o,r,c),pu=!1,b=e.memoizedState,o.state=b,b0(e,r,o,i);var g=e.memoizedState;a!==d||b!==g||$s.current||pu?(typeof p=="function"&&(UE(e,t,p,r),g=e.memoizedState),(u=pu||y2(e,t,u,r,b,g,c)||!1)?(l||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&b===n.memoizedState||(e.flags|=1024),r=!1)}return VE(n,e,t,r,s,i)}function VE(n,e,t,r,i,s){$$(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&c2(e,t,!1),Gc(n,e,s);r=e.stateNode,m9.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Hh(e,n.child,null,s),e.child=Hh(e,null,a,s)):rs(n,e,a,s),e.memoizedState=r.state,i&&c2(e,t,!0),e.child}function q$(n){var e=n.stateNode;e.pendingContext?a2(n,e.pendingContext,e.pendingContext!==e.context):e.context&&a2(n,e.context,!1),BP(n,e.containerInfo)}function v2(n,e,t,r,i){return jh(),vP(i),e.flags|=256,rs(n,e,t,r),e.child}var jE={dehydrated:null,treeContext:null,retryLane:0};function HE(n){return{baseLanes:n,cachePool:null,transitions:null}}function z$(n,e,t){var r=e.pendingProps,i=qr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),wr(qr,i&1),n===null)return zE(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=uk(o,r,0,null),n=Yl(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=HE(t),e.memoizedState=jE,n):qP(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return b9(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Lu(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Lu(a,s):(s=Yl(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?HE(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=jE,r}return s=n.child,n=s.sibling,r=Lu(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function qP(n,e){return e=uk({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function mb(n,e,t,r){return r!==null&&vP(r),Hh(e,n.child,null,t),n=qP(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function b9(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=UA(Error(Me(422))),mb(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=uk({mode:"visible",children:r.children},i,0,null),s=Yl(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Hh(e,n.child,null,o),e.child.memoizedState=HE(o),e.memoizedState=jE,s);if(!(e.mode&1))return mb(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Me(419)),r=UA(s,r,void 0),mb(n,e,o,r)}if(a=(o&n.childLanes)!==0,Os||a){if(r=Mi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Yc(n,i),ra(r,n,i,-1))}return FP(),r=UA(Error(Me(421))),mb(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=T9.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,ao=Bu(i.nextSibling),lo=e,Or=!0,ea=null,n!==null&&(Po[xo++]=zc,Po[xo++]=Dc,Po[xo++]=td,zc=n.id,Dc=n.overflow,td=e),e=qP(e,r.children),e.flags|=4096,e)}function E2(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),DE(n.return,e,t)}function KA(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function D$(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rs(n,e,r.children,t),r=qr.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&E2(n,t,e);else if(n.tag===19)E2(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(wr(qr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&w0(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),KA(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&w0(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}KA(e,!0,t,null,s);break;case"together":KA(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function o1(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Gc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),rd|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Me(153));if(e.child!==null){for(n=e.child,t=Lu(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Lu(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function w9(n,e,t){switch(e.tag){case 3:q$(e),jh();break;case 5:h$(e);break;case 1:qs(e.type)&&f0(e);break;case 4:BP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;wr(y0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(wr(qr,qr.current&1),e.flags|=128,null):t&e.child.childLanes?z$(n,e,t):(wr(qr,qr.current&1),n=Gc(n,e,t),n!==null?n.sibling:null);wr(qr,qr.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return D$(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),wr(qr,qr.current),r)break;return null;case 22:case 23:return e.lanes=0,N$(n,e,t)}return Gc(n,e,t)}var U$,YE,K$,W$;U$=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};YE=function(){};K$=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,Tl(Ga.current);var s=null;switch(t){case"input":i=yE(n,i),r=yE(n,r),s=[];break;case"select":i=Kr({},i,{value:void 0}),r=Kr({},r,{value:void 0}),s=[];break;case"textarea":i=wE(n,i),r=wE(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=d0)}SE(t,r);var o;t=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(hy.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(t||(t={}),t[o]=c[o])}else t||(s||(s=[]),s.push(u,t)),t=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(hy.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&kr("scroll",n),s||a===c||(s=[])):(s=s||[]).push(u,c))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};W$=function(n,e,t,r){t!==r&&(e.flags|=4)};function sg(n,e){if(!Or)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Wi(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function k9(n,e,t){var r=e.pendingProps;switch(_P(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(e),null;case 1:return qs(e.type)&&h0(),Wi(e),null;case 3:return r=e.stateNode,Yh(),Sr($s),Sr(Qi),CP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(gb(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ea!==null&&(nI(ea),ea=null))),YE(n,e),Wi(e),null;case 5:TP(e);var i=Tl(vy.current);if(t=e.type,n!==null&&e.stateNode!=null)K$(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Me(166));return Wi(e),null}if(n=Tl(Ga.current),gb(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Ia]=e,r[Ay]=s,n=(e.mode&1)!==0,t){case"dialog":kr("cancel",r),kr("close",r);break;case"iframe":case"object":case"embed":kr("load",r);break;case"video":case"audio":for(i=0;i<Rg.length;i++)kr(Rg[i],r);break;case"source":kr("error",r);break;case"img":case"image":case"link":kr("error",r),kr("load",r);break;case"details":kr("toggle",r);break;case"input":LT(r,s),kr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kr("invalid",r);break;case"textarea":NT(r,s),kr("invalid",r)}SE(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pb(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pb(r.textContent,a,n),i=["children",""+a]):hy.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&kr("scroll",r)}switch(t){case"input":ob(r),OT(r,s,!0);break;case"textarea":ob(r),$T(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=d0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=m3(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Ia]=e,n[Ay]=r,U$(n,e,!1,!1),e.stateNode=n;e:{switch(o=AE(t,r),t){case"dialog":kr("cancel",n),kr("close",n),i=r;break;case"iframe":case"object":case"embed":kr("load",n),i=r;break;case"video":case"audio":for(i=0;i<Rg.length;i++)kr(Rg[i],n);i=r;break;case"source":kr("error",n),i=r;break;case"img":case"image":case"link":kr("error",n),kr("load",n),i=r;break;case"details":kr("toggle",n),i=r;break;case"input":LT(n,r),i=yE(n,r),kr("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Kr({},r,{value:void 0}),kr("invalid",n);break;case"textarea":NT(n,r),i=wE(n,r),kr("invalid",n);break;default:i=r}SE(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?k3(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&b3(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&fy(n,c):typeof c=="number"&&fy(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hy.hasOwnProperty(s)?c!=null&&s==="onScroll"&&kr("scroll",n):c!=null&&cP(n,s,c,o))}switch(t){case"input":ob(n),OT(n,r,!1);break;case"textarea":ob(n),$T(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Hu(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?Mh(n,!!r.multiple,s,!1):r.defaultValue!=null&&Mh(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=d0)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wi(e),null;case 6:if(n&&e.stateNode!=null)W$(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Me(166));if(t=Tl(vy.current),Tl(Ga.current),gb(e)){if(r=e.stateNode,t=e.memoizedProps,r[Ia]=e,(s=r.nodeValue!==t)&&(n=lo,n!==null))switch(n.tag){case 3:pb(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&pb(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Ia]=e,e.stateNode=r}return Wi(e),null;case 13:if(Sr(qr),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Or&&ao!==null&&e.mode&1&&!(e.flags&128))a$(),jh(),e.flags|=98560,s=!1;else if(s=gb(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Me(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[Ia]=e}else jh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wi(e),s=!1}else ea!==null&&(nI(ea),ea=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||qr.current&1?bi===0&&(bi=3):FP())),e.updateQueue!==null&&(e.flags|=4),Wi(e),null);case 4:return Yh(),YE(n,e),n===null&&ky(e.stateNode.containerInfo),Wi(e),null;case 10:return RP(e.type._context),Wi(e),null;case 17:return qs(e.type)&&h0(),Wi(e),null;case 19:if(Sr(qr),s=e.memoizedState,s===null)return Wi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)sg(s,!1);else{if(bi!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=w0(n),o!==null){for(e.flags|=128,sg(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return wr(qr,qr.current&1|2),e.child}n=n.sibling}s.tail!==null&&ni()>Jh&&(e.flags|=128,r=!0,sg(s,!1),e.lanes=4194304)}else{if(!r)if(n=w0(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),sg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Or)return Wi(e),null}else 2*ni()-s.renderingStartTime>Jh&&t!==1073741824&&(e.flags|=128,r=!0,sg(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ni(),e.sibling=null,t=qr.current,wr(qr,r?t&1|2:t&1),e):(Wi(e),null);case 22:case 23:return WP(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?eo&1073741824&&(Wi(e),e.subtreeFlags&6&&(e.flags|=8192)):Wi(e),null;case 24:return null;case 25:return null}throw Error(Me(156,e.tag))}function S9(n,e){switch(_P(e),e.tag){case 1:return qs(e.type)&&h0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yh(),Sr($s),Sr(Qi),CP(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return TP(e),null;case 13:if(Sr(qr),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Me(340));jh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Sr(qr),null;case 4:return Yh(),null;case 10:return RP(e.type._context),null;case 22:case 23:return WP(),null;case 24:return null;default:return null}}var bb=!1,Ji=!1,A9=typeof WeakSet=="function"?WeakSet:Set,at=null;function kh(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Zr(n,e,r)}else t.current=null}function GE(n,e,t){try{t()}catch(r){Zr(n,e,r)}}var I2=!1;function _9(n,e){if(CE=c0,n=Y3(),SP(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,c=-1,u=0,l=0,d=n,b=null;t:for(;;){for(var p;d!==t||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)b=d,d=p;for(;;){if(d===n)break t;if(b===t&&++u===i&&(a=o),b===s&&++l===r&&(c=o),(p=d.nextSibling)!==null)break;d=b,b=d.parentNode}d=p}t=a===-1||c===-1?null:{start:a,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(ME={focusedElem:n,selectionRange:t},c0=!1,at=e;at!==null;)if(e=at,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,at=n;else for(;at!==null;){e=at;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Qo(e.type,y),S);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(x){Zr(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,at=n;break}at=e.return}return g=I2,I2=!1,g}function Fg(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&GE(e,t,s)}i=i.next}while(i!==r)}}function ak(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function JE(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function F$(n){var e=n.alternate;e!==null&&(n.alternate=null,F$(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Ia],delete e[Ay],delete e[NE],delete e[s9],delete e[o9])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function V$(n){return n.tag===5||n.tag===3||n.tag===4}function R2(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||V$(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function QE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=d0));else if(r!==4&&(n=n.child,n!==null))for(QE(n,e,t),n=n.sibling;n!==null;)QE(n,e,t),n=n.sibling}function ZE(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(ZE(n,e,t),n=n.sibling;n!==null;)ZE(n,e,t),n=n.sibling}var Oi=null,Zo=!1;function iu(n,e,t){for(t=t.child;t!==null;)j$(n,e,t),t=t.sibling}function j$(n,e,t){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(Xw,t)}catch{}switch(t.tag){case 5:Ji||kh(t,e);case 6:var r=Oi,i=Zo;Oi=null,iu(n,e,t),Oi=r,Zo=i,Oi!==null&&(Zo?(n=Oi,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Oi.removeChild(t.stateNode));break;case 18:Oi!==null&&(Zo?(n=Oi,t=t.stateNode,n.nodeType===8?OA(n.parentNode,t):n.nodeType===1&&OA(n,t),my(n)):OA(Oi,t.stateNode));break;case 4:r=Oi,i=Zo,Oi=t.stateNode.containerInfo,Zo=!0,iu(n,e,t),Oi=r,Zo=i;break;case 0:case 11:case 14:case 15:if(!Ji&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&GE(t,e,o),i=i.next}while(i!==r)}iu(n,e,t);break;case 1:if(!Ji&&(kh(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Zr(t,e,a)}iu(n,e,t);break;case 21:iu(n,e,t);break;case 22:t.mode&1?(Ji=(r=Ji)||t.memoizedState!==null,iu(n,e,t),Ji=r):iu(n,e,t);break;default:iu(n,e,t)}}function P2(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new A9),e.forEach(function(r){var i=C9.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Ho(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Oi=a.stateNode,Zo=!1;break e;case 3:Oi=a.stateNode.containerInfo,Zo=!0;break e;case 4:Oi=a.stateNode.containerInfo,Zo=!0;break e}a=a.return}if(Oi===null)throw Error(Me(160));j$(s,o,i),Oi=null,Zo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Zr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)H$(e,n),e=e.sibling}function H$(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Ho(e,n),ga(n),r&4){try{Fg(3,n,n.return),ak(3,n)}catch(y){Zr(n,n.return,y)}try{Fg(5,n,n.return)}catch(y){Zr(n,n.return,y)}}break;case 1:Ho(e,n),ga(n),r&512&&t!==null&&kh(t,t.return);break;case 5:if(Ho(e,n),ga(n),r&512&&t!==null&&kh(t,t.return),n.flags&32){var i=n.stateNode;try{fy(i,"")}catch(y){Zr(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&g3(i,s),AE(a,o);var u=AE(a,s);for(o=0;o<c.length;o+=2){var l=c[o],d=c[o+1];l==="style"?k3(i,d):l==="dangerouslySetInnerHTML"?b3(i,d):l==="children"?fy(i,d):cP(i,l,d,u)}switch(a){case"input":mE(i,s);break;case"textarea":y3(i,s);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Mh(i,!!s.multiple,p,!1):b!==!!s.multiple&&(s.defaultValue!=null?Mh(i,!!s.multiple,s.defaultValue,!0):Mh(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ay]=s}catch(y){Zr(n,n.return,y)}}break;case 6:if(Ho(e,n),ga(n),r&4){if(n.stateNode===null)throw Error(Me(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Zr(n,n.return,y)}}break;case 3:if(Ho(e,n),ga(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{my(e.containerInfo)}catch(y){Zr(n,n.return,y)}break;case 4:Ho(e,n),ga(n);break;case 13:Ho(e,n),ga(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(UP=ni())),r&4&&P2(n);break;case 22:if(l=t!==null&&t.memoizedState!==null,n.mode&1?(Ji=(u=Ji)||l,Ho(e,n),Ji=u):Ho(e,n),ga(n),r&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!l&&n.mode&1)for(at=n,l=n.child;l!==null;){for(d=at=l;at!==null;){switch(b=at,p=b.child,b.tag){case 0:case 11:case 14:case 15:Fg(4,b,b.return);break;case 1:kh(b,b.return);var g=b.stateNode;if(typeof g.componentWillUnmount=="function"){r=b,t=b.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Zr(r,t,y)}}break;case 5:kh(b,b.return);break;case 22:if(b.memoizedState!==null){B2(d);continue}}p!==null?(p.return=b,at=p):B2(d)}l=l.sibling}e:for(l=null,d=n;;){if(d.tag===5){if(l===null){l=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=w3("display",o))}catch(y){Zr(n,n.return,y)}}}else if(d.tag===6){if(l===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){Zr(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;l===d&&(l=null),d=d.return}l===d&&(l=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ho(e,n),ga(n),r&4&&P2(n);break;case 21:break;default:Ho(e,n),ga(n)}}function ga(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(V$(t)){var r=t;break e}t=t.return}throw Error(Me(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fy(i,""),r.flags&=-33);var s=R2(n);ZE(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=R2(n);QE(n,a,o);break;default:throw Error(Me(161))}}catch(c){Zr(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function v9(n,e,t){at=n,Y$(n)}function Y$(n,e,t){for(var r=(n.mode&1)!==0;at!==null;){var i=at,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bb;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Ji;a=bb;var u=Ji;if(bb=o,(Ji=c)&&!u)for(at=i;at!==null;)o=at,c=o.child,o.tag===22&&o.memoizedState!==null?T2(i):c!==null?(c.return=o,at=c):T2(i);for(;s!==null;)at=s,Y$(s),s=s.sibling;at=i,bb=a,Ji=u}x2(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,at=s):x2(n)}}function x2(n){for(;at!==null;){var e=at;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ji||ak(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ji)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:Qo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&f2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}f2(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var l=u.memoizedState;if(l!==null){var d=l.dehydrated;d!==null&&my(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Ji||e.flags&512&&JE(e)}catch(b){Zr(e,e.return,b)}}if(e===n){at=null;break}if(t=e.sibling,t!==null){t.return=e.return,at=t;break}at=e.return}}function B2(n){for(;at!==null;){var e=at;if(e===n){at=null;break}var t=e.sibling;if(t!==null){t.return=e.return,at=t;break}at=e.return}}function T2(n){for(;at!==null;){var e=at;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{ak(4,e)}catch(c){Zr(e,t,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Zr(e,i,c)}}var s=e.return;try{JE(e)}catch(c){Zr(e,s,c)}break;case 5:var o=e.return;try{JE(e)}catch(c){Zr(e,o,c)}}}catch(c){Zr(e,e.return,c)}if(e===n){at=null;break}var a=e.sibling;if(a!==null){a.return=e.return,at=a;break}at=e.return}}var E9=Math.ceil,A0=Xc.ReactCurrentDispatcher,zP=Xc.ReactCurrentOwner,Mo=Xc.ReactCurrentBatchConfig,bn=0,Mi=null,ci=null,qi=0,eo=0,Sh=nl(0),bi=0,Py=null,rd=0,ck=0,DP=0,Vg=null,Ts=null,UP=0,Jh=1/0,Ic=null,_0=!1,XE=null,Cu=null,wb=!1,Su=null,v0=0,jg=0,eI=null,a1=-1,c1=0;function hs(){return bn&6?ni():a1!==-1?a1:a1=ni()}function Mu(n){return n.mode&1?bn&2&&qi!==0?qi&-qi:c9.transition!==null?(c1===0&&(c1=C3()),c1):(n=Hn,n!==0||(n=window.event,n=n===void 0?16:z3(n.type)),n):1}function ra(n,e,t,r){if(50<jg)throw jg=0,eI=null,Error(Me(185));Sm(n,t,r),(!(bn&2)||n!==Mi)&&(n===Mi&&(!(bn&2)&&(ck|=t),bi===4&&mu(n,qi)),zs(n,r),t===1&&bn===0&&!(e.mode&1)&&(Jh=ni()+500,ik&&rl()))}function zs(n,e){var t=n.callbackNode;cV(n,e);var r=a0(n,n===Mi?qi:0);if(r===0)t!==null&&DT(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&DT(t),e===1)n.tag===0?a9(C2.bind(null,n)):i$(C2.bind(null,n)),r9(function(){!(bn&6)&&rl()}),t=null;else{switch(M3(r)){case 1:t=fP;break;case 4:t=B3;break;case 16:t=o0;break;case 536870912:t=T3;break;default:t=o0}t=n5(t,G$.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function G$(n,e){if(a1=-1,c1=0,bn&6)throw Error(Me(327));var t=n.callbackNode;if(qh()&&n.callbackNode!==t)return null;var r=a0(n,n===Mi?qi:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=E0(n,r);else{e=r;var i=bn;bn|=2;var s=Q$();(Mi!==n||qi!==e)&&(Ic=null,Jh=ni()+500,Hl(n,e));do try{P9();break}catch(a){J$(n,a)}while(!0);IP(),A0.current=s,bn=i,ci!==null?e=0:(Mi=null,qi=0,e=bi)}if(e!==0){if(e===2&&(i=RE(n),i!==0&&(r=i,e=tI(n,i))),e===1)throw t=Py,Hl(n,0),mu(n,r),zs(n,ni()),t;if(e===6)mu(n,r);else{if(i=n.current.alternate,!(r&30)&&!I9(i)&&(e=E0(n,r),e===2&&(s=RE(n),s!==0&&(r=s,e=tI(n,s))),e===1))throw t=Py,Hl(n,0),mu(n,r),zs(n,ni()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Me(345));case 2:dl(n,Ts,Ic);break;case 3:if(mu(n,r),(r&130023424)===r&&(e=UP+500-ni(),10<e)){if(a0(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){hs(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=OE(dl.bind(null,n,Ts,Ic),e);break}dl(n,Ts,Ic);break;case 4:if(mu(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-na(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ni()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*E9(r/1960))-r,10<r){n.timeoutHandle=OE(dl.bind(null,n,Ts,Ic),r);break}dl(n,Ts,Ic);break;case 5:dl(n,Ts,Ic);break;default:throw Error(Me(329))}}}return zs(n,ni()),n.callbackNode===t?G$.bind(null,n):null}function tI(n,e){var t=Vg;return n.current.memoizedState.isDehydrated&&(Hl(n,e).flags|=256),n=E0(n,e),n!==2&&(e=Ts,Ts=t,e!==null&&nI(e)),n}function nI(n){Ts===null?Ts=n:Ts.push.apply(Ts,n)}function I9(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!oa(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function mu(n,e){for(e&=~DP,e&=~ck,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-na(e),r=1<<t;n[t]=-1,e&=~r}}function C2(n){if(bn&6)throw Error(Me(327));qh();var e=a0(n,0);if(!(e&1))return zs(n,ni()),null;var t=E0(n,e);if(n.tag!==0&&t===2){var r=RE(n);r!==0&&(e=r,t=tI(n,r))}if(t===1)throw t=Py,Hl(n,0),mu(n,e),zs(n,ni()),t;if(t===6)throw Error(Me(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,dl(n,Ts,Ic),zs(n,ni()),null}function KP(n,e){var t=bn;bn|=1;try{return n(e)}finally{bn=t,bn===0&&(Jh=ni()+500,ik&&rl())}}function id(n){Su!==null&&Su.tag===0&&!(bn&6)&&qh();var e=bn;bn|=1;var t=Mo.transition,r=Hn;try{if(Mo.transition=null,Hn=1,n)return n()}finally{Hn=r,Mo.transition=t,bn=e,!(bn&6)&&rl()}}function WP(){eo=Sh.current,Sr(Sh)}function Hl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,n9(t)),ci!==null)for(t=ci.return;t!==null;){var r=t;switch(_P(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&h0();break;case 3:Yh(),Sr($s),Sr(Qi),CP();break;case 5:TP(r);break;case 4:Yh();break;case 13:Sr(qr);break;case 19:Sr(qr);break;case 10:RP(r.type._context);break;case 22:case 23:WP()}t=t.return}if(Mi=n,ci=n=Lu(n.current,null),qi=eo=e,bi=0,Py=null,DP=ck=rd=0,Ts=Vg=null,Bl!==null){for(e=0;e<Bl.length;e++)if(t=Bl[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}Bl=null}return n}function J$(n,e){do{var t=ci;try{if(IP(),i1.current=S0,k0){for(var r=Ur.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}k0=!1}if(nd=0,xi=yi=Ur=null,Wg=!1,Ey=0,zP.current=null,t===null||t.return===null){bi=1,Py=e,ci=null;break}e:{var s=n,o=t.return,a=t,c=e;if(e=qi,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,l=a,d=l.tag;if(!(l.mode&1)&&(d===0||d===11||d===15)){var b=l.alternate;b?(l.updateQueue=b.updateQueue,l.memoizedState=b.memoizedState,l.lanes=b.lanes):(l.updateQueue=null,l.memoizedState=null)}var p=w2(o);if(p!==null){p.flags&=-257,k2(p,o,a,s,e),p.mode&1&&b2(s,u,e),e=p,c=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(c),e.updateQueue=y}else g.add(c);break e}else{if(!(e&1)){b2(s,u,e),FP();break e}c=Error(Me(426))}}else if(Or&&a.mode&1){var S=w2(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),k2(S,o,a,s,e),vP(Gh(c,a));break e}}s=c=Gh(c,a),bi!==4&&(bi=2),Vg===null?Vg=[s]:Vg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=M$(s,c,e);h2(s,w);break e;case 1:a=c;var _=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Cu===null||!Cu.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=L$(s,a,e);h2(s,x);break e}}s=s.return}while(s!==null)}X$(t)}catch(K){e=K,ci===t&&t!==null&&(ci=t=t.return);continue}break}while(!0)}function Q$(){var n=A0.current;return A0.current=S0,n===null?S0:n}function FP(){(bi===0||bi===3||bi===2)&&(bi=4),Mi===null||!(rd&268435455)&&!(ck&268435455)||mu(Mi,qi)}function E0(n,e){var t=bn;bn|=2;var r=Q$();(Mi!==n||qi!==e)&&(Ic=null,Hl(n,e));do try{R9();break}catch(i){J$(n,i)}while(!0);if(IP(),bn=t,A0.current=r,ci!==null)throw Error(Me(261));return Mi=null,qi=0,bi}function R9(){for(;ci!==null;)Z$(ci)}function P9(){for(;ci!==null&&!XF();)Z$(ci)}function Z$(n){var e=t5(n.alternate,n,eo);n.memoizedProps=n.pendingProps,e===null?X$(n):ci=e,zP.current=null}function X$(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=S9(t,e),t!==null){t.flags&=32767,ci=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{bi=6,ci=null;return}}else if(t=k9(t,e,eo),t!==null){ci=t;return}if(e=e.sibling,e!==null){ci=e;return}ci=e=n}while(e!==null);bi===0&&(bi=5)}function dl(n,e,t){var r=Hn,i=Mo.transition;try{Mo.transition=null,Hn=1,x9(n,e,t,r)}finally{Mo.transition=i,Hn=r}return null}function x9(n,e,t,r){do qh();while(Su!==null);if(bn&6)throw Error(Me(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Me(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(uV(n,s),n===Mi&&(ci=Mi=null,qi=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||wb||(wb=!0,n5(o0,function(){return qh(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Mo.transition,Mo.transition=null;var o=Hn;Hn=1;var a=bn;bn|=4,zP.current=null,_9(n,t),H$(t,n),GV(ME),c0=!!CE,ME=CE=null,n.current=t,v9(t),eV(),bn=a,Hn=o,Mo.transition=s}else n.current=t;if(wb&&(wb=!1,Su=n,v0=i),s=n.pendingLanes,s===0&&(Cu=null),rV(t.stateNode),zs(n,ni()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(_0)throw _0=!1,n=XE,XE=null,n;return v0&1&&n.tag!==0&&qh(),s=n.pendingLanes,s&1?n===eI?jg++:(jg=0,eI=n):jg=0,rl(),null}function qh(){if(Su!==null){var n=M3(v0),e=Mo.transition,t=Hn;try{if(Mo.transition=null,Hn=16>n?16:n,Su===null)var r=!1;else{if(n=Su,Su=null,v0=0,bn&6)throw Error(Me(331));var i=bn;for(bn|=4,at=n.current;at!==null;){var s=at,o=s.child;if(at.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(at=u;at!==null;){var l=at;switch(l.tag){case 0:case 11:case 15:Fg(8,l,s)}var d=l.child;if(d!==null)d.return=l,at=d;else for(;at!==null;){l=at;var b=l.sibling,p=l.return;if(F$(l),l===u){at=null;break}if(b!==null){b.return=p,at=b;break}at=p}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}at=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,at=o;else e:for(;at!==null;){if(s=at,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fg(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,at=w;break e}at=s.return}}var _=n.current;for(at=_;at!==null;){o=at;var R=o.child;if(o.subtreeFlags&2064&&R!==null)R.return=o,at=R;else e:for(o=_;at!==null;){if(a=at,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ak(9,a)}}catch(K){Zr(a,a.return,K)}if(a===o){at=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,at=x;break e}at=a.return}}if(bn=i,rl(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(Xw,n)}catch{}r=!0}return r}finally{Hn=t,Mo.transition=e}}return!1}function M2(n,e,t){e=Gh(t,e),e=M$(n,e,1),n=Tu(n,e,1),e=hs(),n!==null&&(Sm(n,1,e),zs(n,e))}function Zr(n,e,t){if(n.tag===3)M2(n,n,t);else for(;e!==null;){if(e.tag===3){M2(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cu===null||!Cu.has(r))){n=Gh(t,n),n=L$(e,n,1),e=Tu(e,n,1),n=hs(),e!==null&&(Sm(e,1,n),zs(e,n));break}}e=e.return}}function B9(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=hs(),n.pingedLanes|=n.suspendedLanes&t,Mi===n&&(qi&t)===t&&(bi===4||bi===3&&(qi&130023424)===qi&&500>ni()-UP?Hl(n,0):DP|=t),zs(n,e)}function e5(n,e){e===0&&(n.mode&1?(e=ub,ub<<=1,!(ub&130023424)&&(ub=4194304)):e=1);var t=hs();n=Yc(n,e),n!==null&&(Sm(n,e,t),zs(n,t))}function T9(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),e5(n,t)}function C9(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Me(314))}r!==null&&r.delete(e),e5(n,t)}var t5;t5=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||$s.current)Os=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Os=!1,w9(n,e,t);Os=!!(n.flags&131072)}else Os=!1,Or&&e.flags&1048576&&s$(e,g0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;o1(n,e),n=e.pendingProps;var i=Vh(e,Qi.current);$h(e,t),i=LP(null,e,r,n,i,t);var s=OP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qs(r)?(s=!0,f0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xP(e),i.updater=ok,e.stateNode=i,i._reactInternals=e,KE(e,r,n,t),e=VE(null,e,r,!0,s,t)):(e.tag=0,Or&&s&&AP(e),rs(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(o1(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=L9(r),n=Qo(r,n),i){case 0:e=FE(null,e,r,n,t);break e;case 1:e=_2(null,e,r,n,t);break e;case 11:e=S2(null,e,r,n,t);break e;case 14:e=A2(null,e,r,Qo(r.type,n),t);break e}throw Error(Me(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),FE(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),_2(n,e,r,i,t);case 3:e:{if(q$(e),n===null)throw Error(Me(387));r=e.pendingProps,s=e.memoizedState,i=s.element,d$(n,e),b0(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Gh(Error(Me(423)),e),e=v2(n,e,r,t,i);break e}else if(r!==i){i=Gh(Error(Me(424)),e),e=v2(n,e,r,t,i);break e}else for(ao=Bu(e.stateNode.containerInfo.firstChild),lo=e,Or=!0,ea=null,t=u$(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(jh(),r===i){e=Gc(n,e,t);break e}rs(n,e,r,t)}e=e.child}return e;case 5:return h$(e),n===null&&zE(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,LE(r,i)?o=null:s!==null&&LE(r,s)&&(e.flags|=32),$$(n,e),rs(n,e,o,t),e.child;case 6:return n===null&&zE(e),null;case 13:return z$(n,e,t);case 4:return BP(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Hh(e,null,r,t):rs(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),S2(n,e,r,i,t);case 7:return rs(n,e,e.pendingProps,t),e.child;case 8:return rs(n,e,e.pendingProps.children,t),e.child;case 12:return rs(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,wr(y0,r._currentValue),r._currentValue=o,s!==null)if(oa(s.value,o)){if(s.children===i.children&&!$s.current){e=Gc(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Uc(-1,t&-t),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var l=u.pending;l===null?c.next=c:(c.next=l.next,l.next=c),u.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),DE(s.return,t,e),a.lanes|=t;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),DE(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rs(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,$h(e,t),i=No(i),r=r(i),e.flags|=1,rs(n,e,r,t),e.child;case 14:return r=e.type,i=Qo(r,e.pendingProps),i=Qo(r.type,i),A2(n,e,r,i,t);case 15:return O$(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qo(r,i),o1(n,e),e.tag=1,qs(r)?(n=!0,f0(e)):n=!1,$h(e,t),C$(e,r,i),KE(e,r,i,t),VE(null,e,r,!0,n,t);case 19:return D$(n,e,t);case 22:return N$(n,e,t)}throw Error(Me(156,e.tag))};function n5(n,e){return x3(n,e)}function M9(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Co(n,e,t,r){return new M9(n,e,t,r)}function VP(n){return n=n.prototype,!(!n||!n.isReactComponent)}function L9(n){if(typeof n=="function")return VP(n)?1:0;if(n!=null){if(n=n.$$typeof,n===lP)return 11;if(n===dP)return 14}return 2}function Lu(n,e){var t=n.alternate;return t===null?(t=Co(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function u1(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")VP(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case dh:return Yl(t.children,i,s,e);case uP:o=8,i|=8;break;case hE:return n=Co(12,t,e,i|2),n.elementType=hE,n.lanes=s,n;case fE:return n=Co(13,t,e,i),n.elementType=fE,n.lanes=s,n;case pE:return n=Co(19,t,e,i),n.elementType=pE,n.lanes=s,n;case h3:return uk(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case l3:o=10;break e;case d3:o=9;break e;case lP:o=11;break e;case dP:o=14;break e;case fu:o=16,r=null;break e}throw Error(Me(130,n==null?n:typeof n,""))}return e=Co(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function Yl(n,e,t,r){return n=Co(7,n,r,e),n.lanes=t,n}function uk(n,e,t,r){return n=Co(22,n,r,e),n.elementType=h3,n.lanes=t,n.stateNode={isHidden:!1},n}function WA(n,e,t){return n=Co(6,n,null,e),n.lanes=t,n}function FA(n,e,t){return e=Co(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function O9(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vA(0),this.expirationTimes=vA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jP(n,e,t,r,i,s,o,a,c){return n=new O9(n,e,t,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Co(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},xP(s),n}function N9(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lh,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function r5(n){if(!n)return Yu;n=n._reactInternals;e:{if(_d(n)!==n||n.tag!==1)throw Error(Me(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Me(171))}if(n.tag===1){var t=n.type;if(qs(t))return r$(n,t,e)}return e}function i5(n,e,t,r,i,s,o,a,c){return n=jP(t,r,!0,n,i,s,o,a,c),n.context=r5(null),t=n.current,r=hs(),i=Mu(t),s=Uc(r,i),s.callback=e??null,Tu(t,s,i),n.current.lanes=i,Sm(n,i,r),zs(n,r),n}function lk(n,e,t,r){var i=e.current,s=hs(),o=Mu(i);return t=r5(t),e.context===null?e.context=t:e.pendingContext=t,e=Uc(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Tu(i,e,o),n!==null&&(ra(n,i,o,s),r1(n,i,o)),o}function I0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function L2(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function HP(n,e){L2(n,e),(n=n.alternate)&&L2(n,e)}function $9(){return null}var s5=typeof reportError=="function"?reportError:function(n){console.error(n)};function YP(n){this._internalRoot=n}dk.prototype.render=YP.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Me(409));lk(n,e,null,null)};dk.prototype.unmount=YP.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;id(function(){lk(null,n,null,null)}),e[Hc]=null}};function dk(n){this._internalRoot=n}dk.prototype.unstable_scheduleHydration=function(n){if(n){var e=N3();n={blockedOn:null,target:n,priority:e};for(var t=0;t<yu.length&&e!==0&&e<yu[t].priority;t++);yu.splice(t,0,n),t===0&&q3(n)}};function GP(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function hk(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function O2(){}function q9(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=I0(o);s.call(u)}}var o=i5(e,r,n,0,null,!1,!1,"",O2);return n._reactRootContainer=o,n[Hc]=o.current,ky(n.nodeType===8?n.parentNode:n),id(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=I0(c);a.call(u)}}var c=jP(n,0,!1,null,null,!1,!1,"",O2);return n._reactRootContainer=c,n[Hc]=c.current,ky(n.nodeType===8?n.parentNode:n),id(function(){lk(e,c,t,r)}),c}function fk(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=I0(o);a.call(c)}}lk(e,o,n,i)}else o=q9(t,e,n,i,r);return I0(o)}L3=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ig(e.pendingLanes);t!==0&&(pP(e,t|1),zs(e,ni()),!(bn&6)&&(Jh=ni()+500,rl()))}break;case 13:id(function(){var r=Yc(n,1);if(r!==null){var i=hs();ra(r,n,1,i)}}),HP(n,1)}};gP=function(n){if(n.tag===13){var e=Yc(n,134217728);if(e!==null){var t=hs();ra(e,n,134217728,t)}HP(n,134217728)}};O3=function(n){if(n.tag===13){var e=Mu(n),t=Yc(n,e);if(t!==null){var r=hs();ra(t,n,e,r)}HP(n,e)}};N3=function(){return Hn};$3=function(n,e){var t=Hn;try{return Hn=n,e()}finally{Hn=t}};vE=function(n,e,t){switch(e){case"input":if(mE(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=rk(r);if(!i)throw Error(Me(90));p3(r),mE(r,i)}}}break;case"textarea":y3(n,t);break;case"select":e=t.value,e!=null&&Mh(n,!!t.multiple,e,!1)}};_3=KP;v3=id;var z9={usingClientEntryPoint:!1,Events:[_m,gh,rk,S3,A3,KP]},og={findFiberByHostInstance:xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D9={bundleType:og.bundleType,version:og.version,rendererPackageName:og.rendererPackageName,rendererConfig:og.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=R3(n),n===null?null:n.stateNode},findFiberByHostInstance:og.findFiberByHostInstance||$9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kb.isDisabled&&kb.supportsFiber)try{Xw=kb.inject(D9),Ya=kb}catch{}}go.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z9;go.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!GP(e))throw Error(Me(200));return N9(n,e,null,t)};go.createRoot=function(n,e){if(!GP(n))throw Error(Me(299));var t=!1,r="",i=s5;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=jP(n,1,!1,null,null,t,!1,r,i),n[Hc]=e.current,ky(n.nodeType===8?n.parentNode:n),new YP(e)};go.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Me(188)):(n=Object.keys(n).join(","),Error(Me(268,n)));return n=R3(e),n=n===null?null:n.stateNode,n};go.flushSync=function(n){return id(n)};go.hydrate=function(n,e,t){if(!hk(e))throw Error(Me(200));return fk(null,n,e,!0,t)};go.hydrateRoot=function(n,e,t){if(!GP(n))throw Error(Me(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=s5;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=i5(e,null,n,1,t??null,i,!1,s,o),n[Hc]=e.current,ky(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new dk(e)};go.render=function(n,e,t){if(!hk(e))throw Error(Me(200));return fk(null,n,e,!1,t)};go.unmountComponentAtNode=function(n){if(!hk(n))throw Error(Me(40));return n._reactRootContainer?(id(function(){fk(null,null,n,!1,function(){n._reactRootContainer=null,n[Hc]=null})}),!0):!1};go.unstable_batchedUpdates=KP;go.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!hk(t))throw Error(Me(200));if(n==null||n._reactInternals===void 0)throw Error(Me(38));return fk(n,e,t,!1,r)};go.version="18.3.1-next-f1338f8080-20240426";function o5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o5)}catch(n){console.error(n)}}o5(),o3.exports=go;var Em=o3.exports;const U9=Uo(Em),K9=Sd({__proto__:null,default:U9},[Em]);var N2=Em;lE.createRoot=N2.createRoot,lE.hydrateRoot=N2.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $r(){return $r=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$r.apply(this,arguments)}var oi;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(oi||(oi={}));const $2="popstate";function W9(n){n===void 0&&(n={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xy("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Im(i)}return V9(e,t,null,n)}function yn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Qh(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F9(){return Math.random().toString(36).substr(2,8)}function q2(n,e){return{usr:n.state,key:n.key,idx:e}}function xy(n,e,t,r){return t===void 0&&(t=null),$r({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?il(e):e,{state:t,key:e&&e.key||r||F9()})}function Im(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function il(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function V9(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=oi.Pop,c=null,u=l();u==null&&(u=0,o.replaceState($r({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=oi.Pop;let S=l(),w=S==null?null:S-u;u=S,c&&c({action:a,location:y.location,delta:w})}function b(S,w){a=oi.Push;let _=xy(y.location,S,w);u=l()+1;let R=q2(_,u),x=y.createHref(_);try{o.pushState(R,"",x)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;i.location.assign(x)}s&&c&&c({action:a,location:y.location,delta:1})}function p(S,w){a=oi.Replace;let _=xy(y.location,S,w);u=l();let R=q2(_,u),x=y.createHref(_);o.replaceState(R,"",x),s&&c&&c({action:a,location:y.location,delta:0})}function g(S){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof S=="string"?S:Im(S);return _=_.replace(/ $/,"%20"),yn(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return n(i,o)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener($2,d),c=S,()=>{i.removeEventListener($2,d),c=null}},createHref(S){return e(i,S)},createURL:g,encodeLocation(S){let w=g(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:p,go(S){return o.go(S)}};return y}var Mr;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Mr||(Mr={}));const j9=new Set(["lazy","caseSensitive","path","id","index","children"]);function H9(n){return n.index===!0}function rI(n,e,t,r){return t===void 0&&(t=[]),r===void 0&&(r={}),n.map((i,s)=>{let o=[...t,s],a=typeof i.id=="string"?i.id:o.join("-");if(yn(i.index!==!0||!i.children,"Cannot specify children on an index route"),yn(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),H9(i)){let c=$r({},i,e(i),{id:a});return r[a]=c,c}else{let c=$r({},i,e(i),{id:a,children:void 0});return r[a]=c,i.children&&(c.children=rI(i.children,e,o,r)),c}})}function Ah(n,e,t){t===void 0&&(t="/");let r=typeof e=="string"?il(e):e,i=Rm(r.pathname||"/",t);if(i==null)return null;let s=a5(n);G9(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let c=aj(i);o=ij(s[a],c)}return o}function Y9(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function a5(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(yn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Gl([r,c.relativePath]),l=t.concat(c);s.children&&s.children.length>0&&(yn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),a5(s.children,e,l,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:nj(u,s.index),routesMeta:l})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of c5(s.path))i(s,o,c)}),e}function c5(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=c5(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>n.startsWith("/")&&c===""?"/":c)}function G9(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:rj(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const J9=/^:[\w-]+$/,Q9=3,Z9=2,X9=1,ej=10,tj=-2,z2=n=>n==="*";function nj(n,e){let t=n.split("/"),r=t.length;return t.some(z2)&&(r+=tj),e&&(r+=Z9),t.filter(i=>!z2(i)).reduce((i,s)=>i+(J9.test(s)?Q9:s===""?X9:ej),r)}function rj(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function ij(n,e){let{routesMeta:t}=n,r={},i="/",s=[];for(let o=0;o<t.length;++o){let a=t[o],c=o===t.length-1,u=i==="/"?e:e.slice(i.length)||"/",l=sj({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},u);if(!l)return null;Object.assign(r,l.params);let d=a.route;s.push({params:r,pathname:Gl([i,l.pathname]),pathnameBase:hj(Gl([i,l.pathnameBase])),route:d}),l.pathnameBase!=="/"&&(i=Gl([i,l.pathnameBase]))}return s}function sj(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=oj(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,l,d)=>{let{paramName:b,isOptional:p}=l;if(b==="*"){let y=a[d]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?u[b]=void 0:u[b]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function oj(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Qh(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function aj(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qh(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Rm(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function cj(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?il(n):n;return{pathname:t?t.startsWith("/")?t:uj(t,e):e,search:fj(r),hash:pj(i)}}function uj(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function VA(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u5(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function lj(n,e){let t=u5(n);return e?t.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function dj(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=il(n):(i=$r({},n),yn(!i.pathname||!i.pathname.includes("?"),VA("?","pathname","search",i)),yn(!i.pathname||!i.pathname.includes("#"),VA("#","pathname","hash",i)),yn(!i.search||!i.search.includes("#"),VA("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let b=o.split("/");for(;b[0]==="..";)b.shift(),d-=1;i.pathname=b.join("/")}a=d>=0?e[d]:"/"}let c=cj(i,a),u=o&&o!=="/"&&o.endsWith("/"),l=(s||o===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Gl=n=>n.join("/").replace(/\/\/+/g,"/"),hj=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fj=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pj=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;class JP{constructor(e,t,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function QP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const l5=["post","put","patch","delete"],gj=new Set(l5),yj=["get",...l5],mj=new Set(yj),bj=new Set([301,302,303,307,308]),wj=new Set([307,308]),jA={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ag={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ZP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sj=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),d5="remix-router-transitions";function Aj(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!t;yn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(n.mapRouteProperties)i=n.mapRouteProperties;else if(n.detectErrorBoundary){let se=n.detectErrorBoundary;i=le=>({hasErrorBoundary:se(le)})}else i=Sj;let s={},o=rI(n.routes,i,void 0,s),a,c=n.basename||"/",u=n.unstable_dataStrategy||Ij,l=$r({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},n.future),d=null,b=new Set,p=null,g=null,y=null,S=n.hydrationData!=null,w=Ah(o,n.history.location,c),_=null;if(w==null){let se=Eo(404,{pathname:n.history.location.pathname}),{matches:le,route:de}=G2(o);w=le,_={[de.id]:se}}let R,x=w.some(se=>se.route.lazy),K=w.some(se=>se.route.loader);if(x)R=!1;else if(!K)R=!0;else if(l.v7_partialHydration){let se=n.hydrationData?n.hydrationData.loaderData:null,le=n.hydrationData?n.hydrationData.errors:null,de=Se=>Se.route.loader?typeof Se.route.loader=="function"&&Se.route.loader.hydrate===!0?!1:se&&se[Se.route.id]!==void 0||le&&le[Se.route.id]!==void 0:!0;if(le){let Se=w.findIndex(et=>le[et.route.id]!==void 0);R=w.slice(0,Se+1).every(de)}else R=w.every(de)}else R=n.hydrationData!=null;let G,M={historyAction:n.history.action,location:n.history.location,matches:w,initialized:R,navigation:jA,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||_,fetchers:new Map,blockers:new Map},Q=oi.Pop,ie=!1,ee,X=!1,oe=new Map,z=null,m=!1,v=!1,T=[],V=[],C=new Map,N=0,Z=-1,L=new Map,E=new Set,Y=new Map,be=new Map,Ae=new Set,ve=new Map,De=new Map,Ge=!1;function Ke(){if(d=n.history.listen(se=>{let{action:le,location:de,delta:Se}=se;if(Ge){Ge=!1;return}Qh(De.size===0||Se!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let et=Oe({currentLocation:M.location,nextLocation:de,historyAction:le});if(et&&Se!=null){Ge=!0,n.history.go(Se*-1),mt(et,{state:"blocked",location:de,proceed(){mt(et,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),n.history.go(Se)},reset(){let Ne=new Map(M.blockers);Ne.set(et,ag),yt({blockers:Ne})}});return}return dr(le,de)}),t){qj(e,oe);let se=()=>zj(e,oe);e.addEventListener("pagehide",se),z=()=>e.removeEventListener("pagehide",se)}return M.initialized||dr(oi.Pop,M.location,{initialHydration:!0}),G}function Pn(){d&&d(),z&&z(),b.clear(),ee&&ee.abort(),M.fetchers.forEach((se,le)=>f(le)),M.blockers.forEach((se,le)=>We(le))}function wt(se){return b.add(se),()=>b.delete(se)}function yt(se,le){le===void 0&&(le={}),M=$r({},M,se);let de=[],Se=[];l.v7_fetcherPersist&&M.fetchers.forEach((et,Ne)=>{et.state==="idle"&&(Ae.has(Ne)?Se.push(Ne):de.push(Ne))}),[...b].forEach(et=>et(M,{deletedFetchers:Se,unstable_viewTransitionOpts:le.viewTransitionOpts,unstable_flushSync:le.flushSync===!0})),l.v7_fetcherPersist&&(de.forEach(et=>M.fetchers.delete(et)),Se.forEach(et=>f(et)))}function kt(se,le,de){var Se,et;let{flushSync:Ne}=de===void 0?{}:de,Fe=M.actionData!=null&&M.navigation.formMethod!=null&&Xo(M.navigation.formMethod)&&M.navigation.state==="loading"&&((Se=se.state)==null?void 0:Se._isRedirect)!==!0,it;le.actionData?Object.keys(le.actionData).length>0?it=le.actionData:it=null:Fe?it=M.actionData:it=null;let ct=le.loaderData?H2(M.loaderData,le.loaderData,le.matches||[],le.errors):M.loaderData,st=M.blockers;st.size>0&&(st=new Map(st),st.forEach((rt,Wn)=>st.set(Wn,ag)));let Wr=ie===!0||M.navigation.formMethod!=null&&Xo(M.navigation.formMethod)&&((et=se.state)==null?void 0:et._isRedirect)!==!0;a&&(o=a,a=void 0),m||Q===oi.Pop||(Q===oi.Push?n.history.push(se,se.state):Q===oi.Replace&&n.history.replace(se,se.state));let Ct;if(Q===oi.Pop){let rt=oe.get(M.location.pathname);rt&&rt.has(se.pathname)?Ct={currentLocation:M.location,nextLocation:se}:oe.has(se.pathname)&&(Ct={currentLocation:se,nextLocation:M.location})}else if(X){let rt=oe.get(M.location.pathname);rt?rt.add(se.pathname):(rt=new Set([se.pathname]),oe.set(M.location.pathname,rt)),Ct={currentLocation:M.location,nextLocation:se}}yt($r({},le,{actionData:it,loaderData:ct,historyAction:Q,location:se,initialized:!0,navigation:jA,revalidation:"idle",restoreScrollPosition:ii(se,le.matches||M.matches),preventScrollReset:Wr,blockers:st}),{viewTransitionOpts:Ct,flushSync:Ne===!0}),Q=oi.Pop,ie=!1,X=!1,m=!1,v=!1,T=[],V=[]}async function bt(se,le){if(typeof se=="number"){n.history.go(se);return}let de=iI(M.location,M.matches,c,l.v7_prependBasename,se,l.v7_relativeSplatPath,le==null?void 0:le.fromRouteId,le==null?void 0:le.relative),{path:Se,submission:et,error:Ne}=D2(l.v7_normalizeFormMethod,!1,de,le),Fe=M.location,it=xy(M.location,Se,le&&le.state);it=$r({},it,n.history.encodeLocation(it));let ct=le&&le.replace!=null?le.replace:void 0,st=oi.Push;ct===!0?st=oi.Replace:ct===!1||et!=null&&Xo(et.formMethod)&&et.formAction===M.location.pathname+M.location.search&&(st=oi.Replace);let Wr=le&&"preventScrollReset"in le?le.preventScrollReset===!0:void 0,Ct=(le&&le.unstable_flushSync)===!0,rt=Oe({currentLocation:Fe,nextLocation:it,historyAction:st});if(rt){mt(rt,{state:"blocked",location:it,proceed(){mt(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),bt(se,le)},reset(){let Wn=new Map(M.blockers);Wn.set(rt,ag),yt({blockers:Wn})}});return}return await dr(st,it,{submission:et,pendingError:Ne,preventScrollReset:Wr,replace:le&&le.replace,enableViewTransition:le&&le.unstable_viewTransition,flushSync:Ct})}function tn(){if(xn(),yt({revalidation:"loading"}),M.navigation.state!=="submitting"){if(M.navigation.state==="idle"){dr(M.historyAction,M.location,{startUninterruptedRevalidation:!0});return}dr(Q||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation})}}async function dr(se,le,de){ee&&ee.abort(),ee=null,Q=se,m=(de&&de.startUninterruptedRevalidation)===!0,Zn(M.location,M.matches),ie=(de&&de.preventScrollReset)===!0,X=(de&&de.enableViewTransition)===!0;let Se=a||o,et=de&&de.overrideNavigation,Ne=Ah(Se,le,c),Fe=(de&&de.flushSync)===!0;if(!Ne){let rt=Eo(404,{pathname:le.pathname}),{matches:Wn,route:xt}=G2(Se);Qn(),kt(le,{matches:Wn,loaderData:{},errors:{[xt.id]:rt}},{flushSync:Fe});return}if(M.initialized&&!v&&Cj(M.location,le)&&!(de&&de.submission&&Xo(de.submission.formMethod))){kt(le,{matches:Ne},{flushSync:Fe});return}ee=new AbortController;let it=Vd(n.history,le,ee.signal,de&&de.submission),ct;if(de&&de.pendingError)ct=[Hg(Ne).route.id,{type:Mr.error,error:de.pendingError}];else if(de&&de.submission&&Xo(de.submission.formMethod)){let rt=await Ht(it,le,de.submission,Ne,{replace:de.replace,flushSync:Fe});if(rt.shortCircuited)return;ct=rt.pendingActionResult,et=HA(le,de.submission),Fe=!1,it=Vd(n.history,it.url,it.signal)}let{shortCircuited:st,loaderData:Wr,errors:Ct}=await On(it,le,Ne,et,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,Fe,ct);st||(ee=null,kt(le,$r({matches:Ne},Y2(ct),{loaderData:Wr,errors:Ct})))}async function Ht(se,le,de,Se,et){et===void 0&&(et={}),xn();let Ne=Nj(le,de);yt({navigation:Ne},{flushSync:et.flushSync===!0});let Fe,it=oI(Se,le);if(!it.route.action&&!it.route.lazy)Fe={type:Mr.error,error:Eo(405,{method:se.method,pathname:le.pathname,routeId:it.route.id})};else if(Fe=(await Bt("action",se,[it],Se))[0],se.signal.aborted)return{shortCircuited:!0};if(Ml(Fe)){let ct;return et&&et.replace!=null?ct=et.replace:ct=F2(Fe.response.headers.get("Location"),new URL(se.url),c)===M.location.pathname+M.location.search,await an(se,Fe,{submission:de,replace:ct}),{shortCircuited:!0}}if(Cl(Fe))throw Eo(400,{type:"defer-action"});if(Bo(Fe)){let ct=Hg(Se,it.route.id);return(et&&et.replace)!==!0&&(Q=oi.Push),{pendingActionResult:[ct.route.id,Fe]}}return{pendingActionResult:[it.route.id,Fe]}}async function On(se,le,de,Se,et,Ne,Fe,it,ct,st){let Wr=Se||HA(le,et),Ct=et||Ne||Z2(Wr),rt=a||o,[Wn,xt]=U2(n.history,M,de,Ct,le,l.v7_partialHydration&&it===!0,l.unstable_skipActionErrorRevalidation,v,T,V,Ae,Y,E,rt,c,st);if(Qn(Mt=>!(de&&de.some(ti=>ti.route.id===Mt))||Wn&&Wn.some(ti=>ti.route.id===Mt)),Z=++N,Wn.length===0&&xt.length===0){let Mt=te();return kt(le,$r({matches:de,loaderData:{},errors:st&&Bo(st[1])?{[st[0]]:st[1].error}:null},Y2(st),Mt?{fetchers:new Map(M.fetchers)}:{}),{flushSync:ct}),{shortCircuited:!0}}if(!m&&(!l.v7_partialHydration||!it)){xt.forEach(ti=>{let Si=M.fetchers.get(ti.key),Nr=cg(void 0,Si?Si.data:void 0);M.fetchers.set(ti.key,Nr)});let Mt;st&&!Bo(st[1])?Mt={[st[0]]:st[1].data}:M.actionData&&(Object.keys(M.actionData).length===0?Mt=null:Mt=M.actionData),yt($r({navigation:Wr},Mt!==void 0?{actionData:Mt}:{},xt.length>0?{fetchers:new Map(M.fetchers)}:{}),{flushSync:ct})}xt.forEach(Mt=>{C.has(Mt.key)&&q(Mt.key),Mt.controller&&C.set(Mt.key,Mt.controller)});let Xn=()=>xt.forEach(Mt=>q(Mt.key));ee&&ee.signal.addEventListener("abort",Xn);let{loaderResults:Ys,fetcherResults:Fn}=await mn(M.matches,de,Wn,xt,se);if(se.signal.aborted)return{shortCircuited:!0};ee&&ee.signal.removeEventListener("abort",Xn),xt.forEach(Mt=>C.delete(Mt.key));let Vn=J2([...Ys,...Fn]);if(Vn){if(Vn.idx>=Wn.length){let Mt=xt[Vn.idx-Wn.length].key;E.add(Mt)}return await an(se,Vn.result,{replace:Fe}),{shortCircuited:!0}}let{loaderData:Ao,errors:Di}=j2(M,de,Wn,Ys,st,xt,Fn,ve);ve.forEach((Mt,ti)=>{Mt.subscribe(Si=>{(Si||Mt.done)&&ve.delete(ti)})}),l.v7_partialHydration&&it&&M.errors&&Object.entries(M.errors).filter(Mt=>{let[ti]=Mt;return!Wn.some(Si=>Si.route.id===ti)}).forEach(Mt=>{let[ti,Si]=Mt;Di=Object.assign(Di||{},{[ti]:Si})});let ha=te(),fa=Le(Z),pa=ha||fa||xt.length>0;return $r({loaderData:Ao,errors:Di},pa?{fetchers:new Map(M.fetchers)}:{})}function So(se,le,de,Se){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(se)&&q(se);let et=(Se&&Se.unstable_flushSync)===!0,Ne=a||o,Fe=iI(M.location,M.matches,c,l.v7_prependBasename,de,l.v7_relativeSplatPath,le,Se==null?void 0:Se.relative),it=Ah(Ne,Fe,c);if(!it){A(se,le,Eo(404,{pathname:Fe}),{flushSync:et});return}let{path:ct,submission:st,error:Wr}=D2(l.v7_normalizeFormMethod,!0,Fe,Se);if(Wr){A(se,le,Wr,{flushSync:et});return}let Ct=oI(it,ct);if(ie=(Se&&Se.preventScrollReset)===!0,st&&Xo(st.formMethod)){wn(se,le,ct,Ct,it,et,st);return}Y.set(se,{routeId:le,path:ct}),nn(se,le,ct,Ct,it,et,st)}async function wn(se,le,de,Se,et,Ne,Fe){if(xn(),Y.delete(se),!Se.route.action&&!Se.route.lazy){let Nr=Eo(405,{method:Fe.formMethod,pathname:de,routeId:le});A(se,le,Nr,{flushSync:Ne});return}let it=M.fetchers.get(se);Tt(se,$j(Fe,it),{flushSync:Ne});let ct=new AbortController,st=Vd(n.history,de,ct.signal,Fe);C.set(se,ct);let Wr=N,rt=(await Bt("action",st,[Se],et))[0];if(st.signal.aborted){C.get(se)===ct&&C.delete(se);return}if(l.v7_fetcherPersist&&Ae.has(se)){if(Ml(rt)||Bo(rt)){Tt(se,hu(void 0));return}}else{if(Ml(rt))if(C.delete(se),Z>Wr){Tt(se,hu(void 0));return}else return E.add(se),Tt(se,cg(Fe)),an(st,rt,{fetcherSubmission:Fe});if(Bo(rt)){A(se,le,rt.error);return}}if(Cl(rt))throw Eo(400,{type:"defer-action"});let Wn=M.navigation.location||M.location,xt=Vd(n.history,Wn,ct.signal),Xn=a||o,Ys=M.navigation.state!=="idle"?Ah(Xn,M.navigation.location,c):M.matches;yn(Ys,"Didn't find any matches after fetcher action");let Fn=++N;L.set(se,Fn);let Vn=cg(Fe,rt.data);M.fetchers.set(se,Vn);let[Ao,Di]=U2(n.history,M,Ys,Fe,Wn,!1,l.unstable_skipActionErrorRevalidation,v,T,V,Ae,Y,E,Xn,c,[Se.route.id,rt]);Di.filter(Nr=>Nr.key!==se).forEach(Nr=>{let Vo=Nr.key,ru=M.fetchers.get(Vo),cl=cg(void 0,ru?ru.data:void 0);M.fetchers.set(Vo,cl),C.has(Vo)&&q(Vo),Nr.controller&&C.set(Vo,Nr.controller)}),yt({fetchers:new Map(M.fetchers)});let ha=()=>Di.forEach(Nr=>q(Nr.key));ct.signal.addEventListener("abort",ha);let{loaderResults:fa,fetcherResults:pa}=await mn(M.matches,Ys,Ao,Di,xt);if(ct.signal.aborted)return;ct.signal.removeEventListener("abort",ha),L.delete(se),C.delete(se),Di.forEach(Nr=>C.delete(Nr.key));let Mt=J2([...fa,...pa]);if(Mt){if(Mt.idx>=Ao.length){let Nr=Di[Mt.idx-Ao.length].key;E.add(Nr)}return an(xt,Mt.result)}let{loaderData:ti,errors:Si}=j2(M,M.matches,Ao,fa,void 0,Di,pa,ve);if(M.fetchers.has(se)){let Nr=hu(rt.data);M.fetchers.set(se,Nr)}Le(Fn),M.navigation.state==="loading"&&Fn>Z?(yn(Q,"Expected pending action"),ee&&ee.abort(),kt(M.navigation.location,{matches:Ys,loaderData:ti,errors:Si,fetchers:new Map(M.fetchers)})):(yt({errors:Si,loaderData:H2(M.loaderData,ti,Ys,Si),fetchers:new Map(M.fetchers)}),v=!1)}async function nn(se,le,de,Se,et,Ne,Fe){let it=M.fetchers.get(se);Tt(se,cg(Fe,it?it.data:void 0),{flushSync:Ne});let ct=new AbortController,st=Vd(n.history,de,ct.signal);C.set(se,ct);let Wr=N,rt=(await Bt("loader",st,[Se],et))[0];if(Cl(rt)&&(rt=await g5(rt,st.signal,!0)||rt),C.get(se)===ct&&C.delete(se),!st.signal.aborted){if(Ae.has(se)){Tt(se,hu(void 0));return}if(Ml(rt))if(Z>Wr){Tt(se,hu(void 0));return}else{E.add(se),await an(st,rt);return}if(Bo(rt)){A(se,le,rt.error);return}yn(!Cl(rt),"Unhandled fetcher deferred data"),Tt(se,hu(rt.data))}}async function an(se,le,de){let{submission:Se,fetcherSubmission:et,replace:Ne}=de===void 0?{}:de;le.response.headers.has("X-Remix-Revalidate")&&(v=!0);let Fe=le.response.headers.get("Location");yn(Fe,"Expected a Location header on the redirect Response"),Fe=F2(Fe,new URL(se.url),c);let it=xy(M.location,Fe,{_isRedirect:!0});if(t){let Wn=!1;if(le.response.headers.has("X-Remix-Reload-Document"))Wn=!0;else if(ZP.test(Fe)){const xt=n.history.createURL(Fe);Wn=xt.origin!==e.location.origin||Rm(xt.pathname,c)==null}if(Wn){Ne?e.location.replace(Fe):e.location.assign(Fe);return}}ee=null;let ct=Ne===!0?oi.Replace:oi.Push,{formMethod:st,formAction:Wr,formEncType:Ct}=M.navigation;!Se&&!et&&st&&Wr&&Ct&&(Se=Z2(M.navigation));let rt=Se||et;if(wj.has(le.response.status)&&rt&&Xo(rt.formMethod))await dr(ct,it,{submission:$r({},rt,{formAction:Fe}),preventScrollReset:ie});else{let Wn=HA(it,Se);await dr(ct,it,{overrideNavigation:Wn,fetcherSubmission:et,preventScrollReset:ie})}}async function Bt(se,le,de,Se){try{let et=await Rj(u,se,le,de,Se,s,i);return await Promise.all(et.map((Ne,Fe)=>{if(Mj(Ne)){let it=Ne.result;return{type:Mr.redirect,response:Bj(it,le,de[Fe].route.id,Se,c,l.v7_relativeSplatPath)}}return xj(Ne)}))}catch(et){return de.map(()=>({type:Mr.error,error:et}))}}async function mn(se,le,de,Se,et){let[Ne,...Fe]=await Promise.all([de.length?Bt("loader",et,de,le):[],...Se.map(it=>{if(it.matches&&it.match&&it.controller){let ct=Vd(n.history,it.path,it.controller.signal);return Bt("loader",ct,[it.match],it.matches).then(st=>st[0])}else return Promise.resolve({type:Mr.error,error:Eo(404,{pathname:it.path})})})]);return await Promise.all([Q2(se,de,Ne,Ne.map(()=>et.signal),!1,M.loaderData),Q2(se,Se.map(it=>it.match),Fe,Se.map(it=>it.controller?it.controller.signal:null),!0)]),{loaderResults:Ne,fetcherResults:Fe}}function xn(){v=!0,T.push(...Qn()),Y.forEach((se,le)=>{C.has(le)&&(V.push(le),q(le))})}function Tt(se,le,de){de===void 0&&(de={}),M.fetchers.set(se,le),yt({fetchers:new Map(M.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function A(se,le,de,Se){Se===void 0&&(Se={});let et=Hg(M.matches,le);f(se),yt({errors:{[et.route.id]:de},fetchers:new Map(M.fetchers)},{flushSync:(Se&&Se.flushSync)===!0})}function h(se){return l.v7_fetcherPersist&&(be.set(se,(be.get(se)||0)+1),Ae.has(se)&&Ae.delete(se)),M.fetchers.get(se)||kj}function f(se){let le=M.fetchers.get(se);C.has(se)&&!(le&&le.state==="loading"&&L.has(se))&&q(se),Y.delete(se),L.delete(se),E.delete(se),Ae.delete(se),M.fetchers.delete(se)}function I(se){if(l.v7_fetcherPersist){let le=(be.get(se)||0)-1;le<=0?(be.delete(se),Ae.add(se)):be.set(se,le)}else f(se);yt({fetchers:new Map(M.fetchers)})}function q(se){let le=C.get(se);yn(le,"Expected fetch controller: "+se),le.abort(),C.delete(se)}function J(se){for(let le of se){let de=h(le),Se=hu(de.data);M.fetchers.set(le,Se)}}function te(){let se=[],le=!1;for(let de of E){let Se=M.fetchers.get(de);yn(Se,"Expected fetcher: "+de),Se.state==="loading"&&(E.delete(de),se.push(de),le=!0)}return J(se),le}function Le(se){let le=[];for(let[de,Se]of L)if(Se<se){let et=M.fetchers.get(de);yn(et,"Expected fetcher: "+de),et.state==="loading"&&(q(de),L.delete(de),le.push(de))}return J(le),le.length>0}function Xe(se,le){let de=M.blockers.get(se)||ag;return De.get(se)!==le&&De.set(se,le),de}function We(se){M.blockers.delete(se),De.delete(se)}function mt(se,le){let de=M.blockers.get(se)||ag;yn(de.state==="unblocked"&&le.state==="blocked"||de.state==="blocked"&&le.state==="blocked"||de.state==="blocked"&&le.state==="proceeding"||de.state==="blocked"&&le.state==="unblocked"||de.state==="proceeding"&&le.state==="unblocked","Invalid blocker state transition: "+de.state+" -> "+le.state);let Se=new Map(M.blockers);Se.set(se,le),yt({blockers:Se})}function Oe(se){let{currentLocation:le,nextLocation:de,historyAction:Se}=se;if(De.size===0)return;De.size>1&&Qh(!1,"A router only supports one blocker at a time");let et=Array.from(De.entries()),[Ne,Fe]=et[et.length-1],it=M.blockers.get(Ne);if(!(it&&it.state==="proceeding")&&Fe({currentLocation:le,nextLocation:de,historyAction:Se}))return Ne}function Qn(se){let le=[];return ve.forEach((de,Se)=>{(!se||se(Se))&&(de.cancel(),le.push(Se),ve.delete(Se))}),le}function mc(se,le,de){if(p=se,y=le,g=de||null,!S&&M.navigation===jA){S=!0;let Se=ii(M.location,M.matches);Se!=null&&yt({restoreScrollPosition:Se})}return()=>{p=null,y=null,g=null}}function Nn(se,le){return g&&g(se,le.map(Se=>Y9(Se,M.loaderData)))||se.key}function Zn(se,le){if(p&&y){let de=Nn(se,le);p[de]=y()}}function ii(se,le){if(p){let de=Nn(se,le),Se=p[de];if(typeof Se=="number")return Se}return null}function rn(se){s={},a=rI(se,i,void 0,s)}return G={get basename(){return c},get future(){return l},get state(){return M},get routes(){return o},get window(){return e},initialize:Ke,subscribe:wt,enableScrollRestoration:mc,navigate:bt,fetch:So,revalidate:tn,createHref:se=>n.history.createHref(se),encodeLocation:se=>n.history.encodeLocation(se),getFetcher:h,deleteFetcher:I,dispose:Pn,getBlocker:Xe,deleteBlocker:We,_internalFetchControllers:C,_internalActiveDeferreds:ve,_internalSetRoutes:rn},G}function _j(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function iI(n,e,t,r,i,s,o,a){let c,u;if(o){c=[];for(let d of e)if(c.push(d),d.route.id===o){u=d;break}}else c=e,u=e[e.length-1];let l=dj(i||".",lj(c,s),Rm(n.pathname,t)||n.pathname,a==="path");return i==null&&(l.search=n.search,l.hash=n.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!XP(l.search)&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r&&t!=="/"&&(l.pathname=l.pathname==="/"?t:Gl([t,l.pathname])),Im(l)}function D2(n,e,t,r){if(!r||!_j(r))return{path:t};if(r.formMethod&&!Oj(r.formMethod))return{path:t,error:Eo(405,{method:r.formMethod})};let i=()=>({path:t,error:Eo(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=n?s.toUpperCase():s.toLowerCase(),a=f5(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Xo(o))return i();let b=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,g)=>{let[y,S]=g;return""+p+y+"="+S+`
`},""):String(r.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:b}}}else if(r.formEncType==="application/json"){if(!Xo(o))return i();try{let b=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:b,text:void 0}}}catch{return i()}}}yn(typeof FormData=="function","FormData is not available in this environment");let c,u;if(r.formData)c=sI(r.formData),u=r.formData;else if(r.body instanceof FormData)c=sI(r.body),u=r.body;else if(r.body instanceof URLSearchParams)c=r.body,u=V2(c);else if(r.body==null)c=new URLSearchParams,u=new FormData;else try{c=new URLSearchParams(r.body),u=V2(c)}catch{return i()}let l={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(Xo(l.formMethod))return{path:t,submission:l};let d=il(t);return e&&d.search&&XP(d.search)&&c.append("index",""),d.search="?"+c,{path:Im(d),submission:l}}function vj(n,e){let t=n;if(e){let r=n.findIndex(i=>i.route.id===e);r>=0&&(t=n.slice(0,r))}return t}function U2(n,e,t,r,i,s,o,a,c,u,l,d,b,p,g,y){let S=y?Bo(y[1])?y[1].error:y[1].data:void 0,w=n.createURL(e.location),_=n.createURL(i),R=y&&Bo(y[1])?y[0]:void 0,x=R?vj(t,R):t,K=y?y[1].statusCode:void 0,G=o&&K&&K>=400,M=x.filter((ie,ee)=>{let{route:X}=ie;if(X.lazy)return!0;if(X.loader==null)return!1;if(s)return typeof X.loader!="function"||X.loader.hydrate?!0:e.loaderData[X.id]===void 0&&(!e.errors||e.errors[X.id]===void 0);if(Ej(e.loaderData,e.matches[ee],ie)||c.some(m=>m===ie.route.id))return!0;let oe=e.matches[ee],z=ie;return K2(ie,$r({currentUrl:w,currentParams:oe.params,nextUrl:_,nextParams:z.params},r,{actionResult:S,unstable_actionStatus:K,defaultShouldRevalidate:G?!1:a||w.pathname+w.search===_.pathname+_.search||w.search!==_.search||h5(oe,z)}))}),Q=[];return d.forEach((ie,ee)=>{if(s||!t.some(v=>v.route.id===ie.routeId)||l.has(ee))return;let X=Ah(p,ie.path,g);if(!X){Q.push({key:ee,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let oe=e.fetchers.get(ee),z=oI(X,ie.path),m=!1;b.has(ee)?m=!1:u.includes(ee)?m=!0:oe&&oe.state!=="idle"&&oe.data===void 0?m=a:m=K2(z,$r({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:_,nextParams:t[t.length-1].params},r,{actionResult:S,unstable_actionStatus:K,defaultShouldRevalidate:G?!1:a})),m&&Q.push({key:ee,routeId:ie.routeId,path:ie.path,matches:X,match:z,controller:new AbortController})}),[M,Q]}function Ej(n,e,t){let r=!e||t.route.id!==e.route.id,i=n[t.route.id]===void 0;return r||i}function h5(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function K2(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}async function W2(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];yn(i,"No route found in manifest");let s={};for(let o in r){let c=i[o]!==void 0&&o!=="hasErrorBoundary";Qh(!c,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!c&&!j9.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,$r({},e(i),{lazy:void 0}))}function Ij(n){return Promise.all(n.matches.map(e=>e.resolve()))}async function Rj(n,e,t,r,i,s,o,a){let c=r.reduce((d,b)=>d.add(b.route.id),new Set),u=new Set,l=await n({matches:i.map(d=>{let b=c.has(d.route.id);return $r({},d,{shouldLoad:b,resolve:g=>(u.add(d.route.id),b?Pj(e,t,d,s,o,g,a):Promise.resolve({type:Mr.data,result:void 0}))})}),request:t,params:i[0].params,context:a});return i.forEach(d=>yn(u.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),l.filter((d,b)=>c.has(i[b].route.id))}async function Pj(n,e,t,r,i,s,o){let a,c,u=l=>{let d,b=new Promise((y,S)=>d=S);c=()=>d(),e.signal.addEventListener("abort",c);let p=y=>typeof l!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+n+'" [routeId: '+t.route.id+"]"))):l({request:e,params:t.params,context:o},...y!==void 0?[y]:[]),g;return s?g=s(y=>p(y)):g=(async()=>{try{return{type:"data",result:await p()}}catch(y){return{type:"error",result:y}}})(),Promise.race([g,b])};try{let l=t.route[n];if(t.route.lazy)if(l){let d,[b]=await Promise.all([u(l).catch(p=>{d=p}),W2(t.route,i,r)]);if(d!==void 0)throw d;a=b}else if(await W2(t.route,i,r),l=t.route[n],l)a=await u(l);else if(n==="action"){let d=new URL(e.url),b=d.pathname+d.search;throw Eo(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:Mr.data,result:void 0};else if(l)a=await u(l);else{let d=new URL(e.url),b=d.pathname+d.search;throw Eo(404,{pathname:b})}yn(a.result!==void 0,"You defined "+(n==="action"?"an action":"a loader")+" for route "+('"'+t.route.id+"\" but didn't return anything from your `"+n+"` ")+"function. Please return a value or `null`.")}catch(l){return{type:Mr.error,result:l}}finally{c&&e.signal.removeEventListener("abort",c)}return a}async function xj(n){let{result:e,type:t,status:r}=n;if(p5(e)){let o;try{let a=e.headers.get("Content-Type");a&&/\bapplication\/json\b/.test(a)?e.body==null?o=null:o=await e.json():o=await e.text()}catch(a){return{type:Mr.error,error:a}}return t===Mr.error?{type:Mr.error,error:new JP(e.status,e.statusText,o),statusCode:e.status,headers:e.headers}:{type:Mr.data,data:o,statusCode:e.status,headers:e.headers}}if(t===Mr.error)return{type:Mr.error,error:e,statusCode:QP(e)?e.status:r};if(Lj(e)){var i,s;return{type:Mr.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}return{type:Mr.data,data:e,statusCode:r}}function Bj(n,e,t,r,i,s){let o=n.headers.get("Location");if(yn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ZP.test(o)){let a=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=iI(new URL(e.url),a,i,!0,o,s),n.headers.set("Location",o)}return n}function F2(n,e,t){if(ZP.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Rm(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return n}function Vd(n,e,t,r){let i=n.createURL(f5(e)).toString(),s={signal:t};if(r&&Xo(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=sI(r.formData):s.body=r.formData}return new Request(i,s)}function sI(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function V2(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Tj(n,e,t,r,i,s){let o={},a=null,c,u=!1,l={},d=r&&Bo(r[1])?r[1].error:void 0;return t.forEach((b,p)=>{let g=e[p].route.id;if(yn(!Ml(b),"Cannot handle redirect results in processLoaderData"),Bo(b)){let y=b.error;d!==void 0&&(y=d,d=void 0),a=a||{};{let S=Hg(n,g);a[S.route.id]==null&&(a[S.route.id]=y)}o[g]=void 0,u||(u=!0,c=QP(b.error)?b.error.status:500),b.headers&&(l[g]=b.headers)}else Cl(b)?(i.set(g,b.deferredData),o[g]=b.deferredData.data,b.statusCode!=null&&b.statusCode!==200&&!u&&(c=b.statusCode),b.headers&&(l[g]=b.headers)):(o[g]=b.data,b.statusCode&&b.statusCode!==200&&!u&&(c=b.statusCode),b.headers&&(l[g]=b.headers))}),d!==void 0&&r&&(a={[r[0]]:d},o[r[0]]=void 0),{loaderData:o,errors:a,statusCode:c||200,loaderHeaders:l}}function j2(n,e,t,r,i,s,o,a){let{loaderData:c,errors:u}=Tj(e,t,r,i,a);for(let l=0;l<s.length;l++){let{key:d,match:b,controller:p}=s[l];yn(o!==void 0&&o[l]!==void 0,"Did not find corresponding fetcher result");let g=o[l];if(!(p&&p.signal.aborted))if(Bo(g)){let y=Hg(n.matches,b==null?void 0:b.route.id);u&&u[y.route.id]||(u=$r({},u,{[y.route.id]:g.error})),n.fetchers.delete(d)}else if(Ml(g))yn(!1,"Unhandled fetcher revalidation redirect");else if(Cl(g))yn(!1,"Unhandled fetcher deferred data");else{let y=hu(g.data);n.fetchers.set(d,y)}}return{loaderData:c,errors:u}}function H2(n,e,t,r){let i=$r({},e);for(let s of t){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):n[o]!==void 0&&s.route.loader&&(i[o]=n[o]),r&&r.hasOwnProperty(o))break}return i}function Y2(n){return n?Bo(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Hg(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function G2(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Eo(n,e){let{pathname:t,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return n===400?(o="Bad Request",i&&t&&r?a="You made a "+i+' request to "'+t+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):n===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+t+'"'):n===404?(o="Not Found",a='No route matches URL "'+t+'"'):n===405&&(o="Method Not Allowed",i&&t&&r?a="You made a "+i.toUpperCase()+' request to "'+t+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new JP(n||500,o,new Error(a),!0)}function J2(n){for(let e=n.length-1;e>=0;e--){let t=n[e];if(Ml(t))return{result:t,idx:e}}}function f5(n){let e=typeof n=="string"?il(n):n;return Im($r({},e,{hash:""}))}function Cj(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Mj(n){return p5(n.result)&&bj.has(n.result.status)}function Cl(n){return n.type===Mr.deferred}function Bo(n){return n.type===Mr.error}function Ml(n){return(n&&n.type)===Mr.redirect}function Lj(n){let e=n;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function p5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Oj(n){return mj.has(n.toLowerCase())}function Xo(n){return gj.has(n.toLowerCase())}async function Q2(n,e,t,r,i,s){for(let o=0;o<t.length;o++){let a=t[o],c=e[o];if(!c)continue;let u=n.find(d=>d.route.id===c.route.id),l=u!=null&&!h5(u,c)&&(s&&s[c.route.id])!==void 0;if(Cl(a)&&(i||l)){let d=r[o];yn(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await g5(a,d,i).then(b=>{b&&(t[o]=b||t[o])})}}}async function g5(n,e,t){if(t===void 0&&(t=!1),!await n.deferredData.resolveData(e)){if(t)try{return{type:Mr.data,data:n.deferredData.unwrappedData}}catch(i){return{type:Mr.error,error:i}}return{type:Mr.data,data:n.deferredData.data}}}function XP(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function oI(n,e){let t=typeof e=="string"?il(e).search:e.search;if(n[n.length-1].route.index&&XP(t||""))return n[n.length-1];let r=u5(n);return r[r.length-1]}function Z2(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:s,json:o}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:o,text:void 0}}}function HA(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Nj(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function cg(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function $j(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function hu(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function qj(n,e){try{let t=n.sessionStorage.getItem(d5);if(t){let r=JSON.parse(t);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function zj(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(d5,JSON.stringify(t))}catch(r){Qh(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aI(){return aI=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},aI.apply(this,arguments)}const y5=we.createContext(null),m5=we.createContext(null),b5=we.createContext(null),ex=we.createContext(null),pk=we.createContext({outlet:null,matches:[],isDataRoute:!1}),w5=we.createContext(null);function tx(){return we.useContext(ex)!=null}function Dj(){return tx()||yn(!1),we.useContext(ex).location}function Uj(n,e,t,r){tx()||yn(!1);let{navigator:i}=we.useContext(b5),{matches:s}=we.useContext(pk),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Dj(),l;l=u;let d=l.pathname||"/",b=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");b="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=Ah(n,{pathname:b});return jj(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Gl([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Gl([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,t,r)}function Kj(){let n=Jj(),e=QP(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return we.createElement(we.Fragment,null,we.createElement("h2",null,"Unexpected Application Error!"),we.createElement("h3",{style:{fontStyle:"italic"}},e),t?we.createElement("pre",{style:i},t):null,null)}const Wj=we.createElement(Kj,null);class Fj extends we.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?we.createElement(pk.Provider,{value:this.props.routeContext},we.createElement(w5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Vj(n){let{routeContext:e,match:t,children:r}=n,i=we.useContext(y5);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),we.createElement(pk.Provider,{value:e},r)}function jj(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var s;if((s=t)!=null&&s.errors)n=t.matches;else return null}let o=n,a=(i=t)==null?void 0:i.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||yn(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(t&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:b,errors:p}=t,g=d.route.loader&&b[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,b)=>{let p,g=!1,y=null,S=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Wj,c&&(u<0&&b===0?(Qj("route-fallback"),g=!0,S=null):u===b&&(g=!0,S=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,b+1)),_=()=>{let R;return p?R=y:g?R=S:d.route.Component?R=we.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=l,we.createElement(Vj,{match:d,routeContext:{outlet:l,matches:w,isDataRoute:t!=null},children:R})};return t&&(d.route.ErrorBoundary||d.route.errorElement||b===0)?we.createElement(Fj,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var cI=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(cI||{});function Hj(n){let e=we.useContext(m5);return e||yn(!1),e}function Yj(n){let e=we.useContext(pk);return e||yn(!1),e}function Gj(n){let e=Yj(),t=e.matches[e.matches.length-1];return t.route.id||yn(!1),t.route.id}function Jj(){var n;let e=we.useContext(w5),t=Hj(cI.UseRouteError),r=Gj(cI.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}const X2={};function Qj(n,e,t){X2[n]||(X2[n]=!0)}function Zj(n){let{basename:e="/",children:t=null,location:r,navigationType:i=oi.Pop,navigator:s,static:o=!1,future:a}=n;tx()&&yn(!1);let c=e.replace(/^\/*/,"/"),u=we.useMemo(()=>({basename:c,navigator:s,static:o,future:aI({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=il(r));let{pathname:l="/",search:d="",hash:b="",state:p=null,key:g="default"}=r,y=we.useMemo(()=>{let S=Rm(l,c);return S==null?null:{location:{pathname:S,search:d,hash:b,state:p,key:g},navigationType:i}},[c,l,d,b,p,g,i]);return y==null?null:we.createElement(b5.Provider,{value:u},we.createElement(ex.Provider,{children:t,value:y}))}new Promise(()=>{});function Xj(n){let e={hasErrorBoundary:n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&Object.assign(e,{element:we.createElement(n.Component),Component:void 0}),n.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:we.createElement(n.HydrateFallback),HydrateFallback:void 0}),n.ErrorBoundary&&Object.assign(e,{errorElement:we.createElement(n.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function R0(){return R0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},R0.apply(this,arguments)}const eH="6";try{window.__reactRouterVersion=eH}catch{}function tH(n,e){return Aj({basename:void 0,future:R0({},void 0,{v7_prependBasename:!0}),history:W9({window:void 0}),hydrationData:nH(),routes:n,mapRouteProperties:Xj,unstable_dataStrategy:void 0,window:void 0}).initialize()}function nH(){var n;let e=(n=window)==null?void 0:n.__staticRouterHydrationData;return e&&e.errors&&(e=R0({},e,{errors:rH(e.errors)})),e}function rH(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new JP(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[r]=o}catch{}}if(t[r]==null){let s=new Error(i.message);s.stack="",t[r]=s}}else t[r]=i;return t}const iH=we.createContext({isTransitioning:!1}),sH=we.createContext(new Map),oH="startTransition",eC=BF[oH],aH="flushSync",tC=K9[aH];function cH(n){eC?eC(n):n()}function ug(n){tC?tC(n):n()}class uH{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}}function lH(n){let{fallbackElement:e,router:t,future:r}=n,[i,s]=we.useState(t.state),[o,a]=we.useState(),[c,u]=we.useState({isTransitioning:!1}),[l,d]=we.useState(),[b,p]=we.useState(),[g,y]=we.useState(),S=we.useRef(new Map),{v7_startTransition:w}=r||{},_=we.useCallback(M=>{w?cH(M):M()},[w]),R=we.useCallback((M,Q)=>{let{deletedFetchers:ie,unstable_flushSync:ee,unstable_viewTransitionOpts:X}=Q;ie.forEach(z=>S.current.delete(z)),M.fetchers.forEach((z,m)=>{z.data!==void 0&&S.current.set(m,z.data)});let oe=t.window==null||t.window.document==null||typeof t.window.document.startViewTransition!="function";if(!X||oe){ee?ug(()=>s(M)):_(()=>s(M));return}if(ee){ug(()=>{b&&(l&&l.resolve(),b.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let z=t.window.document.startViewTransition(()=>{ug(()=>s(M))});z.finished.finally(()=>{ug(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),ug(()=>p(z));return}b?(l&&l.resolve(),b.skipTransition(),y({state:M,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(a(M),u({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[t.window,b,l,S,_]);we.useLayoutEffect(()=>t.subscribe(R),[t,R]),we.useEffect(()=>{c.isTransitioning&&!c.flushSync&&d(new uH)},[c]),we.useEffect(()=>{if(l&&o&&t.window){let M=o,Q=l.promise,ie=t.window.document.startViewTransition(async()=>{_(()=>s(M)),await Q});ie.finished.finally(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(ie)}},[_,o,l,t.window]),we.useEffect(()=>{l&&o&&i.location.key===o.location.key&&l.resolve()},[l,b,i.location,o]),we.useEffect(()=>{!c.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[c.isTransitioning,g]),we.useEffect(()=>{},[]);let x=we.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:M=>t.navigate(M),push:(M,Q,ie)=>t.navigate(M,{state:Q,preventScrollReset:ie==null?void 0:ie.preventScrollReset}),replace:(M,Q,ie)=>t.navigate(M,{replace:!0,state:Q,preventScrollReset:ie==null?void 0:ie.preventScrollReset})}),[t]),K=t.basename||"/",G=we.useMemo(()=>({router:t,navigator:x,static:!1,basename:K}),[t,x,K]);return we.createElement(we.Fragment,null,we.createElement(y5.Provider,{value:G},we.createElement(m5.Provider,{value:i},we.createElement(sH.Provider,{value:S.current},we.createElement(iH.Provider,{value:c},we.createElement(Zj,{basename:K,location:i.location,navigationType:i.historyAction,navigator:x,future:{v7_relativeSplatPath:t.future.v7_relativeSplatPath}},i.initialized||t.future.v7_partialHydration?we.createElement(dH,{routes:t.routes,future:t.future,state:i}):e))))),null)}function dH(n){let{routes:e,future:t,state:r}=n;return Uj(e,void 0,r,t)}var nC;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(nC||(nC={}));var rC;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(rC||(rC={}));function k5(n,e){return function(){return n.apply(e,arguments)}}const{toString:hH}=Object.prototype,{getPrototypeOf:nx}=Object,gk=(n=>e=>{const t=hH.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),da=n=>(n=n.toLowerCase(),e=>gk(e)===n),yk=n=>e=>typeof e===n,{isArray:_p}=Array,By=yk("undefined");function fH(n){return n!==null&&!By(n)&&n.constructor!==null&&!By(n.constructor)&&Lo(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const S5=da("ArrayBuffer");function pH(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&S5(n.buffer),e}const gH=yk("string"),Lo=yk("function"),A5=yk("number"),mk=n=>n!==null&&typeof n=="object",yH=n=>n===!0||n===!1,l1=n=>{if(gk(n)!=="object")return!1;const e=nx(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},mH=da("Date"),bH=da("File"),wH=da("Blob"),kH=da("FileList"),SH=n=>mk(n)&&Lo(n.pipe),AH=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Lo(n.append)&&((e=gk(n))==="formdata"||e==="object"&&Lo(n.toString)&&n.toString()==="[object FormData]"))},_H=da("URLSearchParams"),[vH,EH,IH,RH]=["ReadableStream","Request","Response","Headers"].map(da),PH=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pm(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),_p(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,n[a],a,n)}}function _5(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const v5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,E5=n=>!By(n)&&n!==v5;function uI(){const{caseless:n}=E5(this)&&this||{},e={},t=(r,i)=>{const s=n&&_5(e,i)||i;l1(e[s])&&l1(r)?e[s]=uI(e[s],r):l1(r)?e[s]=uI({},r):_p(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Pm(arguments[r],t);return e}const xH=(n,e,t,{allOwnKeys:r}={})=>(Pm(e,(i,s)=>{t&&Lo(i)?n[s]=k5(i,t):n[s]=i},{allOwnKeys:r}),n),BH=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),TH=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},CH=(n,e,t,r)=>{let i,s,o;const a={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&nx(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},MH=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},LH=n=>{if(!n)return null;if(_p(n))return n;let e=n.length;if(!A5(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},OH=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&nx(Uint8Array)),NH=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},$H=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},qH=da("HTMLFormElement"),zH=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),iC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),DH=da("RegExp"),I5=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Pm(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},UH=n=>{I5(n,(e,t)=>{if(Lo(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Lo(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},KH=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return _p(n)?r(n):r(String(n).split(e)),t},WH=()=>{},FH=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,YA="abcdefghijklmnopqrstuvwxyz",sC="0123456789",R5={DIGIT:sC,ALPHA:YA,ALPHA_DIGIT:YA+YA.toUpperCase()+sC},VH=(n=16,e=R5.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function jH(n){return!!(n&&Lo(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const HH=n=>{const e=new Array(10),t=(r,i)=>{if(mk(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=_p(r)?[]:{};return Pm(r,(o,a)=>{const c=t(o,i+1);!By(c)&&(s[a]=c)}),e[i]=void 0,s}}return r};return t(n,0)},YH=da("AsyncFunction"),GH=n=>n&&(mk(n)||Lo(n))&&Lo(n.then)&&Lo(n.catch),me={isArray:_p,isArrayBuffer:S5,isBuffer:fH,isFormData:AH,isArrayBufferView:pH,isString:gH,isNumber:A5,isBoolean:yH,isObject:mk,isPlainObject:l1,isReadableStream:vH,isRequest:EH,isResponse:IH,isHeaders:RH,isUndefined:By,isDate:mH,isFile:bH,isBlob:wH,isRegExp:DH,isFunction:Lo,isStream:SH,isURLSearchParams:_H,isTypedArray:OH,isFileList:kH,forEach:Pm,merge:uI,extend:xH,trim:PH,stripBOM:BH,inherits:TH,toFlatObject:CH,kindOf:gk,kindOfTest:da,endsWith:MH,toArray:LH,forEachEntry:NH,matchAll:$H,isHTMLForm:qH,hasOwnProperty:iC,hasOwnProp:iC,reduceDescriptors:I5,freezeMethods:UH,toObjectSet:KH,toCamelCase:zH,noop:WH,toFiniteNumber:FH,findKey:_5,global:v5,isContextDefined:E5,ALPHABET:R5,generateString:VH,isSpecCompliantForm:jH,toJSONObject:HH,isAsyncFn:YH,isThenable:GH};function Pt(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i)}me.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const P5=Pt.prototype,x5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{x5[n]={value:n}});Object.defineProperties(Pt,x5);Object.defineProperty(P5,"isAxiosError",{value:!0});Pt.from=(n,e,t,r,i,s)=>{const o=Object.create(P5);return me.toFlatObject(n,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),Pt.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const JH=null;function lI(n){return me.isPlainObject(n)||me.isArray(n)}function B5(n){return me.endsWith(n,"[]")?n.slice(0,-2):n}function oC(n,e,t){return n?n.concat(e).map(function(i,s){return i=B5(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function QH(n){return me.isArray(n)&&!n.some(lI)}const ZH=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function bk(n,e,t){if(!me.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=me.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!me.isUndefined(S[y])});const r=t.metaTokens,i=t.visitor||l,s=t.dots,o=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(me.isDate(g))return g.toISOString();if(!c&&me.isBlob(g))throw new Pt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(g)||me.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,y,S){let w=g;if(g&&!S&&typeof g=="object"){if(me.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(me.isArray(g)&&QH(g)||(me.isFileList(g)||me.endsWith(y,"[]"))&&(w=me.toArray(g)))return y=B5(y),w.forEach(function(R,x){!(me.isUndefined(R)||R===null)&&e.append(o===!0?oC([y],x,s):o===null?y:y+"[]",u(R))}),!1}return lI(g)?!0:(e.append(oC(S,y,s),u(g)),!1)}const d=[],b=Object.assign(ZH,{defaultVisitor:l,convertValue:u,isVisitable:lI});function p(g,y){if(!me.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),me.forEach(g,function(w,_){(!(me.isUndefined(w)||w===null)&&i.call(e,w,me.isString(_)?_.trim():_,y,b))===!0&&p(w,y?y.concat(_):[_])}),d.pop()}}if(!me.isObject(n))throw new TypeError("data must be an object");return p(n),e}function aC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function rx(n,e){this._pairs=[],n&&bk(n,this,e)}const T5=rx.prototype;T5.append=function(e,t){this._pairs.push([e,t])};T5.toString=function(e){const t=e?function(r){return e.call(this,r,aC)}:aC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function XH(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function C5(n,e,t){if(!e)return n;const r=t&&t.encode||XH,i=t&&t.serialize;let s;if(i?s=i(e,t):s=me.isURLSearchParams(e)?e.toString():new rx(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}let cC=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(r){r!==null&&e(r)})}};const M5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},e7=typeof URLSearchParams<"u"?URLSearchParams:rx,t7=typeof FormData<"u"?FormData:null,n7=typeof Blob<"u"?Blob:null,r7={isBrowser:!0,classes:{URLSearchParams:e7,FormData:t7,Blob:n7},protocols:["http","https","file","blob","url","data"]},ix=typeof window<"u"&&typeof document<"u",i7=(n=>ix&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),s7=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o7=ix&&window.location.href||"http://localhost",a7=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ix,hasStandardBrowserEnv:i7,hasStandardBrowserWebWorkerEnv:s7,origin:o7},Symbol.toStringTag,{value:"Module"})),ia={...a7,...r7};function c7(n,e){return bk(n,new ia.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return ia.isNode&&me.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function u7(n){return me.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function l7(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function L5(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=t.length;return o=!o&&me.isArray(i)?i.length:o,c?(me.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!me.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&me.isArray(i[o])&&(i[o]=l7(i[o])),!a)}if(me.isFormData(n)&&me.isFunction(n.entries)){const t={};return me.forEachEntry(n,(r,i)=>{e(u7(r),i,t,0)}),t}return null}function d7(n,e,t){if(me.isString(n))try{return(e||JSON.parse)(n),me.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const xm={transitional:M5,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=me.isObject(e);if(s&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return i?JSON.stringify(L5(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return c7(e,this.formSerializer).toString();if((a=me.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return bk(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),d7(e)):e}],transformResponse:[function(e){const t=this.transitional||xm.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pt.from(a,Pt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ia.classes.FormData,Blob:ia.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],n=>{xm.headers[n]={}});const h7=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),f7=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&h7[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},uC=Symbol("internals");function lg(n){return n&&String(n).trim().toLowerCase()}function d1(n){return n===!1||n==null?n:me.isArray(n)?n.map(d1):String(n)}function p7(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const g7=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function GA(n,e,t,r,i){if(me.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!me.isString(e)){if(me.isString(r))return e.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(e)}}function y7(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function m7(n,e){const t=me.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Ds{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(a,c,u){const l=lg(c);if(!l)throw new Error("header name must be a non-empty string");const d=me.findKey(i,l);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||c]=d1(a))}const o=(a,c)=>me.forEach(a,(u,l)=>s(u,l,c));if(me.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(me.isString(e)&&(e=e.trim())&&!g7(e))o(f7(e),t);else if(me.isHeaders(e))for(const[a,c]of e.entries())s(c,a,r);else e!=null&&s(t,e,r);return this}get(e,t){if(e=lg(e),e){const r=me.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return p7(i);if(me.isFunction(t))return t.call(this,i,r);if(me.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=lg(e),e){const r=me.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||GA(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=lg(o),o){const a=me.findKey(r,o);a&&(!t||GA(r,r[a],a,t))&&(delete r[a],i=!0)}}return me.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||GA(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return me.forEach(this,(i,s)=>{const o=me.findKey(r,s);if(o){t[o]=d1(i),delete t[s];return}const a=e?y7(s):String(s).trim();a!==s&&delete t[s],t[a]=d1(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&me.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[uC]=this[uC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=lg(o);r[a]||(m7(i,o),r[a]=!0)}return me.isArray(e)?e.forEach(s):s(e),this}}Ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Ds.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});me.freezeMethods(Ds);function JA(n,e){const t=this||xm,r=e||t,i=Ds.from(r.headers);let s=r.data;return me.forEach(n,function(a){s=a.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function O5(n){return!!(n&&n.__CANCEL__)}function vp(n,e,t){Pt.call(this,n??"canceled",Pt.ERR_CANCELED,e,t),this.name="CanceledError"}me.inherits(vp,Pt,{__CANCEL__:!0});function N5(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Pt("Request failed with status code "+t.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function b7(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function w7(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),l=r[s];o||(o=u),t[i]=c,r[i]=u;let d=s,b=0;for(;d!==i;)b+=t[d++],d=d%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const p=l&&u-l;return p?Math.round(b*1e3/p):void 0}}function k7(n,e){let t=0;const r=1e3/e;let i=null;return function(){const o=this===!0,a=Date.now();if(o||a-t>r)return i&&(clearTimeout(i),i=null),t=a,n.apply(null,arguments);i||(i=setTimeout(()=>(i=null,t=Date.now(),n.apply(null,arguments)),r-(a-t)))}}const P0=(n,e,t=3)=>{let r=0;const i=w7(50,250);return k7(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:s,lengthComputable:a!=null};d[e?"download":"upload"]=!0,n(d)},t)},S7=ia.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function i(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=i(window.location.href),function(o){const a=me.isString(o)?i(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),A7=ia.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];me.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),me.isString(r)&&o.push("path="+r),me.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _7(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function v7(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function $5(n,e){return n&&!_7(e)?v7(n,e):e}const lC=n=>n instanceof Ds?{...n}:n;function sd(n,e){e=e||{};const t={};function r(u,l,d){return me.isPlainObject(u)&&me.isPlainObject(l)?me.merge.call({caseless:d},u,l):me.isPlainObject(l)?me.merge({},l):me.isArray(l)?l.slice():l}function i(u,l,d){if(me.isUndefined(l)){if(!me.isUndefined(u))return r(void 0,u,d)}else return r(u,l,d)}function s(u,l){if(!me.isUndefined(l))return r(void 0,l)}function o(u,l){if(me.isUndefined(l)){if(!me.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in e)return r(u,l);if(d in n)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l)=>i(lC(u),lC(l),!0)};return me.forEach(Object.keys(Object.assign({},n,e)),function(l){const d=c[l]||i,b=d(n[l],e[l],l);me.isUndefined(b)&&d!==a||(t[l]=b)}),t}const q5=n=>{const e=sd({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Ds.from(o),e.url=C5($5(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(me.isFormData(t)){if(ia.hasStandardBrowserEnv||ia.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...l]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...l].join("; "))}}if(ia.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(e)),r||r!==!1&&S7(e.url))){const u=i&&s&&A7.read(s);u&&o.set(i,u)}return e},E7=typeof XMLHttpRequest<"u",I7=E7&&function(n){return new Promise(function(t,r){const i=q5(n);let s=i.data;const o=Ds.from(i.headers).normalize();let{responseType:a}=i,c;function u(){i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let l=new XMLHttpRequest;l.open(i.method.toUpperCase(),i.url,!0),l.timeout=i.timeout;function d(){if(!l)return;const p=Ds.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders()),y={data:!a||a==="text"||a==="json"?l.responseText:l.response,status:l.status,statusText:l.statusText,headers:p,config:n,request:l};N5(function(w){t(w),u()},function(w){r(w),u()},y),l=null}"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(d)},l.onabort=function(){l&&(r(new Pt("Request aborted",Pt.ECONNABORTED,i,l)),l=null)},l.onerror=function(){r(new Pt("Network Error",Pt.ERR_NETWORK,i,l)),l=null},l.ontimeout=function(){let g=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const y=i.transitional||M5;i.timeoutErrorMessage&&(g=i.timeoutErrorMessage),r(new Pt(g,y.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,i,l)),l=null},s===void 0&&o.setContentType(null),"setRequestHeader"in l&&me.forEach(o.toJSON(),function(g,y){l.setRequestHeader(y,g)}),me.isUndefined(i.withCredentials)||(l.withCredentials=!!i.withCredentials),a&&a!=="json"&&(l.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&l.addEventListener("progress",P0(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",P0(i.onUploadProgress)),(i.cancelToken||i.signal)&&(c=p=>{l&&(r(!p||p.type?new vp(null,n,l):p),l.abort(),l=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const b=b7(i.url);if(b&&ia.protocols.indexOf(b)===-1){r(new Pt("Unsupported protocol "+b+":",Pt.ERR_BAD_REQUEST,n));return}l.send(s||null)})},R7=(n,e)=>{let t=new AbortController,r;const i=function(c){if(!r){r=!0,o();const u=c instanceof Error?c:this.reason;t.abort(u instanceof Pt?u:new vp(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{i(new Pt(`timeout ${e} of ms exceeded`,Pt.ETIMEDOUT))},e);const o=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(c=>{c&&(c.removeEventListener?c.removeEventListener("abort",i):c.unsubscribe(i))}),n=null)};n.forEach(c=>c&&c.addEventListener&&c.addEventListener("abort",i));const{signal:a}=t;return a.unsubscribe=o,[a,()=>{s&&clearTimeout(s),s=null}]},P7=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},x7=async function*(n,e,t){for await(const r of n)yield*P7(ArrayBuffer.isView(r)?r:await t(String(r)),e)},dC=(n,e,t,r,i)=>{const s=x7(n,e,i);let o=0;return new ReadableStream({type:"bytes",async pull(a){const{done:c,value:u}=await s.next();if(c){a.close(),r();return}let l=u.byteLength;t&&t(o+=l),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},hC=(n,e)=>{const t=n!=null;return r=>setTimeout(()=>e({lengthComputable:t,total:n,loaded:r}))},wk=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",z5=wk&&typeof ReadableStream=="function",dI=wk&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),B7=z5&&(()=>{let n=!1;const e=new Request(ia.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e})(),fC=64*1024,hI=z5&&!!(()=>{try{return me.isReadableStream(new Response("").body)}catch{}})(),x0={stream:hI&&(n=>n.body)};wk&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!x0[e]&&(x0[e]=me.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Pt(`Response type '${e}' is not supported`,Pt.ERR_NOT_SUPPORT,r)})})})(new Response);const T7=async n=>{if(n==null)return 0;if(me.isBlob(n))return n.size;if(me.isSpecCompliantForm(n))return(await new Request(n).arrayBuffer()).byteLength;if(me.isArrayBufferView(n))return n.byteLength;if(me.isURLSearchParams(n)&&(n=n+""),me.isString(n))return(await dI(n)).byteLength},C7=async(n,e)=>{const t=me.toFiniteNumber(n.getContentLength());return t??T7(e)},M7=wk&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:u,headers:l,withCredentials:d="same-origin",fetchOptions:b}=q5(n);u=u?(u+"").toLowerCase():"text";let[p,g]=i||s||o?R7([i,s],o):[],y,S;const w=()=>{!y&&setTimeout(()=>{p&&p.unsubscribe()}),y=!0};let _;try{if(c&&B7&&t!=="get"&&t!=="head"&&(_=await C7(l,r))!==0){let G=new Request(e,{method:"POST",body:r,duplex:"half"}),M;me.isFormData(r)&&(M=G.headers.get("content-type"))&&l.setContentType(M),G.body&&(r=dC(G.body,fC,hC(_,P0(c)),null,dI))}me.isString(d)||(d=d?"cors":"omit"),S=new Request(e,{...b,signal:p,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",withCredentials:d});let R=await fetch(S);const x=hI&&(u==="stream"||u==="response");if(hI&&(a||x)){const G={};["status","statusText","headers"].forEach(Q=>{G[Q]=R[Q]});const M=me.toFiniteNumber(R.headers.get("content-length"));R=new Response(dC(R.body,fC,a&&hC(M,P0(a,!0)),x&&w,dI),G)}u=u||"text";let K=await x0[me.findKey(x0,u)||"text"](R,n);return!x&&w(),g&&g(),await new Promise((G,M)=>{N5(G,M,{data:K,headers:Ds.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:S})})}catch(R){throw w(),R&&R.name==="TypeError"&&/fetch/i.test(R.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,n,S),{cause:R.cause||R}):Pt.from(R,R&&R.code,n,S)}}),fI={http:JH,xhr:I7,fetch:M7};me.forEach(fI,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const pC=n=>`- ${n}`,L7=n=>me.isFunction(n)||n===null||n===!1,D5={getAdapter:n=>{n=me.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!L7(t)&&(r=fI[(o=String(t)).toLowerCase()],r===void 0))throw new Pt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(pC).join(`
`):" "+pC(s[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:fI};function QA(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new vp(null,n)}function gC(n){return QA(n),n.headers=Ds.from(n.headers),n.data=JA.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),D5.getAdapter(n.adapter||xm.adapter)(n).then(function(r){return QA(n),r.data=JA.call(n,n.transformResponse,r),r.headers=Ds.from(r.headers),r},function(r){return O5(r)||(QA(n),r&&r.response&&(r.response.data=JA.call(n,n.transformResponse,r.response),r.response.headers=Ds.from(r.response.headers))),Promise.reject(r)})}const U5="1.7.2",sx={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{sx[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const yC={};sx.transitional=function(e,t,r){function i(s,o){return"[Axios v"+U5+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Pt(i(o," has been removed"+(t?" in "+t:"")),Pt.ERR_DEPRECATED);return t&&!yC[o]&&(yC[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function O7(n,e,t){if(typeof n!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new Pt("option "+s+" must be "+c,Pt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pt("Unknown option "+s,Pt.ERR_BAD_OPTION)}}const pI={assertOptions:O7,validators:sx},su=pI.validators;let Jl=class{constructor(e){this.defaults=e,this.interceptors={request:new cC,response:new cC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sd(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&pI.assertOptions(r,{silentJSONParsing:su.transitional(su.boolean),forcedJSONParsing:su.transitional(su.boolean),clarifyTimeoutError:su.transitional(su.boolean)},!1),i!=null&&(me.isFunction(i)?t.paramsSerializer={serialize:i}:pI.assertOptions(i,{encode:su.function,serialize:su.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&me.merge(s.common,s[t.method]);s&&me.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=Ds.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let l,d=0,b;if(!c){const g=[gC.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),b=g.length,l=Promise.resolve(t);d<b;)l=l.then(g[d++],g[d++]);return l}b=a.length;let p=t;for(d=0;d<b;){const g=a[d++],y=a[d++];try{p=g(p)}catch(S){y.call(this,S);break}}try{l=gC.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,b=u.length;d<b;)l=l.then(u[d++],u[d++]);return l}getUri(e){e=sd(this.defaults,e);const t=$5(e.baseURL,e.url);return C5(t,e.params,e.paramsSerializer)}};me.forEach(["delete","get","head","options"],function(e){Jl.prototype[e]=function(t,r){return this.request(sd(r||{},{method:e,url:t,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,a){return this.request(sd(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Jl.prototype[e]=t(),Jl.prototype[e+"Form"]=t(!0)});class ox{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new vp(s,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new ox(function(i){e=i}),cancel:e}}}function N7(n){return function(t){return n.apply(null,t)}}function $7(n){return me.isObject(n)&&n.isAxiosError===!0}const gI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gI).forEach(([n,e])=>{gI[e]=n});function K5(n){const e=new Jl(n),t=k5(Jl.prototype.request,e);return me.extend(t,Jl.prototype,e,{allOwnKeys:!0}),me.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return K5(sd(n,i))},t}const ri=K5(xm);ri.Axios=Jl;ri.CanceledError=vp;ri.CancelToken=ox;ri.isCancel=O5;ri.VERSION=U5;ri.toFormData=bk;ri.AxiosError=Pt;ri.Cancel=ri.CanceledError;ri.all=function(e){return Promise.all(e)};ri.spread=N7;ri.isAxiosError=$7;ri.mergeConfig=sd;ri.AxiosHeaders=Ds;ri.formToJSON=n=>L5(me.isHTMLForm(n)?new FormData(n):n);ri.getAdapter=D5.getAdapter;ri.HttpStatusCode=gI;ri.default=ri;var H={},kk={};kk.byteLength=D7;kk.toByteArray=K7;kk.fromByteArray=V7;var Ra=[],_o=[],q7=typeof Uint8Array<"u"?Uint8Array:Array,ZA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var jd=0,z7=ZA.length;jd<z7;++jd)Ra[jd]=ZA[jd],_o[ZA.charCodeAt(jd)]=jd;_o[45]=62;_o[95]=63;function W5(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function D7(n){var e=W5(n),t=e[0],r=e[1];return(t+r)*3/4-r}function U7(n,e,t){return(e+t)*3/4-t}function K7(n){var e,t=W5(n),r=t[0],i=t[1],s=new q7(U7(n,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=_o[n.charCodeAt(c)]<<18|_o[n.charCodeAt(c+1)]<<12|_o[n.charCodeAt(c+2)]<<6|_o[n.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=_o[n.charCodeAt(c)]<<2|_o[n.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=_o[n.charCodeAt(c)]<<10|_o[n.charCodeAt(c+1)]<<4|_o[n.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function W7(n){return Ra[n>>18&63]+Ra[n>>12&63]+Ra[n>>6&63]+Ra[n&63]}function F7(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(W7(r));return i.join("")}function V7(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(F7(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(Ra[e>>2]+Ra[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Ra[e>>10]+Ra[e>>4&63]+Ra[e<<2&63]+"=")),i.join("")}var ax={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ax.read=function(n,e,t,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,b=t?-1:1,p=n[e+d];for(d+=b,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=s*256+n[e+d],d+=b,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+n[e+d],d+=b,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(p?-1:1)*o*Math.pow(2,s-r)};ax.write=function(n,e,t,r,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,d=l>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,g=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=b/c:e+=b*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+p]=a&255,p+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;n[t+p]=o&255,p+=g,o/=256,u-=8);n[t+p-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=kk,t=ax,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=_,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(A,h),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const h=new Uint8Array(A);return Object.setPrototypeOf(h,a.prototype),h}function a(A,h,f){if(typeof A=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,h,f)}a.poolSize=8192;function c(A,h,f){if(typeof A=="string")return b(A,h);if(ArrayBuffer.isView(A))return g(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(an(A,ArrayBuffer)||A&&an(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(an(A,SharedArrayBuffer)||A&&an(A.buffer,SharedArrayBuffer)))return y(A,h,f);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=A.valueOf&&A.valueOf();if(I!=null&&I!==A)return a.from(I,h,f);const q=S(A);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),h,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,h,f){return c(A,h,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function l(A,h,f){return u(A),A<=0?o(A):h!==void 0?typeof f=="string"?o(A).fill(h,f):o(A).fill(h):o(A)}a.alloc=function(A,h,f){return l(A,h,f)};function d(A){return u(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function b(A,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const f=R(A,h)|0;let I=o(f);const q=I.write(A,h);return q!==f&&(I=I.slice(0,q)),I}function p(A){const h=A.length<0?0:w(A.length)|0,f=o(h);for(let I=0;I<h;I+=1)f[I]=A[I]&255;return f}function g(A){if(an(A,Uint8Array)){const h=new Uint8Array(A);return y(h.buffer,h.byteOffset,h.byteLength)}return p(A)}function y(A,h,f){if(h<0||A.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<h+(f||0))throw new RangeError('"length" is outside of buffer bounds');let I;return h===void 0&&f===void 0?I=new Uint8Array(A):f===void 0?I=new Uint8Array(A,h):I=new Uint8Array(A,h,f),Object.setPrototypeOf(I,a.prototype),I}function S(A){if(a.isBuffer(A)){const h=w(A.length)|0,f=o(h);return f.length===0||A.copy(f,0,0,h),f}if(A.length!==void 0)return typeof A.length!="number"||Bt(A.length)?o(0):p(A);if(A.type==="Buffer"&&Array.isArray(A.data))return p(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function _(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,f){if(an(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),an(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(h)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===f)return 0;let I=h.length,q=f.length;for(let J=0,te=Math.min(I,q);J<te;++J)if(h[J]!==f[J]){I=h[J],q=f[J];break}return I<q?-1:q<I?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,f){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let I;if(f===void 0)for(f=0,I=0;I<h.length;++I)f+=h[I].length;const q=a.allocUnsafe(f);let J=0;for(I=0;I<h.length;++I){let te=h[I];if(an(te,Uint8Array))J+te.length>q.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(q,J)):Uint8Array.prototype.set.call(q,te,J);else if(a.isBuffer(te))te.copy(q,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=te.length}return q};function R(A,h){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||an(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const f=A.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&f===0)return 0;let q=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return Ht(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return wn(A).length;default:if(q)return I?-1:Ht(A).length;h=(""+h).toLowerCase(),q=!0}}a.byteLength=R;function x(A,h,f){let I=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,h>>>=0,f<=h))return"";for(A||(A="utf8");;)switch(A){case"hex":return N(this,h,f);case"utf8":case"utf-8":return m(this,h,f);case"ascii":return V(this,h,f);case"latin1":case"binary":return C(this,h,f);case"base64":return z(this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,h,f);default:if(I)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function K(A,h,f){const I=A[h];A[h]=A[f],A[f]=I}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<h;f+=2)K(this,f,f+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<h;f+=4)K(this,f,f+3),K(this,f+1,f+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<h;f+=8)K(this,f,f+7),K(this,f+1,f+6),K(this,f+2,f+5),K(this,f+3,f+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?m(this,0,h):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const f=n.INSPECT_MAX_BYTES;return h=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,f,I,q,J){if(an(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(f===void 0&&(f=0),I===void 0&&(I=h?h.length:0),q===void 0&&(q=0),J===void 0&&(J=this.length),f<0||I>h.length||q<0||J>this.length)throw new RangeError("out of range index");if(q>=J&&f>=I)return 0;if(q>=J)return-1;if(f>=I)return 1;if(f>>>=0,I>>>=0,q>>>=0,J>>>=0,this===h)return 0;let te=J-q,Le=I-f;const Xe=Math.min(te,Le),We=this.slice(q,J),mt=h.slice(f,I);for(let Oe=0;Oe<Xe;++Oe)if(We[Oe]!==mt[Oe]){te=We[Oe],Le=mt[Oe];break}return te<Le?-1:Le<te?1:0};function G(A,h,f,I,q){if(A.length===0)return-1;if(typeof f=="string"?(I=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Bt(f)&&(f=q?0:A.length-1),f<0&&(f=A.length+f),f>=A.length){if(q)return-1;f=A.length-1}else if(f<0)if(q)f=0;else return-1;if(typeof h=="string"&&(h=a.from(h,I)),a.isBuffer(h))return h.length===0?-1:M(A,h,f,I,q);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(A,h,f):Uint8Array.prototype.lastIndexOf.call(A,h,f):M(A,[h],f,I,q);throw new TypeError("val must be string, number or Buffer")}function M(A,h,f,I,q){let J=1,te=A.length,Le=h.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(A.length<2||h.length<2)return-1;J=2,te/=2,Le/=2,f/=2}function Xe(mt,Oe){return J===1?mt[Oe]:mt.readUInt16BE(Oe*J)}let We;if(q){let mt=-1;for(We=f;We<te;We++)if(Xe(A,We)===Xe(h,mt===-1?0:We-mt)){if(mt===-1&&(mt=We),We-mt+1===Le)return mt*J}else mt!==-1&&(We-=We-mt),mt=-1}else for(f+Le>te&&(f=te-Le),We=f;We>=0;We--){let mt=!0;for(let Oe=0;Oe<Le;Oe++)if(Xe(A,We+Oe)!==Xe(h,Oe)){mt=!1;break}if(mt)return We}return-1}a.prototype.includes=function(h,f,I){return this.indexOf(h,f,I)!==-1},a.prototype.indexOf=function(h,f,I){return G(this,h,f,I,!0)},a.prototype.lastIndexOf=function(h,f,I){return G(this,h,f,I,!1)};function Q(A,h,f,I){f=Number(f)||0;const q=A.length-f;I?(I=Number(I),I>q&&(I=q)):I=q;const J=h.length;I>J/2&&(I=J/2);let te;for(te=0;te<I;++te){const Le=parseInt(h.substr(te*2,2),16);if(Bt(Le))return te;A[f+te]=Le}return te}function ie(A,h,f,I){return nn(Ht(h,A.length-f),A,f,I)}function ee(A,h,f,I){return nn(On(h),A,f,I)}function X(A,h,f,I){return nn(wn(h),A,f,I)}function oe(A,h,f,I){return nn(So(h,A.length-f),A,f,I)}a.prototype.write=function(h,f,I,q){if(f===void 0)q="utf8",I=this.length,f=0;else if(I===void 0&&typeof f=="string")q=f,I=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(I)?(I=I>>>0,q===void 0&&(q="utf8")):(q=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-f;if((I===void 0||I>J)&&(I=J),h.length>0&&(I<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let te=!1;for(;;)switch(q){case"hex":return Q(this,h,f,I);case"utf8":case"utf-8":return ie(this,h,f,I);case"ascii":case"latin1":case"binary":return ee(this,h,f,I);case"base64":return X(this,h,f,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,h,f,I);default:if(te)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(A,h,f){return h===0&&f===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(h,f))}function m(A,h,f){f=Math.min(A.length,f);const I=[];let q=h;for(;q<f;){const J=A[q];let te=null,Le=J>239?4:J>223?3:J>191?2:1;if(q+Le<=f){let Xe,We,mt,Oe;switch(Le){case 1:J<128&&(te=J);break;case 2:Xe=A[q+1],(Xe&192)===128&&(Oe=(J&31)<<6|Xe&63,Oe>127&&(te=Oe));break;case 3:Xe=A[q+1],We=A[q+2],(Xe&192)===128&&(We&192)===128&&(Oe=(J&15)<<12|(Xe&63)<<6|We&63,Oe>2047&&(Oe<55296||Oe>57343)&&(te=Oe));break;case 4:Xe=A[q+1],We=A[q+2],mt=A[q+3],(Xe&192)===128&&(We&192)===128&&(mt&192)===128&&(Oe=(J&15)<<18|(Xe&63)<<12|(We&63)<<6|mt&63,Oe>65535&&Oe<1114112&&(te=Oe))}}te===null?(te=65533,Le=1):te>65535&&(te-=65536,I.push(te>>>10&1023|55296),te=56320|te&1023),I.push(te),q+=Le}return T(I)}const v=4096;function T(A){const h=A.length;if(h<=v)return String.fromCharCode.apply(String,A);let f="",I=0;for(;I<h;)f+=String.fromCharCode.apply(String,A.slice(I,I+=v));return f}function V(A,h,f){let I="";f=Math.min(A.length,f);for(let q=h;q<f;++q)I+=String.fromCharCode(A[q]&127);return I}function C(A,h,f){let I="";f=Math.min(A.length,f);for(let q=h;q<f;++q)I+=String.fromCharCode(A[q]);return I}function N(A,h,f){const I=A.length;(!h||h<0)&&(h=0),(!f||f<0||f>I)&&(f=I);let q="";for(let J=h;J<f;++J)q+=mn[A[J]];return q}function Z(A,h,f){const I=A.slice(h,f);let q="";for(let J=0;J<I.length-1;J+=2)q+=String.fromCharCode(I[J]+I[J+1]*256);return q}a.prototype.slice=function(h,f){const I=this.length;h=~~h,f=f===void 0?I:~~f,h<0?(h+=I,h<0&&(h=0)):h>I&&(h=I),f<0?(f+=I,f<0&&(f=0)):f>I&&(f=I),f<h&&(f=h);const q=this.subarray(h,f);return Object.setPrototypeOf(q,a.prototype),q};function L(A,h,f){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+h>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=this[h],J=1,te=0;for(;++te<f&&(J*=256);)q+=this[h+te]*J;return q},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=this[h+--f],J=1;for(;f>0&&(J*=256);)q+=this[h+--f]*J;return q},a.prototype.readUint8=a.prototype.readUInt8=function(h,f){return h=h>>>0,f||L(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,f){return h=h>>>0,f||L(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,f){return h=h>>>0,f||L(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,f){return h=h>>>0,f||L(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,f){return h=h>>>0,f||L(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,J=this[++h]+this[++h]*2**8+this[++h]*2**16+I*2**24;return BigInt(q)+(BigInt(J)<<BigInt(32))}),a.prototype.readBigUInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=f*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],J=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I;return(BigInt(q)<<BigInt(32))+BigInt(J)}),a.prototype.readIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=this[h],J=1,te=0;for(;++te<f&&(J*=256);)q+=this[h+te]*J;return J*=128,q>=J&&(q-=Math.pow(2,8*f)),q},a.prototype.readIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=f,J=1,te=this[h+--q];for(;q>0&&(J*=256);)te+=this[h+--q]*J;return J*=128,te>=J&&(te-=Math.pow(2,8*f)),te},a.prototype.readInt8=function(h,f){return h=h>>>0,f||L(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,f){h=h>>>0,f||L(h,2,this.length);const I=this[h]|this[h+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(h,f){h=h>>>0,f||L(h,2,this.length);const I=this[h+1]|this[h]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(h,f){return h=h>>>0,f||L(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,f){return h=h>>>0,f||L(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(I<<24);return(BigInt(q)<<BigInt(32))+BigInt(f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=(f<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(q)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I)}),a.prototype.readFloatLE=function(h,f){return h=h>>>0,f||L(h,4,this.length),t.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,f){return h=h>>>0,f||L(h,4,this.length),t.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,f){return h=h>>>0,f||L(h,8,this.length),t.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,f){return h=h>>>0,f||L(h,8,this.length),t.read(this,h,!1,52,8)};function E(A,h,f,I,q,J){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>q||h<J)throw new RangeError('"value" argument is out of bounds');if(f+I>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,f,I,q){if(h=+h,f=f>>>0,I=I>>>0,!q){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let J=1,te=0;for(this[f]=h&255;++te<I&&(J*=256);)this[f+te]=h/J&255;return f+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,f,I,q){if(h=+h,f=f>>>0,I=I>>>0,!q){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let J=I-1,te=1;for(this[f+J]=h&255;--J>=0&&(te*=256);)this[f+J]=h/te&255;return f+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,255,0),this[f]=h&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f+3]=h>>>24,this[f+2]=h>>>16,this[f+1]=h>>>8,this[f]=h&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4};function Y(A,h,f,I,q){yt(h,I,q,A,f,7);let J=Number(h&BigInt(4294967295));A[f++]=J,J=J>>8,A[f++]=J,J=J>>8,A[f++]=J,J=J>>8,A[f++]=J;let te=Number(h>>BigInt(32)&BigInt(4294967295));return A[f++]=te,te=te>>8,A[f++]=te,te=te>>8,A[f++]=te,te=te>>8,A[f++]=te,f}function be(A,h,f,I,q){yt(h,I,q,A,f,7);let J=Number(h&BigInt(4294967295));A[f+7]=J,J=J>>8,A[f+6]=J,J=J>>8,A[f+5]=J,J=J>>8,A[f+4]=J;let te=Number(h>>BigInt(32)&BigInt(4294967295));return A[f+3]=te,te=te>>8,A[f+2]=te,te=te>>8,A[f+1]=te,te=te>>8,A[f]=te,f+8}a.prototype.writeBigUInt64LE=xn(function(h,f=0){return Y(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xn(function(h,f=0){return be(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,f,I,q){if(h=+h,f=f>>>0,!q){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let J=0,te=1,Le=0;for(this[f]=h&255;++J<I&&(te*=256);)h<0&&Le===0&&this[f+J-1]!==0&&(Le=1),this[f+J]=(h/te>>0)-Le&255;return f+I},a.prototype.writeIntBE=function(h,f,I,q){if(h=+h,f=f>>>0,!q){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let J=I-1,te=1,Le=0;for(this[f+J]=h&255;--J>=0&&(te*=256);)h<0&&Le===0&&this[f+J+1]!==0&&(Le=1),this[f+J]=(h/te>>0)-Le&255;return f+I},a.prototype.writeInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,127,-128),h<0&&(h=255+h+1),this[f]=h&255,f+1},a.prototype.writeInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),this[f]=h&255,this[f+1]=h>>>8,this[f+2]=h>>>16,this[f+3]=h>>>24,f+4},a.prototype.writeInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4},a.prototype.writeBigInt64LE=xn(function(h,f=0){return Y(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xn(function(h,f=0){return be(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(A,h,f,I,q,J){if(f+I>A.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ve(A,h,f,I,q){return h=+h,f=f>>>0,q||Ae(A,h,f,4),t.write(A,h,f,I,23,4),f+4}a.prototype.writeFloatLE=function(h,f,I){return ve(this,h,f,!0,I)},a.prototype.writeFloatBE=function(h,f,I){return ve(this,h,f,!1,I)};function De(A,h,f,I,q){return h=+h,f=f>>>0,q||Ae(A,h,f,8),t.write(A,h,f,I,52,8),f+8}a.prototype.writeDoubleLE=function(h,f,I){return De(this,h,f,!0,I)},a.prototype.writeDoubleBE=function(h,f,I){return De(this,h,f,!1,I)},a.prototype.copy=function(h,f,I,q){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(I||(I=0),!q&&q!==0&&(q=this.length),f>=h.length&&(f=h.length),f||(f=0),q>0&&q<I&&(q=I),q===I||h.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),h.length-f<q-I&&(q=h.length-f+I);const J=q-I;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,I,q):Uint8Array.prototype.set.call(h,this.subarray(I,q),f),J},a.prototype.fill=function(h,f,I,q){if(typeof h=="string"){if(typeof f=="string"?(q=f,f=0,I=this.length):typeof I=="string"&&(q=I,I=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(h.length===1){const te=h.charCodeAt(0);(q==="utf8"&&te<128||q==="latin1")&&(h=te)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(f<0||this.length<f||this.length<I)throw new RangeError("Out of range index");if(I<=f)return this;f=f>>>0,I=I===void 0?this.length:I>>>0,h||(h=0);let J;if(typeof h=="number")for(J=f;J<I;++J)this[J]=h;else{const te=a.isBuffer(h)?h:a.from(h,q),Le=te.length;if(Le===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(J=0;J<I-f;++J)this[J+f]=te[J%Le]}return this};const Ge={};function Ke(A,h,f){Ge[A]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(A,h){return`The "${A}" argument must be of type number. Received type ${typeof h}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(A,h,f){let I=`The value of "${A}" is out of range.`,q=f;return Number.isInteger(f)&&Math.abs(f)>2**32?q=Pn(String(f)):typeof f=="bigint"&&(q=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(q=Pn(q)),q+="n"),I+=` It must be ${h}. Received ${q}`,I},RangeError);function Pn(A){let h="",f=A.length;const I=A[0]==="-"?1:0;for(;f>=I+4;f-=3)h=`_${A.slice(f-3,f)}${h}`;return`${A.slice(0,f)}${h}`}function wt(A,h,f){kt(h,"offset"),(A[h]===void 0||A[h+f]===void 0)&&bt(h,A.length-(f+1))}function yt(A,h,f,I,q,J){if(A>f||A<h){const te=typeof h=="bigint"?"n":"";let Le;throw h===0||h===BigInt(0)?Le=`>= 0${te} and < 2${te} ** ${(J+1)*8}${te}`:Le=`>= -(2${te} ** ${(J+1)*8-1}${te}) and < 2 ** ${(J+1)*8-1}${te}`,new Ge.ERR_OUT_OF_RANGE("value",Le,A)}wt(I,q,J)}function kt(A,h){if(typeof A!="number")throw new Ge.ERR_INVALID_ARG_TYPE(h,"number",A)}function bt(A,h,f){throw Math.floor(A)!==A?(kt(A,f),new Ge.ERR_OUT_OF_RANGE("offset","an integer",A)):h<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,A)}const tn=/[^+/0-9A-Za-z-_]/g;function dr(A){if(A=A.split("=")[0],A=A.trim().replace(tn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Ht(A,h){h=h||1/0;let f;const I=A.length;let q=null;const J=[];for(let te=0;te<I;++te){if(f=A.charCodeAt(te),f>55295&&f<57344){if(!q){if(f>56319){(h-=3)>-1&&J.push(239,191,189);continue}else if(te+1===I){(h-=3)>-1&&J.push(239,191,189);continue}q=f;continue}if(f<56320){(h-=3)>-1&&J.push(239,191,189),q=f;continue}f=(q-55296<<10|f-56320)+65536}else q&&(h-=3)>-1&&J.push(239,191,189);if(q=null,f<128){if((h-=1)<0)break;J.push(f)}else if(f<2048){if((h-=2)<0)break;J.push(f>>6|192,f&63|128)}else if(f<65536){if((h-=3)<0)break;J.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((h-=4)<0)break;J.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return J}function On(A){const h=[];for(let f=0;f<A.length;++f)h.push(A.charCodeAt(f)&255);return h}function So(A,h){let f,I,q;const J=[];for(let te=0;te<A.length&&!((h-=2)<0);++te)f=A.charCodeAt(te),I=f>>8,q=f%256,J.push(q),J.push(I);return J}function wn(A){return e.toByteArray(dr(A))}function nn(A,h,f,I){let q;for(q=0;q<I&&!(q+f>=h.length||q>=A.length);++q)h[q+f]=A[q];return q}function an(A,h){return A instanceof h||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===h.name}function Bt(A){return A!==A}const mn=function(){const A="0123456789abcdef",h=new Array(256);for(let f=0;f<16;++f){const I=f*16;for(let q=0;q<16;++q)h[I+q]=A[f]+A[q]}return h}();function xn(A){return typeof BigInt>"u"?Tt:A}function Tt(){throw new Error("BigInt not supported")}})(H);function B0(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function j7(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Bm(n,...e){if(!j7(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function H7(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");B0(n.outputLen),B0(n.blockLen)}function Zh(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function F5(n,e){Bm(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const XA=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y7=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),e_=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),ya=(n,e)=>n<<32-e|n>>>e,mC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,G7=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function bC(n){for(let e=0;e<n.length;e++)n[e]=G7(n[e])}function V5(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function Sk(n){return typeof n=="string"&&(n=V5(n)),Bm(n),n}function j5(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];Bm(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}class cx{clone(){return this._cloneInto()}}function ux(n){const e=r=>n().update(Sk(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function H5(n=32){if(XA&&typeof XA.getRandomValues=="function")return XA.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function J7(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(t>>i&s),a=Number(t&s),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Q7=(n,e,t)=>n&e^~n&t,Z7=(n,e,t)=>n&e^n&t^e&t;class Y5 extends cx{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=e_(this.buffer)}update(e){Zh(this);const{view:t,buffer:r,blockLen:i}=this;e=Sk(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=e_(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Zh(this),F5(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)t[d]=0;J7(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=e_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%t&&e.buffer.set(r),e}}const Sb=BigInt(2**32-1),yI=BigInt(32);function G5(n,e=!1){return e?{h:Number(n&Sb),l:Number(n>>yI&Sb)}:{h:Number(n>>yI&Sb)|0,l:Number(n&Sb)|0}}function J5(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:o}=G5(n[i],e);[t[i],r[i]]=[s,o]}return[t,r]}const X7=(n,e)=>BigInt(n>>>0)<<yI|BigInt(e>>>0),eY=(n,e,t)=>n>>>t,tY=(n,e,t)=>n<<32-t|e>>>t,nY=(n,e,t)=>n>>>t|e<<32-t,rY=(n,e,t)=>n<<32-t|e>>>t,iY=(n,e,t)=>n<<64-t|e>>>t-32,sY=(n,e,t)=>n>>>t-32|e<<64-t,oY=(n,e)=>e,aY=(n,e)=>n,Q5=(n,e,t)=>n<<t|e>>>32-t,Z5=(n,e,t)=>e<<t|n>>>32-t,X5=(n,e,t)=>e<<t-32|n>>>64-t,e8=(n,e,t)=>n<<t-32|e>>>64-t;function cY(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const uY=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),lY=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,dY=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),hY=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,fY=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),pY=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,Lt={fromBig:G5,split:J5,toBig:X7,shrSH:eY,shrSL:tY,rotrSH:nY,rotrSL:rY,rotrBH:iY,rotrBL:sY,rotr32H:oY,rotr32L:aY,rotlSH:Q5,rotlSL:Z5,rotlBH:X5,rotlBL:e8,add:cY,add3L:uY,add3H:lY,add4L:dY,add4H:hY,add5H:pY,add5L:fY},[gY,yY]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),ou=new Uint32Array(80),au=new Uint32Array(80);class mY extends Y5{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:b,Gh:p,Gl:g,Hh:y,Hl:S}=this;return[e,t,r,i,s,o,a,c,u,l,d,b,p,g,y,S]}set(e,t,r,i,s,o,a,c,u,l,d,b,p,g,y,S){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=b|0,this.Gh=p|0,this.Gl=g|0,this.Hh=y|0,this.Hl=S|0}process(e,t){for(let R=0;R<16;R++,t+=4)ou[R]=e.getUint32(t),au[R]=e.getUint32(t+=4);for(let R=16;R<80;R++){const x=ou[R-15]|0,K=au[R-15]|0,G=Lt.rotrSH(x,K,1)^Lt.rotrSH(x,K,8)^Lt.shrSH(x,K,7),M=Lt.rotrSL(x,K,1)^Lt.rotrSL(x,K,8)^Lt.shrSL(x,K,7),Q=ou[R-2]|0,ie=au[R-2]|0,ee=Lt.rotrSH(Q,ie,19)^Lt.rotrBH(Q,ie,61)^Lt.shrSH(Q,ie,6),X=Lt.rotrSL(Q,ie,19)^Lt.rotrBL(Q,ie,61)^Lt.shrSL(Q,ie,6),oe=Lt.add4L(M,X,au[R-7],au[R-16]),z=Lt.add4H(oe,G,ee,ou[R-7],ou[R-16]);ou[R]=z|0,au[R]=oe|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:b,Fh:p,Fl:g,Gh:y,Gl:S,Hh:w,Hl:_}=this;for(let R=0;R<80;R++){const x=Lt.rotrSH(d,b,14)^Lt.rotrSH(d,b,18)^Lt.rotrBH(d,b,41),K=Lt.rotrSL(d,b,14)^Lt.rotrSL(d,b,18)^Lt.rotrBL(d,b,41),G=d&p^~d&y,M=b&g^~b&S,Q=Lt.add5L(_,K,M,yY[R],au[R]),ie=Lt.add5H(Q,w,x,G,gY[R],ou[R]),ee=Q|0,X=Lt.rotrSH(r,i,28)^Lt.rotrBH(r,i,34)^Lt.rotrBH(r,i,39),oe=Lt.rotrSL(r,i,28)^Lt.rotrBL(r,i,34)^Lt.rotrBL(r,i,39),z=r&s^r&a^s&a,m=i&o^i&c^o&c;w=y|0,_=S|0,y=p|0,S=g|0,p=d|0,g=b|0,{h:d,l:b}=Lt.add(u|0,l|0,ie|0,ee|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const v=Lt.add3L(ee,oe,m);r=Lt.add3H(v,ie,X,z),i=v|0}({h:r,l:i}=Lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Lt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:b}=Lt.add(this.Eh|0,this.El|0,d|0,b|0),{h:p,l:g}=Lt.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:y,l:S}=Lt.add(this.Gh|0,this.Gl|0,y|0,S|0),{h:w,l:_}=Lt.add(this.Hh|0,this.Hl|0,w|0,_|0),this.set(r,i,s,o,a,c,u,l,d,b,p,g,y,S,w,_)}roundClean(){ou.fill(0),au.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const t8=ux(()=>new mY);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const n8=BigInt(0),Ak=BigInt(1),bY=BigInt(2);function od(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Tm(n){if(!od(n))throw new Error("Uint8Array expected")}const wY=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function ad(n){Tm(n);let e="";for(let t=0;t<n.length;t++)e+=wY[n[t]];return e}function r8(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function lx(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const bc={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function wC(n){if(n>=bc._0&&n<=bc._9)return n-bc._0;if(n>=bc._A&&n<=bc._F)return n-(bc._A-10);if(n>=bc._a&&n<=bc._f)return n-(bc._a-10)}function Xh(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let i=0,s=0;i<t;i++,s+=2){const o=wC(n.charCodeAt(s)),a=wC(n.charCodeAt(s+1));if(o===void 0||a===void 0){const c=n[s]+n[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function Ql(n){return lx(ad(n))}function zh(n){return Tm(n),lx(ad(Uint8Array.from(n).reverse()))}function ef(n,e){return Xh(n.toString(16).padStart(e*2,"0"))}function Ty(n,e){return ef(n,e).reverse()}function kY(n){return Xh(r8(n))}function mi(n,e,t){let r;if(typeof e=="string")try{r=Xh(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(od(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function cd(...n){let e=0;for(let r=0;r<n.length;r++){const i=n[r];Tm(i),e+=i.length}const t=new Uint8Array(e);for(let r=0,i=0;r<n.length;r++){const s=n[r];t.set(s,i),i+=s.length}return t}function SY(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function AY(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function _Y(n){let e;for(e=0;n>n8;n>>=Ak,e+=1);return e}function vY(n,e){return n>>BigInt(e)&Ak}function EY(n,e,t){return n|(t?Ak:n8)<<BigInt(e)}const dx=n=>(bY<<BigInt(n-1))-Ak,t_=n=>new Uint8Array(n),kC=n=>Uint8Array.from(n);function i8(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=t_(n),i=t_(n),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>t(i,r,...d),c=(d=t_())=>{i=a(kC([0]),d),r=a(),d.length!==0&&(i=a(kC([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const b=[];for(;d<e;){r=a();const p=r.slice();b.push(p),d+=r.length}return cd(...b)};return(d,b)=>{o(),c(d);let p;for(;!(p=b(u()));)c();return o(),p}}const IY={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||od(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ep(n,e,t={}){const r=(i,s,o)=>{const a=IY[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=n[i];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const RY=Object.freeze(Object.defineProperty({__proto__:null,abytes:Tm,bitGet:vY,bitLen:_Y,bitMask:dx,bitSet:EY,bytesToHex:ad,bytesToNumberBE:Ql,bytesToNumberLE:zh,concatBytes:cd,createHmacDrbg:i8,ensureBytes:mi,equalBytes:SY,hexToBytes:Xh,hexToNumber:lx,isBytes:od,numberToBytesBE:ef,numberToBytesLE:Ty,numberToHexUnpadded:r8,numberToVarBytesBE:kY,utf8ToBytes:AY,validateObject:Ep},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ci=BigInt(0),Dr=BigInt(1),pl=BigInt(2),PY=BigInt(3),mI=BigInt(4),SC=BigInt(5),AC=BigInt(8);BigInt(9);BigInt(16);function Lr(n,e){const t=n%e;return t>=Ci?t:e+t}function xY(n,e,t){if(t<=Ci||e<Ci)throw new Error("Expected power/modulo > 0");if(t===Dr)return Ci;let r=Dr;for(;e>Ci;)e&Dr&&(r=r*n%t),n=n*n%t,e>>=Dr;return r}function Vr(n,e,t){let r=n;for(;e-- >Ci;)r*=r,r%=t;return r}function bI(n,e){if(n===Ci||e<=Ci)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Lr(n,e),r=e,i=Ci,s=Dr;for(;t!==Ci;){const a=r/t,c=r%t,u=i-s*a;r=t,t=c,i=s,s=u}if(r!==Dr)throw new Error("invert: does not exist");return Lr(i,e)}function BY(n){const e=(n-Dr)/pl;let t,r,i;for(t=n-Dr,r=0;t%pl===Ci;t/=pl,r++);for(i=pl;i<n&&xY(i,e,n)!==n-Dr;i++);if(r===1){const o=(n+Dr)/mI;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(t+Dr)/pl;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,i),t),d=a.pow(c,s),b=a.pow(c,t);for(;!a.eql(b,a.ONE);){if(a.eql(b,a.ZERO))return a.ZERO;let p=1;for(let y=a.sqr(b);p<u&&!a.eql(y,a.ONE);p++)y=a.sqr(y);const g=a.pow(l,Dr<<BigInt(u-p-1));l=a.sqr(g),d=a.mul(d,g),b=a.mul(b,l),u=p}return d}}function TY(n){if(n%mI===PY){const e=(n+Dr)/mI;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%AC===SC){const e=(n-SC)/AC;return function(r,i){const s=r.mul(i,pl),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,pl),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return BY(n)}const CY=(n,e)=>(Lr(n,e)&Dr)===Dr,MY=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function LY(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=MY.reduce((r,i)=>(r[i]="function",r),e);return Ep(n,t)}function OY(n,e,t){if(t<Ci)throw new Error("Expected power > 0");if(t===Ci)return n.ONE;if(t===Dr)return e;let r=n.ONE,i=e;for(;t>Ci;)t&Dr&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Dr;return r}function NY(n,e){const t=new Array(e.length),r=e.reduce((s,o,a)=>n.is0(o)?s:(t[a]=s,n.mul(s,o)),n.ONE),i=n.inv(r);return e.reduceRight((s,o,a)=>n.is0(o)?s:(t[a]=n.mul(s,t[a]),n.mul(s,o)),i),t}function s8(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function o8(n,e,t=!1,r={}){if(n<=Ci)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=s8(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=TY(n),a=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:dx(i),ZERO:Ci,ONE:Dr,create:c=>Lr(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ci<=c&&c<n},is0:c=>c===Ci,isOdd:c=>(c&Dr)===Dr,neg:c=>Lr(-c,n),eql:(c,u)=>c===u,sqr:c=>Lr(c*c,n),add:(c,u)=>Lr(c+u,n),sub:(c,u)=>Lr(c-u,n),mul:(c,u)=>Lr(c*u,n),pow:(c,u)=>OY(a,c,u),div:(c,u)=>Lr(c*bI(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>bI(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>NY(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Ty(c,s):ef(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return t?zh(c):Ql(c)}});return Object.freeze(a)}function $Y(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function a8(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function c8(n){const e=a8(n);return e+Math.ceil(e/2)}function qY(n,e,t=!1){const r=n.length,i=a8(e),s=c8(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=t?Ql(n):zh(n),a=Lr(o,e-Dr)+Dr;return t?Ty(a,i):ef(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zY=BigInt(0),n_=BigInt(1);function u8(n,e){const t=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:t,unsafeLadder(i,s){let o=n.ZERO,a=i;for(;s>zY;)s&n_&&(o=o.add(a)),a=a.double(),s>>=n_;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let b=1;b<a;b++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=n.ZERO,l=n.BASE;const d=BigInt(2**i-1),b=2**i,p=BigInt(i);for(let g=0;g<a;g++){const y=g*c;let S=Number(o&d);o>>=p,S>c&&(S-=b,o+=n_);const w=y,_=y+Math.abs(S)-1,R=g%2!==0,x=S<0;S===0?l=l.add(t(R,s[w])):u=u.add(t(x,s[_]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function hx(n){return LY(n.Fp),Ep(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...s8(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yo=BigInt(0),Gs=BigInt(1),Ab=BigInt(2),DY=BigInt(8),UY={zip215:!0};function KY(n){const e=hx(n);return Ep(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fx(n){const e=KY(n),{Fp:t,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,u=Ab<<BigInt(a*8)-Gs,l=t.create,d=e.uvRatio||((C,N)=>{try{return{isValid:!0,value:t.sqrt(C*t.inv(N))}}catch{return{isValid:!1,value:Yo}}}),b=e.adjustScalarBytes||(C=>C),p=e.domain||((C,N,Z)=>{if(N.length||Z)throw new Error("Contexts/pre-hash are not supported");return C}),g=C=>typeof C=="bigint"&&Yo<C,y=(C,N)=>g(C)&&g(N)&&C<N,S=C=>C===Yo||y(C,u);function w(C,N){if(y(C,N))return C;throw new Error(`Expected valid scalar < ${N}, got ${typeof C} ${C}`)}function _(C){return C===Yo?C:w(C,r)}const R=new Map;function x(C){if(!(C instanceof K))throw new Error("ExtendedPoint expected")}class K{constructor(N,Z,L,E){if(this.ex=N,this.ey=Z,this.ez=L,this.et=E,!S(N))throw new Error("x required");if(!S(Z))throw new Error("y required");if(!S(L))throw new Error("z required");if(!S(E))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof K)throw new Error("extended point not allowed");const{x:Z,y:L}=N||{};if(!S(Z)||!S(L))throw new Error("invalid affine point");return new K(Z,L,Gs,l(Z*L))}static normalizeZ(N){const Z=t.invertBatch(N.map(L=>L.ez));return N.map((L,E)=>L.toAffine(Z[E])).map(K.fromAffine)}_setWindowSize(N){this._WINDOW_SIZE=N,R.delete(this)}assertValidity(){const{a:N,d:Z}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:L,ey:E,ez:Y,et:be}=this,Ae=l(L*L),ve=l(E*E),De=l(Y*Y),Ge=l(De*De),Ke=l(Ae*N),Pn=l(De*l(Ke+ve)),wt=l(Ge+l(Z*l(Ae*ve)));if(Pn!==wt)throw new Error("bad point: equation left != right (1)");const yt=l(L*E),kt=l(Y*be);if(yt!==kt)throw new Error("bad point: equation left != right (2)")}equals(N){x(N);const{ex:Z,ey:L,ez:E}=this,{ex:Y,ey:be,ez:Ae}=N,ve=l(Z*Ae),De=l(Y*E),Ge=l(L*Ae),Ke=l(be*E);return ve===De&&Ge===Ke}is0(){return this.equals(K.ZERO)}negate(){return new K(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:N}=e,{ex:Z,ey:L,ez:E}=this,Y=l(Z*Z),be=l(L*L),Ae=l(Ab*l(E*E)),ve=l(N*Y),De=Z+L,Ge=l(l(De*De)-Y-be),Ke=ve+be,Pn=Ke-Ae,wt=ve-be,yt=l(Ge*Pn),kt=l(Ke*wt),bt=l(Ge*wt),tn=l(Pn*Ke);return new K(yt,kt,tn,bt)}add(N){x(N);const{a:Z,d:L}=e,{ex:E,ey:Y,ez:be,et:Ae}=this,{ex:ve,ey:De,ez:Ge,et:Ke}=N;if(Z===BigInt(-1)){const an=l((Y-E)*(De+ve)),Bt=l((Y+E)*(De-ve)),mn=l(Bt-an);if(mn===Yo)return this.double();const xn=l(be*Ab*Ke),Tt=l(Ae*Ab*Ge),A=Tt+xn,h=Bt+an,f=Tt-xn,I=l(A*mn),q=l(h*f),J=l(A*f),te=l(mn*h);return new K(I,q,te,J)}const Pn=l(E*ve),wt=l(Y*De),yt=l(Ae*L*Ke),kt=l(be*Ge),bt=l((E+Y)*(ve+De)-Pn-wt),tn=kt-yt,dr=kt+yt,Ht=l(wt-Z*Pn),On=l(bt*tn),So=l(dr*Ht),wn=l(bt*Ht),nn=l(tn*dr);return new K(On,So,nn,wn)}subtract(N){return this.add(N.negate())}wNAF(N){return Q.wNAFCached(this,R,N,K.normalizeZ)}multiply(N){const{p:Z,f:L}=this.wNAF(w(N,r));return K.normalizeZ([Z,L])[0]}multiplyUnsafe(N){let Z=_(N);return Z===Yo?M:this.equals(M)||Z===Gs?this:this.equals(G)?this.wNAF(Z).p:Q.unsafeLadder(this,Z)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return Q.unsafeLadder(this,r).is0()}toAffine(N){const{ex:Z,ey:L,ez:E}=this,Y=this.is0();N==null&&(N=Y?DY:t.inv(E));const be=l(Z*N),Ae=l(L*N),ve=l(E*N);if(Y)return{x:Yo,y:Gs};if(ve!==Gs)throw new Error("invZ was invalid");return{x:be,y:Ae}}clearCofactor(){const{h:N}=e;return N===Gs?this:this.multiplyUnsafe(N)}static fromHex(N,Z=!1){const{d:L,a:E}=e,Y=t.BYTES;N=mi("pointHex",N,Y);const be=N.slice(),Ae=N[Y-1];be[Y-1]=Ae&-129;const ve=zh(be);ve===Yo||(Z?w(ve,u):w(ve,t.ORDER));const De=l(ve*ve),Ge=l(De-Gs),Ke=l(L*De-E);let{isValid:Pn,value:wt}=d(Ge,Ke);if(!Pn)throw new Error("Point.fromHex: invalid y coordinate");const yt=(wt&Gs)===Gs,kt=(Ae&128)!==0;if(!Z&&wt===Yo&&kt)throw new Error("Point.fromHex: x=0 and x_0=1");return kt!==yt&&(wt=l(-wt)),K.fromAffine({x:wt,y:ve})}static fromPrivateKey(N){return X(N).point}toRawBytes(){const{x:N,y:Z}=this.toAffine(),L=Ty(Z,t.BYTES);return L[L.length-1]|=N&Gs?128:0,L}toHex(){return ad(this.toRawBytes())}}K.BASE=new K(e.Gx,e.Gy,Gs,l(e.Gx*e.Gy)),K.ZERO=new K(Yo,Gs,Gs,Yo);const{BASE:G,ZERO:M}=K,Q=u8(K,a*8);function ie(C){return Lr(C,r)}function ee(C){return ie(zh(C))}function X(C){const N=a;C=mi("private key",C,N);const Z=mi("hashed private key",s(C),2*N),L=b(Z.slice(0,N)),E=Z.slice(N,2*N),Y=ee(L),be=G.multiply(Y),Ae=be.toRawBytes();return{head:L,prefix:E,scalar:Y,point:be,pointBytes:Ae}}function oe(C){return X(C).pointBytes}function z(C=new Uint8Array,...N){const Z=cd(...N);return ee(s(p(Z,mi("context",C),!!i)))}function m(C,N,Z={}){C=mi("message",C),i&&(C=i(C));const{prefix:L,scalar:E,pointBytes:Y}=X(N),be=z(Z.context,L,C),Ae=G.multiply(be).toRawBytes(),ve=z(Z.context,Ae,Y,C),De=ie(be+ve*E);_(De);const Ge=cd(Ae,Ty(De,t.BYTES));return mi("result",Ge,a*2)}const v=UY;function T(C,N,Z,L=v){const{context:E,zip215:Y}=L,be=t.BYTES;C=mi("signature",C,2*be),N=mi("message",N),i&&(N=i(N));const Ae=zh(C.slice(be,2*be));let ve,De,Ge;try{ve=K.fromHex(Z,Y),De=K.fromHex(C.slice(0,be),Y),Ge=G.multiplyUnsafe(Ae)}catch{return!1}if(!Y&&ve.isSmallOrder())return!1;const Ke=z(E,De.toRawBytes(),ve.toRawBytes(),N);return De.add(ve.multiplyUnsafe(Ke)).subtract(Ge).clearCofactor().equals(K.ZERO)}return G._setWindowSize(8),{CURVE:e,getPublicKey:oe,sign:m,verify:T,ExtendedPoint:K,utils:{getExtendedPublicKey:X,randomPrivateKey:()=>o(t.BYTES),precompute(C=8,N=K.BASE){return N._setWindowSize(C),N.multiply(BigInt(3)),N}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const px=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_C=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const WY=BigInt(1),wI=BigInt(2),FY=BigInt(5),vC=BigInt(10),VY=BigInt(20),jY=BigInt(40),EC=BigInt(80);function HY(n){const e=px,r=n*n%e*n%e,i=Vr(r,wI,e)*r%e,s=Vr(i,WY,e)*n%e,o=Vr(s,FY,e)*s%e,a=Vr(o,vC,e)*o%e,c=Vr(a,VY,e)*a%e,u=Vr(c,jY,e)*c%e,l=Vr(u,EC,e)*u%e,d=Vr(l,EC,e)*u%e,b=Vr(d,vC,e)*o%e;return{pow_p_5_8:Vr(b,wI,e)*n%e,b2:r}}function YY(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function GY(n,e){const t=px,r=Lr(e*e*e,t),i=Lr(r*r*e,t),s=HY(n*i).pow_p_5_8;let o=Lr(n*r*s,t);const a=Lr(e*o*o,t),c=o,u=Lr(o*_C,t),l=a===n,d=a===Lr(-n,t),b=a===Lr(-n*_C,t);return l&&(o=c),(d||b)&&(o=u),CY(o,t)&&(o=Lr(-o,t)),{isValid:l||d,value:o}}const Kc=o8(px,void 0,!0),gx={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Kc,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:t8,randomBytes:H5,adjustScalarBytes:YY,uvRatio:GY},on=fx(gx);function l8(n,e,t){if(e.length>255)throw new Error("Context is too big");return j5(V5("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...gx});({...gx});const JY=(Kc.ORDER+BigInt(3))/BigInt(8);Kc.pow(wI,JY);Kc.sqrt(Kc.neg(Kc.ONE));(Kc.ORDER-BigInt(5))/BigInt(8);BigInt(486662);$Y(Kc,Kc.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var yx={exports:{}};const QY={},ZY=Object.freeze(Object.defineProperty({__proto__:null,default:QY},Symbol.toStringTag,{value:"Module"})),XY=la(ZY);yx.exports;(function(n){(function(e,t){function r(z,m){if(!z)throw new Error(m||"Assertion failed")}function i(z,m){z.super_=m;var v=function(){};v.prototype=m.prototype,z.prototype=new v,z.prototype.constructor=z}function s(z,m,v){if(s.isBN(z))return z;this.negative=0,this.words=null,this.length=0,this.red=null,z!==null&&((m==="le"||m==="be")&&(v=m,m=10),this._init(z||0,m||10,v||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=XY.Buffer}catch{}s.isBN=function(m){return m instanceof s?!0:m!==null&&typeof m=="object"&&m.constructor.wordSize===s.wordSize&&Array.isArray(m.words)},s.max=function(m,v){return m.cmp(v)>0?m:v},s.min=function(m,v){return m.cmp(v)<0?m:v},s.prototype._init=function(m,v,T){if(typeof m=="number")return this._initNumber(m,v,T);if(typeof m=="object")return this._initArray(m,v,T);v==="hex"&&(v=16),r(v===(v|0)&&v>=2&&v<=36),m=m.toString().replace(/\s+/g,"");var V=0;m[0]==="-"&&(V++,this.negative=1),V<m.length&&(v===16?this._parseHex(m,V,T):(this._parseBase(m,v,V),T==="le"&&this._initArray(this.toArray(),v,T)))},s.prototype._initNumber=function(m,v,T){m<0&&(this.negative=1,m=-m),m<67108864?(this.words=[m&67108863],this.length=1):m<4503599627370496?(this.words=[m&67108863,m/67108864&67108863],this.length=2):(r(m<9007199254740992),this.words=[m&67108863,m/67108864&67108863,1],this.length=3),T==="le"&&this._initArray(this.toArray(),v,T)},s.prototype._initArray=function(m,v,T){if(r(typeof m.length=="number"),m.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(m.length/3),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var C,N,Z=0;if(T==="be")for(V=m.length-1,C=0;V>=0;V-=3)N=m[V]|m[V-1]<<8|m[V-2]<<16,this.words[C]|=N<<Z&67108863,this.words[C+1]=N>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,C++);else if(T==="le")for(V=0,C=0;V<m.length;V+=3)N=m[V]|m[V+1]<<8|m[V+2]<<16,this.words[C]|=N<<Z&67108863,this.words[C+1]=N>>>26-Z&67108863,Z+=24,Z>=26&&(Z-=26,C++);return this._strip()};function a(z,m){var v=z.charCodeAt(m);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;r(!1,"Invalid character in "+z)}function c(z,m,v){var T=a(z,v);return v-1>=m&&(T|=a(z,v-1)<<4),T}s.prototype._parseHex=function(m,v,T){this.length=Math.ceil((m.length-v)/6),this.words=new Array(this.length);for(var V=0;V<this.length;V++)this.words[V]=0;var C=0,N=0,Z;if(T==="be")for(V=m.length-1;V>=v;V-=2)Z=c(m,v,V)<<C,this.words[N]|=Z&67108863,C>=18?(C-=18,N+=1,this.words[N]|=Z>>>26):C+=8;else{var L=m.length-v;for(V=L%2===0?v+1:v;V<m.length;V+=2)Z=c(m,v,V)<<C,this.words[N]|=Z&67108863,C>=18?(C-=18,N+=1,this.words[N]|=Z>>>26):C+=8}this._strip()};function u(z,m,v,T){for(var V=0,C=0,N=Math.min(z.length,v),Z=m;Z<N;Z++){var L=z.charCodeAt(Z)-48;V*=T,L>=49?C=L-49+10:L>=17?C=L-17+10:C=L,r(L>=0&&C<T,"Invalid character"),V+=C}return V}s.prototype._parseBase=function(m,v,T){this.words=[0],this.length=1;for(var V=0,C=1;C<=67108863;C*=v)V++;V--,C=C/v|0;for(var N=m.length-T,Z=N%V,L=Math.min(N,N-Z)+T,E=0,Y=T;Y<L;Y+=V)E=u(m,Y,Y+V,v),this.imuln(C),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(Z!==0){var be=1;for(E=u(m,Y,m.length,v),Y=0;Y<Z;Y++)be*=v;this.imuln(be),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this._strip()},s.prototype.copy=function(m){m.words=new Array(this.length);for(var v=0;v<this.length;v++)m.words[v]=this.words[v];m.length=this.length,m.negative=this.negative,m.red=this.red};function l(z,m){z.words=m.words,z.length=m.length,z.negative=m.negative,z.red=m.red}if(s.prototype._move=function(m){l(m,this)},s.prototype.clone=function(){var m=new s(null);return this.copy(m),m},s.prototype._expand=function(m){for(;this.length<m;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(m,v){m=m||10,v=v|0||1;var T;if(m===16||m==="hex"){T="";for(var V=0,C=0,N=0;N<this.length;N++){var Z=this.words[N],L=((Z<<V|C)&16777215).toString(16);C=Z>>>24-V&16777215,V+=2,V>=26&&(V-=26,N--),C!==0||N!==this.length-1?T=b[6-L.length]+L+T:T=L+T}for(C!==0&&(T=C.toString(16)+T);T.length%v!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}if(m===(m|0)&&m>=2&&m<=36){var E=p[m],Y=g[m];T="";var be=this.clone();for(be.negative=0;!be.isZero();){var Ae=be.modrn(Y).toString(m);be=be.idivn(Y),be.isZero()?T=Ae+T:T=b[E-Ae.length]+Ae+T}for(this.isZero()&&(T="0"+T);T.length%v!==0;)T="0"+T;return this.negative!==0&&(T="-"+T),T}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var m=this.words[0];return this.length===2?m+=this.words[1]*67108864:this.length===3&&this.words[2]===1?m+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-m:m},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(m,v){return this.toArrayLike(o,m,v)}),s.prototype.toArray=function(m,v){return this.toArrayLike(Array,m,v)};var y=function(m,v){return m.allocUnsafe?m.allocUnsafe(v):new m(v)};s.prototype.toArrayLike=function(m,v,T){this._strip();var V=this.byteLength(),C=T||Math.max(1,V);r(V<=C,"byte array longer than desired length"),r(C>0,"Requested array length <= 0");var N=y(m,C),Z=v==="le"?"LE":"BE";return this["_toArrayLike"+Z](N,V),N},s.prototype._toArrayLikeLE=function(m,v){for(var T=0,V=0,C=0,N=0;C<this.length;C++){var Z=this.words[C]<<N|V;m[T++]=Z&255,T<m.length&&(m[T++]=Z>>8&255),T<m.length&&(m[T++]=Z>>16&255),N===6?(T<m.length&&(m[T++]=Z>>24&255),V=0,N=0):(V=Z>>>24,N+=2)}if(T<m.length)for(m[T++]=V;T<m.length;)m[T++]=0},s.prototype._toArrayLikeBE=function(m,v){for(var T=m.length-1,V=0,C=0,N=0;C<this.length;C++){var Z=this.words[C]<<N|V;m[T--]=Z&255,T>=0&&(m[T--]=Z>>8&255),T>=0&&(m[T--]=Z>>16&255),N===6?(T>=0&&(m[T--]=Z>>24&255),V=0,N=0):(V=Z>>>24,N+=2)}if(T>=0)for(m[T--]=V;T>=0;)m[T--]=0},Math.clz32?s.prototype._countBits=function(m){return 32-Math.clz32(m)}:s.prototype._countBits=function(m){var v=m,T=0;return v>=4096&&(T+=13,v>>>=13),v>=64&&(T+=7,v>>>=7),v>=8&&(T+=4,v>>>=4),v>=2&&(T+=2,v>>>=2),T+v},s.prototype._zeroBits=function(m){if(m===0)return 26;var v=m,T=0;return v&8191||(T+=13,v>>>=13),v&127||(T+=7,v>>>=7),v&15||(T+=4,v>>>=4),v&3||(T+=2,v>>>=2),v&1||T++,T},s.prototype.bitLength=function(){var m=this.words[this.length-1],v=this._countBits(m);return(this.length-1)*26+v};function S(z){for(var m=new Array(z.bitLength()),v=0;v<m.length;v++){var T=v/26|0,V=v%26;m[v]=z.words[T]>>>V&1}return m}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var m=0,v=0;v<this.length;v++){var T=this._zeroBits(this.words[v]);if(m+=T,T!==26)break}return m},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(m){return this.negative!==0?this.abs().inotn(m).iaddn(1):this.clone()},s.prototype.fromTwos=function(m){return this.testn(m-1)?this.notn(m).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(m){for(;this.length<m.length;)this.words[this.length++]=0;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]|m.words[v];return this._strip()},s.prototype.ior=function(m){return r((this.negative|m.negative)===0),this.iuor(m)},s.prototype.or=function(m){return this.length>m.length?this.clone().ior(m):m.clone().ior(this)},s.prototype.uor=function(m){return this.length>m.length?this.clone().iuor(m):m.clone().iuor(this)},s.prototype.iuand=function(m){var v;this.length>m.length?v=m:v=this;for(var T=0;T<v.length;T++)this.words[T]=this.words[T]&m.words[T];return this.length=v.length,this._strip()},s.prototype.iand=function(m){return r((this.negative|m.negative)===0),this.iuand(m)},s.prototype.and=function(m){return this.length>m.length?this.clone().iand(m):m.clone().iand(this)},s.prototype.uand=function(m){return this.length>m.length?this.clone().iuand(m):m.clone().iuand(this)},s.prototype.iuxor=function(m){var v,T;this.length>m.length?(v=this,T=m):(v=m,T=this);for(var V=0;V<T.length;V++)this.words[V]=v.words[V]^T.words[V];if(this!==v)for(;V<v.length;V++)this.words[V]=v.words[V];return this.length=v.length,this._strip()},s.prototype.ixor=function(m){return r((this.negative|m.negative)===0),this.iuxor(m)},s.prototype.xor=function(m){return this.length>m.length?this.clone().ixor(m):m.clone().ixor(this)},s.prototype.uxor=function(m){return this.length>m.length?this.clone().iuxor(m):m.clone().iuxor(this)},s.prototype.inotn=function(m){r(typeof m=="number"&&m>=0);var v=Math.ceil(m/26)|0,T=m%26;this._expand(v),T>0&&v--;for(var V=0;V<v;V++)this.words[V]=~this.words[V]&67108863;return T>0&&(this.words[V]=~this.words[V]&67108863>>26-T),this._strip()},s.prototype.notn=function(m){return this.clone().inotn(m)},s.prototype.setn=function(m,v){r(typeof m=="number"&&m>=0);var T=m/26|0,V=m%26;return this._expand(T+1),v?this.words[T]=this.words[T]|1<<V:this.words[T]=this.words[T]&~(1<<V),this._strip()},s.prototype.iadd=function(m){var v;if(this.negative!==0&&m.negative===0)return this.negative=0,v=this.isub(m),this.negative^=1,this._normSign();if(this.negative===0&&m.negative!==0)return m.negative=0,v=this.isub(m),m.negative=1,v._normSign();var T,V;this.length>m.length?(T=this,V=m):(T=m,V=this);for(var C=0,N=0;N<V.length;N++)v=(T.words[N]|0)+(V.words[N]|0)+C,this.words[N]=v&67108863,C=v>>>26;for(;C!==0&&N<T.length;N++)v=(T.words[N]|0)+C,this.words[N]=v&67108863,C=v>>>26;if(this.length=T.length,C!==0)this.words[this.length]=C,this.length++;else if(T!==this)for(;N<T.length;N++)this.words[N]=T.words[N];return this},s.prototype.add=function(m){var v;return m.negative!==0&&this.negative===0?(m.negative=0,v=this.sub(m),m.negative^=1,v):m.negative===0&&this.negative!==0?(this.negative=0,v=m.sub(this),this.negative=1,v):this.length>m.length?this.clone().iadd(m):m.clone().iadd(this)},s.prototype.isub=function(m){if(m.negative!==0){m.negative=0;var v=this.iadd(m);return m.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(m),this.negative=1,this._normSign();var T=this.cmp(m);if(T===0)return this.negative=0,this.length=1,this.words[0]=0,this;var V,C;T>0?(V=this,C=m):(V=m,C=this);for(var N=0,Z=0;Z<C.length;Z++)v=(V.words[Z]|0)-(C.words[Z]|0)+N,N=v>>26,this.words[Z]=v&67108863;for(;N!==0&&Z<V.length;Z++)v=(V.words[Z]|0)+N,N=v>>26,this.words[Z]=v&67108863;if(N===0&&Z<V.length&&V!==this)for(;Z<V.length;Z++)this.words[Z]=V.words[Z];return this.length=Math.max(this.length,Z),V!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(m){return this.clone().isub(m)};function w(z,m,v){v.negative=m.negative^z.negative;var T=z.length+m.length|0;v.length=T,T=T-1|0;var V=z.words[0]|0,C=m.words[0]|0,N=V*C,Z=N&67108863,L=N/67108864|0;v.words[0]=Z;for(var E=1;E<T;E++){for(var Y=L>>>26,be=L&67108863,Ae=Math.min(E,m.length-1),ve=Math.max(0,E-z.length+1);ve<=Ae;ve++){var De=E-ve|0;V=z.words[De]|0,C=m.words[ve]|0,N=V*C+be,Y+=N/67108864|0,be=N&67108863}v.words[E]=be|0,L=Y|0}return L!==0?v.words[E]=L|0:v.length--,v._strip()}var _=function(m,v,T){var V=m.words,C=v.words,N=T.words,Z=0,L,E,Y,be=V[0]|0,Ae=be&8191,ve=be>>>13,De=V[1]|0,Ge=De&8191,Ke=De>>>13,Pn=V[2]|0,wt=Pn&8191,yt=Pn>>>13,kt=V[3]|0,bt=kt&8191,tn=kt>>>13,dr=V[4]|0,Ht=dr&8191,On=dr>>>13,So=V[5]|0,wn=So&8191,nn=So>>>13,an=V[6]|0,Bt=an&8191,mn=an>>>13,xn=V[7]|0,Tt=xn&8191,A=xn>>>13,h=V[8]|0,f=h&8191,I=h>>>13,q=V[9]|0,J=q&8191,te=q>>>13,Le=C[0]|0,Xe=Le&8191,We=Le>>>13,mt=C[1]|0,Oe=mt&8191,Qn=mt>>>13,mc=C[2]|0,Nn=mc&8191,Zn=mc>>>13,ii=C[3]|0,rn=ii&8191,se=ii>>>13,le=C[4]|0,de=le&8191,Se=le>>>13,et=C[5]|0,Ne=et&8191,Fe=et>>>13,it=C[6]|0,ct=it&8191,st=it>>>13,Wr=C[7]|0,Ct=Wr&8191,rt=Wr>>>13,Wn=C[8]|0,xt=Wn&8191,Xn=Wn>>>13,Ys=C[9]|0,Fn=Ys&8191,Vn=Ys>>>13;T.negative=m.negative^v.negative,T.length=19,L=Math.imul(Ae,Xe),E=Math.imul(Ae,We),E=E+Math.imul(ve,Xe)|0,Y=Math.imul(ve,We);var Ao=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Ao>>>26)|0,Ao&=67108863,L=Math.imul(Ge,Xe),E=Math.imul(Ge,We),E=E+Math.imul(Ke,Xe)|0,Y=Math.imul(Ke,We),L=L+Math.imul(Ae,Oe)|0,E=E+Math.imul(Ae,Qn)|0,E=E+Math.imul(ve,Oe)|0,Y=Y+Math.imul(ve,Qn)|0;var Di=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Di>>>26)|0,Di&=67108863,L=Math.imul(wt,Xe),E=Math.imul(wt,We),E=E+Math.imul(yt,Xe)|0,Y=Math.imul(yt,We),L=L+Math.imul(Ge,Oe)|0,E=E+Math.imul(Ge,Qn)|0,E=E+Math.imul(Ke,Oe)|0,Y=Y+Math.imul(Ke,Qn)|0,L=L+Math.imul(Ae,Nn)|0,E=E+Math.imul(Ae,Zn)|0,E=E+Math.imul(ve,Nn)|0,Y=Y+Math.imul(ve,Zn)|0;var ha=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(ha>>>26)|0,ha&=67108863,L=Math.imul(bt,Xe),E=Math.imul(bt,We),E=E+Math.imul(tn,Xe)|0,Y=Math.imul(tn,We),L=L+Math.imul(wt,Oe)|0,E=E+Math.imul(wt,Qn)|0,E=E+Math.imul(yt,Oe)|0,Y=Y+Math.imul(yt,Qn)|0,L=L+Math.imul(Ge,Nn)|0,E=E+Math.imul(Ge,Zn)|0,E=E+Math.imul(Ke,Nn)|0,Y=Y+Math.imul(Ke,Zn)|0,L=L+Math.imul(Ae,rn)|0,E=E+Math.imul(Ae,se)|0,E=E+Math.imul(ve,rn)|0,Y=Y+Math.imul(ve,se)|0;var fa=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(fa>>>26)|0,fa&=67108863,L=Math.imul(Ht,Xe),E=Math.imul(Ht,We),E=E+Math.imul(On,Xe)|0,Y=Math.imul(On,We),L=L+Math.imul(bt,Oe)|0,E=E+Math.imul(bt,Qn)|0,E=E+Math.imul(tn,Oe)|0,Y=Y+Math.imul(tn,Qn)|0,L=L+Math.imul(wt,Nn)|0,E=E+Math.imul(wt,Zn)|0,E=E+Math.imul(yt,Nn)|0,Y=Y+Math.imul(yt,Zn)|0,L=L+Math.imul(Ge,rn)|0,E=E+Math.imul(Ge,se)|0,E=E+Math.imul(Ke,rn)|0,Y=Y+Math.imul(Ke,se)|0,L=L+Math.imul(Ae,de)|0,E=E+Math.imul(Ae,Se)|0,E=E+Math.imul(ve,de)|0,Y=Y+Math.imul(ve,Se)|0;var pa=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(pa>>>26)|0,pa&=67108863,L=Math.imul(wn,Xe),E=Math.imul(wn,We),E=E+Math.imul(nn,Xe)|0,Y=Math.imul(nn,We),L=L+Math.imul(Ht,Oe)|0,E=E+Math.imul(Ht,Qn)|0,E=E+Math.imul(On,Oe)|0,Y=Y+Math.imul(On,Qn)|0,L=L+Math.imul(bt,Nn)|0,E=E+Math.imul(bt,Zn)|0,E=E+Math.imul(tn,Nn)|0,Y=Y+Math.imul(tn,Zn)|0,L=L+Math.imul(wt,rn)|0,E=E+Math.imul(wt,se)|0,E=E+Math.imul(yt,rn)|0,Y=Y+Math.imul(yt,se)|0,L=L+Math.imul(Ge,de)|0,E=E+Math.imul(Ge,Se)|0,E=E+Math.imul(Ke,de)|0,Y=Y+Math.imul(Ke,Se)|0,L=L+Math.imul(Ae,Ne)|0,E=E+Math.imul(Ae,Fe)|0,E=E+Math.imul(ve,Ne)|0,Y=Y+Math.imul(ve,Fe)|0;var Mt=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,L=Math.imul(Bt,Xe),E=Math.imul(Bt,We),E=E+Math.imul(mn,Xe)|0,Y=Math.imul(mn,We),L=L+Math.imul(wn,Oe)|0,E=E+Math.imul(wn,Qn)|0,E=E+Math.imul(nn,Oe)|0,Y=Y+Math.imul(nn,Qn)|0,L=L+Math.imul(Ht,Nn)|0,E=E+Math.imul(Ht,Zn)|0,E=E+Math.imul(On,Nn)|0,Y=Y+Math.imul(On,Zn)|0,L=L+Math.imul(bt,rn)|0,E=E+Math.imul(bt,se)|0,E=E+Math.imul(tn,rn)|0,Y=Y+Math.imul(tn,se)|0,L=L+Math.imul(wt,de)|0,E=E+Math.imul(wt,Se)|0,E=E+Math.imul(yt,de)|0,Y=Y+Math.imul(yt,Se)|0,L=L+Math.imul(Ge,Ne)|0,E=E+Math.imul(Ge,Fe)|0,E=E+Math.imul(Ke,Ne)|0,Y=Y+Math.imul(Ke,Fe)|0,L=L+Math.imul(Ae,ct)|0,E=E+Math.imul(Ae,st)|0,E=E+Math.imul(ve,ct)|0,Y=Y+Math.imul(ve,st)|0;var ti=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(ti>>>26)|0,ti&=67108863,L=Math.imul(Tt,Xe),E=Math.imul(Tt,We),E=E+Math.imul(A,Xe)|0,Y=Math.imul(A,We),L=L+Math.imul(Bt,Oe)|0,E=E+Math.imul(Bt,Qn)|0,E=E+Math.imul(mn,Oe)|0,Y=Y+Math.imul(mn,Qn)|0,L=L+Math.imul(wn,Nn)|0,E=E+Math.imul(wn,Zn)|0,E=E+Math.imul(nn,Nn)|0,Y=Y+Math.imul(nn,Zn)|0,L=L+Math.imul(Ht,rn)|0,E=E+Math.imul(Ht,se)|0,E=E+Math.imul(On,rn)|0,Y=Y+Math.imul(On,se)|0,L=L+Math.imul(bt,de)|0,E=E+Math.imul(bt,Se)|0,E=E+Math.imul(tn,de)|0,Y=Y+Math.imul(tn,Se)|0,L=L+Math.imul(wt,Ne)|0,E=E+Math.imul(wt,Fe)|0,E=E+Math.imul(yt,Ne)|0,Y=Y+Math.imul(yt,Fe)|0,L=L+Math.imul(Ge,ct)|0,E=E+Math.imul(Ge,st)|0,E=E+Math.imul(Ke,ct)|0,Y=Y+Math.imul(Ke,st)|0,L=L+Math.imul(Ae,Ct)|0,E=E+Math.imul(Ae,rt)|0,E=E+Math.imul(ve,Ct)|0,Y=Y+Math.imul(ve,rt)|0;var Si=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Si>>>26)|0,Si&=67108863,L=Math.imul(f,Xe),E=Math.imul(f,We),E=E+Math.imul(I,Xe)|0,Y=Math.imul(I,We),L=L+Math.imul(Tt,Oe)|0,E=E+Math.imul(Tt,Qn)|0,E=E+Math.imul(A,Oe)|0,Y=Y+Math.imul(A,Qn)|0,L=L+Math.imul(Bt,Nn)|0,E=E+Math.imul(Bt,Zn)|0,E=E+Math.imul(mn,Nn)|0,Y=Y+Math.imul(mn,Zn)|0,L=L+Math.imul(wn,rn)|0,E=E+Math.imul(wn,se)|0,E=E+Math.imul(nn,rn)|0,Y=Y+Math.imul(nn,se)|0,L=L+Math.imul(Ht,de)|0,E=E+Math.imul(Ht,Se)|0,E=E+Math.imul(On,de)|0,Y=Y+Math.imul(On,Se)|0,L=L+Math.imul(bt,Ne)|0,E=E+Math.imul(bt,Fe)|0,E=E+Math.imul(tn,Ne)|0,Y=Y+Math.imul(tn,Fe)|0,L=L+Math.imul(wt,ct)|0,E=E+Math.imul(wt,st)|0,E=E+Math.imul(yt,ct)|0,Y=Y+Math.imul(yt,st)|0,L=L+Math.imul(Ge,Ct)|0,E=E+Math.imul(Ge,rt)|0,E=E+Math.imul(Ke,Ct)|0,Y=Y+Math.imul(Ke,rt)|0,L=L+Math.imul(Ae,xt)|0,E=E+Math.imul(Ae,Xn)|0,E=E+Math.imul(ve,xt)|0,Y=Y+Math.imul(ve,Xn)|0;var Nr=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,L=Math.imul(J,Xe),E=Math.imul(J,We),E=E+Math.imul(te,Xe)|0,Y=Math.imul(te,We),L=L+Math.imul(f,Oe)|0,E=E+Math.imul(f,Qn)|0,E=E+Math.imul(I,Oe)|0,Y=Y+Math.imul(I,Qn)|0,L=L+Math.imul(Tt,Nn)|0,E=E+Math.imul(Tt,Zn)|0,E=E+Math.imul(A,Nn)|0,Y=Y+Math.imul(A,Zn)|0,L=L+Math.imul(Bt,rn)|0,E=E+Math.imul(Bt,se)|0,E=E+Math.imul(mn,rn)|0,Y=Y+Math.imul(mn,se)|0,L=L+Math.imul(wn,de)|0,E=E+Math.imul(wn,Se)|0,E=E+Math.imul(nn,de)|0,Y=Y+Math.imul(nn,Se)|0,L=L+Math.imul(Ht,Ne)|0,E=E+Math.imul(Ht,Fe)|0,E=E+Math.imul(On,Ne)|0,Y=Y+Math.imul(On,Fe)|0,L=L+Math.imul(bt,ct)|0,E=E+Math.imul(bt,st)|0,E=E+Math.imul(tn,ct)|0,Y=Y+Math.imul(tn,st)|0,L=L+Math.imul(wt,Ct)|0,E=E+Math.imul(wt,rt)|0,E=E+Math.imul(yt,Ct)|0,Y=Y+Math.imul(yt,rt)|0,L=L+Math.imul(Ge,xt)|0,E=E+Math.imul(Ge,Xn)|0,E=E+Math.imul(Ke,xt)|0,Y=Y+Math.imul(Ke,Xn)|0,L=L+Math.imul(Ae,Fn)|0,E=E+Math.imul(Ae,Vn)|0,E=E+Math.imul(ve,Fn)|0,Y=Y+Math.imul(ve,Vn)|0;var Vo=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Vo>>>26)|0,Vo&=67108863,L=Math.imul(J,Oe),E=Math.imul(J,Qn),E=E+Math.imul(te,Oe)|0,Y=Math.imul(te,Qn),L=L+Math.imul(f,Nn)|0,E=E+Math.imul(f,Zn)|0,E=E+Math.imul(I,Nn)|0,Y=Y+Math.imul(I,Zn)|0,L=L+Math.imul(Tt,rn)|0,E=E+Math.imul(Tt,se)|0,E=E+Math.imul(A,rn)|0,Y=Y+Math.imul(A,se)|0,L=L+Math.imul(Bt,de)|0,E=E+Math.imul(Bt,Se)|0,E=E+Math.imul(mn,de)|0,Y=Y+Math.imul(mn,Se)|0,L=L+Math.imul(wn,Ne)|0,E=E+Math.imul(wn,Fe)|0,E=E+Math.imul(nn,Ne)|0,Y=Y+Math.imul(nn,Fe)|0,L=L+Math.imul(Ht,ct)|0,E=E+Math.imul(Ht,st)|0,E=E+Math.imul(On,ct)|0,Y=Y+Math.imul(On,st)|0,L=L+Math.imul(bt,Ct)|0,E=E+Math.imul(bt,rt)|0,E=E+Math.imul(tn,Ct)|0,Y=Y+Math.imul(tn,rt)|0,L=L+Math.imul(wt,xt)|0,E=E+Math.imul(wt,Xn)|0,E=E+Math.imul(yt,xt)|0,Y=Y+Math.imul(yt,Xn)|0,L=L+Math.imul(Ge,Fn)|0,E=E+Math.imul(Ge,Vn)|0,E=E+Math.imul(Ke,Fn)|0,Y=Y+Math.imul(Ke,Vn)|0;var ru=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(ru>>>26)|0,ru&=67108863,L=Math.imul(J,Nn),E=Math.imul(J,Zn),E=E+Math.imul(te,Nn)|0,Y=Math.imul(te,Zn),L=L+Math.imul(f,rn)|0,E=E+Math.imul(f,se)|0,E=E+Math.imul(I,rn)|0,Y=Y+Math.imul(I,se)|0,L=L+Math.imul(Tt,de)|0,E=E+Math.imul(Tt,Se)|0,E=E+Math.imul(A,de)|0,Y=Y+Math.imul(A,Se)|0,L=L+Math.imul(Bt,Ne)|0,E=E+Math.imul(Bt,Fe)|0,E=E+Math.imul(mn,Ne)|0,Y=Y+Math.imul(mn,Fe)|0,L=L+Math.imul(wn,ct)|0,E=E+Math.imul(wn,st)|0,E=E+Math.imul(nn,ct)|0,Y=Y+Math.imul(nn,st)|0,L=L+Math.imul(Ht,Ct)|0,E=E+Math.imul(Ht,rt)|0,E=E+Math.imul(On,Ct)|0,Y=Y+Math.imul(On,rt)|0,L=L+Math.imul(bt,xt)|0,E=E+Math.imul(bt,Xn)|0,E=E+Math.imul(tn,xt)|0,Y=Y+Math.imul(tn,Xn)|0,L=L+Math.imul(wt,Fn)|0,E=E+Math.imul(wt,Vn)|0,E=E+Math.imul(yt,Fn)|0,Y=Y+Math.imul(yt,Vn)|0;var cl=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(cl>>>26)|0,cl&=67108863,L=Math.imul(J,rn),E=Math.imul(J,se),E=E+Math.imul(te,rn)|0,Y=Math.imul(te,se),L=L+Math.imul(f,de)|0,E=E+Math.imul(f,Se)|0,E=E+Math.imul(I,de)|0,Y=Y+Math.imul(I,Se)|0,L=L+Math.imul(Tt,Ne)|0,E=E+Math.imul(Tt,Fe)|0,E=E+Math.imul(A,Ne)|0,Y=Y+Math.imul(A,Fe)|0,L=L+Math.imul(Bt,ct)|0,E=E+Math.imul(Bt,st)|0,E=E+Math.imul(mn,ct)|0,Y=Y+Math.imul(mn,st)|0,L=L+Math.imul(wn,Ct)|0,E=E+Math.imul(wn,rt)|0,E=E+Math.imul(nn,Ct)|0,Y=Y+Math.imul(nn,rt)|0,L=L+Math.imul(Ht,xt)|0,E=E+Math.imul(Ht,Xn)|0,E=E+Math.imul(On,xt)|0,Y=Y+Math.imul(On,Xn)|0,L=L+Math.imul(bt,Fn)|0,E=E+Math.imul(bt,Vn)|0,E=E+Math.imul(tn,Fn)|0,Y=Y+Math.imul(tn,Vn)|0;var Vp=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Vp>>>26)|0,Vp&=67108863,L=Math.imul(J,de),E=Math.imul(J,Se),E=E+Math.imul(te,de)|0,Y=Math.imul(te,Se),L=L+Math.imul(f,Ne)|0,E=E+Math.imul(f,Fe)|0,E=E+Math.imul(I,Ne)|0,Y=Y+Math.imul(I,Fe)|0,L=L+Math.imul(Tt,ct)|0,E=E+Math.imul(Tt,st)|0,E=E+Math.imul(A,ct)|0,Y=Y+Math.imul(A,st)|0,L=L+Math.imul(Bt,Ct)|0,E=E+Math.imul(Bt,rt)|0,E=E+Math.imul(mn,Ct)|0,Y=Y+Math.imul(mn,rt)|0,L=L+Math.imul(wn,xt)|0,E=E+Math.imul(wn,Xn)|0,E=E+Math.imul(nn,xt)|0,Y=Y+Math.imul(nn,Xn)|0,L=L+Math.imul(Ht,Fn)|0,E=E+Math.imul(Ht,Vn)|0,E=E+Math.imul(On,Fn)|0,Y=Y+Math.imul(On,Vn)|0;var jp=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(jp>>>26)|0,jp&=67108863,L=Math.imul(J,Ne),E=Math.imul(J,Fe),E=E+Math.imul(te,Ne)|0,Y=Math.imul(te,Fe),L=L+Math.imul(f,ct)|0,E=E+Math.imul(f,st)|0,E=E+Math.imul(I,ct)|0,Y=Y+Math.imul(I,st)|0,L=L+Math.imul(Tt,Ct)|0,E=E+Math.imul(Tt,rt)|0,E=E+Math.imul(A,Ct)|0,Y=Y+Math.imul(A,rt)|0,L=L+Math.imul(Bt,xt)|0,E=E+Math.imul(Bt,Xn)|0,E=E+Math.imul(mn,xt)|0,Y=Y+Math.imul(mn,Xn)|0,L=L+Math.imul(wn,Fn)|0,E=E+Math.imul(wn,Vn)|0,E=E+Math.imul(nn,Fn)|0,Y=Y+Math.imul(nn,Vn)|0;var Hp=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Hp>>>26)|0,Hp&=67108863,L=Math.imul(J,ct),E=Math.imul(J,st),E=E+Math.imul(te,ct)|0,Y=Math.imul(te,st),L=L+Math.imul(f,Ct)|0,E=E+Math.imul(f,rt)|0,E=E+Math.imul(I,Ct)|0,Y=Y+Math.imul(I,rt)|0,L=L+Math.imul(Tt,xt)|0,E=E+Math.imul(Tt,Xn)|0,E=E+Math.imul(A,xt)|0,Y=Y+Math.imul(A,Xn)|0,L=L+Math.imul(Bt,Fn)|0,E=E+Math.imul(Bt,Vn)|0,E=E+Math.imul(mn,Fn)|0,Y=Y+Math.imul(mn,Vn)|0;var Yp=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Yp>>>26)|0,Yp&=67108863,L=Math.imul(J,Ct),E=Math.imul(J,rt),E=E+Math.imul(te,Ct)|0,Y=Math.imul(te,rt),L=L+Math.imul(f,xt)|0,E=E+Math.imul(f,Xn)|0,E=E+Math.imul(I,xt)|0,Y=Y+Math.imul(I,Xn)|0,L=L+Math.imul(Tt,Fn)|0,E=E+Math.imul(Tt,Vn)|0,E=E+Math.imul(A,Fn)|0,Y=Y+Math.imul(A,Vn)|0;var Gp=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Gp>>>26)|0,Gp&=67108863,L=Math.imul(J,xt),E=Math.imul(J,Xn),E=E+Math.imul(te,xt)|0,Y=Math.imul(te,Xn),L=L+Math.imul(f,Fn)|0,E=E+Math.imul(f,Vn)|0,E=E+Math.imul(I,Fn)|0,Y=Y+Math.imul(I,Vn)|0;var Jp=(Z+L|0)+((E&8191)<<13)|0;Z=(Y+(E>>>13)|0)+(Jp>>>26)|0,Jp&=67108863,L=Math.imul(J,Fn),E=Math.imul(J,Vn),E=E+Math.imul(te,Fn)|0,Y=Math.imul(te,Vn);var Qp=(Z+L|0)+((E&8191)<<13)|0;return Z=(Y+(E>>>13)|0)+(Qp>>>26)|0,Qp&=67108863,N[0]=Ao,N[1]=Di,N[2]=ha,N[3]=fa,N[4]=pa,N[5]=Mt,N[6]=ti,N[7]=Si,N[8]=Nr,N[9]=Vo,N[10]=ru,N[11]=cl,N[12]=Vp,N[13]=jp,N[14]=Hp,N[15]=Yp,N[16]=Gp,N[17]=Jp,N[18]=Qp,Z!==0&&(N[19]=Z,T.length++),T};Math.imul||(_=w);function R(z,m,v){v.negative=m.negative^z.negative,v.length=z.length+m.length;for(var T=0,V=0,C=0;C<v.length-1;C++){var N=V;V=0;for(var Z=T&67108863,L=Math.min(C,m.length-1),E=Math.max(0,C-z.length+1);E<=L;E++){var Y=C-E,be=z.words[Y]|0,Ae=m.words[E]|0,ve=be*Ae,De=ve&67108863;N=N+(ve/67108864|0)|0,De=De+Z|0,Z=De&67108863,N=N+(De>>>26)|0,V+=N>>>26,N&=67108863}v.words[C]=Z,T=N,N=V}return T!==0?v.words[C]=T:v.length--,v._strip()}function x(z,m,v){return R(z,m,v)}s.prototype.mulTo=function(m,v){var T,V=this.length+m.length;return this.length===10&&m.length===10?T=_(this,m,v):V<63?T=w(this,m,v):V<1024?T=R(this,m,v):T=x(this,m,v),T},s.prototype.mul=function(m){var v=new s(null);return v.words=new Array(this.length+m.length),this.mulTo(m,v)},s.prototype.mulf=function(m){var v=new s(null);return v.words=new Array(this.length+m.length),x(this,m,v)},s.prototype.imul=function(m){return this.clone().mulTo(m,this)},s.prototype.imuln=function(m){var v=m<0;v&&(m=-m),r(typeof m=="number"),r(m<67108864);for(var T=0,V=0;V<this.length;V++){var C=(this.words[V]|0)*m,N=(C&67108863)+(T&67108863);T>>=26,T+=C/67108864|0,T+=N>>>26,this.words[V]=N&67108863}return T!==0&&(this.words[V]=T,this.length++),v?this.ineg():this},s.prototype.muln=function(m){return this.clone().imuln(m)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(m){var v=S(m);if(v.length===0)return new s(1);for(var T=this,V=0;V<v.length&&v[V]===0;V++,T=T.sqr());if(++V<v.length)for(var C=T.sqr();V<v.length;V++,C=C.sqr())v[V]!==0&&(T=T.mul(C));return T},s.prototype.iushln=function(m){r(typeof m=="number"&&m>=0);var v=m%26,T=(m-v)/26,V=67108863>>>26-v<<26-v,C;if(v!==0){var N=0;for(C=0;C<this.length;C++){var Z=this.words[C]&V,L=(this.words[C]|0)-Z<<v;this.words[C]=L|N,N=Z>>>26-v}N&&(this.words[C]=N,this.length++)}if(T!==0){for(C=this.length-1;C>=0;C--)this.words[C+T]=this.words[C];for(C=0;C<T;C++)this.words[C]=0;this.length+=T}return this._strip()},s.prototype.ishln=function(m){return r(this.negative===0),this.iushln(m)},s.prototype.iushrn=function(m,v,T){r(typeof m=="number"&&m>=0);var V;v?V=(v-v%26)/26:V=0;var C=m%26,N=Math.min((m-C)/26,this.length),Z=67108863^67108863>>>C<<C,L=T;if(V-=N,V=Math.max(0,V),L){for(var E=0;E<N;E++)L.words[E]=this.words[E];L.length=N}if(N!==0)if(this.length>N)for(this.length-=N,E=0;E<this.length;E++)this.words[E]=this.words[E+N];else this.words[0]=0,this.length=1;var Y=0;for(E=this.length-1;E>=0&&(Y!==0||E>=V);E--){var be=this.words[E]|0;this.words[E]=Y<<26-C|be>>>C,Y=be&Z}return L&&Y!==0&&(L.words[L.length++]=Y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(m,v,T){return r(this.negative===0),this.iushrn(m,v,T)},s.prototype.shln=function(m){return this.clone().ishln(m)},s.prototype.ushln=function(m){return this.clone().iushln(m)},s.prototype.shrn=function(m){return this.clone().ishrn(m)},s.prototype.ushrn=function(m){return this.clone().iushrn(m)},s.prototype.testn=function(m){r(typeof m=="number"&&m>=0);var v=m%26,T=(m-v)/26,V=1<<v;if(this.length<=T)return!1;var C=this.words[T];return!!(C&V)},s.prototype.imaskn=function(m){r(typeof m=="number"&&m>=0);var v=m%26,T=(m-v)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=T)return this;if(v!==0&&T++,this.length=Math.min(T,this.length),v!==0){var V=67108863^67108863>>>v<<v;this.words[this.length-1]&=V}return this._strip()},s.prototype.maskn=function(m){return this.clone().imaskn(m)},s.prototype.iaddn=function(m){return r(typeof m=="number"),r(m<67108864),m<0?this.isubn(-m):this.negative!==0?this.length===1&&(this.words[0]|0)<=m?(this.words[0]=m-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(m),this.negative=1,this):this._iaddn(m)},s.prototype._iaddn=function(m){this.words[0]+=m;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(m){if(r(typeof m=="number"),r(m<67108864),m<0)return this.iaddn(-m);if(this.negative!==0)return this.negative=0,this.iaddn(m),this.negative=1,this;if(this.words[0]-=m,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(m){return this.clone().iaddn(m)},s.prototype.subn=function(m){return this.clone().isubn(m)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(m,v,T){var V=m.length+T,C;this._expand(V);var N,Z=0;for(C=0;C<m.length;C++){N=(this.words[C+T]|0)+Z;var L=(m.words[C]|0)*v;N-=L&67108863,Z=(N>>26)-(L/67108864|0),this.words[C+T]=N&67108863}for(;C<this.length-T;C++)N=(this.words[C+T]|0)+Z,Z=N>>26,this.words[C+T]=N&67108863;if(Z===0)return this._strip();for(r(Z===-1),Z=0,C=0;C<this.length;C++)N=-(this.words[C]|0)+Z,Z=N>>26,this.words[C]=N&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(m,v){var T=this.length-m.length,V=this.clone(),C=m,N=C.words[C.length-1]|0,Z=this._countBits(N);T=26-Z,T!==0&&(C=C.ushln(T),V.iushln(T),N=C.words[C.length-1]|0);var L=V.length-C.length,E;if(v!=="mod"){E=new s(null),E.length=L+1,E.words=new Array(E.length);for(var Y=0;Y<E.length;Y++)E.words[Y]=0}var be=V.clone()._ishlnsubmul(C,1,L);be.negative===0&&(V=be,E&&(E.words[L]=1));for(var Ae=L-1;Ae>=0;Ae--){var ve=(V.words[C.length+Ae]|0)*67108864+(V.words[C.length+Ae-1]|0);for(ve=Math.min(ve/N|0,67108863),V._ishlnsubmul(C,ve,Ae);V.negative!==0;)ve--,V.negative=0,V._ishlnsubmul(C,1,Ae),V.isZero()||(V.negative^=1);E&&(E.words[Ae]=ve)}return E&&E._strip(),V._strip(),v!=="div"&&T!==0&&V.iushrn(T),{div:E||null,mod:V}},s.prototype.divmod=function(m,v,T){if(r(!m.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var V,C,N;return this.negative!==0&&m.negative===0?(N=this.neg().divmod(m,v),v!=="mod"&&(V=N.div.neg()),v!=="div"&&(C=N.mod.neg(),T&&C.negative!==0&&C.iadd(m)),{div:V,mod:C}):this.negative===0&&m.negative!==0?(N=this.divmod(m.neg(),v),v!=="mod"&&(V=N.div.neg()),{div:V,mod:N.mod}):this.negative&m.negative?(N=this.neg().divmod(m.neg(),v),v!=="div"&&(C=N.mod.neg(),T&&C.negative!==0&&C.isub(m)),{div:N.div,mod:C}):m.length>this.length||this.cmp(m)<0?{div:new s(0),mod:this}:m.length===1?v==="div"?{div:this.divn(m.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(m.words[0]))}:{div:this.divn(m.words[0]),mod:new s(this.modrn(m.words[0]))}:this._wordDiv(m,v)},s.prototype.div=function(m){return this.divmod(m,"div",!1).div},s.prototype.mod=function(m){return this.divmod(m,"mod",!1).mod},s.prototype.umod=function(m){return this.divmod(m,"mod",!0).mod},s.prototype.divRound=function(m){var v=this.divmod(m);if(v.mod.isZero())return v.div;var T=v.div.negative!==0?v.mod.isub(m):v.mod,V=m.ushrn(1),C=m.andln(1),N=T.cmp(V);return N<0||C===1&&N===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(m){var v=m<0;v&&(m=-m),r(m<=67108863);for(var T=(1<<26)%m,V=0,C=this.length-1;C>=0;C--)V=(T*V+(this.words[C]|0))%m;return v?-V:V},s.prototype.modn=function(m){return this.modrn(m)},s.prototype.idivn=function(m){var v=m<0;v&&(m=-m),r(m<=67108863);for(var T=0,V=this.length-1;V>=0;V--){var C=(this.words[V]|0)+T*67108864;this.words[V]=C/m|0,T=C%m}return this._strip(),v?this.ineg():this},s.prototype.divn=function(m){return this.clone().idivn(m)},s.prototype.egcd=function(m){r(m.negative===0),r(!m.isZero());var v=this,T=m.clone();v.negative!==0?v=v.umod(m):v=v.clone();for(var V=new s(1),C=new s(0),N=new s(0),Z=new s(1),L=0;v.isEven()&&T.isEven();)v.iushrn(1),T.iushrn(1),++L;for(var E=T.clone(),Y=v.clone();!v.isZero();){for(var be=0,Ae=1;!(v.words[0]&Ae)&&be<26;++be,Ae<<=1);if(be>0)for(v.iushrn(be);be-- >0;)(V.isOdd()||C.isOdd())&&(V.iadd(E),C.isub(Y)),V.iushrn(1),C.iushrn(1);for(var ve=0,De=1;!(T.words[0]&De)&&ve<26;++ve,De<<=1);if(ve>0)for(T.iushrn(ve);ve-- >0;)(N.isOdd()||Z.isOdd())&&(N.iadd(E),Z.isub(Y)),N.iushrn(1),Z.iushrn(1);v.cmp(T)>=0?(v.isub(T),V.isub(N),C.isub(Z)):(T.isub(v),N.isub(V),Z.isub(C))}return{a:N,b:Z,gcd:T.iushln(L)}},s.prototype._invmp=function(m){r(m.negative===0),r(!m.isZero());var v=this,T=m.clone();v.negative!==0?v=v.umod(m):v=v.clone();for(var V=new s(1),C=new s(0),N=T.clone();v.cmpn(1)>0&&T.cmpn(1)>0;){for(var Z=0,L=1;!(v.words[0]&L)&&Z<26;++Z,L<<=1);if(Z>0)for(v.iushrn(Z);Z-- >0;)V.isOdd()&&V.iadd(N),V.iushrn(1);for(var E=0,Y=1;!(T.words[0]&Y)&&E<26;++E,Y<<=1);if(E>0)for(T.iushrn(E);E-- >0;)C.isOdd()&&C.iadd(N),C.iushrn(1);v.cmp(T)>=0?(v.isub(T),V.isub(C)):(T.isub(v),C.isub(V))}var be;return v.cmpn(1)===0?be=V:be=C,be.cmpn(0)<0&&be.iadd(m),be},s.prototype.gcd=function(m){if(this.isZero())return m.abs();if(m.isZero())return this.abs();var v=this.clone(),T=m.clone();v.negative=0,T.negative=0;for(var V=0;v.isEven()&&T.isEven();V++)v.iushrn(1),T.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;T.isEven();)T.iushrn(1);var C=v.cmp(T);if(C<0){var N=v;v=T,T=N}else if(C===0||T.cmpn(1)===0)break;v.isub(T)}while(!0);return T.iushln(V)},s.prototype.invm=function(m){return this.egcd(m).a.umod(m)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(m){return this.words[0]&m},s.prototype.bincn=function(m){r(typeof m=="number");var v=m%26,T=(m-v)/26,V=1<<v;if(this.length<=T)return this._expand(T+1),this.words[T]|=V,this;for(var C=V,N=T;C!==0&&N<this.length;N++){var Z=this.words[N]|0;Z+=C,C=Z>>>26,Z&=67108863,this.words[N]=Z}return C!==0&&(this.words[N]=C,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(m){var v=m<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var T;if(this.length>1)T=1;else{v&&(m=-m),r(m<=67108863,"Number is too big");var V=this.words[0]|0;T=V===m?0:V<m?-1:1}return this.negative!==0?-T|0:T},s.prototype.cmp=function(m){if(this.negative!==0&&m.negative===0)return-1;if(this.negative===0&&m.negative!==0)return 1;var v=this.ucmp(m);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(m){if(this.length>m.length)return 1;if(this.length<m.length)return-1;for(var v=0,T=this.length-1;T>=0;T--){var V=this.words[T]|0,C=m.words[T]|0;if(V!==C){V<C?v=-1:V>C&&(v=1);break}}return v},s.prototype.gtn=function(m){return this.cmpn(m)===1},s.prototype.gt=function(m){return this.cmp(m)===1},s.prototype.gten=function(m){return this.cmpn(m)>=0},s.prototype.gte=function(m){return this.cmp(m)>=0},s.prototype.ltn=function(m){return this.cmpn(m)===-1},s.prototype.lt=function(m){return this.cmp(m)===-1},s.prototype.lten=function(m){return this.cmpn(m)<=0},s.prototype.lte=function(m){return this.cmp(m)<=0},s.prototype.eqn=function(m){return this.cmpn(m)===0},s.prototype.eq=function(m){return this.cmp(m)===0},s.red=function(m){return new X(m)},s.prototype.toRed=function(m){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),m.convertTo(this)._forceRed(m)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(m){return this.red=m,this},s.prototype.forceRed=function(m){return r(!this.red,"Already a number in reduction context"),this._forceRed(m)},s.prototype.redAdd=function(m){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,m)},s.prototype.redIAdd=function(m){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,m)},s.prototype.redSub=function(m){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,m)},s.prototype.redISub=function(m){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,m)},s.prototype.redShl=function(m){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,m)},s.prototype.redMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.mul(this,m)},s.prototype.redIMul=function(m){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,m),this.red.imul(this,m)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(m){return r(this.red&&!m.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,m)};var K={k256:null,p224:null,p192:null,p25519:null};function G(z,m){this.name=z,this.p=new s(m,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}G.prototype._tmp=function(){var m=new s(null);return m.words=new Array(Math.ceil(this.n/13)),m},G.prototype.ireduce=function(m){var v=m,T;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),T=v.bitLength();while(T>this.n);var V=T<this.n?-1:v.ucmp(this.p);return V===0?(v.words[0]=0,v.length=1):V>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},G.prototype.split=function(m,v){m.iushrn(this.n,0,v)},G.prototype.imulK=function(m){return m.imul(this.k)};function M(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(M,G),M.prototype.split=function(m,v){for(var T=4194303,V=Math.min(m.length,9),C=0;C<V;C++)v.words[C]=m.words[C];if(v.length=V,m.length<=9){m.words[0]=0,m.length=1;return}var N=m.words[9];for(v.words[v.length++]=N&T,C=10;C<m.length;C++){var Z=m.words[C]|0;m.words[C-10]=(Z&T)<<4|N>>>22,N=Z}N>>>=22,m.words[C-10]=N,N===0&&m.length>10?m.length-=10:m.length-=9},M.prototype.imulK=function(m){m.words[m.length]=0,m.words[m.length+1]=0,m.length+=2;for(var v=0,T=0;T<m.length;T++){var V=m.words[T]|0;v+=V*977,m.words[T]=v&67108863,v=V*64+(v/67108864|0)}return m.words[m.length-1]===0&&(m.length--,m.words[m.length-1]===0&&m.length--),m};function Q(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,G);function ie(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(ie,G);function ee(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,G),ee.prototype.imulK=function(m){for(var v=0,T=0;T<m.length;T++){var V=(m.words[T]|0)*19+v,C=V&67108863;V>>>=26,m.words[T]=C,v=V}return v!==0&&(m.words[m.length++]=v),m},s._prime=function(m){if(K[m])return K[m];var v;if(m==="k256")v=new M;else if(m==="p224")v=new Q;else if(m==="p192")v=new ie;else if(m==="p25519")v=new ee;else throw new Error("Unknown prime "+m);return K[m]=v,v};function X(z){if(typeof z=="string"){var m=s._prime(z);this.m=m.p,this.prime=m}else r(z.gtn(1),"modulus must be greater than 1"),this.m=z,this.prime=null}X.prototype._verify1=function(m){r(m.negative===0,"red works only with positives"),r(m.red,"red works only with red numbers")},X.prototype._verify2=function(m,v){r((m.negative|v.negative)===0,"red works only with positives"),r(m.red&&m.red===v.red,"red works only with red numbers")},X.prototype.imod=function(m){return this.prime?this.prime.ireduce(m)._forceRed(this):(l(m,m.umod(this.m)._forceRed(this)),m)},X.prototype.neg=function(m){return m.isZero()?m.clone():this.m.sub(m)._forceRed(this)},X.prototype.add=function(m,v){this._verify2(m,v);var T=m.add(v);return T.cmp(this.m)>=0&&T.isub(this.m),T._forceRed(this)},X.prototype.iadd=function(m,v){this._verify2(m,v);var T=m.iadd(v);return T.cmp(this.m)>=0&&T.isub(this.m),T},X.prototype.sub=function(m,v){this._verify2(m,v);var T=m.sub(v);return T.cmpn(0)<0&&T.iadd(this.m),T._forceRed(this)},X.prototype.isub=function(m,v){this._verify2(m,v);var T=m.isub(v);return T.cmpn(0)<0&&T.iadd(this.m),T},X.prototype.shl=function(m,v){return this._verify1(m),this.imod(m.ushln(v))},X.prototype.imul=function(m,v){return this._verify2(m,v),this.imod(m.imul(v))},X.prototype.mul=function(m,v){return this._verify2(m,v),this.imod(m.mul(v))},X.prototype.isqr=function(m){return this.imul(m,m.clone())},X.prototype.sqr=function(m){return this.mul(m,m)},X.prototype.sqrt=function(m){if(m.isZero())return m.clone();var v=this.m.andln(3);if(r(v%2===1),v===3){var T=this.m.add(new s(1)).iushrn(2);return this.pow(m,T)}for(var V=this.m.subn(1),C=0;!V.isZero()&&V.andln(1)===0;)C++,V.iushrn(1);r(!V.isZero());var N=new s(1).toRed(this),Z=N.redNeg(),L=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new s(2*E*E).toRed(this);this.pow(E,L).cmp(Z)!==0;)E.redIAdd(Z);for(var Y=this.pow(E,V),be=this.pow(m,V.addn(1).iushrn(1)),Ae=this.pow(m,V),ve=C;Ae.cmp(N)!==0;){for(var De=Ae,Ge=0;De.cmp(N)!==0;Ge++)De=De.redSqr();r(Ge<ve);var Ke=this.pow(Y,new s(1).iushln(ve-Ge-1));be=be.redMul(Ke),Y=Ke.redSqr(),Ae=Ae.redMul(Y),ve=Ge}return be},X.prototype.invm=function(m){var v=m._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},X.prototype.pow=function(m,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return m.clone();var T=4,V=new Array(1<<T);V[0]=new s(1).toRed(this),V[1]=m;for(var C=2;C<V.length;C++)V[C]=this.mul(V[C-1],m);var N=V[0],Z=0,L=0,E=v.bitLength()%26;for(E===0&&(E=26),C=v.length-1;C>=0;C--){for(var Y=v.words[C],be=E-1;be>=0;be--){var Ae=Y>>be&1;if(N!==V[0]&&(N=this.sqr(N)),Ae===0&&Z===0){L=0;continue}Z<<=1,Z|=Ae,L++,!(L!==T&&(C!==0||be!==0))&&(N=this.mul(N,V[Z]),L=0,Z=0)}E=26}return N},X.prototype.convertTo=function(m){var v=m.umod(this.m);return v===m?v.clone():v},X.prototype.convertFrom=function(m){var v=m.clone();return v.red=null,v},s.mont=function(m){return new oe(m)};function oe(z){X.call(this,z),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(oe,X),oe.prototype.convertTo=function(m){return this.imod(m.ushln(this.shift))},oe.prototype.convertFrom=function(m){var v=this.imod(m.mul(this.rinv));return v.red=null,v},oe.prototype.imul=function(m,v){if(m.isZero()||v.isZero())return m.words[0]=0,m.length=1,m;var T=m.imul(v),V=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(V).iushrn(this.shift),N=C;return C.cmp(this.m)>=0?N=C.isub(this.m):C.cmpn(0)<0&&(N=C.iadd(this.m)),N._forceRed(this)},oe.prototype.mul=function(m,v){if(m.isZero()||v.isZero())return new s(0)._forceRed(this);var T=m.mul(v),V=T.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),C=T.isub(V).iushrn(this.shift),N=C;return C.cmp(this.m)>=0?N=C.isub(this.m):C.cmpn(0)<0&&(N=C.iadd(this.m)),N._forceRed(this)},oe.prototype.invm=function(m){var v=this.imod(m._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(n,ce)})(yx);var Fs=yx.exports;const Zi=Uo(Fs);var kI={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=H,r=t.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(o,a,c){return r(o,a,c)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(kI,kI.exports);var eG=kI.exports,_b=eG.Buffer;function tG(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var i=n.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=_b.from(p)),!_b.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var g=0,y=0,S=0,w=p.length;S!==w&&p[S]===0;)S++,g++;for(var _=(w-S)*u+1>>>0,R=new Uint8Array(_);S!==w;){for(var x=p[S],K=0,G=_-1;(x!==0||K<y)&&G!==-1;G--,K++)x+=256*R[G]>>>0,R[G]=x%o>>>0,x=x/o>>>0;if(x!==0)throw new Error("Non-zero carry");y=K,S++}for(var M=_-y;M!==_&&R[M]===0;)M++;for(var Q=a.repeat(g);M<_;++M)Q+=n.charAt(R[M]);return Q}function d(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return _b.alloc(0);for(var g=0,y=0,S=0;p[g]===a;)y++,g++;for(var w=(p.length-g)*c+1>>>0,_=new Uint8Array(w);p[g];){var R=e[p.charCodeAt(g)];if(R===255)return;for(var x=0,K=w-1;(R!==0||x<S)&&K!==-1;K--,x++)R+=o*_[K]>>>0,_[K]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");S=x,g++}for(var G=w-S;G!==w&&_[G]===0;)G++;var M=_b.allocUnsafe(y+(w-G));M.fill(0,0,y);for(var Q=y;G!==w;)M[Q++]=_[G++];return M}function b(p){var g=d(p);if(g)return g;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:b}}var nG=tG,rG=nG,iG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Vs=rG(iG);const Pe=Uo(Vs),sG=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uu=new Uint32Array(64);class oG extends Y5{constructor(){super(64,32,8,!1),this.A=cu[0]|0,this.B=cu[1]|0,this.C=cu[2]|0,this.D=cu[3]|0,this.E=cu[4]|0,this.F=cu[5]|0,this.G=cu[6]|0,this.H=cu[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,t,r,i,s,o,a,c]}set(e,t,r,i,s,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)uu[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const b=uu[d-15],p=uu[d-2],g=ya(b,7)^ya(b,18)^b>>>3,y=ya(p,17)^ya(p,19)^p>>>10;uu[d]=y+uu[d-7]+g+uu[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const b=ya(a,6)^ya(a,11)^ya(a,25),p=l+b+Q7(a,c,u)+sG[d]+uu[d]|0,y=(ya(r,2)^ya(r,13)^ya(r,22))+Z7(r,i,s)|0;l=u,u=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){uu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const po=ux(()=>new oG);var Bi={};function Bc(n,e,t){return e<=n&&n<=t}function _k(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function aG(n){for(var e=String(n),t=e.length,r=0,i=[];r<t;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===t-1)i.push(65533);else{var o=n.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),r+=1}else i.push(65533)}r+=1}return i}function cG(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var T0=-1;function mx(n){this.tokens=[].slice.call(n)}mx.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():T0},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var tf=-1;function r_(n,e){if(n)throw TypeError("Decoder error");return e||65533}var C0="utf-8";function M0(n,e){if(!(this instanceof M0))return new M0(n,e);if(n=n!==void 0?String(n).toLowerCase():C0,n!==C0)throw new Error("Encoding not supported. Only utf-8 is supported");e=_k(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}M0.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=_k(t),this._streaming||(this._decoder=new uG({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t.stream;for(var i=new mx(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==tf);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===tf)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),cG(s)}};function L0(n,e){if(!(this instanceof L0))return new L0(n,e);if(n=n!==void 0?String(n).toLowerCase():C0,n!==C0)throw new Error("Encoding not supported. Only utf-8 is supported");e=_k(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}L0.prototype={encode:function(e,t){e=e?String(e):"",t=_k(t),this._streaming||(this._encoder=new lG(this._options)),this._streaming=!!t.stream;for(var r=[],i=new mx(aG(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==tf);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==tf;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function uG(n){var e=n.fatal,t=0,r=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===T0&&i!==0)return i=0,r_(e);if(c===T0)return tf;if(i===0){if(Bc(c,0,127))return c;if(Bc(c,194,223))i=1,t=c-192;else if(Bc(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,t=c-224;else if(Bc(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,t=c-240;else return r_(e);return t=t<<6*i,null}if(!Bc(c,s,o))return t=i=r=0,s=128,o=191,a.prepend(c),r_(e);if(s=128,o=191,r+=1,t+=c-128<<6*(i-r),r!==i)return null;var u=t;return t=i=r=0,u}}function lG(n){n.fatal,this.handler=function(e,t){if(t===T0)return tf;if(Bc(t,0,127))return t;var r,i;Bc(t,128,2047)?(r=1,i=192):Bc(t,2048,65535)?(r=2,i=224):Bc(t,65536,1114111)&&(r=3,i=240);for(var s=[(t>>6*r)+i];r>0;){var o=t>>6*(r-1);s.push(128|o&63),r-=1}return s}}const dG=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:M0,TextEncoder:L0},Symbol.toStringTag,{value:"Module"})),d8=la(dG);var hG=ce&&ce.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),fG=ce&&ce.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),sc=ce&&ce.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},pG=ce&&ce.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&hG(e,n,t);return fG(e,n),e},h8=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bi,"__esModule",{value:!0});var Ip=Bi.deserializeUnchecked=Pp=Bi.deserialize=Rp=Bi.serialize=Bi.BinaryReader=Bi.BinaryWriter=Bi.BorshError=Bi.baseDecode=Bi.baseEncode=void 0;const Au=h8(Fs),f8=h8(Vs),gG=pG(d8),yG=typeof TextDecoder!="function"?gG.TextDecoder:TextDecoder,mG=new yG("utf-8",{fatal:!0});function bG(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),f8.default.encode(Buffer.from(n))}Bi.baseEncode=bG;function wG(n){return Buffer.from(f8.default.decode(n))}Bi.baseDecode=wG;const i_=1024;let us=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};Bi.BorshError=us;let p8=class{constructor(){this.buf=Buffer.alloc(i_),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(i_)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Au.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(i_)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}};Bi.BinaryWriter=p8;function oc(n,e,t){const r=t.value;t.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new us("Reached the end of buffer when deserializing")}throw s}}}let mo=class{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Au.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Au.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Au.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Au.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new us(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return mG.decode(t)}catch(r){throw new us(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let i=0;i<t;++i)r.push(e());return r}};sc([oc],mo.prototype,"readU8",null);sc([oc],mo.prototype,"readU16",null);sc([oc],mo.prototype,"readU32",null);sc([oc],mo.prototype,"readU64",null);sc([oc],mo.prototype,"readU128",null);sc([oc],mo.prototype,"readU256",null);sc([oc],mo.prototype,"readU512",null);sc([oc],mo.prototype,"readString",null);sc([oc],mo.prototype,"readFixedArray",null);sc([oc],mo.prototype,"readArray",null);Bi.BinaryReader=mo;function g8(n){return n.charAt(0).toUpperCase()+n.slice(1)}function gl(n,e,t,r,i){try{if(typeof r=="string")i[`write${g8(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new us(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new us(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let s=0;s<r[1];s++)gl(n,null,t[s],r[0],i)}else i.writeArray(t,s=>{gl(n,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),gl(n,e,t,r.type,i));break}case"map":{i.writeU32(t.size),t.forEach((s,o)=>{gl(n,e,o,r.key,i),gl(n,e,s,r.value,i)});break}default:throw new us(`FieldType ${r} unrecognized`)}else y8(n,t,i)}catch(s){throw s instanceof us&&s.addToFieldPath(e),s}}function y8(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new us(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{gl(n,i,e[i],s,t)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){t.writeU8(s),gl(n,o,e[o],a,t);break}}}else throw new us(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function kG(n,e,t=p8){const r=new t;return y8(n,e,r),r.toArray()}var Rp=Bi.serialize=kG;function yl(n,e,t,r){try{if(typeof t=="string")return r[`read${g8(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let s=0;s<t[1];s++)i.push(yl(n,null,t[0],r));return i}else return r.readArray(()=>yl(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?yl(n,e,t.type,r):void 0;if(t.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=yl(n,e,t.key,r),c=yl(n,e,t.value,r);i.set(a,c)}return i}return bx(n,t,r)}catch(i){throw i instanceof us&&i.addToFieldPath(e),i}}function bx(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new us(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of n.get(e).fields)i[s]=yl(n,s,o,t);return new e(i)}if(r.kind==="enum"){const i=t.readU8();if(i>=r.values.length)throw new us(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=yl(n,s,o,t);return new e({[s]:a})}throw new us(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function SG(n,e,t,r=mo){const i=new r(t),s=bx(n,e,i);if(i.offset<t.length)throw new us(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return s}var Pp=Bi.deserialize=SG;function AG(n,e,t,r=mo){const i=new r(t);return bx(n,e,i)}Ip=Bi.deserializeUnchecked=AG;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.s16=he.s8=he.nu64be=he.u48be=he.u40be=he.u32be=he.u24be=he.u16be=Be=he.nu64=he.u48=he.u40=D=he.u32=he.u24=ot=he.u16=ae=he.u8=Rt=he.offset=he.greedy=he.Constant=he.UTF8=he.CString=he.Blob=he.Boolean=he.BitField=he.BitStructure=he.VariantLayout=he.Union=he.UnionLayoutDiscriminator=he.UnionDiscriminator=he.Structure=he.Sequence=he.DoubleBE=he.Double=he.FloatBE=he.Float=he.NearInt64BE=he.NearInt64=he.NearUInt64BE=he.NearUInt64=he.IntBE=he.Int=he.UIntBE=he.UInt=he.OffsetLayout=he.GreedyCount=he.ExternalLayout=he.bindConstructorLayout=he.nameWithProperty=he.Layout=he.uint8ArrayToBuffer=he.checkUint8Array=void 0;he.constant=he.utf8=he.cstr=fe=he.blob=he.unionLayoutDiscriminator=he.union=Te=he.seq=he.bits=U=he.struct=he.f64be=he.f64=he.f32be=he.f32=he.ns64be=he.s48be=he.s40be=he.s32be=he.s24be=he.s16be=Je=he.ns64=he.s48=he.s40=he.s32=he.s24=void 0;const wx=H;function xp(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}he.checkUint8Array=xp;function Rn(n){return xp(n),wx.Buffer.from(n.buffer,n.byteOffset,n.length)}he.uint8ArrayToBuffer=Rn;let Yn=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};he.Layout=Yn;function kx(n,e){return e.property?n+"["+e.property+"]":n}he.nameWithProperty=kx;function _G(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Yn))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}he.bindConstructorLayout=_G;let Ms=class extends Yn{isCount(){throw new Error("ExternalLayout is abstract")}};he.ExternalLayout=Ms;let m8=class extends Ms{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){xp(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}};he.GreedyCount=m8;let Sx=class extends Ms{constructor(e,t=0,r){if(!(e instanceof Yn))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Oo||this.layout instanceof sa}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}};he.OffsetLayout=Sx;let Oo=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readUIntLE(t,this.span)}encode(e,t,r=0){return Rn(t).writeUIntLE(e,r,this.span),this.span}};he.UInt=Oo;let sa=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readUIntBE(t,this.span)}encode(e,t,r=0){return Rn(t).writeUIntBE(e,r,this.span),this.span}};he.UIntBE=sa;let vd=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readIntLE(t,this.span)}encode(e,t,r=0){return Rn(t).writeIntLE(e,r,this.span),this.span}};he.Int=vd;let Bp=class extends Yn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return Rn(e).readIntBE(t,this.span)}encode(e,t,r=0){return Rn(t).writeIntBE(e,r,this.span),this.span}};he.IntBE=Bp;const SI=Math.pow(2,32);function vk(n){const e=Math.floor(n/SI),t=n-e*SI;return{hi32:e,lo32:t}}function Ek(n,e){return n*SI+e}let b8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readUInt32LE(t),s=r.readUInt32LE(t+4);return Ek(s,i)}encode(e,t,r=0){const i=vk(e),s=Rn(t);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}};he.NearUInt64=b8;let w8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readUInt32BE(t),s=r.readUInt32BE(t+4);return Ek(i,s)}encode(e,t,r=0){const i=vk(e),s=Rn(t);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}};he.NearUInt64BE=w8;let k8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readUInt32LE(t),s=r.readInt32LE(t+4);return Ek(s,i)}encode(e,t,r=0){const i=vk(e),s=Rn(t);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}};he.NearInt64=k8;let S8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){const r=Rn(e),i=r.readInt32BE(t),s=r.readUInt32BE(t+4);return Ek(i,s)}encode(e,t,r=0){const i=vk(e),s=Rn(t);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}};he.NearInt64BE=S8;let A8=class extends Yn{constructor(e){super(4,e)}decode(e,t=0){return Rn(e).readFloatLE(t)}encode(e,t,r=0){return Rn(t).writeFloatLE(e,r),4}};he.Float=A8;let _8=class extends Yn{constructor(e){super(4,e)}decode(e,t=0){return Rn(e).readFloatBE(t)}encode(e,t,r=0){return Rn(t).writeFloatBE(e,r),4}};he.FloatBE=_8;let v8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){return Rn(e).readDoubleLE(t)}encode(e,t,r=0){return Rn(t).writeDoubleLE(e,r),8}};he.Double=v8;let E8=class extends Yn{constructor(e){super(8,e)}decode(e,t=0){return Rn(e).readDoubleBE(t)}encode(e,t,r=0){return Rn(t).writeDoubleBE(e,r),8}};he.DoubleBE=E8;let I8=class extends Yn{constructor(e,t,r){if(!(e instanceof Yn))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Ms&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Ms)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof Ms&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,t+r),++s}return r}decode(e,t=0){const r=[];let i=0,s=this.count;for(s instanceof Ms&&(s=s.decode(e,t));i<s;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,t,r+o),0);return this.count instanceof Ms&&this.count.encode(e.length,t,r),s}};he.Sequence=I8;let R8=class extends Yn{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Yn,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){xp(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}};he.Structure=R8;let Ax=class{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}};he.UnionDiscriminator=Ax;let O0=class extends Ax{constructor(e,t){if(!(e instanceof Ms&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}};he.UnionLayoutDiscriminator=O0;let _x=class extends Yn{constructor(e,t,r){let i;if(e instanceof Oo||e instanceof sa)i=new O0(new Sx(e));else if(e instanceof Ms&&e.isCount())i=new O0(e);else if(e instanceof Ax)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Yn))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&(e instanceof Oo||e instanceof sa)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Oo||e instanceof sa,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const i=this.discriminator,s=i.decode(e,t),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,t+c)}else r=o.decode(e,t);return r}encode(e,t,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,r),a+o.encode(e[o.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new P8(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}};he.Union=_x;let P8=class extends Yn{constructor(e,t,r,i){if(!(e instanceof _x))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Yn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,t+r)),r+i}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};he.VariantLayout=P8;function eh(n){return 0>n&&(n+=4294967296),n}let vx=class extends Yn{constructor(e,t,r){if(!(e instanceof Oo||e instanceof sa))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=eh(s),this},this._packedGetValue=function(){return i}}decode(e,t=0){const r=this.makeDestinationObject(),i=this.word.decode(e,t);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,t,r=0){const i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new Ex(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new x8(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}};he.BitStructure=vx;let Ex=class{constructor(e,t,r){if(!(e instanceof vx))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=eh(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return eh(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==eh(e&this.valueMask))throw new TypeError(kx("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=eh(e<<this.start);this.container._packedSetValue(eh(t&~this.wordMask)|r)}};he.BitField=Ex;let x8=class extends Ex{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};he.Boolean=x8;let B8=class extends Yn{constructor(e,t){if(!(e instanceof Ms&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ms||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),Rn(e).slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Ms&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(kx("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>t.length)throw new RangeError("encoding overruns Uint8Array");const s=Rn(e);return Rn(t).write(s.toString("hex"),r,i,"hex"),this.length instanceof Ms&&this.length.encode(i,t,r),i}};he.Blob=B8;let T8=class extends Yn{constructor(e){super(-1,e)}getSpan(e,t=0){xp(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return Rn(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const i=wx.Buffer.from(e,"utf8"),s=i.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");const o=Rn(t);return i.copy(o,r),o[r+s]=0,s+1}};he.CString=T8;let C8=class extends Yn{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return xp(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Rn(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const i=wx.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(Rn(t),r),s}};he.UTF8=C8;let M8=class extends Yn{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}};he.Constant=M8;he.greedy=(n,e)=>new m8(n,e);var Rt=he.offset=(n,e,t)=>new Sx(n,e,t),ae=he.u8=n=>new Oo(1,n),ot=he.u16=n=>new Oo(2,n);he.u24=n=>new Oo(3,n);var D=he.u32=n=>new Oo(4,n);he.u40=n=>new Oo(5,n);he.u48=n=>new Oo(6,n);var Be=he.nu64=n=>new b8(n);he.u16be=n=>new sa(2,n);he.u24be=n=>new sa(3,n);he.u32be=n=>new sa(4,n);he.u40be=n=>new sa(5,n);he.u48be=n=>new sa(6,n);he.nu64be=n=>new w8(n);he.s8=n=>new vd(1,n);he.s16=n=>new vd(2,n);he.s24=n=>new vd(3,n);he.s32=n=>new vd(4,n);he.s40=n=>new vd(5,n);he.s48=n=>new vd(6,n);var Je=he.ns64=n=>new k8(n);he.s16be=n=>new Bp(2,n);he.s24be=n=>new Bp(3,n);he.s32be=n=>new Bp(4,n);he.s40be=n=>new Bp(5,n);he.s48be=n=>new Bp(6,n);he.ns64be=n=>new S8(n);he.f32=n=>new A8(n);he.f32be=n=>new _8(n);he.f64=n=>new v8(n);he.f64be=n=>new E8(n);var U=he.struct=(n,e,t)=>new R8(n,e,t);he.bits=(n,e,t)=>new vx(n,e,t);var Te=he.seq=(n,e,t)=>new I8(n,e,t);he.union=(n,e,t)=>new _x(n,e,t);he.unionLayoutDiscriminator=(n,e)=>new O0(n,e);var fe=he.blob=(n,e)=>new B8(n,e);he.cstr=n=>new T8(n);he.utf8=(n,e)=>new C8(n,e);he.constant=(n,e)=>new M8(n,e);var Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});function vG(n){{const e=Buffer.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var Tp=Cm.toBigIntLE=vG;function EG(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}Cm.toBigIntBE=EG;function IG(n,e){{const t=n.toString(16),r=Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var Ko=Cm.toBufferLE=IG;function RG(n,e){{const t=n.toString(16);return Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}Cm.toBufferBE=RG;let PG=class extends TypeError{constructor(e,t){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}};function xG(n){return Ou(n)&&typeof n[Symbol.iterator]=="function"}function Ou(n){return typeof n=="object"&&n!=null}function aa(n){return typeof n=="string"?JSON.stringify(n):""+n}function BG(n){const{done:e,value:t}=n.next();return e?void 0:t}function TG(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+aa(r)+"`"}=n;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...n,message:c}}function*IC(n,e,t,r){xG(n)||(n=[n]);for(const i of n){const s=TG(i,e,t,r);s&&(yield s)}}function*Ix(n,e,t={}){const{path:r=[],branch:i=[n],coerce:s=!1,mask:o=!1}=t,a={path:r,branch:i};if(s&&(n=e.coercer(n,a),o&&e.type!=="type"&&Ou(e.schema)&&Ou(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const b=Ix(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const p of b)p[0]?(c=!1,yield[p[0],void 0]):s&&(l=p[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Ou(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}let ac=class{constructor(e){const{type:t,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return IC(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return IC(l,u,this,c)}:this.refiner=()=>[]}assert(e){return L8(e,this)}create(e){return Ue(e,this)}is(e){return O8(e,this)}mask(e){return CG(e,this)}validate(e,t={}){return Mm(e,this,t)}};function L8(n,e){const t=Mm(n,e);if(t[0])throw t[0]}function Ue(n,e){const t=Mm(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function CG(n,e){const t=Mm(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function O8(n,e){return!Mm(n,e)[0]}function Mm(n,e,t={}){const r=Ix(n,e,t),i=BG(r);return i[0]?[new PG(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Ed(n,e){return new ac({type:n,schema:null,validator:e})}function MG(){return Ed("any",()=>!0)}function Ze(n){return new ac({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+aa(e)}})}function ic(){return Ed("boolean",n=>typeof n=="boolean")}function Rx(n){return Ed("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+aa(e))}function zr(n){const e=aa(n),t=typeof n;return new ac({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+aa(r)}})}function LG(){return Ed("never",()=>!1)}function Qe(n){return new ac({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ue(){return Ed("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+aa(n))}function At(n){return new ac({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function N8(n,e){return new ac({type:"record",schema:null,*entries(t){if(Ou(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Ou(t)||"Expected an object, but received: "+aa(t)}})}function qe(){return Ed("string",n=>typeof n=="string"||"Expected a string, but received: "+aa(n))}function Px(n){const e=LG();return new ac({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+aa(t)}})}function xe(n){const e=Object.keys(n);return new ac({type:"type",schema:n,*entries(t){if(Ou(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Ou(t)||"Expected an object, but received: "+aa(t)}})}function Us(n){const e=n.map(t=>t.type).join(" | ");return new ac({type:"union",schema:null,validator(t,r){const i=[];for(const s of n){const[...o]=Ix(t,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+aa(t),...i]}})}function Lm(){return Ed("unknown",()=>!0)}function Om(n,e,t){return new ac({...n,coercer:(r,i)=>O8(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var vb,OG=new Uint8Array(16);function $8(){if(!vb&&(vb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!vb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vb(OG)}const NG=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Ik(n){return typeof n=="string"&&NG.test(n)}var Li=[];for(var s_=0;s_<256;++s_)Li.push((s_+256).toString(16).substr(1));function Rk(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Li[n[e+0]]+Li[n[e+1]]+Li[n[e+2]]+Li[n[e+3]]+"-"+Li[n[e+4]]+Li[n[e+5]]+"-"+Li[n[e+6]]+Li[n[e+7]]+"-"+Li[n[e+8]]+Li[n[e+9]]+"-"+Li[n[e+10]]+Li[n[e+11]]+Li[n[e+12]]+Li[n[e+13]]+Li[n[e+14]]+Li[n[e+15]]).toLowerCase();if(!Ik(t))throw TypeError("Stringified UUID is invalid");return t}var RC,o_,a_=0,c_=0;function $G(n,e,t){var r=e&&t||0,i=e||new Array(16);n=n||{};var s=n.node||RC,o=n.clockseq!==void 0?n.clockseq:o_;if(s==null||o==null){var a=n.random||(n.rng||$8)();s==null&&(s=RC=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=o_=(a[6]<<8|a[7])&16383)}var c=n.msecs!==void 0?n.msecs:Date.now(),u=n.nsecs!==void 0?n.nsecs:c_+1,l=c-a_+(u-c_)/1e4;if(l<0&&n.clockseq===void 0&&(o=o+1&16383),(l<0||c>a_)&&n.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a_=c,c_=u,o_=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var b=c/4294967296*1e4&268435455;i[r++]=b>>>8&255,i[r++]=b&255,i[r++]=b>>>24&15|16,i[r++]=b>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var p=0;p<6;++p)i[r+p]=s[p];return e||Rk(i)}function q8(n){if(!Ik(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function qG(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var zG="6ba7b810-9dad-11d1-80b4-00c04fd430c8",DG="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function z8(n,e,t){function r(i,s,o,a){if(typeof i=="string"&&(i=qG(i)),typeof s=="string"&&(s=q8(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=t(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return Rk(c)}try{r.name=n}catch{}return r.DNS=zG,r.URL=DG,r}function UG(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return KG(WG(FG(n),n.length*8))}function KG(n){for(var e=[],t=n.length*32,r="0123456789abcdef",i=0;i<t;i+=8){var s=n[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function D8(n){return(n+64>>>9<<4)+14+1}function WG(n,e){n[e>>5]|=128<<e%32,n[D8(e)-1]=e;for(var t=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<n.length;o+=16){var a=t,c=r,u=i,l=s;t=Fi(t,r,i,s,n[o],7,-680876936),s=Fi(s,t,r,i,n[o+1],12,-389564586),i=Fi(i,s,t,r,n[o+2],17,606105819),r=Fi(r,i,s,t,n[o+3],22,-1044525330),t=Fi(t,r,i,s,n[o+4],7,-176418897),s=Fi(s,t,r,i,n[o+5],12,1200080426),i=Fi(i,s,t,r,n[o+6],17,-1473231341),r=Fi(r,i,s,t,n[o+7],22,-45705983),t=Fi(t,r,i,s,n[o+8],7,1770035416),s=Fi(s,t,r,i,n[o+9],12,-1958414417),i=Fi(i,s,t,r,n[o+10],17,-42063),r=Fi(r,i,s,t,n[o+11],22,-1990404162),t=Fi(t,r,i,s,n[o+12],7,1804603682),s=Fi(s,t,r,i,n[o+13],12,-40341101),i=Fi(i,s,t,r,n[o+14],17,-1502002290),r=Fi(r,i,s,t,n[o+15],22,1236535329),t=Vi(t,r,i,s,n[o+1],5,-165796510),s=Vi(s,t,r,i,n[o+6],9,-1069501632),i=Vi(i,s,t,r,n[o+11],14,643717713),r=Vi(r,i,s,t,n[o],20,-373897302),t=Vi(t,r,i,s,n[o+5],5,-701558691),s=Vi(s,t,r,i,n[o+10],9,38016083),i=Vi(i,s,t,r,n[o+15],14,-660478335),r=Vi(r,i,s,t,n[o+4],20,-405537848),t=Vi(t,r,i,s,n[o+9],5,568446438),s=Vi(s,t,r,i,n[o+14],9,-1019803690),i=Vi(i,s,t,r,n[o+3],14,-187363961),r=Vi(r,i,s,t,n[o+8],20,1163531501),t=Vi(t,r,i,s,n[o+13],5,-1444681467),s=Vi(s,t,r,i,n[o+2],9,-51403784),i=Vi(i,s,t,r,n[o+7],14,1735328473),r=Vi(r,i,s,t,n[o+12],20,-1926607734),t=ji(t,r,i,s,n[o+5],4,-378558),s=ji(s,t,r,i,n[o+8],11,-2022574463),i=ji(i,s,t,r,n[o+11],16,1839030562),r=ji(r,i,s,t,n[o+14],23,-35309556),t=ji(t,r,i,s,n[o+1],4,-1530992060),s=ji(s,t,r,i,n[o+4],11,1272893353),i=ji(i,s,t,r,n[o+7],16,-155497632),r=ji(r,i,s,t,n[o+10],23,-1094730640),t=ji(t,r,i,s,n[o+13],4,681279174),s=ji(s,t,r,i,n[o],11,-358537222),i=ji(i,s,t,r,n[o+3],16,-722521979),r=ji(r,i,s,t,n[o+6],23,76029189),t=ji(t,r,i,s,n[o+9],4,-640364487),s=ji(s,t,r,i,n[o+12],11,-421815835),i=ji(i,s,t,r,n[o+15],16,530742520),r=ji(r,i,s,t,n[o+2],23,-995338651),t=Hi(t,r,i,s,n[o],6,-198630844),s=Hi(s,t,r,i,n[o+7],10,1126891415),i=Hi(i,s,t,r,n[o+14],15,-1416354905),r=Hi(r,i,s,t,n[o+5],21,-57434055),t=Hi(t,r,i,s,n[o+12],6,1700485571),s=Hi(s,t,r,i,n[o+3],10,-1894986606),i=Hi(i,s,t,r,n[o+10],15,-1051523),r=Hi(r,i,s,t,n[o+1],21,-2054922799),t=Hi(t,r,i,s,n[o+8],6,1873313359),s=Hi(s,t,r,i,n[o+15],10,-30611744),i=Hi(i,s,t,r,n[o+6],15,-1560198380),r=Hi(r,i,s,t,n[o+13],21,1309151649),t=Hi(t,r,i,s,n[o+4],6,-145523070),s=Hi(s,t,r,i,n[o+11],10,-1120210379),i=Hi(i,s,t,r,n[o+2],15,718787259),r=Hi(r,i,s,t,n[o+9],21,-343485551),t=_u(t,a),r=_u(r,c),i=_u(i,u),s=_u(s,l)}return[t,r,i,s]}function FG(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(D8(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function _u(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function VG(n,e){return n<<e|n>>>32-e}function Pk(n,e,t,r,i,s){return _u(VG(_u(_u(e,n),_u(r,s)),i),t)}function Fi(n,e,t,r,i,s,o){return Pk(e&t|~e&r,n,e,i,s,o)}function Vi(n,e,t,r,i,s,o){return Pk(e&r|t&~r,n,e,i,s,o)}function ji(n,e,t,r,i,s,o){return Pk(e^t^r,n,e,i,s,o)}function Hi(n,e,t,r,i,s,o){return Pk(t^(e|~r),n,e,i,s,o)}var jG=z8("v3",48,UG);const HG=jG;function YG(n,e,t){n=n||{};var r=n.random||(n.rng||$8)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return Rk(r)}function GG(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function u_(n,e){return n<<e|n>>>32-e}function JG(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var i=0;i<r.length;++i)n.push(r.charCodeAt(i))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var s=n.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=n[c*64+l*4]<<24|n[c*64+l*4+1]<<16|n[c*64+l*4+2]<<8|n[c*64+l*4+3];a[c]=u}a[o-1][14]=(n.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(n.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var b=new Uint32Array(80),p=0;p<16;++p)b[p]=a[d][p];for(var g=16;g<80;++g)b[g]=u_(b[g-3]^b[g-8]^b[g-14]^b[g-16],1);for(var y=t[0],S=t[1],w=t[2],_=t[3],R=t[4],x=0;x<80;++x){var K=Math.floor(x/20),G=u_(y,5)+GG(K,S,w,_)+R+e[K]+b[x]>>>0;R=_,_=w,w=u_(S,30)>>>0,S=y,y=G}t[0]=t[0]+y>>>0,t[1]=t[1]+S>>>0,t[2]=t[2]+w>>>0,t[3]=t[3]+_>>>0,t[4]=t[4]+R>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var QG=z8("v5",80,JG);const ZG=QG,XG="00000000-0000-0000-0000-000000000000";function eJ(n){if(!Ik(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}const tJ=Object.freeze(Object.defineProperty({__proto__:null,NIL:XG,parse:q8,stringify:Rk,v1:$G,v3:HG,v4:YG,v5:ZG,validate:Ik,version:eJ},Symbol.toStringTag,{value:"Module"})),U8=la(tJ),nJ=U8.v4,rJ=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:n};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return nJ()};s.id=o(s,r)}else i===2&&t===null?r.notificationIdNull&&(s.id=null):s.id=t;return s};var iJ=rJ;const sJ=U8.v4,oJ=iJ,Cy=function(n,e){if(!(this instanceof Cy))return new Cy(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return sJ()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var aJ=Cy;Cy.prototype.request=function(n,e,t,r){const i=this;let s=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,s=n;else{typeof t=="function"&&(r=t,t=void 0);const u=typeof r=="function";try{s=oJ(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,r)}),s};Cy.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return t(i)}if(t.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return t(null,r.filter(i),r.filter(s))}else return t(null,r.error,r.result);t(null,r)};const Cp=Uo(aJ);var K8={},W8={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,b){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,d||c,b),g=t?t+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],p]:c._events[g].push(p):(c._events[g]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=t?t+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var b=0,p=d.length,g=new Array(p);b<p;b++)g[b]=d[b].fn;return g},a.prototype.listenerCount=function(u){var l=t?t+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,b,p,g){var y=t?t+u:u;if(!this._events[y])return!1;var S=this._events[y],w=arguments.length,_,R;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),w){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,l),!0;case 3:return S.fn.call(S.context,l,d),!0;case 4:return S.fn.call(S.context,l,d,b),!0;case 5:return S.fn.call(S.context,l,d,b,p),!0;case 6:return S.fn.call(S.context,l,d,b,p,g),!0}for(R=1,_=new Array(w-1);R<w;R++)_[R-1]=arguments[R];S.fn.apply(S.context,_)}else{var x=S.length,K;for(R=0;R<x;R++)switch(S[R].once&&this.removeListener(u,S[R].fn,void 0,!0),w){case 1:S[R].fn.call(S[R].context);break;case 2:S[R].fn.call(S[R].context,l);break;case 3:S[R].fn.call(S[R].context,l,d);break;case 4:S[R].fn.call(S[R].context,l,d,b);break;default:if(!_)for(K=1,_=new Array(w-1);K<w;K++)_[K-1]=arguments[K];S[R].fn.apply(S[R].context,_)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,b){var p=t?t+u:u;if(!this._events[p])return this;if(!l)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===l&&(!b||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var y=0,S=[],w=g.length;y<w;y++)(g[y].fn!==l||b&&!g[y].once||d&&g[y].context!==d)&&S.push(g[y]);S.length?this._events[p]=S.length===1?S[0]:S:o(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=t?t+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,n.exports=a})(W8);var Wo=W8.exports,nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.createError=nf.DefaultDataPack=void 0;const cJ=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let uJ=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};nf.DefaultDataPack=uJ;function lJ(n,e){const t={code:n,message:cJ.get(n)||"Internal Server Error"};return e&&(t.data=e),t}nf.createError=lJ;Object.defineProperty(K8,"__esModule",{value:!0});const dJ=Wo,hJ=nf;let fJ=class extends dJ.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new hJ.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var pJ=K8.default=fJ,F8={};Object.defineProperty(F8,"__esModule",{value:!0});const gJ=Wo;let yJ=class extends gJ.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function mJ(n,e){return new yJ(n,e)}var bJ=F8.default=mJ;const V8=[],j8=[],H8=[],wJ=BigInt(0),dg=BigInt(1),kJ=BigInt(2),SJ=BigInt(7),AJ=BigInt(256),_J=BigInt(113);for(let n=0,e=dg,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],V8.push(2*(5*r+t)),j8.push((n+1)*(n+2)/2%64);let i=wJ;for(let s=0;s<7;s++)e=(e<<dg^(e>>SJ)*_J)%AJ,e&kJ&&(i^=dg<<(dg<<BigInt(s))-dg);H8.push(i)}const[vJ,EJ]=J5(H8,!0),PC=(n,e,t)=>t>32?X5(n,e,t):Q5(n,e,t),xC=(n,e,t)=>t>32?e8(n,e,t):Z5(n,e,t);function IJ(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=PC(u,l,1)^t[a],b=xC(u,l,1)^t[a+1];for(let p=0;p<50;p+=10)n[o+p]^=d,n[o+p+1]^=b}let i=n[2],s=n[3];for(let o=0;o<24;o++){const a=j8[o],c=PC(i,s,a),u=xC(i,s,a),l=V8[o];i=n[l],s=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=vJ[r],n[1]^=EJ[r]}t.fill(0)}class xx extends cx{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,B0(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Y7(this.state)}keccak(){mC||bC(this.state32),IJ(this.state32,this.rounds),mC||bC(this.state32),this.posOut=0,this.pos=0}update(e){Zh(this);const{blockLen:t,state:r}=this;e=Sk(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(t-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,t&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Zh(this,!1),Bm(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return B0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(F5(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new xx(t,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const RJ=(n,e,t)=>ux(()=>new xx(e,n,t)),qo=RJ(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function PJ(n){const e=hx(n);Ep(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:xJ,hexToBytes:BJ}=RY,Ll={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Ll;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:xJ(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Ll,t=typeof n=="string"?BJ(n):n;Tm(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Ll._parseInt(t.subarray(2)),{d:o,l:a}=Ll._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,o=i.length/2,a=t(s),c=t(o);return`30${t(o+s+4)}02${c}${i}02${a}${r}`}},Tc=BigInt(0),Io=BigInt(1);BigInt(2);const BC=BigInt(3);BigInt(4);function TJ(n){const e=PJ(n),{Fp:t}=e,r=e.toBytes||((g,y,S)=>{const w=y.toAffine();return cd(Uint8Array.from([4]),t.toBytes(w.x),t.toBytes(w.y))}),i=e.fromBytes||(g=>{const y=g.subarray(1),S=t.fromBytes(y.subarray(0,t.BYTES)),w=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:S,y:w}});function s(g){const{a:y,b:S}=e,w=t.sqr(g),_=t.mul(w,g);return t.add(t.add(_,t.mul(g,y)),S)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&Tc<g&&g<e.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(g){const{allowedPrivateKeyLengths:y,nByteLength:S,wrapPrivateKey:w,n:_}=e;if(y&&typeof g!="bigint"){if(od(g)&&(g=ad(g)),typeof g!="string"||!y.includes(g.length))throw new Error("Invalid key");g=g.padStart(S*2,"0")}let R;try{R=typeof g=="bigint"?g:Ql(mi("private key",g,S))}catch{throw new Error(`private key must be ${S} bytes, hex or bigint, not ${typeof g}`)}return w&&(R=Lr(R,_)),a(R),R}const u=new Map;function l(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(y,S,w){if(this.px=y,this.py=S,this.pz=w,y==null||!t.isValid(y))throw new Error("x required");if(S==null||!t.isValid(S))throw new Error("y required");if(w==null||!t.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:S,y:w}=y||{};if(!y||!t.isValid(S)||!t.isValid(w))throw new Error("invalid affine point");if(y instanceof d)throw new Error("projective point not allowed");const _=R=>t.eql(R,t.ZERO);return _(S)&&_(w)?d.ZERO:new d(S,w,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const S=t.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(S[_])).map(d.fromAffine)}static fromHex(y){const S=d.fromAffine(i(mi("pointHex",y)));return S.assertValidity(),S}static fromPrivateKey(y){return d.BASE.multiply(c(y))}_setWindowSize(y){this._WINDOW_SIZE=y,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:S}=this.toAffine();if(!t.isValid(y)||!t.isValid(S))throw new Error("bad point: x or y not FE");const w=t.sqr(S),_=s(y);if(!t.eql(w,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(t.isOdd)return!t.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){l(y);const{px:S,py:w,pz:_}=this,{px:R,py:x,pz:K}=y,G=t.eql(t.mul(S,K),t.mul(R,_)),M=t.eql(t.mul(w,K),t.mul(x,_));return G&&M}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:y,b:S}=e,w=t.mul(S,BC),{px:_,py:R,pz:x}=this;let K=t.ZERO,G=t.ZERO,M=t.ZERO,Q=t.mul(_,_),ie=t.mul(R,R),ee=t.mul(x,x),X=t.mul(_,R);return X=t.add(X,X),M=t.mul(_,x),M=t.add(M,M),K=t.mul(y,M),G=t.mul(w,ee),G=t.add(K,G),K=t.sub(ie,G),G=t.add(ie,G),G=t.mul(K,G),K=t.mul(X,K),M=t.mul(w,M),ee=t.mul(y,ee),X=t.sub(Q,ee),X=t.mul(y,X),X=t.add(X,M),M=t.add(Q,Q),Q=t.add(M,Q),Q=t.add(Q,ee),Q=t.mul(Q,X),G=t.add(G,Q),ee=t.mul(R,x),ee=t.add(ee,ee),Q=t.mul(ee,X),K=t.sub(K,Q),M=t.mul(ee,ie),M=t.add(M,M),M=t.add(M,M),new d(K,G,M)}add(y){l(y);const{px:S,py:w,pz:_}=this,{px:R,py:x,pz:K}=y;let G=t.ZERO,M=t.ZERO,Q=t.ZERO;const ie=e.a,ee=t.mul(e.b,BC);let X=t.mul(S,R),oe=t.mul(w,x),z=t.mul(_,K),m=t.add(S,w),v=t.add(R,x);m=t.mul(m,v),v=t.add(X,oe),m=t.sub(m,v),v=t.add(S,_);let T=t.add(R,K);return v=t.mul(v,T),T=t.add(X,z),v=t.sub(v,T),T=t.add(w,_),G=t.add(x,K),T=t.mul(T,G),G=t.add(oe,z),T=t.sub(T,G),Q=t.mul(ie,v),G=t.mul(ee,z),Q=t.add(G,Q),G=t.sub(oe,Q),Q=t.add(oe,Q),M=t.mul(G,Q),oe=t.add(X,X),oe=t.add(oe,X),z=t.mul(ie,z),v=t.mul(ee,v),oe=t.add(oe,z),z=t.sub(X,z),z=t.mul(ie,z),v=t.add(v,z),X=t.mul(oe,v),M=t.add(M,X),X=t.mul(T,v),G=t.mul(m,G),G=t.sub(G,X),X=t.mul(m,oe),Q=t.mul(T,Q),Q=t.add(Q,X),new d(G,M,Q)}subtract(y){return this.add(y.negate())}is0(){return this.equals(d.ZERO)}wNAF(y){return p.wNAFCached(this,u,y,S=>{const w=t.invertBatch(S.map(_=>_.pz));return S.map((_,R)=>_.toAffine(w[R])).map(d.fromAffine)})}multiplyUnsafe(y){const S=d.ZERO;if(y===Tc)return S;if(a(y),y===Io)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,y);let{k1neg:_,k1:R,k2neg:x,k2:K}=w.splitScalar(y),G=S,M=S,Q=this;for(;R>Tc||K>Tc;)R&Io&&(G=G.add(Q)),K&Io&&(M=M.add(Q)),Q=Q.double(),R>>=Io,K>>=Io;return _&&(G=G.negate()),x&&(M=M.negate()),M=new d(t.mul(M.px,w.beta),M.py,M.pz),G.add(M)}multiply(y){a(y);let S=y,w,_;const{endo:R}=e;if(R){const{k1neg:x,k1:K,k2neg:G,k2:M}=R.splitScalar(S);let{p:Q,f:ie}=this.wNAF(K),{p:ee,f:X}=this.wNAF(M);Q=p.constTimeNegate(x,Q),ee=p.constTimeNegate(G,ee),ee=new d(t.mul(ee.px,R.beta),ee.py,ee.pz),w=Q.add(ee),_=ie.add(X)}else{const{p:x,f:K}=this.wNAF(S);w=x,_=K}return d.normalizeZ([w,_])[0]}multiplyAndAddUnsafe(y,S,w){const _=d.BASE,R=(K,G)=>G===Tc||G===Io||!K.equals(_)?K.multiplyUnsafe(G):K.multiply(G),x=R(this,S).add(R(y,w));return x.is0()?void 0:x}toAffine(y){const{px:S,py:w,pz:_}=this,R=this.is0();y==null&&(y=R?t.ONE:t.inv(_));const x=t.mul(S,y),K=t.mul(w,y),G=t.mul(_,y);if(R)return{x:t.ZERO,y:t.ZERO};if(!t.eql(G,t.ONE))throw new Error("invZ was invalid");return{x,y:K}}isTorsionFree(){const{h:y,isTorsionFree:S}=e;if(y===Io)return!0;if(S)return S(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:S}=e;return y===Io?this:S?S(d,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(d,this,y)}toHex(y=!0){return ad(this.toRawBytes(y))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const b=e.nBitLength,p=u8(d,e.endo?Math.ceil(b/2):b);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function CJ(n){const e=hx(n);return Ep(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function MJ(n){const e=CJ(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function o(v){return Tc<v&&v<t.ORDER}function a(v){return Lr(v,r)}function c(v){return bI(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:b}=TJ({...e,toBytes(v,T,V){const C=T.toAffine(),N=t.toBytes(C.x),Z=cd;return V?Z(Uint8Array.from([T.hasEvenY()?2:3]),N):Z(Uint8Array.from([4]),N,t.toBytes(C.y))},fromBytes(v){const T=v.length,V=v[0],C=v.subarray(1);if(T===i&&(V===2||V===3)){const N=Ql(C);if(!o(N))throw new Error("Point is not on curve");const Z=d(N);let L;try{L=t.sqrt(Z)}catch(be){const Ae=be instanceof Error?": "+be.message:"";throw new Error("Point is not on curve"+Ae)}const E=(L&Io)===Io;return(V&1)===1!==E&&(L=t.neg(L)),{x:N,y:L}}else if(T===s&&V===4){const N=t.fromBytes(C.subarray(0,t.BYTES)),Z=t.fromBytes(C.subarray(t.BYTES,2*t.BYTES));return{x:N,y:Z}}else throw new Error(`Point of length ${T} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=v=>ad(ef(v,e.nByteLength));function g(v){const T=r>>Io;return v>T}function y(v){return g(v)?a(-v):v}const S=(v,T,V)=>Ql(v.slice(T,V));class w{constructor(T,V,C){this.r=T,this.s=V,this.recovery=C,this.assertValidity()}static fromCompact(T){const V=e.nByteLength;return T=mi("compactSignature",T,V*2),new w(S(T,0,V),S(T,V,2*V))}static fromDER(T){const{r:V,s:C}=Ll.toSig(mi("DER",T));return new w(V,C)}assertValidity(){if(!b(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!b(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new w(this.r,this.s,T)}recoverPublicKey(T){const{r:V,s:C,recovery:N}=this,Z=M(mi("msgHash",T));if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");const L=N===2||N===3?V+e.n:V;if(L>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const E=N&1?"03":"02",Y=u.fromHex(E+p(L)),be=c(L),Ae=a(-Z*be),ve=a(C*be),De=u.BASE.multiplyAndAddUnsafe(Y,Ae,ve);if(!De)throw new Error("point at infinify");return De.assertValidity(),De}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Xh(this.toDERHex())}toDERHex(){return Ll.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xh(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const _={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const v=c8(e.n);return qY(e.randomBytes(v),e.n)},precompute(v=8,T=u.BASE){return T._setWindowSize(v),T.multiply(BigInt(3)),T}};function R(v,T=!0){return u.fromPrivateKey(v).toRawBytes(T)}function x(v){const T=od(v),V=typeof v=="string",C=(T||V)&&v.length;return T?C===i||C===s:V?C===2*i||C===2*s:v instanceof u}function K(v,T,V=!0){if(x(v))throw new Error("first arg must be private key");if(!x(T))throw new Error("second arg must be public key");return u.fromHex(T).multiply(l(v)).toRawBytes(V)}const G=e.bits2int||function(v){const T=Ql(v),V=v.length*8-e.nBitLength;return V>0?T>>BigInt(V):T},M=e.bits2int_modN||function(v){return a(G(v))},Q=dx(e.nBitLength);function ie(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Tc<=v&&v<Q))throw new Error(`bigint expected < 2^${e.nBitLength}`);return ef(v,e.nByteLength)}function ee(v,T,V=X){if(["recovered","canonical"].some(Ke=>Ke in V))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:N}=e;let{lowS:Z,prehash:L,extraEntropy:E}=V;Z==null&&(Z=!0),v=mi("msgHash",v),L&&(v=mi("prehashed msgHash",C(v)));const Y=M(v),be=l(T),Ae=[ie(be),ie(Y)];if(E!=null&&E!==!1){const Ke=E===!0?N(t.BYTES):E;Ae.push(mi("extraEntropy",Ke))}const ve=cd(...Ae),De=Y;function Ge(Ke){const Pn=G(Ke);if(!b(Pn))return;const wt=c(Pn),yt=u.BASE.multiply(Pn).toAffine(),kt=a(yt.x);if(kt===Tc)return;const bt=a(wt*a(De+kt*be));if(bt===Tc)return;let tn=(yt.x===kt?0:2)|Number(yt.y&Io),dr=bt;return Z&&g(bt)&&(dr=y(bt),tn^=1),new w(kt,dr,tn)}return{seed:ve,k2sig:Ge}}const X={lowS:e.lowS,prehash:!1},oe={lowS:e.lowS,prehash:!1};function z(v,T,V=X){const{seed:C,k2sig:N}=ee(v,T,V),Z=e;return i8(Z.hash.outputLen,Z.nByteLength,Z.hmac)(C,N)}u.BASE._setWindowSize(8);function m(v,T,V,C=oe){var yt;const N=v;if(T=mi("msgHash",T),V=mi("publicKey",V),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:Z,prehash:L}=C;let E,Y;try{if(typeof N=="string"||od(N))try{E=w.fromDER(N)}catch(kt){if(!(kt instanceof Ll.Err))throw kt;E=w.fromCompact(N)}else if(typeof N=="object"&&typeof N.r=="bigint"&&typeof N.s=="bigint"){const{r:kt,s:bt}=N;E=new w(kt,bt)}else throw new Error("PARSE");Y=u.fromHex(V)}catch(kt){if(kt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Z&&E.hasHighS())return!1;L&&(T=e.hash(T));const{r:be,s:Ae}=E,ve=M(T),De=c(Ae),Ge=a(ve*De),Ke=a(be*De),Pn=(yt=u.BASE.multiplyAndAddUnsafe(Y,Ge,Ke))==null?void 0:yt.toAffine();return Pn?a(Pn.x)===be:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:K,sign:z,verify:m,ProjectivePoint:u,Signature:w,utils:_}}class Y8 extends cx{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,H7(e);const r=Sk(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Zh(this),this.iHash.update(e),this}digestInto(e){Zh(this),Bm(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const G8=(n,e,t)=>new Y8(n,e).update(t).digest();G8.create=(n,e)=>new Y8(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function LJ(n){return{hash:n,hmac:(e,...t)=>G8(n,e,j5(...t)),randomBytes:H5}}function OJ(n,e){const t=r=>MJ({...n,...LJ(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J8=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),TC=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),NJ=BigInt(1),AI=BigInt(2),CC=(n,e)=>(n+e/AI)/e;function $J(n){const e=J8,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Vr(l,t,e)*l%e,b=Vr(d,t,e)*l%e,p=Vr(b,AI,e)*u%e,g=Vr(p,i,e)*p%e,y=Vr(g,s,e)*g%e,S=Vr(y,a,e)*y%e,w=Vr(S,c,e)*S%e,_=Vr(w,a,e)*y%e,R=Vr(_,t,e)*l%e,x=Vr(R,o,e)*g%e,K=Vr(x,r,e)*u%e,G=Vr(K,AI,e);if(!_I.eql(_I.sqr(G),n))throw new Error("Cannot find square root");return G}const _I=o8(J8,void 0,void 0,{sqrt:$J}),ki=OJ({a:BigInt(0),b:BigInt(7),Fp:_I,n:TC,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=TC,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-NJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=CC(s*n,e),c=CC(-r*n,e);let u=Lr(n-a*t-c*i,e),l=Lr(-a*r-c*s,e);const d=u>o,b=l>o;if(d&&(u=e-u),b&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:b,k2:l}}}},po);BigInt(0);ki.ProjectivePoint;const qJ=on.utils.randomPrivateKey,MC=()=>{const n=on.utils.randomPrivateKey(),e=N0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},N0=on.getPublicKey;function LC(n){try{return on.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Bx=(n,e)=>on.sign(n,e.slice(0,32)),zJ=on.verify,Ut=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let Tx=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(Yg,this))}static decode(e){return Pp(Yg,this,e)}static decodeUnchecked(e){return Ip(Yg,this,e)}},DJ=class extends Tx{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const Yg=new Map;var Q8;const Z8=32,Ja=32;function UJ(n){return n._bn!==void 0}let OC=1,ke=class th extends Tx{constructor(e){if(super({}),this._bn=void 0,UJ(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Ja)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Ja)throw new Error("Invalid public key input")}}static unique(){const e=new th(OC);return OC+=1,new th(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Ja)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=po(i);return new th(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>Z8)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Ut(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=po(r);if(LC(i))throw new Error("Invalid seeds, address must fall off the curve");return new th(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new th(e);return LC(t.toBytes())}};Q8=ke;ke.default=new Q8("11111111111111111111111111111111");Yg.set(ke,{kind:"struct",fields:[["_bn","u256"]]});let KJ=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Ut(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Ut(qJ()),this._publicKey=Ut(N0(this._secretKey))}get publicKey(){return new ke(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const WJ=new ke("BPFLoader1111111111111111111111111111111111"),Nu=1232,xk=127,My=64;let Cx=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Cx.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Mx=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Mx.prototype,"name",{value:"TransactionExpiredTimeoutError"});let _h=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(_h.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Ly=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Yt=(n="publicKey")=>fe(32,n),FJ=(n="signature")=>fe(64,n),Ol=(n="string")=>{const e=U([D("length"),D("lengthPadding"),fe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},VJ=(n="authorized")=>U([Yt("staker"),Yt("withdrawer")],n),jJ=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Yt("custodian")],n),HJ=(n="voteInit")=>U([Yt("nodePubkey"),Yt("authorizedVoter"),Yt("authorizedWithdrawer"),ae("commission")],n),YJ=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Yt("currentAuthorityDerivedKeyOwnerPubkey"),Ol("currentAuthorityDerivedKeySeed"),Yt("newAuthorized")],n);function X8(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return X8({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function ws(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function to(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Sn(n,e){if(!n)throw new Error(e||"Assertion failed")}let e4=class t4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new t4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Sn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Sn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Sn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ke(c)),...r.map(([c])=>new ke(c)),...i.map(([c])=>new ke(c)),...s.map(([c])=>new ke(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new ke(s),c=e.findIndex(u=>u.equals(a));c>=0&&(Sn(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const n4="Reached end of buffer unexpectedly";function Pa(n){if(n.length===0)throw new Error(n4);return n.shift()}function ks(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(n4);return n.splice(...e)}let Gu=class vI{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ke(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ly(this.staticAccountKeys)}static compile(e){const t=e4.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Ly(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new vI({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];to(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];to(y,b.length);let S=[];return to(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];to(i,r.length);let s=H.Buffer.alloc(Nu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([ae("programIdIndex"),fe(d.keyIndicesCount.length,"keyIndicesCount"),Te(ae("keyIndex"),d.keyIndices.length,"keyIndices"),fe(d.dataLength.length,"dataLength"),Te(ae("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([fe(1,"numRequiredSignatures"),fe(1,"numReadonlySignedAccounts"),fe(1,"numReadonlyUnsignedAccounts"),fe(t.length,"keyCount"),Te(Yt("key"),e,"keys"),Yt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Ut(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Pa(t);if(r!==(r&xk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Pa(t),s=Pa(t),o=ws(t);let a=[];for(let b=0;b<o;b++){const p=ks(t,0,Ja);a.push(new ke(H.Buffer.from(p)))}const c=ks(t,0,Ja),u=ws(t);let l=[];for(let b=0;b<u;b++){const p=Pa(t),g=ws(t),y=ks(t,0,g),S=ws(t),w=ks(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new vI(d)}},Bk=class EI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ly(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=e4.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Ly(a,i).compileInstructions(e.instructions);return new EI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();to(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();to(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();to(s,this.addressTableLookups.length);const o=U([ae("prefix"),U([ae("numRequiredSignatures"),ae("numReadonlySignedAccounts"),ae("numReadonlyUnsignedAccounts")],"header"),fe(e.length,"staticAccountKeysLength"),Te(Yt(),this.staticAccountKeys.length,"staticAccountKeys"),Yt("recentBlockhash"),fe(r.length,"instructionsLength"),fe(t.length,"serializedInstructions"),fe(s.length,"addressTableLookupsLength"),fe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Nu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Nu);for(const r of this.compiledInstructions){const i=Array();to(i,r.accountKeyIndexes.length);const s=Array();to(s,r.data.length);const o=U([ae("programIdIndex"),fe(i.length,"encodedAccountKeyIndexesLength"),Te(ae(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe(s.length,"encodedDataLength"),fe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Nu);for(const r of this.addressTableLookups){const i=Array();to(i,r.writableIndexes.length);const s=Array();to(s,r.readonlyIndexes.length);const o=U([Yt("accountKey"),fe(i.length,"encodedWritableIndexesLength"),Te(ae(),r.writableIndexes.length,"writableIndexes"),fe(s.length,"encodedReadonlyIndexesLength"),Te(ae(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Pa(t),i=r&xk;Sn(r!==i,"Expected versioned message but received legacy message");const s=i;Sn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Pa(t),numReadonlySignedAccounts:Pa(t),numReadonlyUnsignedAccounts:Pa(t)},a=[],c=ws(t);for(let g=0;g<c;g++)a.push(new ke(ks(t,0,Ja)));const u=Pe.encode(ks(t,0,Ja)),l=ws(t),d=[];for(let g=0;g<l;g++){const y=Pa(t),S=ws(t),w=ks(t,0,S),_=ws(t),R=new Uint8Array(ks(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=ws(t),p=[];for(let g=0;g<b;g++){const y=new ke(ks(t,0,Ja)),S=ws(t),w=ks(t,0,S),_=ws(t),R=ks(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new EI({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const Lx={deserializeMessageVersion(n){const e=n[0],t=e&xk;return t===e?"legacy":t},deserialize:n=>{const e=Lx.deserializeMessageVersion(n);if(e==="legacy")return Gu.from(n);if(e===0)return Bk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let kc=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const GJ=H.Buffer.alloc(My).fill(0);let Et=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},_t=class II{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Et(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new ke(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{Sn(y.programIdIndex>=0),y.accounts.forEach(S=>Sn(S>=0))}),new Gu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=Bx(r,i.secretKey);this._addSignature(i.publicKey,Ut(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Sn(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):zJ(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];to(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return Sn(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(Sn(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),Sn(s.length<=Nu,`Transaction too large: ${s.length} > ${Nu}`),s}get keys(){return Sn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Sn(this.instructions.length===1),this.instructions[0].programId}get data(){return Sn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ws(t);let i=[];for(let s=0;s<r;s++){const o=ks(t,0,My);i.push(Pe.encode(H.Buffer.from(o)))}return II.populate(Gu.from(t),i)}static populate(e,t=[]){const r=new II;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(GJ)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Et({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},r4=class i4{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Sn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Sn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new Et({programId:S,data:Ut(g.data),keys:y}))}return new i4({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Gu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Bk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},s4=class o4{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Sn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(My));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();to(t,this.signatures.length);const r=U([fe(t.length,"encodedSignaturesLength"),Te(FJ(),this.signatures.length,"signatures"),fe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=ws(t);for(let o=0;o<i;o++)r.push(new Uint8Array(ks(t,0,My)));const s=Lx.deserialize(new Uint8Array(t));return new o4(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));Sn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Bx(t,i.secretKey)}}addSignature(e,t){Sn(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Sn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const JJ=160,QJ=64,ZJ=JJ/QJ,a4=1e3/ZJ,ka=new ke("SysvarC1ock11111111111111111111111111111111"),XJ=new ke("SysvarEpochSchedu1e111111111111111111111111"),eQ=new ke("Sysvar1nstructions1111111111111111111111111"),h1=new ke("SysvarRecentB1ockHashes11111111111111111111"),ta=new ke("SysvarRent111111111111111111111111111111111"),tQ=new ke("SysvarRewards111111111111111111111111111111"),nQ=new ke("SysvarS1otHashes111111111111111111111111111"),rQ=new ke("SysvarS1otHistory11111111111111111111111111"),f1=new ke("SysvarStakeHistory1111111111111111111111111");async function $0(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function ml(n){return new Promise(e=>setTimeout(e,n))}function ln(n,e){const t=n.layout.span>=0?n.layout.span:X8(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function $n(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const c4=Be("lamportsPerSignature"),u4=U([D("version"),D("state"),Yt("authorizedPubkey"),Yt("nonce"),U([c4],"feeCalculator")]),RI=u4.span;let l4=class d4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=u4.decode(Ut(e),0);return new d4({authorizedPubkey:new ke(t.authorizedPubkey),nonce:new ke(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const iQ=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},sQ=n=>e=>{const t=fe(n,e),{encode:r,decode:i}=iQ(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Ko(o,n);return r(u,a,c)},s},rf=sQ(8);let oQ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(hr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=$n(hr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ke(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=$n(hr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=$n(hr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ke(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=$n(hr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=$n(hr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ke(t),seed:r,space:i,programId:new ke(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=$n(hr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ke(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=$n(hr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ke(t),seed:r,programId:new ke(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=$n(hr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ke(t),seed:r,lamports:i,space:s,programId:new ke(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=$n(hr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ke(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(hr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=$n(hr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=$n(hr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ke(t)}}static checkProgramId(e){if(!e.equals(br.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const hr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Yt("programId")])},Assign:{index:1,layout:U([D("instruction"),Yt("programId")])},Transfer:{index:2,layout:U([D("instruction"),rf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Yt("base"),Ol("seed"),Je("lamports"),Je("space"),Yt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Yt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Yt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Yt("base"),Ol("seed"),Je("space"),Yt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Yt("base"),Ol("seed"),Yt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),rf("lamports"),Ol("seed"),Yt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let br=class PI{constructor(){}static createAccount(e){const t=hr.Create,r=ln(t,{lamports:e.lamports,space:e.space,programId:Ut(e.programId.toBuffer())});return new Et({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=hr.TransferWithSeed;t=ln(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=hr.Transfer;t=ln(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Et({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=hr.AssignWithSeed;t=ln(i,{base:Ut(e.basePubkey.toBuffer()),seed:e.seed,programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=hr.Assign;t=ln(i,{programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Et({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=hr.CreateWithSeed,r=ln(t,{base:Ut(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ut(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Et({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new _t;"basePubkey"in e&&"seed"in e?t.add(PI.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:RI,programId:this.programId})):t.add(PI.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:RI,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=hr.InitializeNonceAccount,r=ln(t,{authorized:Ut(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:h1,isSigner:!1,isWritable:!1},{pubkey:ta,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Et(i)}static nonceAdvance(e){const t=hr.AdvanceNonceAccount,r=ln(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:h1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Et(i)}static nonceWithdraw(e){const t=hr.WithdrawNonceAccount,r=ln(t,{lamports:e.lamports});return new Et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:h1,isSigner:!1,isWritable:!1},{pubkey:ta,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=hr.AuthorizeNonceAccount,r=ln(t,{authorized:Ut(e.newAuthorizedPubkey.toBuffer())});return new Et({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=hr.AllocateWithSeed;t=ln(i,{base:Ut(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ut(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=hr.Allocate;t=ln(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Et({keys:r,programId:this.programId,data:t})}};br.programId=new ke("11111111111111111111111111111111");const aQ=Nu-300;let q0=class xI{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/xI.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new _t,p.add(br.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new _t,p.add(br.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new _t,p.add(br.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new _t().add(br.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await $0(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(ae("byte"),Rt(D(),-8),"bytes")]),a=xI.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new _t().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push($0(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await ml(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new _t().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ta,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(a4/2)))}}return!0}};q0.chunkSize=aQ;const cQ=new ke("BPFLoader2111111111111111111111111111111111");let uQ=class{static getMinNumSignatures(e){return q0.getMinNumSignatures(e)}static load(e,t,r,i,s){return q0.load(e,t,r,s,i)}};function lQ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dQ=Object.prototype.toString,hQ=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Pg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Pg(n.toJSON(),e);if(c=dQ.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Pg(n[t],!0)+",";return r>-1&&(i+=Pg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=hQ(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Pg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var fQ=function(n){var e=Pg(n,!1);if(e!==void 0)return""+e},NC=lQ(fQ);const hg=32;function l_(n){let e=0;for(;n>1;)n/=2,e++;return e}function pQ(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let h4=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=l_(pQ(e+hg+1))-l_(hg)-1,r=this.getSlotsInEpoch(t),i=e-(r-hg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*hg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+l_(hg)):this.slotsPerEpoch}},BI=class extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}};const gQ={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let lt=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};var yQ=globalThis.fetch;let mQ=class extends pJ{constructor(e,t,r){const i=s=>{const o=bJ(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function bQ(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const $C=56;let TI=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=bQ(wQ,e),r=e.length-$C;Sn(r>=0,"lookup table is invalid"),Sn(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Yt(),i,"addresses")]).decode(e.slice($C));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ke(t.authority[0]):void 0,addresses:s.map(o=>new ke(o))}}};const wQ={index:1,layout:U([D("typeIndex"),rf("deactivationSlot"),Be("lastExtendedSlot"),ae("lastExtendedStartIndex"),ae(),Te(Yt(),Rt(ae(),-1),"authority")])},kQ=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function SQ(n){const e=n.match(kQ);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const ui=Om(Rx(ke),qe(),n=>new ke(n)),f4=Px([qe(),zr("base64")]),Ox=Om(Rx(H.Buffer),f4,n=>H.Buffer.from(n[0],"base64")),p4=30*1e3;function AQ(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ir(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function g4(n){return Us([xe({jsonrpc:zr("2.0"),id:qe(),result:n}),xe({jsonrpc:zr("2.0"),id:qe(),error:xe({code:Lm(),message:qe(),data:At(MG())})})])}const _Q=g4(Lm());function Ot(n){return Om(g4(n),_Q,e=>"error"in e?e:{...e,result:Ue(e.result,n)})}function jr(n){return Ot(xe({context:xe({slot:ue()}),value:n}))}function Tk(n){return xe({context:xe({slot:ue()}),value:n})}function d_(n,e){return n===0?new Bk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ke(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Gu(e)}const vQ=xe({foundation:ue(),foundationTerm:ue(),initial:ue(),taper:ue(),terminal:ue()}),EQ=Ot(Ze(Qe(xe({epoch:ue(),effectiveSlot:ue(),amount:ue(),postBalance:ue(),commission:At(Qe(ue()))})))),IQ=Ze(xe({slot:ue(),prioritizationFee:ue()})),RQ=xe({total:ue(),validator:ue(),foundation:ue(),epoch:ue()}),PQ=xe({epoch:ue(),slotIndex:ue(),slotsInEpoch:ue(),absoluteSlot:ue(),blockHeight:At(ue()),transactionCount:At(ue())}),xQ=xe({slotsPerEpoch:ue(),leaderScheduleSlotOffset:ue(),warmup:ic(),firstNormalEpoch:ue(),firstNormalSlot:ue()}),BQ=N8(qe(),Ze(ue())),Id=Qe(Us([xe({}),qe()])),TQ=xe({err:Id}),CQ=zr("receivedSignature"),MQ=xe({"solana-core":qe(),"feature-set":At(ue())}),qC=jr(xe({err:Qe(Us([xe({}),qe()])),logs:Qe(Ze(qe())),accounts:At(Qe(Ze(Qe(xe({executable:ic(),owner:qe(),lamports:ue(),data:Ze(qe()),rentEpoch:At(ue())}))))),unitsConsumed:At(ue()),returnData:At(Qe(xe({programId:qe(),data:Px([qe(),zr("base64")])})))})),LQ=jr(xe({byIdentity:N8(qe(),Ze(ue())),range:xe({firstSlot:ue(),lastSlot:ue()})}));function OQ(n,e,t,r,i,s){const o=t||yQ;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},NZ)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await ml(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function NQ(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function $Q(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const qQ=Ot(vQ),zQ=Ot(RQ),DQ=Ot(IQ),UQ=Ot(PQ),KQ=Ot(xQ),WQ=Ot(BQ),FQ=Ot(ue()),VQ=jr(xe({total:ue(),circulating:ue(),nonCirculating:ue(),nonCirculatingAccounts:Ze(ui)})),CI=xe({amount:qe(),uiAmount:Qe(ue()),decimals:ue(),uiAmountString:At(qe())}),jQ=jr(Ze(xe({address:ui,amount:qe(),uiAmount:Qe(ue()),decimals:ue(),uiAmountString:At(qe())}))),HQ=jr(Ze(xe({pubkey:ui,account:xe({executable:ic(),owner:ui,lamports:ue(),data:Ox,rentEpoch:ue()})}))),MI=xe({program:qe(),parsed:Lm(),space:ue()}),YQ=jr(Ze(xe({pubkey:ui,account:xe({executable:ic(),owner:ui,lamports:ue(),data:MI,rentEpoch:ue()})}))),GQ=jr(Ze(xe({lamports:ue(),address:ui}))),Oy=xe({executable:ic(),owner:ui,lamports:ue(),data:Ox,rentEpoch:ue()}),JQ=xe({pubkey:ui,account:Oy}),QQ=Om(Us([Rx(H.Buffer),MI]),Us([f4,MI]),n=>Array.isArray(n)?Ue(n,Ox):n),LI=xe({executable:ic(),owner:ui,lamports:ue(),data:QQ,rentEpoch:ue()}),ZQ=xe({pubkey:ui,account:LI}),XQ=xe({state:Us([zr("active"),zr("inactive"),zr("activating"),zr("deactivating")]),active:ue(),inactive:ue()}),eZ=Ot(Ze(xe({signature:qe(),slot:ue(),err:Id,memo:Qe(qe()),blockTime:At(Qe(ue()))}))),tZ=Ot(Ze(xe({signature:qe(),slot:ue(),err:Id,memo:Qe(qe()),blockTime:At(Qe(ue()))}))),nZ=xe({subscription:ue(),result:Tk(Oy)}),rZ=xe({pubkey:ui,account:Oy}),iZ=xe({subscription:ue(),result:Tk(rZ)}),sZ=xe({parent:ue(),slot:ue(),root:ue()}),oZ=xe({subscription:ue(),result:sZ}),aZ=Us([xe({type:Us([zr("firstShredReceived"),zr("completed"),zr("optimisticConfirmation"),zr("root")]),slot:ue(),timestamp:ue()}),xe({type:zr("createdBank"),parent:ue(),slot:ue(),timestamp:ue()}),xe({type:zr("frozen"),slot:ue(),timestamp:ue(),stats:xe({numTransactionEntries:ue(),numSuccessfulTransactions:ue(),numFailedTransactions:ue(),maxTransactionsPerEntry:ue()})}),xe({type:zr("dead"),slot:ue(),timestamp:ue(),err:qe()})]),cZ=xe({subscription:ue(),result:aZ}),uZ=xe({subscription:ue(),result:Tk(Us([TQ,CQ]))}),lZ=xe({subscription:ue(),result:ue()}),dZ=xe({pubkey:qe(),gossip:Qe(qe()),tpu:Qe(qe()),rpc:Qe(qe()),version:Qe(qe())}),zC=xe({votePubkey:qe(),nodePubkey:qe(),activatedStake:ue(),epochVoteAccount:ic(),epochCredits:Ze(Px([ue(),ue(),ue()])),commission:ue(),lastVote:ue(),rootSlot:Qe(ue())}),hZ=Ot(xe({current:Ze(zC),delinquent:Ze(zC)})),fZ=Us([zr("processed"),zr("confirmed"),zr("finalized")]),pZ=xe({slot:ue(),confirmations:Qe(ue()),err:Id,confirmationStatus:At(fZ)}),gZ=jr(Ze(Qe(pZ))),yZ=Ot(ue()),y4=xe({accountKey:ui,writableIndexes:Ze(ue()),readonlyIndexes:Ze(ue())}),Nx=xe({signatures:Ze(qe()),message:xe({accountKeys:Ze(qe()),header:xe({numRequiredSignatures:ue(),numReadonlySignedAccounts:ue(),numReadonlyUnsignedAccounts:ue()}),instructions:Ze(xe({accounts:Ze(ue()),data:qe(),programIdIndex:ue()})),recentBlockhash:qe(),addressTableLookups:At(Ze(y4))})}),m4=xe({pubkey:ui,signer:ic(),writable:ic(),source:At(Us([zr("transaction"),zr("lookupTable")]))}),b4=xe({accountKeys:Ze(m4),signatures:Ze(qe())}),w4=xe({parsed:Lm(),program:qe(),programId:ui}),k4=xe({accounts:Ze(ui),data:qe(),programId:ui}),mZ=Us([k4,w4]),bZ=Us([xe({parsed:Lm(),program:qe(),programId:qe()}),xe({accounts:Ze(qe()),data:qe(),programId:qe()})]),S4=Om(mZ,bZ,n=>"accounts"in n?Ue(n,k4):Ue(n,w4)),A4=xe({signatures:Ze(qe()),message:xe({accountKeys:Ze(m4),instructions:Ze(S4),recentBlockhash:qe(),addressTableLookups:At(Qe(Ze(y4)))})}),z0=xe({accountIndex:ue(),mint:qe(),owner:At(qe()),uiTokenAmount:CI}),_4=xe({writable:Ze(ui),readonly:Ze(ui)}),Ck=xe({err:Id,fee:ue(),innerInstructions:At(Qe(Ze(xe({index:ue(),instructions:Ze(xe({accounts:Ze(ue()),data:qe(),programIdIndex:ue()}))})))),preBalances:Ze(ue()),postBalances:Ze(ue()),logMessages:At(Qe(Ze(qe()))),preTokenBalances:At(Qe(Ze(z0))),postTokenBalances:At(Qe(Ze(z0))),loadedAddresses:At(_4),computeUnitsConsumed:At(ue())}),$x=xe({err:Id,fee:ue(),innerInstructions:At(Qe(Ze(xe({index:ue(),instructions:Ze(S4)})))),preBalances:Ze(ue()),postBalances:Ze(ue()),logMessages:At(Qe(Ze(qe()))),preTokenBalances:At(Qe(Ze(z0))),postTokenBalances:At(Qe(Ze(z0))),loadedAddresses:At(_4),computeUnitsConsumed:At(ue())}),Mp=Us([zr(0),zr("legacy")]),Rd=xe({pubkey:qe(),lamports:ue(),postBalance:Qe(ue()),rewardType:Qe(qe()),commission:At(Qe(ue()))}),wZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:Nx,meta:Qe(Ck),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),kZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),SZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:b4,meta:Qe(Ck),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),AZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:A4,meta:Qe($x),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),_Z=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:b4,meta:Qe($x),version:At(Mp)})),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),vZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),rewards:At(Ze(Rd)),blockTime:Qe(ue()),blockHeight:Qe(ue())}))),EZ=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),transactions:Ze(xe({transaction:Nx,meta:Qe(Ck)})),rewards:At(Ze(Rd)),blockTime:Qe(ue())}))),DC=Ot(Qe(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:ue(),signatures:Ze(qe()),blockTime:Qe(ue())}))),h_=Ot(Qe(xe({slot:ue(),meta:Qe(Ck),blockTime:At(Qe(ue())),transaction:Nx,version:At(Mp)}))),Eb=Ot(Qe(xe({slot:ue(),transaction:A4,meta:Qe($x),blockTime:At(Qe(ue())),version:At(Mp)}))),IZ=jr(xe({blockhash:qe(),feeCalculator:xe({lamportsPerSignature:ue()})})),RZ=jr(xe({blockhash:qe(),lastValidBlockHeight:ue()})),PZ=jr(ic()),xZ=xe({slot:ue(),numTransactions:ue(),numSlots:ue(),samplePeriodSecs:ue()}),BZ=Ot(Ze(xZ)),TZ=jr(Qe(xe({feeCalculator:xe({lamportsPerSignature:ue()})}))),CZ=Ot(qe()),MZ=Ot(qe()),LZ=xe({err:Id,logs:Ze(qe()),signature:qe()}),OZ=xe({result:Tk(LZ),subscription:ue()}),NZ={"solana-client":"js/0.0.0-development"};let p1=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Ir(l),p=this._buildArgs([],d,void 0,b),g=NC(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=Ue(y,Ot(ue()));if("error"in S)throw new lt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=AQ(e),this._rpcWsEndpoint=r||SQ(e),this._rpcClient=OQ(e,i,s,o,a,c),this._rpcRequest=NQ(this._rpcClient),this._rpcBatchRequest=$Q(this._rpcClient),this._rpcWebSocket=new mQ(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=Ue(o,jr(ue()));if("error"in a)throw new lt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=Ue(t,Ot(Qe(ue())));if("error"in r)throw new lt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=Ue(e,Ot(ue()));if("error"in t)throw new lt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=Ue(e,FQ);if("error"in t)throw new lt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=Ue(r,VQ);if("error"in i)throw new lt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=Ue(i,jr(CI));if("error"in s)throw new lt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=Ue(i,jr(CI));if("error"in s)throw new lt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Ir(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=Ue(c,HQ);if("error"in u)throw new lt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=Ue(o,YQ);if("error"in a)throw new lt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=Ue(i,GQ);if("error"in s)throw new lt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=Ue(i,jQ);if("error"in s)throw new lt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=Ue(o,jr(Qe(Oy)));if("error"in a)throw new lt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=Ue(o,jr(Qe(LI)));if("error"in a)throw new lt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Ue(a,jr(Ze(Qe(LI))));if("error"in c)throw new lt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=Ue(a,jr(Ze(Qe(Oy))));if("error"in c)throw new lt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Ir(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=Ue(a,Ot(XQ));if("error"in c)throw new lt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Ir(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ze(JQ),l=o.withContext===!0?Ue(c,jr(u)):Ue(c,Ot(u));if("error"in l)throw new lt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=Ue(o,Ot(Ze(ZQ)));if("error"in a)throw new lt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Sn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:kc.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:kc.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await ml(1e3),s||(p=await b(),s))return;d({__type:kc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===kc.PROCESSED)l=d.response;else throw new Cx(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:kc.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await ml(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===kc.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await ml(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new _h(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new _h(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new _h(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new _h(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:kc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===kc.PROCESSED)a=c.response;else throw new Mx(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=Ue(e,Ot(Ze(dZ)));if("error"in t)throw new lt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=Ue(r,hZ);if("error"in i)throw new lt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=Ue(s,Ot(ue()));if("error"in o)throw new lt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=Ue(s,Ot(qe()));if("error"in o)throw new lt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=Ue(i,Ot(Ze(ui)));if("error"in s)throw new lt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);Sn(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=Ue(i,gZ);if("error"in s)throw new lt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=Ue(s,Ot(ue()));if("error"in o)throw new lt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=Ue(r,qQ);if("error"in i)throw new lt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Ir(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=Ue(a,EQ);if("error"in c)throw new lt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=Ue(e,zQ);if("error"in t)throw new lt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=Ue(s,UQ);if("error"in o)throw new lt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=Ue(e,KQ);if("error"in t)throw new lt(t.error,"failed to get epoch schedule");const r=t.result;return new h4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=Ue(e,WQ);if("error"in t)throw new lt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=Ue(i,yZ);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=Ue(r,IZ);if("error"in i)throw new lt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=Ue(t,BZ);if("error"in r)throw new lt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=Ue(i,TZ);if("error"in s)throw new lt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Ut(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=Ue(s,jr(Qe(ue())));if("error"in o)throw new lt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=Ue(i,DQ);if("error"in s)throw new lt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=Ue(s,RZ);if("error"in o)throw new lt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=Ue(o,PZ);if("error"in a)throw new lt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=Ue(e,Ot(MQ));if("error"in t)throw new lt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=Ue(e,Ot(qe()));if("error"in t)throw new lt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ue(o,SZ);if("error"in a)throw a.error;return a.result}case"none":{const a=Ue(o,kZ);if("error"in a)throw a.error;return a.result}default:{const a=Ue(o,wZ);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:d_(d,u.message)},version:d}))}:null}}}catch(a){throw new lt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=Ue(o,_Z);if("error"in a)throw a.error;return a.result}case"none":{const a=Ue(o,vZ);if("error"in a)throw a.error;return a.result}default:{const a=Ue(o,AZ);if("error"in a)throw a.error;return a.result}}}catch(a){throw new lt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=Ue(s,LQ);if("error"in o)throw new lt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=Ue(o,h_);if("error"in a)throw new lt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:d_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Ir(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=Ue(o,Eb);if("error"in a)throw new lt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Ue(c,Eb);if("error"in u)throw new lt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Ir(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=Ue(c,h_);if("error"in u)throw new lt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:d_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=Ue(i,EZ);if("error"in s)throw new lt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Gu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:_t.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=Ue(s,Ot(Ze(ue())));if("error"in o)throw new lt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=Ue(i,DC);if("error"in s)throw new lt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=Ue(i,DC);if("error"in s)throw new lt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=Ue(i,h_);if("error"in s)throw new lt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Gu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:_t.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=Ue(i,Eb);if("error"in s)throw new lt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=Ue(o,Eb);if("error"in a)throw new lt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=Ue(s,eZ);if("error"in o)throw new lt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=Ue(s,tZ);if("error"in o)throw new lt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new TI({key:e,state:TI.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=l4.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=Ue(r,CZ);if("error"in i)throw new lt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await ml(100);const r=Date.now()-this._blockhashInfo.lastFetch>=p4;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await ml(a4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ir(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=Ue(s,jr(ue()));if("error"in o)throw new lt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=Ue(R,qC);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof _t){let g=e;i=new _t,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=_t.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=Ue(b,qC);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new BI("failed to simulate transaction: "+p.error.message,g)}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Ut(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=Ue(a,MZ);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new BI("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=Ue(e,nZ);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=NC([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];Sn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Ue(e,iZ);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Ue(e,OZ);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Ue(e,oZ);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Ue(e,cZ);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Ue(e,uZ);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Ue(e,lZ);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},vh=class g1{constructor(e){this._keypair=void 0,this._keypair=e??MC()}static generate(){return new g1(MC())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=N0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new g1({publicKey:r,secretKey:e})}static fromSeed(e){const t=N0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new g1({publicKey:t,secretKey:r})}get publicKey(){return new ke(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Cc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),rf("recentSlot"),ae("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),rf(),Te(Yt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let $Z=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Cc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=$n(Cc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=$n(Cc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ke(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qx.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},qx=class{constructor(){}static createLookupTable(e){const[t,r]=ke.findProgramAddressSync([e.authority.toBuffer(),Ko(BigInt(e.recentSlot),8)],this.programId),i=Cc.CreateLookupTable,s=ln(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:br.programId,isSigner:!1,isWritable:!1}];return[new Et({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Cc.FreezeLookupTable,r=ln(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Et({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Cc.ExtendLookupTable,r=ln(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:br.programId,isSigner:!1,isWritable:!1}),new Et({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Cc.DeactivateLookupTable,r=ln(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Et({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Cc.CloseLookupTable,r=ln(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Et({programId:this.programId,keys:i,data:r})}};qx.programId=new ke("AddressLookupTab1e1111111111111111111111111");let qZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ae("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(xa))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=$n(xa.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=$n(xa.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=$n(xa.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=$n(xa.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(zx.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const xa=Object.freeze({RequestUnits:{index:0,layout:U([ae("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([ae("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([ae("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([ae("instruction"),rf("microLamports")])}});let zx=class{constructor(){}static requestUnits(e){const t=xa.RequestUnits,r=ln(t,e);return new Et({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=xa.RequestHeapFrame,r=ln(t,e);return new Et({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=xa.SetComputeUnitLimit,r=ln(t,e);return new Et({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=xa.SetComputeUnitPrice,r=ln(t,{microLamports:BigInt(e.microLamports)});return new Et({keys:[],programId:this.programId,data:r})}};zx.programId=new ke("ComputeBudget111111111111111111111111111111");const UC=64,KC=32,WC=64,FC=U([ae("numSignatures"),ae("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let v4=class E4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;Sn(t.length===KC,`Public Key must be ${KC} bytes but received ${t.length} bytes`),Sn(i.length===WC,`Signature must be ${WC} bytes but received ${i.length} bytes`);const o=FC.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return FC.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new Et({keys:[],programId:E4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Sn(t.length===UC,`Private key must be ${UC} bytes but received ${t.length} bytes`);try{const s=vh.fromSecretKey(t),o=s.publicKey.toBytes(),a=Bx(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};v4.programId=new ke("Ed25519SigVerify111111111111111111111111111");const zZ=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const DZ=ki.getPublicKey,VC=32,f_=20,jC=64,UZ=11,p_=U([ae("numSignatures"),ot("signatureOffset"),ae("signatureInstructionIndex"),ot("ethAddressOffset"),ae("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ae("messageInstructionIndex"),fe(20,"ethAddress"),fe(64,"signature"),ae("recoveryId")]);let I4=class y1{constructor(){}static publicKeyToEthAddress(e){Sn(e.length===jC,`Public key must be ${jC} bytes but received ${e.length} bytes`);try{return H.Buffer.from(qo(Ut(e))).slice(-f_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return y1.createInstructionWithEthAddress({ethAddress:y1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,Sn(a.length===f_,`Address must be ${f_} bytes but received ${a.length} bytes`);const c=1+UZ,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(p_.span+r.length);return p_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Ut(i),ethAddress:Ut(a),recoveryId:s},p),p.fill(Ut(r),p_.span),new Et({keys:[],programId:y1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;Sn(t.length===VC,`Private key must be ${VC} bytes but received ${t.length} bytes`);try{const s=Ut(t),o=DZ(s,!1).slice(1),a=H.Buffer.from(qo(Ut(r))),[c,u]=zZ(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};I4.programId=new ke("KeccakSecp256k11111111111111111111111111111");var R4;const P4=new ke("StakeConfig11111111111111111111111111111111");let x4=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Nm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};R4=Nm;Nm.default=new R4(0,0,ke.default);let KZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(_i))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=$n(_i.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new x4(new ke(t.staker),new ke(t.withdrawer)),lockup:new Nm(r.unixTimestamp,r.epoch,new ke(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),$n(_i.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=$n(_i.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ke(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=$n(_i.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ke(s),newAuthorizedPubkey:new ke(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=$n(_i.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(_i.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=$n(_i.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),$n(_i.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Mk.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const _i=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),VJ(),jJ()])},Authorize:{index:1,layout:U([D("instruction"),Yt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Yt("newAuthorized"),D("stakeAuthorizationType"),Ol("authoritySeed"),Yt("authorityOwner")])}}),WZ=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let Mk=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Nm.default,o=_i.Initialize,a=ln(o,{authorized:{staker:Ut(r.staker.toBuffer()),withdrawer:Ut(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ut(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ta,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Et(c)}static createAccountWithSeed(e){const t=new _t;t.add(br.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new _t;t.add(br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=_i.Delegate,o=ln(s);return new _t().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:f1,isSigner:!1,isWritable:!1},{pubkey:P4,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=_i.Authorize,c=ln(a,{newAuthorized:Ut(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new _t().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=_i.AuthorizeWithSeed,l=ln(u,{newAuthorized:Ut(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ut(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new _t().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=_i.Split,a=ln(o,{lamports:s});return new Et({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new _t;return r.add(br.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new _t;return u.add(br.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(br.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=_i.Merge,o=ln(s);return new _t().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:f1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=_i.Withdraw,c=ln(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:f1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new _t().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=_i.Deactivate,s=ln(i);return new _t().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Mk.programId=new ke("Stake11111111111111111111111111111111111111");Mk.space=200;let B4=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},FZ=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ba))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=$n(Ba.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new B4(new ke(t.nodePubkey),new ke(t.authorizedVoter),new ke(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=$n(Ba.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ke(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=$n(Ba.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ke(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ke(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=$n(Ba.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Lk.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ba=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),HJ()])},Authorize:{index:1,layout:U([D("instruction"),Yt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),YJ()])}}),VZ=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let Lk=class T4{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=Ba.InitializeAccount,o=ln(s,{voteInit:{nodePubkey:Ut(i.nodePubkey.toBuffer()),authorizedVoter:Ut(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ut(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ta,isSigner:!1,isWritable:!1},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Et(a)}static createAccount(e){const t=new _t;return t.add(br.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Ba.Authorize,a=ln(o,{newAuthorized:Ut(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new _t().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Ba.AuthorizeWithSeed,u=ln(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ut(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ut(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ka,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new _t().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Ba.Withdraw,a=ln(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new _t().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return T4.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Ba.UpdateValidatorIdentity,o=ln(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new _t().add({keys:a,programId:this.programId,data:o})}};Lk.programId=new ke("Vote111111111111111111111111111111111111111");Lk.space=3762;const C4=new ke("Va1idator1nfo111111111111111111111111111111"),jZ=xe({name:qe(),website:At(qe()),details:At(qe()),keybaseUsername:At(qe())});let HZ=class M4{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ws(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new ke(ks(t,0,Ja)),a=Pa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(C4)&&i[1].isSigner){const s=Ol().decode(H.Buffer.from(t)),o=JSON.parse(s);return L8(o,jZ),new M4(i[1].publicKey,o)}return null}};const YZ=new ke("Vote111111111111111111111111111111111111111"),GZ=U([Yt("nodePubkey"),Yt("authorizedWithdrawer"),ae("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),ae("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Yt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Yt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),ae("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let JZ=class L4{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=GZ.decode(Ut(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new L4({nodePubkey:new ke(r.nodePubkey),authorizedWithdrawer:new ke(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(QZ),priorVoters:ZZ(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function QZ({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ke(n)}}function HC({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ke(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function ZZ({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(HC),...n.slice(0,e).map(HC)]}const YC={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function OI(n,e){const t=e===!1?"http":"https";if(!n)return YC[t].devnet;const r=YC[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function XZ(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const eX=1e9,tX=Object.freeze(Object.defineProperty({__proto__:null,Account:KJ,AddressLookupTableAccount:TI,AddressLookupTableInstruction:$Z,AddressLookupTableProgram:qx,Authorized:x4,BLOCKHASH_CACHE_TIMEOUT_MS:p4,BPF_LOADER_DEPRECATED_PROGRAM_ID:WJ,BPF_LOADER_PROGRAM_ID:cQ,BpfLoader:uQ,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:xa,ComputeBudgetInstruction:qZ,ComputeBudgetProgram:zx,Connection:p1,Ed25519Program:v4,Enum:DJ,EpochSchedule:h4,FeeCalculatorLayout:c4,Keypair:vh,LAMPORTS_PER_SOL:eX,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Cc,Loader:q0,Lockup:Nm,MAX_SEED_LENGTH:Z8,Message:Gu,MessageAccountKeys:Ly,MessageV0:Bk,NONCE_ACCOUNT_LENGTH:RI,NonceAccount:l4,PACKET_DATA_SIZE:Nu,PUBLIC_KEY_LENGTH:Ja,PublicKey:ke,SIGNATURE_LENGTH_IN_BYTES:My,SOLANA_SCHEMA:Yg,STAKE_CONFIG_ID:P4,STAKE_INSTRUCTION_LAYOUTS:_i,SYSTEM_INSTRUCTION_LAYOUTS:hr,SYSVAR_CLOCK_PUBKEY:ka,SYSVAR_EPOCH_SCHEDULE_PUBKEY:XJ,SYSVAR_INSTRUCTIONS_PUBKEY:eQ,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:h1,SYSVAR_RENT_PUBKEY:ta,SYSVAR_REWARDS_PUBKEY:tQ,SYSVAR_SLOT_HASHES_PUBKEY:nQ,SYSVAR_SLOT_HISTORY_PUBKEY:rQ,SYSVAR_STAKE_HISTORY_PUBKEY:f1,Secp256k1Program:I4,SendTransactionError:BI,SolanaJSONRPCError:lt,SolanaJSONRPCErrorCode:gQ,StakeAuthorizationLayout:WZ,StakeInstruction:KZ,StakeProgram:Mk,Struct:Tx,SystemInstruction:oQ,SystemProgram:br,Transaction:_t,TransactionExpiredBlockheightExceededError:Cx,TransactionExpiredNonceInvalidError:_h,TransactionExpiredTimeoutError:Mx,TransactionInstruction:Et,TransactionMessage:r4,TransactionStatus:kc,VALIDATOR_INFO_KEY:C4,VERSION_PREFIX_MASK:xk,VOTE_PROGRAM_ID:YZ,ValidatorInfo:HZ,VersionedMessage:Lx,VersionedTransaction:s4,VoteAccount:JZ,VoteAuthorizationLayout:VZ,VoteInit:B4,VoteInstruction:FZ,VoteProgram:Lk,clusterApiUrl:OI,sendAndConfirmRawTransaction:XZ,sendAndConfirmTransaction:$0},Symbol.toStringTag,{value:"Module"}));function Ny(n){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(n)}function nX(n,e){if(Ny(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function rX(n){var e=nX(n,"string");return Ny(e)=="symbol"?e:e+""}function fg(n,e,t){return e=rX(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Cn={},Ok={};Ok.byteLength=oX;Ok.toByteArray=cX;Ok.fromByteArray=dX;var Ta=[],vo=[],iX=typeof Uint8Array<"u"?Uint8Array:Array,g_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Hd=0,sX=g_.length;Hd<sX;++Hd)Ta[Hd]=g_[Hd],vo[g_.charCodeAt(Hd)]=Hd;vo[45]=62;vo[95]=63;function O4(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function oX(n){var e=O4(n),t=e[0],r=e[1];return(t+r)*3/4-r}function aX(n,e,t){return(e+t)*3/4-t}function cX(n){var e,t=O4(n),r=t[0],i=t[1],s=new iX(aX(n,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=vo[n.charCodeAt(c)]<<18|vo[n.charCodeAt(c+1)]<<12|vo[n.charCodeAt(c+2)]<<6|vo[n.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=vo[n.charCodeAt(c)]<<2|vo[n.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=vo[n.charCodeAt(c)]<<10|vo[n.charCodeAt(c+1)]<<4|vo[n.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function uX(n){return Ta[n>>18&63]+Ta[n>>12&63]+Ta[n>>6&63]+Ta[n&63]}function lX(n,e,t){for(var r,i=[],s=e;s<t;s+=3)r=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),i.push(uX(r));return i.join("")}function dX(n){for(var e,t=n.length,r=t%3,i=[],s=16383,o=0,a=t-r;o<a;o+=s)i.push(lX(n,o,o+s>a?a:o+s));return r===1?(e=n[t-1],i.push(Ta[e>>2]+Ta[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],i.push(Ta[e>>10]+Ta[e>>4&63]+Ta[e<<2&63]+"=")),i.join("")}var Dx={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Dx.read=function(n,e,t,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=t?i-1:0,b=t?-1:1,p=n[e+d];for(d+=b,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=s*256+n[e+d],d+=b,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+n[e+d],d+=b,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(p?-1:1)*o*Math.pow(2,s-r)};Dx.write=function(n,e,t,r,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,d=l>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,g=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=b/c:e+=b*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;n[t+p]=a&255,p+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;n[t+p]=o&255,p+=g,o/=256,u-=8);n[t+p-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Ok,t=Dx,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=_,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const A=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(A,h),A.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(A){if(A>i)throw new RangeError('The value "'+A+'" is invalid for option "size"');const h=new Uint8Array(A);return Object.setPrototypeOf(h,a.prototype),h}function a(A,h,f){if(typeof A=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(A)}return c(A,h,f)}a.poolSize=8192;function c(A,h,f){if(typeof A=="string")return b(A,h);if(ArrayBuffer.isView(A))return g(A);if(A==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A);if(an(A,ArrayBuffer)||A&&an(A.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(an(A,SharedArrayBuffer)||A&&an(A.buffer,SharedArrayBuffer)))return y(A,h,f);if(typeof A=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=A.valueOf&&A.valueOf();if(I!=null&&I!==A)return a.from(I,h,f);const q=S(A);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof A[Symbol.toPrimitive]=="function")return a.from(A[Symbol.toPrimitive]("string"),h,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof A)}a.from=function(A,h,f){return c(A,h,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(A){if(typeof A!="number")throw new TypeError('"size" argument must be of type number');if(A<0)throw new RangeError('The value "'+A+'" is invalid for option "size"')}function l(A,h,f){return u(A),A<=0?o(A):h!==void 0?typeof f=="string"?o(A).fill(h,f):o(A).fill(h):o(A)}a.alloc=function(A,h,f){return l(A,h,f)};function d(A){return u(A),o(A<0?0:w(A)|0)}a.allocUnsafe=function(A){return d(A)},a.allocUnsafeSlow=function(A){return d(A)};function b(A,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const f=R(A,h)|0;let I=o(f);const q=I.write(A,h);return q!==f&&(I=I.slice(0,q)),I}function p(A){const h=A.length<0?0:w(A.length)|0,f=o(h);for(let I=0;I<h;I+=1)f[I]=A[I]&255;return f}function g(A){if(an(A,Uint8Array)){const h=new Uint8Array(A);return y(h.buffer,h.byteOffset,h.byteLength)}return p(A)}function y(A,h,f){if(h<0||A.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(A.byteLength<h+(f||0))throw new RangeError('"length" is outside of buffer bounds');let I;return h===void 0&&f===void 0?I=new Uint8Array(A):f===void 0?I=new Uint8Array(A,h):I=new Uint8Array(A,h,f),Object.setPrototypeOf(I,a.prototype),I}function S(A){if(a.isBuffer(A)){const h=w(A.length)|0,f=o(h);return f.length===0||A.copy(f,0,0,h),f}if(A.length!==void 0)return typeof A.length!="number"||Bt(A.length)?o(0):p(A);if(A.type==="Buffer"&&Array.isArray(A.data))return p(A.data)}function w(A){if(A>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return A|0}function _(A){return+A!=A&&(A=0),a.alloc(+A)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,f){if(an(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),an(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(h)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===f)return 0;let I=h.length,q=f.length;for(let J=0,te=Math.min(I,q);J<te;++J)if(h[J]!==f[J]){I=h[J],q=f[J];break}return I<q?-1:q<I?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,f){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);let I;if(f===void 0)for(f=0,I=0;I<h.length;++I)f+=h[I].length;const q=a.allocUnsafe(f);let J=0;for(I=0;I<h.length;++I){let te=h[I];if(an(te,Uint8Array))J+te.length>q.length?(a.isBuffer(te)||(te=a.from(te)),te.copy(q,J)):Uint8Array.prototype.set.call(q,te,J);else if(a.isBuffer(te))te.copy(q,J);else throw new TypeError('"list" argument must be an Array of Buffers');J+=te.length}return q};function R(A,h){if(a.isBuffer(A))return A.length;if(ArrayBuffer.isView(A)||an(A,ArrayBuffer))return A.byteLength;if(typeof A!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof A);const f=A.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&f===0)return 0;let q=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return Ht(A).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return wn(A).length;default:if(q)return I?-1:Ht(A).length;h=(""+h).toLowerCase(),q=!0}}a.byteLength=R;function x(A,h,f){let I=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,h>>>=0,f<=h))return"";for(A||(A="utf8");;)switch(A){case"hex":return N(this,h,f);case"utf8":case"utf-8":return m(this,h,f);case"ascii":return V(this,h,f);case"latin1":case"binary":return C(this,h,f);case"base64":return z(this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,h,f);default:if(I)throw new TypeError("Unknown encoding: "+A);A=(A+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function K(A,h,f){const I=A[h];A[h]=A[f],A[f]=I}a.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<h;f+=2)K(this,f,f+1);return this},a.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<h;f+=4)K(this,f,f+3),K(this,f+1,f+2);return this},a.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<h;f+=8)K(this,f,f+7),K(this,f+1,f+6),K(this,f+2,f+5),K(this,f+3,f+4);return this},a.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?m(this,0,h):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){let h="";const f=n.INSPECT_MAX_BYTES;return h=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(h+=" ... "),"<Buffer "+h+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(h,f,I,q,J){if(an(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(f===void 0&&(f=0),I===void 0&&(I=h?h.length:0),q===void 0&&(q=0),J===void 0&&(J=this.length),f<0||I>h.length||q<0||J>this.length)throw new RangeError("out of range index");if(q>=J&&f>=I)return 0;if(q>=J)return-1;if(f>=I)return 1;if(f>>>=0,I>>>=0,q>>>=0,J>>>=0,this===h)return 0;let te=J-q,Le=I-f;const Xe=Math.min(te,Le),We=this.slice(q,J),mt=h.slice(f,I);for(let Oe=0;Oe<Xe;++Oe)if(We[Oe]!==mt[Oe]){te=We[Oe],Le=mt[Oe];break}return te<Le?-1:Le<te?1:0};function G(A,h,f,I,q){if(A.length===0)return-1;if(typeof f=="string"?(I=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Bt(f)&&(f=q?0:A.length-1),f<0&&(f=A.length+f),f>=A.length){if(q)return-1;f=A.length-1}else if(f<0)if(q)f=0;else return-1;if(typeof h=="string"&&(h=a.from(h,I)),a.isBuffer(h))return h.length===0?-1:M(A,h,f,I,q);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(A,h,f):Uint8Array.prototype.lastIndexOf.call(A,h,f):M(A,[h],f,I,q);throw new TypeError("val must be string, number or Buffer")}function M(A,h,f,I,q){let J=1,te=A.length,Le=h.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(A.length<2||h.length<2)return-1;J=2,te/=2,Le/=2,f/=2}function Xe(mt,Oe){return J===1?mt[Oe]:mt.readUInt16BE(Oe*J)}let We;if(q){let mt=-1;for(We=f;We<te;We++)if(Xe(A,We)===Xe(h,mt===-1?0:We-mt)){if(mt===-1&&(mt=We),We-mt+1===Le)return mt*J}else mt!==-1&&(We-=We-mt),mt=-1}else for(f+Le>te&&(f=te-Le),We=f;We>=0;We--){let mt=!0;for(let Oe=0;Oe<Le;Oe++)if(Xe(A,We+Oe)!==Xe(h,Oe)){mt=!1;break}if(mt)return We}return-1}a.prototype.includes=function(h,f,I){return this.indexOf(h,f,I)!==-1},a.prototype.indexOf=function(h,f,I){return G(this,h,f,I,!0)},a.prototype.lastIndexOf=function(h,f,I){return G(this,h,f,I,!1)};function Q(A,h,f,I){f=Number(f)||0;const q=A.length-f;I?(I=Number(I),I>q&&(I=q)):I=q;const J=h.length;I>J/2&&(I=J/2);let te;for(te=0;te<I;++te){const Le=parseInt(h.substr(te*2,2),16);if(Bt(Le))return te;A[f+te]=Le}return te}function ie(A,h,f,I){return nn(Ht(h,A.length-f),A,f,I)}function ee(A,h,f,I){return nn(On(h),A,f,I)}function X(A,h,f,I){return nn(wn(h),A,f,I)}function oe(A,h,f,I){return nn(So(h,A.length-f),A,f,I)}a.prototype.write=function(h,f,I,q){if(f===void 0)q="utf8",I=this.length,f=0;else if(I===void 0&&typeof f=="string")q=f,I=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(I)?(I=I>>>0,q===void 0&&(q="utf8")):(q=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const J=this.length-f;if((I===void 0||I>J)&&(I=J),h.length>0&&(I<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let te=!1;for(;;)switch(q){case"hex":return Q(this,h,f,I);case"utf8":case"utf-8":return ie(this,h,f,I);case"ascii":case"latin1":case"binary":return ee(this,h,f,I);case"base64":return X(this,h,f,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,h,f,I);default:if(te)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(A,h,f){return h===0&&f===A.length?e.fromByteArray(A):e.fromByteArray(A.slice(h,f))}function m(A,h,f){f=Math.min(A.length,f);const I=[];let q=h;for(;q<f;){const J=A[q];let te=null,Le=J>239?4:J>223?3:J>191?2:1;if(q+Le<=f){let Xe,We,mt,Oe;switch(Le){case 1:J<128&&(te=J);break;case 2:Xe=A[q+1],(Xe&192)===128&&(Oe=(J&31)<<6|Xe&63,Oe>127&&(te=Oe));break;case 3:Xe=A[q+1],We=A[q+2],(Xe&192)===128&&(We&192)===128&&(Oe=(J&15)<<12|(Xe&63)<<6|We&63,Oe>2047&&(Oe<55296||Oe>57343)&&(te=Oe));break;case 4:Xe=A[q+1],We=A[q+2],mt=A[q+3],(Xe&192)===128&&(We&192)===128&&(mt&192)===128&&(Oe=(J&15)<<18|(Xe&63)<<12|(We&63)<<6|mt&63,Oe>65535&&Oe<1114112&&(te=Oe))}}te===null?(te=65533,Le=1):te>65535&&(te-=65536,I.push(te>>>10&1023|55296),te=56320|te&1023),I.push(te),q+=Le}return T(I)}const v=4096;function T(A){const h=A.length;if(h<=v)return String.fromCharCode.apply(String,A);let f="",I=0;for(;I<h;)f+=String.fromCharCode.apply(String,A.slice(I,I+=v));return f}function V(A,h,f){let I="";f=Math.min(A.length,f);for(let q=h;q<f;++q)I+=String.fromCharCode(A[q]&127);return I}function C(A,h,f){let I="";f=Math.min(A.length,f);for(let q=h;q<f;++q)I+=String.fromCharCode(A[q]);return I}function N(A,h,f){const I=A.length;(!h||h<0)&&(h=0),(!f||f<0||f>I)&&(f=I);let q="";for(let J=h;J<f;++J)q+=mn[A[J]];return q}function Z(A,h,f){const I=A.slice(h,f);let q="";for(let J=0;J<I.length-1;J+=2)q+=String.fromCharCode(I[J]+I[J+1]*256);return q}a.prototype.slice=function(h,f){const I=this.length;h=~~h,f=f===void 0?I:~~f,h<0?(h+=I,h<0&&(h=0)):h>I&&(h=I),f<0?(f+=I,f<0&&(f=0)):f>I&&(f=I),f<h&&(f=h);const q=this.subarray(h,f);return Object.setPrototypeOf(q,a.prototype),q};function L(A,h,f){if(A%1!==0||A<0)throw new RangeError("offset is not uint");if(A+h>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=this[h],J=1,te=0;for(;++te<f&&(J*=256);)q+=this[h+te]*J;return q},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=this[h+--f],J=1;for(;f>0&&(J*=256);)q+=this[h+--f]*J;return q},a.prototype.readUint8=a.prototype.readUInt8=function(h,f){return h=h>>>0,f||L(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,f){return h=h>>>0,f||L(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,f){return h=h>>>0,f||L(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,f){return h=h>>>0,f||L(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,f){return h=h>>>0,f||L(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readBigUInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,J=this[++h]+this[++h]*2**8+this[++h]*2**16+I*2**24;return BigInt(q)+(BigInt(J)<<BigInt(32))}),a.prototype.readBigUInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=f*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],J=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I;return(BigInt(q)<<BigInt(32))+BigInt(J)}),a.prototype.readIntLE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=this[h],J=1,te=0;for(;++te<f&&(J*=256);)q+=this[h+te]*J;return J*=128,q>=J&&(q-=Math.pow(2,8*f)),q},a.prototype.readIntBE=function(h,f,I){h=h>>>0,f=f>>>0,I||L(h,f,this.length);let q=f,J=1,te=this[h+--q];for(;q>0&&(J*=256);)te+=this[h+--q]*J;return J*=128,te>=J&&(te-=Math.pow(2,8*f)),te},a.prototype.readInt8=function(h,f){return h=h>>>0,f||L(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,f){h=h>>>0,f||L(h,2,this.length);const I=this[h]|this[h+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(h,f){h=h>>>0,f||L(h,2,this.length);const I=this[h+1]|this[h]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(h,f){return h=h>>>0,f||L(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,f){return h=h>>>0,f||L(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readBigInt64LE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(I<<24);return(BigInt(q)<<BigInt(32))+BigInt(f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),a.prototype.readBigInt64BE=xn(function(h){h=h>>>0,kt(h,"offset");const f=this[h],I=this[h+7];(f===void 0||I===void 0)&&bt(h,this.length-8);const q=(f<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(q)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+I)}),a.prototype.readFloatLE=function(h,f){return h=h>>>0,f||L(h,4,this.length),t.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,f){return h=h>>>0,f||L(h,4,this.length),t.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,f){return h=h>>>0,f||L(h,8,this.length),t.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,f){return h=h>>>0,f||L(h,8,this.length),t.read(this,h,!1,52,8)};function E(A,h,f,I,q,J){if(!a.isBuffer(A))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>q||h<J)throw new RangeError('"value" argument is out of bounds');if(f+I>A.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,f,I,q){if(h=+h,f=f>>>0,I=I>>>0,!q){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let J=1,te=0;for(this[f]=h&255;++te<I&&(J*=256);)this[f+te]=h/J&255;return f+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,f,I,q){if(h=+h,f=f>>>0,I=I>>>0,!q){const Le=Math.pow(2,8*I)-1;E(this,h,f,I,Le,0)}let J=I-1,te=1;for(this[f+J]=h&255;--J>=0&&(te*=256);)this[f+J]=h/te&255;return f+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,255,0),this[f]=h&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,65535,0),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f+3]=h>>>24,this[f+2]=h>>>16,this[f+1]=h>>>8,this[f]=h&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,4294967295,0),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4};function Y(A,h,f,I,q){yt(h,I,q,A,f,7);let J=Number(h&BigInt(4294967295));A[f++]=J,J=J>>8,A[f++]=J,J=J>>8,A[f++]=J,J=J>>8,A[f++]=J;let te=Number(h>>BigInt(32)&BigInt(4294967295));return A[f++]=te,te=te>>8,A[f++]=te,te=te>>8,A[f++]=te,te=te>>8,A[f++]=te,f}function be(A,h,f,I,q){yt(h,I,q,A,f,7);let J=Number(h&BigInt(4294967295));A[f+7]=J,J=J>>8,A[f+6]=J,J=J>>8,A[f+5]=J,J=J>>8,A[f+4]=J;let te=Number(h>>BigInt(32)&BigInt(4294967295));return A[f+3]=te,te=te>>8,A[f+2]=te,te=te>>8,A[f+1]=te,te=te>>8,A[f]=te,f+8}a.prototype.writeBigUInt64LE=xn(function(h,f=0){return Y(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=xn(function(h,f=0){return be(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(h,f,I,q){if(h=+h,f=f>>>0,!q){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let J=0,te=1,Le=0;for(this[f]=h&255;++J<I&&(te*=256);)h<0&&Le===0&&this[f+J-1]!==0&&(Le=1),this[f+J]=(h/te>>0)-Le&255;return f+I},a.prototype.writeIntBE=function(h,f,I,q){if(h=+h,f=f>>>0,!q){const Xe=Math.pow(2,8*I-1);E(this,h,f,I,Xe-1,-Xe)}let J=I-1,te=1,Le=0;for(this[f+J]=h&255;--J>=0&&(te*=256);)h<0&&Le===0&&this[f+J+1]!==0&&(Le=1),this[f+J]=(h/te>>0)-Le&255;return f+I},a.prototype.writeInt8=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,1,127,-128),h<0&&(h=255+h+1),this[f]=h&255,f+1},a.prototype.writeInt16LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h&255,this[f+1]=h>>>8,f+2},a.prototype.writeInt16BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,2,32767,-32768),this[f]=h>>>8,this[f+1]=h&255,f+2},a.prototype.writeInt32LE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),this[f]=h&255,this[f+1]=h>>>8,this[f+2]=h>>>16,this[f+3]=h>>>24,f+4},a.prototype.writeInt32BE=function(h,f,I){return h=+h,f=f>>>0,I||E(this,h,f,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4},a.prototype.writeBigInt64LE=xn(function(h,f=0){return Y(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=xn(function(h,f=0){return be(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ae(A,h,f,I,q,J){if(f+I>A.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function ve(A,h,f,I,q){return h=+h,f=f>>>0,q||Ae(A,h,f,4),t.write(A,h,f,I,23,4),f+4}a.prototype.writeFloatLE=function(h,f,I){return ve(this,h,f,!0,I)},a.prototype.writeFloatBE=function(h,f,I){return ve(this,h,f,!1,I)};function De(A,h,f,I,q){return h=+h,f=f>>>0,q||Ae(A,h,f,8),t.write(A,h,f,I,52,8),f+8}a.prototype.writeDoubleLE=function(h,f,I){return De(this,h,f,!0,I)},a.prototype.writeDoubleBE=function(h,f,I){return De(this,h,f,!1,I)},a.prototype.copy=function(h,f,I,q){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(I||(I=0),!q&&q!==0&&(q=this.length),f>=h.length&&(f=h.length),f||(f=0),q>0&&q<I&&(q=I),q===I||h.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),h.length-f<q-I&&(q=h.length-f+I);const J=q-I;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,I,q):Uint8Array.prototype.set.call(h,this.subarray(I,q),f),J},a.prototype.fill=function(h,f,I,q){if(typeof h=="string"){if(typeof f=="string"?(q=f,f=0,I=this.length):typeof I=="string"&&(q=I,I=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!a.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(h.length===1){const te=h.charCodeAt(0);(q==="utf8"&&te<128||q==="latin1")&&(h=te)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(f<0||this.length<f||this.length<I)throw new RangeError("Out of range index");if(I<=f)return this;f=f>>>0,I=I===void 0?this.length:I>>>0,h||(h=0);let J;if(typeof h=="number")for(J=f;J<I;++J)this[J]=h;else{const te=a.isBuffer(h)?h:a.from(h,q),Le=te.length;if(Le===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(J=0;J<I-f;++J)this[J+f]=te[J%Le]}return this};const Ge={};function Ke(A,h,f){Ge[A]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${A}]`,this.stack,delete this.name}get code(){return A}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${A}]: ${this.message}`}}}Ke("ERR_BUFFER_OUT_OF_BOUNDS",function(A){return A?`${A} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ke("ERR_INVALID_ARG_TYPE",function(A,h){return`The "${A}" argument must be of type number. Received type ${typeof h}`},TypeError),Ke("ERR_OUT_OF_RANGE",function(A,h,f){let I=`The value of "${A}" is out of range.`,q=f;return Number.isInteger(f)&&Math.abs(f)>2**32?q=Pn(String(f)):typeof f=="bigint"&&(q=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(q=Pn(q)),q+="n"),I+=` It must be ${h}. Received ${q}`,I},RangeError);function Pn(A){let h="",f=A.length;const I=A[0]==="-"?1:0;for(;f>=I+4;f-=3)h=`_${A.slice(f-3,f)}${h}`;return`${A.slice(0,f)}${h}`}function wt(A,h,f){kt(h,"offset"),(A[h]===void 0||A[h+f]===void 0)&&bt(h,A.length-(f+1))}function yt(A,h,f,I,q,J){if(A>f||A<h){const te=typeof h=="bigint"?"n":"";let Le;throw h===0||h===BigInt(0)?Le=`>= 0${te} and < 2${te} ** ${(J+1)*8}${te}`:Le=`>= -(2${te} ** ${(J+1)*8-1}${te}) and < 2 ** ${(J+1)*8-1}${te}`,new Ge.ERR_OUT_OF_RANGE("value",Le,A)}wt(I,q,J)}function kt(A,h){if(typeof A!="number")throw new Ge.ERR_INVALID_ARG_TYPE(h,"number",A)}function bt(A,h,f){throw Math.floor(A)!==A?(kt(A,f),new Ge.ERR_OUT_OF_RANGE("offset","an integer",A)):h<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,A)}const tn=/[^+/0-9A-Za-z-_]/g;function dr(A){if(A=A.split("=")[0],A=A.trim().replace(tn,""),A.length<2)return"";for(;A.length%4!==0;)A=A+"=";return A}function Ht(A,h){h=h||1/0;let f;const I=A.length;let q=null;const J=[];for(let te=0;te<I;++te){if(f=A.charCodeAt(te),f>55295&&f<57344){if(!q){if(f>56319){(h-=3)>-1&&J.push(239,191,189);continue}else if(te+1===I){(h-=3)>-1&&J.push(239,191,189);continue}q=f;continue}if(f<56320){(h-=3)>-1&&J.push(239,191,189),q=f;continue}f=(q-55296<<10|f-56320)+65536}else q&&(h-=3)>-1&&J.push(239,191,189);if(q=null,f<128){if((h-=1)<0)break;J.push(f)}else if(f<2048){if((h-=2)<0)break;J.push(f>>6|192,f&63|128)}else if(f<65536){if((h-=3)<0)break;J.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((h-=4)<0)break;J.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return J}function On(A){const h=[];for(let f=0;f<A.length;++f)h.push(A.charCodeAt(f)&255);return h}function So(A,h){let f,I,q;const J=[];for(let te=0;te<A.length&&!((h-=2)<0);++te)f=A.charCodeAt(te),I=f>>8,q=f%256,J.push(q),J.push(I);return J}function wn(A){return e.toByteArray(dr(A))}function nn(A,h,f,I){let q;for(q=0;q<I&&!(q+f>=h.length||q>=A.length);++q)h[q+f]=A[q];return q}function an(A,h){return A instanceof h||A!=null&&A.constructor!=null&&A.constructor.name!=null&&A.constructor.name===h.name}function Bt(A){return A!==A}const mn=function(){const A="0123456789abcdef",h=new Array(256);for(let f=0;f<16;++f){const I=f*16;for(let q=0;q<16;++q)h[I+q]=A[f]+A[q]}return h}();function xn(A){return typeof BigInt>"u"?Tt:A}function Tt(){throw new Error("BigInt not supported")}})(Cn);var hX=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},NI;typeof Object.create=="function"?NI=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:NI=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var fX=NI;function Zl(n,e){var t={seen:[],stylize:gX};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),N4(e)?t.showHidden=e:e&&AX(t,e),Eh(t.showHidden)&&(t.showHidden=!1),Eh(t.depth)&&(t.depth=2),Eh(t.colors)&&(t.colors=!1),Eh(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=pX),D0(t,n,t.depth)}Zl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Zl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function pX(n,e){var t=Zl.styles[e];return t?"\x1B["+Zl.colors[t][0]+"m"+n+"\x1B["+Zl.colors[t][1]+"m":n}function gX(n,e){return n}function yX(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function D0(n,e,t){if(n.customInspect&&e&&Jg(e.inspect)&&e.inspect!==Zl&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return q4(r)||(r=D0(n,r,t)),r}var i=mX(n,e);if(i)return i;var s=Object.keys(e),o=yX(s);if(n.showHidden&&(s=Object.getOwnPropertyNames(e)),m1(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return y_(e);if(s.length===0){if(Jg(e)){var a=e.name?": "+e.name:"";return n.stylize("[Function"+a+"]","special")}if(Gg(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(U0(e))return n.stylize(Date.prototype.toString.call(e),"date");if(m1(e))return y_(e)}var c="",u=!1,l=["{","}"];if(kX(e)&&(u=!0,l=["[","]"]),Jg(e)){var d=e.name?": "+e.name:"";c=" [Function"+d+"]"}if(Gg(e)&&(c=" "+RegExp.prototype.toString.call(e)),U0(e)&&(c=" "+Date.prototype.toUTCString.call(e)),m1(e)&&(c=" "+y_(e)),s.length===0&&(!u||e.length==0))return l[0]+c+l[1];if(t<0)return Gg(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var b;return u?b=bX(n,e,t,o,s):b=s.map(function(p){return $I(n,e,t,o,p,u)}),n.seen.pop(),wX(b,c,l)}function mX(n,e){if(Eh(e))return n.stylize("undefined","undefined");if(q4(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(SX(e))return n.stylize(""+e,"number");if(N4(e))return n.stylize(""+e,"boolean");if($4(e))return n.stylize("null","null")}function y_(n){return"["+Error.prototype.toString.call(n)+"]"}function bX(n,e,t,r,i){for(var s=[],o=0,a=e.length;o<a;++o)z4(e,String(o))?s.push($I(n,e,t,r,String(o),!0)):s.push("");return i.forEach(function(c){c.match(/^\d+$/)||s.push($I(n,e,t,r,c,!0))}),s}function $I(n,e,t,r,i,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?c.set?a=n.stylize("[Getter/Setter]","special"):a=n.stylize("[Getter]","special"):c.set&&(a=n.stylize("[Setter]","special")),z4(r,i)||(o="["+i+"]"),a||(n.seen.indexOf(c.value)<0?($4(t)?a=D0(n,c.value,null):a=D0(n,c.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=n.stylize("[Circular]","special")),Eh(o)){if(s&&i.match(/^\d+$/))return a;o=JSON.stringify(""+i),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=n.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=n.stylize(o,"string"))}return o+": "+a}function wX(n,e,t){var r=n.reduce(function(i,s){return s.indexOf(`
`)>=0,i+s.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}function kX(n){return Array.isArray(n)}function N4(n){return typeof n=="boolean"}function $4(n){return n===null}function SX(n){return typeof n=="number"}function q4(n){return typeof n=="string"}function Eh(n){return n===void 0}function Gg(n){return Nk(n)&&Ux(n)==="[object RegExp]"}function Nk(n){return typeof n=="object"&&n!==null}function U0(n){return Nk(n)&&Ux(n)==="[object Date]"}function m1(n){return Nk(n)&&(Ux(n)==="[object Error]"||n instanceof Error)}function Jg(n){return typeof n=="function"}function GC(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n>"u"}function Ux(n){return Object.prototype.toString.call(n)}function AX(n,e){if(!e||!Nk(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n}function z4(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function JC(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,i=0,s=Math.min(t,r);i<s;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0}var _X=Object.prototype.hasOwnProperty,QC=Object.keys||function(n){var e=[];for(var t in n)_X.call(n,t)&&e.push(t);return e},ZC=Array.prototype.slice,m_;function D4(){return typeof m_<"u"?m_:m_=function(){return(function(){}).name==="foo"}()}function XC(n){return Object.prototype.toString.call(n)}function eM(n){return Cn.isBuffer(n)||typeof hX.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n?!!(n instanceof DataView||n.buffer&&n.buffer instanceof ArrayBuffer):!1}function Xi(n,e){n||Ks(n,!0,e,"==",Wx)}var vX=/\s*function\s+([^\(\s]*)\s*/;function U4(n){if(Jg(n)){if(D4())return n.name;var e=n.toString(),t=e.match(vX);return t&&t[1]}}Xi.AssertionError=Kx;function Kx(n){this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=EX(this),this.generatedMessage=!0);var e=n.stackStartFunction||Ks;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var t=new Error;if(t.stack){var r=t.stack,i=U4(e),s=r.indexOf(`
`+i);if(s>=0){var o=r.indexOf(`
`,s+1);r=r.substring(o+1)}this.stack=r}}}fX(Kx,Error);function tM(n,e){return typeof n=="string"?n.length<e?n:n.slice(0,e):n}function nM(n){if(D4()||!Jg(n))return Zl(n);var e=U4(n),t=e?": "+e:"";return"[Function"+t+"]"}function EX(n){return tM(nM(n.actual),128)+" "+n.operator+" "+tM(nM(n.expected),128)}function Ks(n,e,t,r,i){throw new Kx({message:t,actual:n,expected:e,operator:r,stackStartFunction:i})}Xi.fail=Ks;function Wx(n,e){n||Ks(n,!0,e,"==",Wx)}Xi.ok=Wx;Xi.equal=K4;function K4(n,e,t){n!=e&&Ks(n,e,t,"==",K4)}Xi.notEqual=W4;function W4(n,e,t){n==e&&Ks(n,e,t,"!=",W4)}Xi.deepEqual=F4;function F4(n,e,t){sf(n,e,!1)||Ks(n,e,t,"deepEqual",F4)}Xi.deepStrictEqual=V4;function V4(n,e,t){sf(n,e,!0)||Ks(n,e,t,"deepStrictEqual",V4)}function sf(n,e,t,r){if(n===e)return!0;if(Cn.isBuffer(n)&&Cn.isBuffer(e))return JC(n,e)===0;if(U0(n)&&U0(e))return n.getTime()===e.getTime();if(Gg(n)&&Gg(e))return n.source===e.source&&n.global===e.global&&n.multiline===e.multiline&&n.lastIndex===e.lastIndex&&n.ignoreCase===e.ignoreCase;if((n===null||typeof n!="object")&&(e===null||typeof e!="object"))return t?n===e:n==e;if(eM(n)&&eM(e)&&XC(n)===XC(e)&&!(n instanceof Float32Array||n instanceof Float64Array))return JC(new Uint8Array(n.buffer),new Uint8Array(e.buffer))===0;if(Cn.isBuffer(n)!==Cn.isBuffer(e))return!1;r=r||{actual:[],expected:[]};var i=r.actual.indexOf(n);return i!==-1&&i===r.expected.indexOf(e)?!0:(r.actual.push(n),r.expected.push(e),IX(n,e,t,r))}function rM(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function IX(n,e,t,r){if(n==null||e===null||e===void 0)return!1;if(GC(n)||GC(e))return n===e;if(t&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1;var i=rM(n),s=rM(e);if(i&&!s||!i&&s)return!1;if(i)return n=ZC.call(n),e=ZC.call(e),sf(n,e,t);var o=QC(n),a=QC(e),c,u;if(o.length!==a.length)return!1;for(o.sort(),a.sort(),u=o.length-1;u>=0;u--)if(o[u]!==a[u])return!1;for(u=o.length-1;u>=0;u--)if(c=o[u],!sf(n[c],e[c],t,r))return!1;return!0}Xi.notDeepEqual=j4;function j4(n,e,t){sf(n,e,!1)&&Ks(n,e,t,"notDeepEqual",j4)}Xi.notDeepStrictEqual=H4;function H4(n,e,t){sf(n,e,!0)&&Ks(n,e,t,"notDeepStrictEqual",H4)}Xi.strictEqual=Y4;function Y4(n,e,t){n!==e&&Ks(n,e,t,"===",Y4)}Xi.notStrictEqual=G4;function G4(n,e,t){n===e&&Ks(n,e,t,"!==",G4)}function iM(n,e){if(!n||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(n);try{if(n instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function RX(n){var e;try{n()}catch(t){e=t}return e}function J4(n,e,t,r){var i;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof t=="string"&&(r=t,t=null),i=RX(e),r=(t&&t.name?" ("+t.name+").":".")+(r?" "+r:"."),n&&!i&&Ks(i,t,"Missing expected exception"+r);var s=typeof r=="string",o=!n&&m1(i),a=!n&&i&&!t;if((o&&s&&iM(i,t)||a)&&Ks(i,t,"Got unwanted exception"+r),n&&i&&t&&!iM(i,t)||!n&&i)throw i}Xi.throws=PX;function PX(n,e,t){J4(!0,n,e,t)}Xi.doesNotThrow=xX;function xX(n,e,t){J4(!1,n,e,t)}Xi.ifError=BX;function BX(n){if(n)throw n}let $y=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};function TX(n,e){return e.property?n+"["+e.property+"]":n}let Ib=class extends $y{isCount(){throw new Error("ExternalLayout is abstract")}},Q4=class extends $y{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},CX=class extends $y{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof $y,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},MX=class extends $y{constructor(e,t){if(!(e instanceof Ib&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ib||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Ib&&(i=e.length),!(Cn.Buffer.isBuffer(e)&&i===e.length))throw new TypeError(TX("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Ib&&this.length.encode(i,t,r),i}};var kn=n=>new Q4(1,n),Qg=n=>new Q4(4,n),si=(n,e,t)=>new CX(n,e,t),Z4=(n,e)=>new MX(n,e);const ai=(n="publicKey")=>Z4(32,n),Ro=(n="uint64")=>Z4(8,n);function gi(n,e,t,...r){return $0(e,t,r,{skipPreflight:!1})}const Cs=new ke("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),qy=new ke("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),sM="Failed to find account",oM="Invalid account owner";function b_(n){return Cn.Buffer.from(n.toBuffer())}let bs=class X4 extends Zi{toBuffer(){const e=super.toArray().reverse(),t=Cn.Buffer.from(e);if(t.length===8)return t;Xi(t.length<8,"u64 too large");const r=Cn.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){return Xi(e.length===8,`Invalid buffer length: ${e.length}`),new X4([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}};function Js(n){return"publicKey"in n}const LX={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},eq=new ke("So11111111111111111111111111111111111111112"),Ih=si([Qg("mintAuthorityOption"),ai("mintAuthority"),Ro("supply"),kn("decimals"),kn("isInitialized"),Qg("freezeAuthorityOption"),ai("freezeAuthority")]),bl=si([ai("mint"),ai("owner"),Ro("amount"),Qg("delegateOption"),ai("delegate"),kn("state"),Qg("isNativeOption"),Ro("isNative"),Ro("delegatedAmount"),Qg("closeAuthorityOption"),ai("closeAuthority")]),Rb=si([kn("m"),kn("n"),kn("is_initialized"),ai("signer1"),ai("signer2"),ai("signer3"),ai("signer4"),ai("signer5"),ai("signer6"),ai("signer7"),ai("signer8"),ai("signer9"),ai("signer10"),ai("signer11")]);class sn{constructor(e,t,r,i){fg(this,"connection",void 0),fg(this,"publicKey",void 0),fg(this,"programId",void 0),fg(this,"associatedProgramId",void 0),fg(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:r,payer:i,associatedProgramId:qy})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(Ih.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(bl.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(Rb.span)}static async createMint(e,t,r,i,s,o){const a=vh.generate(),c=new sn(e,a.publicKey,o,t),u=await sn.getMinBalanceRentForExemptMint(e),l=new _t;return l.add(br.createAccount({fromPubkey:t.publicKey,newAccountPubkey:a.publicKey,lamports:u,space:Ih.span,programId:o})),l.add(sn.createInitMintInstruction(o,a.publicKey,s,r,i)),await gi("createAccount and InitializeMint",e,l,t,a),c}async createAccount(e){const t=await sn.getMinBalanceRentForExemptAccount(this.connection),r=vh.generate(),i=new _t;i.add(br.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:t,space:bl.span,programId:this.programId}));const s=this.publicKey;return i.add(sn.createInitAccountInstruction(this.programId,s,r.publicKey,e)),await gi("createAccount and InitializeAccount",this.connection,i,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const t=await sn.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await gi("CreateAssociatedTokenAccount",this.connection,new _t().add(sn.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await sn.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(r){if(r.message===sM||r.message===oM){try{await this.createAssociatedTokenAccountInternal(e,t)}catch{}return await this.getAccountInfo(t)}else throw r}}static async createWrappedNativeAccount(e,t,r,i,s){const o=await sn.getMinBalanceRentForExemptAccount(e),a=vh.generate(),c=new _t;return c.add(br.createAccount({fromPubkey:i.publicKey,newAccountPubkey:a.publicKey,lamports:o,space:bl.span,programId:t})),c.add(br.transfer({fromPubkey:i.publicKey,toPubkey:a.publicKey,lamports:s})),c.add(sn.createInitAccountInstruction(t,eq,a.publicKey,r)),await gi("createAccount, transfer, and initializeAccount",e,c,i,a),a.publicKey}async createMultisig(e,t){const r=vh.generate(),i=await sn.getMinBalanceRentForExemptMultisig(this.connection),s=new _t;s.add(br.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:i,space:Rb.span,programId:this.programId}));let o=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:ta,isSigner:!1,isWritable:!1}];t.forEach(u=>o.push({pubkey:u,isSigner:!1,isWritable:!1}));const a=si([kn("instruction"),kn("m")]),c=Cn.Buffer.alloc(a.span);return a.encode({instruction:2,m:e},c),s.add({keys:o,programId:this.programId,data:c}),await gi("createAccount and InitializeMultisig",this.connection,s,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=Ih.span)throw new Error("Invalid mint size");const t=Cn.Buffer.from(e.data),r=Ih.decode(t);return r.mintAuthorityOption===0?r.mintAuthority=null:r.mintAuthority=new ke(r.mintAuthority),r.supply=bs.fromBuffer(r.supply),r.isInitialized=r.isInitialized!=0,r.freezeAuthorityOption===0?r.freezeAuthority=null:r.freezeAuthority=new ke(r.freezeAuthority),r}async getAccountInfo(e,t){const r=await this.connection.getAccountInfo(e,t);if(r===null)throw new Error(sM);if(!r.owner.equals(this.programId))throw new Error(oM);if(r.data.length!=bl.span)throw new Error("Invalid account size");const i=Cn.Buffer.from(r.data),s=bl.decode(i);if(s.address=e,s.mint=new ke(s.mint),s.owner=new ke(s.owner),s.amount=bs.fromBuffer(s.amount),s.delegateOption===0?(s.delegate=null,s.delegatedAmount=new bs):(s.delegate=new ke(s.delegate),s.delegatedAmount=bs.fromBuffer(s.delegatedAmount)),s.isInitialized=s.state!==0,s.isFrozen=s.state===2,s.isNativeOption===1?(s.rentExemptReserve=bs.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),s.closeAuthorityOption===0?s.closeAuthority=null:s.closeAuthority=new ke(s.closeAuthority),!s.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(s.mint)} !== ${JSON.stringify(this.publicKey)}`);return s}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(t===null)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=Rb.span)throw new Error("Invalid multisig size");const r=Cn.Buffer.from(t.data),i=Rb.decode(r);return i.signer1=new ke(i.signer1),i.signer2=new ke(i.signer2),i.signer3=new ke(i.signer3),i.signer4=new ke(i.signer4),i.signer5=new ke(i.signer5),i.signer6=new ke(i.signer6),i.signer7=new ke(i.signer7),i.signer8=new ke(i.signer8),i.signer9=new ke(i.signer9),i.signer10=new ke(i.signer10),i.signer11=new ke(i.signer11),i}async transfer(e,t,r,i,s){let o,a;return Js(r)?(o=r.publicKey,a=[r]):(o=r,a=i),await gi("Transfer",this.connection,new _t().add(sn.createTransferInstruction(this.programId,e,t,o,i,s)),this.payer,...a)}async approve(e,t,r,i,s){let o,a;Js(r)?(o=r.publicKey,a=[r]):(o=r,a=i),await gi("Approve",this.connection,new _t().add(sn.createApproveInstruction(this.programId,e,t,o,i,s)),this.payer,...a)}async revoke(e,t,r){let i,s;Js(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await gi("Revoke",this.connection,new _t().add(sn.createRevokeInstruction(this.programId,e,i,r)),this.payer,...s)}async setAuthority(e,t,r,i,s){let o,a;Js(i)?(o=i.publicKey,a=[i]):(o=i,a=s),await gi("SetAuthority",this.connection,new _t().add(sn.createSetAuthorityInstruction(this.programId,e,t,r,o,s)),this.payer,...a)}async mintTo(e,t,r,i){let s,o;Js(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await gi("MintTo",this.connection,new _t().add(sn.createMintToInstruction(this.programId,this.publicKey,e,s,r,i)),this.payer,...o)}async burn(e,t,r,i){let s,o;Js(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await gi("Burn",this.connection,new _t().add(sn.createBurnInstruction(this.programId,this.publicKey,e,s,r,i)),this.payer,...o)}async closeAccount(e,t,r,i){let s,o;Js(r)?(s=r.publicKey,o=[r]):(s=r,o=i),await gi("CloseAccount",this.connection,new _t().add(sn.createCloseAccountInstruction(this.programId,e,t,s,i)),this.payer,...o)}async freezeAccount(e,t,r){let i,s;Js(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await gi("FreezeAccount",this.connection,new _t().add(sn.createFreezeAccountInstruction(this.programId,e,this.publicKey,i,r)),this.payer,...s)}async thawAccount(e,t,r){let i,s;Js(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await gi("ThawAccount",this.connection,new _t().add(sn.createThawAccountInstruction(this.programId,e,this.publicKey,i,r)),this.payer,...s)}async transferChecked(e,t,r,i,s,o){let a,c;return Js(r)?(a=r.publicKey,c=[r]):(a=r,c=i),await gi("TransferChecked",this.connection,new _t().add(sn.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,a,i,s,o)),this.payer,...c)}async approveChecked(e,t,r,i,s,o){let a,c;Js(r)?(a=r.publicKey,c=[r]):(a=r,c=i),await gi("ApproveChecked",this.connection,new _t().add(sn.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,a,i,s,o)),this.payer,...c)}async mintToChecked(e,t,r,i,s){let o,a;Js(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await gi("MintToChecked",this.connection,new _t().add(sn.createMintToCheckedInstruction(this.programId,this.publicKey,e,o,r,i,s)),this.payer,...a)}async burnChecked(e,t,r,i,s){let o,a;Js(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await gi("BurnChecked",this.connection,new _t().add(sn.createBurnCheckedInstruction(this.programId,this.publicKey,e,o,r,i,s)),this.payer,...a)}async syncNative(e){await gi("SyncNative",this.connection,new _t().add(sn.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,r,i,s){let o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ta,isSigner:!1,isWritable:!1}];const a=si([kn("instruction"),kn("decimals"),ai("mintAuthority"),kn("option"),ai("freezeAuthority")]);let c=Cn.Buffer.alloc(1024);{const u=a.encode({instruction:0,decimals:r,mintAuthority:b_(i),option:s===null?0:1,freezeAuthority:b_(s||new ke(0))},c);c=c.slice(0,u)}return new Et({keys:o,programId:e,data:c})}static createInitAccountInstruction(e,t,r,i){const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:ta,isSigner:!1,isWritable:!1}],o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);return o.encode({instruction:1},a),new Et({keys:s,programId:e,data:a})}static createTransferInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Ro("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:3,amount:new bs(o).toBuffer()},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createApproveInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Ro("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:4,amount:new bs(o).toBuffer()},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createRevokeInstruction(e,t,r,i){const s=si([kn("instruction")]),o=Cn.Buffer.alloc(s.span);s.encode({instruction:5},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0}];return i.length===0?a.push({pubkey:r,isSigner:!0,isWritable:!1}):(a.push({pubkey:r,isSigner:!1,isWritable:!1}),i.forEach(c=>a.push({pubkey:c.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:a,programId:e,data:o})}static createSetAuthorityInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),kn("authorityType"),kn("option"),ai("newAuthority")]);let c=Cn.Buffer.alloc(1024);{const l=a.encode({instruction:6,authorityType:LX[i],option:r===null?0:1,newAuthority:b_(r||new ke(0))},c);c=c.slice(0,l)}let u=[{pubkey:t,isSigner:!1,isWritable:!0}];return o.length===0?u.push({pubkey:s,isSigner:!0,isWritable:!1}):(u.push({pubkey:s,isSigner:!1,isWritable:!1}),o.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createMintToInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Ro("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:7,amount:new bs(o).toBuffer()},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createBurnInstruction(e,t,r,i,s,o){const a=si([kn("instruction"),Ro("amount")]),c=Cn.Buffer.alloc(a.span);a.encode({instruction:8,amount:new bs(o).toBuffer()},c);let u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return s.length===0?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(l=>u.push({pubkey:l.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:u,programId:e,data:c})}static createCloseAccountInstruction(e,t,r,i,s){const o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);o.encode({instruction:9},a);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(u=>c.push({pubkey:u.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:c,programId:e,data:a})}static createFreezeAccountInstruction(e,t,r,i,s){const o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);o.encode({instruction:10},a);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(u=>c.push({pubkey:u.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:c,programId:e,data:a})}static createThawAccountInstruction(e,t,r,i,s){const o=si([kn("instruction")]),a=Cn.Buffer.alloc(o.span);o.encode({instruction:11},a);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return s.length===0?c.push({pubkey:i,isSigner:!0,isWritable:!1}):(c.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(u=>c.push({pubkey:u.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:c,programId:e,data:a})}static createTransferCheckedInstruction(e,t,r,i,s,o,a,c){const u=si([kn("instruction"),Ro("amount"),kn("decimals")]),l=Cn.Buffer.alloc(u.span);u.encode({instruction:12,amount:new bs(a).toBuffer(),decimals:c},l);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return o.length===0?d.push({pubkey:s,isSigner:!0,isWritable:!1}):(d.push({pubkey:s,isSigner:!1,isWritable:!1}),o.forEach(b=>d.push({pubkey:b.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:d,programId:e,data:l})}static createApproveCheckedInstruction(e,t,r,i,s,o,a,c){const u=si([kn("instruction"),Ro("amount"),kn("decimals")]),l=Cn.Buffer.alloc(u.span);u.encode({instruction:13,amount:new bs(a).toBuffer(),decimals:c},l);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1}];return o.length===0?d.push({pubkey:s,isSigner:!0,isWritable:!1}):(d.push({pubkey:s,isSigner:!1,isWritable:!1}),o.forEach(b=>d.push({pubkey:b.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:d,programId:e,data:l})}static createMintToCheckedInstruction(e,t,r,i,s,o,a){const c=si([kn("instruction"),Ro("amount"),kn("decimals")]),u=Cn.Buffer.alloc(c.span);c.encode({instruction:14,amount:new bs(o).toBuffer(),decimals:a},u);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return s.length===0?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(d=>l.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:l,programId:e,data:u})}static createBurnCheckedInstruction(e,t,r,i,s,o,a){const c=si([kn("instruction"),Ro("amount"),kn("decimals")]),u=Cn.Buffer.alloc(c.span);c.encode({instruction:15,amount:new bs(o).toBuffer(),decimals:a},u);let l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return s.length===0?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach(d=>l.push({pubkey:d.publicKey,isSigner:!0,isWritable:!1}))),new Et({keys:l,programId:e,data:u})}static createSyncNativeInstruction(e,t){const r=si([kn("instruction")]),i=Cn.Buffer.alloc(r.span);r.encode({instruction:17},i);let s=[{pubkey:t,isSigner:!1,isWritable:!0}];return new Et({keys:s,programId:e,data:i})}static async getAssociatedTokenAddress(e,t,r,i,s=!1){if(!s&&!ke.isOnCurve(i.toBuffer()))throw new Error(`Owner cannot sign: ${i.toString()}`);return(await ke.findProgramAddress([i.toBuffer(),t.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,r,i,s,o){const a=Cn.Buffer.alloc(0);let c=[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:br.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:ta,isSigner:!1,isWritable:!1}];return new Et({keys:c,programId:e,data:a})}}const OX=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID:qy,AccountLayout:bl,MintLayout:Ih,NATIVE_MINT:eq,TOKEN_PROGRAM_ID:Cs,Token:sn,u64:bs},Symbol.toStringTag,{value:"Module"}));var tq={exports:{}},nq=function(e,t){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(t,i)}},NX=nq,sl=Object.prototype.toString;function Fx(n){return Array.isArray(n)}function qI(n){return typeof n>"u"}function $X(n){return n!==null&&!qI(n)&&n.constructor!==null&&!qI(n.constructor)&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function rq(n){return sl.call(n)==="[object ArrayBuffer]"}function qX(n){return sl.call(n)==="[object FormData]"}function zX(n){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&rq(n.buffer),e}function DX(n){return typeof n=="string"}function UX(n){return typeof n=="number"}function iq(n){return n!==null&&typeof n=="object"}function b1(n){if(sl.call(n)!=="[object Object]")return!1;var e=Object.getPrototypeOf(n);return e===null||e===Object.prototype}function KX(n){return sl.call(n)==="[object Date]"}function WX(n){return sl.call(n)==="[object File]"}function FX(n){return sl.call(n)==="[object Blob]"}function sq(n){return sl.call(n)==="[object Function]"}function VX(n){return iq(n)&&sq(n.pipe)}function jX(n){return sl.call(n)==="[object URLSearchParams]"}function HX(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}function YX(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Vx(n,e){if(!(n===null||typeof n>"u"))if(typeof n!="object"&&(n=[n]),Fx(n))for(var t=0,r=n.length;t<r;t++)e.call(null,n[t],t,n);else for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.call(null,n[i],i,n)}function zI(){var n={};function e(i,s){b1(n[s])&&b1(i)?n[s]=zI(n[s],i):b1(i)?n[s]=zI({},i):Fx(i)?n[s]=i.slice():n[s]=i}for(var t=0,r=arguments.length;t<r;t++)Vx(arguments[t],e);return n}function GX(n,e,t){return Vx(e,function(i,s){t&&typeof i=="function"?n[s]=NX(i,t):n[s]=i}),n}function JX(n){return n.charCodeAt(0)===65279&&(n=n.slice(1)),n}var js={isArray:Fx,isArrayBuffer:rq,isBuffer:$X,isFormData:qX,isArrayBufferView:zX,isString:DX,isNumber:UX,isObject:iq,isPlainObject:b1,isUndefined:qI,isDate:KX,isFile:WX,isBlob:FX,isFunction:sq,isStream:VX,isURLSearchParams:jX,isStandardBrowserEnv:YX,forEach:Vx,merge:zI,extend:GX,trim:HX,stripBOM:JX},Yd=js;function aM(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var oq=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(Yd.isURLSearchParams(t))i=t.toString();else{var s=[];Yd.forEach(t,function(c,u){c===null||typeof c>"u"||(Yd.isArray(c)?u=u+"[]":c=[c],Yd.forEach(c,function(d){Yd.isDate(d)?d=d.toISOString():Yd.isObject(d)&&(d=JSON.stringify(d)),s.push(aM(u)+"="+aM(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},QX=js;function $k(){this.handlers=[]}$k.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};$k.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};$k.prototype.forEach=function(e){QX.forEach(this.handlers,function(r){r!==null&&e(r)})};var ZX=$k,XX=js,eee=function(e,t){XX.forEach(e,function(i,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[s])})},aq=function(e,t,r,i,s){return e.config=t,r&&(e.code=r),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e},w_,cM;function cq(){if(cM)return w_;cM=1;var n=aq;return w_=function(t,r,i,s,o){var a=new Error(t);return n(a,r,i,s,o)},w_}var k_,uM;function tee(){if(uM)return k_;uM=1;var n=cq();return k_=function(t,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):r(n("Request failed with status code "+i.status,i.config,null,i.request,i))},k_}var S_,lM;function nee(){if(lM)return S_;lM=1;var n=js;return S_=n.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,c){var u=[];u.push(r+"="+encodeURIComponent(i)),n.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),S_}var A_,dM;function ree(){return dM||(dM=1,A_=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}),A_}var __,hM;function iee(){return hM||(hM=1,__=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}),__}var v_,fM;function see(){if(fM)return v_;fM=1;var n=ree(),e=iee();return v_=function(r,i){return r&&!n(i)?e(r,i):i},v_}var E_,pM;function oee(){if(pM)return E_;pM=1;var n=js,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return E_=function(r){var i={},s,o,a;return r&&n.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=n.trim(u.substr(0,a)).toLowerCase(),o=n.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},E_}var I_,gM;function aee(){if(gM)return I_;gM=1;var n=js;return I_=n.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return t&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var c=n.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),I_}var R_,yM;function qk(){if(yM)return R_;yM=1;function n(e){this.message=e}return n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,R_=n,R_}var P_,mM;function bM(){if(mM)return P_;mM=1;var n=js,e=tee(),t=nee(),r=oq,i=see(),s=oee(),o=aee(),a=cq(),c=zk(),u=qk();return P_=function(d){return new Promise(function(p,g){var y=d.data,S=d.headers,w=d.responseType,_;function R(){d.cancelToken&&d.cancelToken.unsubscribe(_),d.signal&&d.signal.removeEventListener("abort",_)}n.isFormData(y)&&delete S["Content-Type"];var x=new XMLHttpRequest;if(d.auth){var K=d.auth.username||"",G=d.auth.password?unescape(encodeURIComponent(d.auth.password)):"";S.Authorization="Basic "+btoa(K+":"+G)}var M=i(d.baseURL,d.url);x.open(d.method.toUpperCase(),r(M,d.params,d.paramsSerializer),!0),x.timeout=d.timeout;function Q(){if(x){var ee="getAllResponseHeaders"in x?s(x.getAllResponseHeaders()):null,X=!w||w==="text"||w==="json"?x.responseText:x.response,oe={data:X,status:x.status,statusText:x.statusText,headers:ee,config:d,request:x};e(function(m){p(m),R()},function(m){g(m),R()},oe),x=null}}if("onloadend"in x?x.onloadend=Q:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(Q)},x.onabort=function(){x&&(g(a("Request aborted",d,"ECONNABORTED",x)),x=null)},x.onerror=function(){g(a("Network Error",d,null,x)),x=null},x.ontimeout=function(){var X=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded",oe=d.transitional||c.transitional;d.timeoutErrorMessage&&(X=d.timeoutErrorMessage),g(a(X,d,oe.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",x)),x=null},n.isStandardBrowserEnv()){var ie=(d.withCredentials||o(M))&&d.xsrfCookieName?t.read(d.xsrfCookieName):void 0;ie&&(S[d.xsrfHeaderName]=ie)}"setRequestHeader"in x&&n.forEach(S,function(X,oe){typeof y>"u"&&oe.toLowerCase()==="content-type"?delete S[oe]:x.setRequestHeader(oe,X)}),n.isUndefined(d.withCredentials)||(x.withCredentials=!!d.withCredentials),w&&w!=="json"&&(x.responseType=d.responseType),typeof d.onDownloadProgress=="function"&&x.addEventListener("progress",d.onDownloadProgress),typeof d.onUploadProgress=="function"&&x.upload&&x.upload.addEventListener("progress",d.onUploadProgress),(d.cancelToken||d.signal)&&(_=function(ee){x&&(g(!ee||ee&&ee.type?new u("canceled"):ee),x.abort(),x=null)},d.cancelToken&&d.cancelToken.subscribe(_),d.signal&&(d.signal.aborted?_():d.signal.addEventListener("abort",_))),y||(y=null),x.send(y)})},P_}var x_,wM;function zk(){if(wM)return x_;wM=1;var n=js,e=eee,t=aq,r={"Content-Type":"application/x-www-form-urlencoded"};function i(c,u){!n.isUndefined(c)&&n.isUndefined(c["Content-Type"])&&(c["Content-Type"]=u)}function s(){var c;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(c=bM()),c}function o(c,u,l){if(n.isString(c))try{return(u||JSON.parse)(c),n.trim(c)}catch(d){if(d.name!=="SyntaxError")throw d}return(0,JSON.stringify)(c)}var a={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:s(),transformRequest:[function(u,l){return e(l,"Accept"),e(l,"Content-Type"),n.isFormData(u)||n.isArrayBuffer(u)||n.isBuffer(u)||n.isStream(u)||n.isFile(u)||n.isBlob(u)?u:n.isArrayBufferView(u)?u.buffer:n.isURLSearchParams(u)?(i(l,"application/x-www-form-urlencoded;charset=utf-8"),u.toString()):n.isObject(u)||l&&l["Content-Type"]==="application/json"?(i(l,"application/json"),o(u)):u}],transformResponse:[function(u){var l=this.transitional||a.transitional,d=l&&l.silentJSONParsing,b=l&&l.forcedJSONParsing,p=!d&&this.responseType==="json";if(p||b&&n.isString(u)&&u.length)try{return JSON.parse(u)}catch(g){if(p)throw g.name==="SyntaxError"?t(g,this,"E_JSON_PARSE"):g}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return n.forEach(["delete","get","head"],function(u){a.headers[u]={}}),n.forEach(["post","put","patch"],function(u){a.headers[u]=n.merge(r)}),x_=a,x_}var cee=js,uee=zk(),lee=function(e,t,r){var i=this||uee;return cee.forEach(r,function(o){e=o.call(i,e,t)}),e},B_,kM;function uq(){return kM||(kM=1,B_=function(e){return!!(e&&e.__CANCEL__)}),B_}var SM=js,T_=lee,dee=uq(),hee=zk(),fee=qk();function C_(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new fee("canceled")}var pee=function(e){C_(e),e.headers=e.headers||{},e.data=T_.call(e,e.data,e.headers,e.transformRequest),e.headers=SM.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),SM.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var t=e.adapter||hee.adapter;return t(e).then(function(i){return C_(e),i.data=T_.call(e,i.data,i.headers,e.transformResponse),i},function(i){return dee(i)||(C_(e),i&&i.response&&(i.response.data=T_.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},Qs=js,lq=function(e,t){t=t||{};var r={};function i(l,d){return Qs.isPlainObject(l)&&Qs.isPlainObject(d)?Qs.merge(l,d):Qs.isPlainObject(d)?Qs.merge({},d):Qs.isArray(d)?d.slice():d}function s(l){if(Qs.isUndefined(t[l])){if(!Qs.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],t[l])}function o(l){if(!Qs.isUndefined(t[l]))return i(void 0,t[l])}function a(l){if(Qs.isUndefined(t[l])){if(!Qs.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,t[l])}function c(l){if(l in t)return i(e[l],t[l]);if(l in e)return i(void 0,e[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return Qs.forEach(Object.keys(e).concat(Object.keys(t)),function(d){var b=u[d]||s,p=b(d);Qs.isUndefined(p)&&b!==c||(r[d]=p)}),r},M_,AM;function dq(){return AM||(AM=1,M_={version:"0.25.0"}),M_}var gee=dq().version,jx={};["object","boolean","number","function","string","symbol"].forEach(function(n,e){jx[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});var _M={};jx.transitional=function(e,t,r){function i(s,o){return"[Axios v"+gee+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Error(i(o," has been removed"+(t?" in "+t:"")));return t&&!_M[o]&&(_M[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function yee(n,e,t){if(typeof n!="object")throw new TypeError("options must be an object");for(var r=Object.keys(n),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=n[s],c=a===void 0||o(a,s,n);if(c!==!0)throw new TypeError("option "+s+" must be "+c);continue}if(t!==!0)throw Error("Unknown option "+s)}}var mee={assertOptions:yee,validators:jx},hq=js,bee=oq,vM=ZX,EM=pee,Dk=lq,fq=mee,Gd=fq.validators;function $m(n){this.defaults=n,this.interceptors={request:new vM,response:new vM}}$m.prototype.request=function(e,t){if(typeof e=="string"?(t=t||{},t.url=e):t=e||{},!t.url)throw new Error("Provided config url is not valid");t=Dk(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&fq.assertOptions(r,{silentJSONParsing:Gd.transitional(Gd.boolean),forcedJSONParsing:Gd.transitional(Gd.boolean),clarifyTimeoutError:Gd.transitional(Gd.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(t)===!1||(s=s&&p.synchronous,i.unshift(p.fulfilled,p.rejected))});var o=[];this.interceptors.response.forEach(function(p){o.push(p.fulfilled,p.rejected)});var a;if(!s){var c=[EM,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(t);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=t;i.length;){var l=i.shift(),d=i.shift();try{u=l(u)}catch(b){d(b);break}}try{a=EM(u)}catch(b){return Promise.reject(b)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};$m.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=Dk(this.defaults,e),bee(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};hq.forEach(["delete","get","head","options"],function(e){$m.prototype[e]=function(t,r){return this.request(Dk(r||{},{method:e,url:t,data:(r||{}).data}))}});hq.forEach(["post","put","patch"],function(e){$m.prototype[e]=function(t,r,i){return this.request(Dk(i||{},{method:e,url:t,data:r}))}});var wee=$m,L_,IM;function kee(){if(IM)return L_;IM=1;var n=qk();function e(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o){i.reason||(i.reason=new n(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},L_=e,L_}var O_,RM;function See(){return RM||(RM=1,O_=function(e){return function(r){return e.apply(null,r)}}),O_}var N_,PM;function Aee(){if(PM)return N_;PM=1;var n=js;return N_=function(t){return n.isObject(t)&&t.isAxiosError===!0},N_}var xM=js,_ee=nq,w1=wee,vee=lq,Eee=zk();function pq(n){var e=new w1(n),t=_ee(w1.prototype.request,e);return xM.extend(t,w1.prototype,e),xM.extend(t,e),t.create=function(i){return pq(vee(n,i))},t}var cc=pq(Eee);cc.Axios=w1;cc.Cancel=qk();cc.CancelToken=kee();cc.isCancel=uq();cc.VERSION=dq().version;cc.all=function(e){return Promise.all(e)};cc.spread=See();cc.isAxiosError=Aee();tq.exports=cc;tq.exports.default=cc;var eu={},ud={};let Iee=class extends TypeError{constructor(e,t){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}};function Ree(n){return Wc(n)&&typeof n[Symbol.iterator]=="function"}function Wc(n){return typeof n=="object"&&n!=null}function ca(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Pee(n){const{done:e,value:t}=n.next();return e?void 0:t}function xee(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ca(r)}\``}=n;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...n,message:c}}function*BM(n,e,t,r){Ree(n)||(n=[n]);for(const i of n){const s=xee(i,e,t,r);s&&(yield s)}}function*Hx(n,e,t={}){const{path:r=[],branch:i=[n],coerce:s=!1,mask:o=!1}=t,a={path:r,branch:i};if(s&&(n=e.coercer(n,a),o&&e.type!=="type"&&Wc(e.schema)&&Wc(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const b=Hx(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:t.message});for(const p of b)p[0]?(c=p[0].refinement!=null?"not_refined":"not_valid",yield[p[0],void 0]):s&&(l=p[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Wc(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}let uc=class{constructor(e){const{type:t,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return BM(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return BM(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return Lp(e,this,t)}create(e,t){return $(e,this,t)}is(e){return gq(e,this)}mask(e,t){return Bee(e,this,t)}validate(e,t={}){return qm(e,this,t)}};function Lp(n,e,t){const r=qm(n,e,{message:t});if(r[0])throw r[0]}function $(n,e,t){const r=qm(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Bee(n,e,t){const r=qm(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function gq(n,e){return!qm(n,e)[0]}function qm(n,e,t={}){const r=Hx(n,e,t),i=Pee(r);return i[0]?[new Iee(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Pd(n,e){return new uc({type:n,schema:null,validator:e})}function zm(){return Pd("any",()=>!0)}function F(n){return new uc({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ca(e)}`}})}function St(){return Pd("boolean",n=>typeof n=="boolean")}function gs(n){return Pd("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${ca(e)}`)}function _e(n){const e=ca(n),t=typeof n;return new uc({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${ca(r)}`}})}function Tee(){return Pd("never",()=>!1)}function W(n){return new uc({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function k(){return Pd("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${ca(n)}`)}function ne(n){return new uc({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function lc(n,e){return new uc({type:"record",schema:null,*entries(t){if(Wc(t))for(const r in t){const i=t[r];yield[r,r,n],yield[r,i,e]}},validator(t){return Wc(t)||`Expected an object, but received: ${ca(t)}`}})}function O(){return Pd("string",n=>typeof n=="string"||`Expected a string, but received: ${ca(n)}`)}function ys(n){const e=Tee();return new uc({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let i=0;i<r;i++)yield[i,t[i],n[i]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${ca(t)}`}})}function P(n){const e=Object.keys(n);return new uc({type:"type",schema:n,*entries(t){if(Wc(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Wc(t)||`Expected an object, but received: ${ca(t)}`},coercer(t){return Wc(t)?{...t}:t}})}function tt(n){const e=n.map(t=>t.type).join(" | ");return new uc({type:"union",schema:null,coercer(t){for(const r of n){const[i,s]=r.validate(t,{coerce:!0});if(!i)return s}return t},validator(t,r){const i=[];for(const s of n){const[...o]=Hx(t,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ca(t)}`,...i]}})}function Ar(){return Pd("unknown",()=>!0)}function _r(n,e,t){return new uc({...n,coercer:(r,i)=>gq(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}var yq={},of={};Object.defineProperty(of,"__esModule",{value:!0});of.createError=of.DefaultDataPack=void 0;const Cee=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let Mee=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};of.DefaultDataPack=Mee;function Lee(n,e){const t={code:n,message:Cee.get(n)||"Internal Server Error"};return e&&(t.data=e),t}of.createError=Lee;Object.defineProperty(yq,"__esModule",{value:!0});const Oee=Wo,Nee=of;let $ee=class extends Oee.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Nee.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var qee=yq.default=$ee,mq={};Object.defineProperty(mq,"__esModule",{value:!0});const zee=Wo;let Dee=class extends zee.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function Uee(n,e){return new Dee(n,e)}var Kee=mq.default=Uee;const Wee=on.utils.randomPrivateKey,TM=()=>{const n=on.utils.randomPrivateKey(),e=K0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},K0=on.getPublicKey;function CM(n){try{return on.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Yx=(n,e)=>on.sign(n,e.slice(0,32)),Fee=on.verify,Kt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let Gx=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(Zg,this))}static decode(e){return Pp(Zg,this,e)}static decodeUnchecked(e){return Ip(Zg,this,e)}},Vee=class extends Gx{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const Zg=new Map;var bq;const wq=32,Qa=32;function jee(n){return n._bn!==void 0}let MM=1,Ve=class nh extends Gx{constructor(e){if(super({}),this._bn=void 0,jee(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Qa)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Qa)throw new Error("Invalid public key input")}}static unique(){const e=new nh(MM);return MM+=1,new nh(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Qa)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=po(i);return new nh(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>wq)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Kt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=po(r);if(CM(i))throw new Error("Invalid seeds, address must fall off the curve");return new nh(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new nh(e);return CM(t.toBytes())}};bq=Ve;Ve.default=new bq("11111111111111111111111111111111");Zg.set(Ve,{kind:"struct",fields:[["_bn","u256"]]});let Hee=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Kt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Kt(Wee()),this._publicKey=Kt(K0(this._secretKey))}get publicKey(){return new Ve(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const Yee=new Ve("BPFLoader1111111111111111111111111111111111"),$u=1232,Uk=127,zy=64;let Jx=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Jx.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let Qx=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Qx.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Rh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Rh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Dy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Gt=(n="publicKey")=>fe(32,n),Gee=(n="signature")=>fe(64,n),Nl=(n="string")=>{const e=U([D("length"),D("lengthPadding"),fe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},Jee=(n="authorized")=>U([Gt("staker"),Gt("withdrawer")],n),Qee=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Gt("custodian")],n),Zee=(n="voteInit")=>U([Gt("nodePubkey"),Gt("authorizedVoter"),Gt("authorizedWithdrawer"),ae("commission")],n),Xee=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Gt("currentAuthorityDerivedKeyOwnerPubkey"),Nl("currentAuthorityDerivedKeySeed"),Gt("newAuthorized")],n);function kq(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return kq({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Ss(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function no(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function An(n,e){if(!n)throw new Error(e||"Assertion failed")}let Sq=class Aq{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new Aq(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];An(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{An(t.length>0,"Expected at least one writable signer key");const[c]=t[0];An(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ve(c)),...r.map(([c])=>new Ve(c)),...i.map(([c])=>new Ve(c)),...s.map(([c])=>new Ve(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ve(s),c=e.findIndex(u=>u.equals(a));c>=0&&(An(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const _q="Reached end of buffer unexpectedly";function Ca(n){if(n.length===0)throw new Error(_q);return n.shift()}function As(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(_q);return n.splice(...e)}let Ju=class DI{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ve(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Dy(this.staticAccountKeys)}static compile(e){const t=Sq.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Dy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new DI({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];no(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];no(y,b.length);let S=[];return no(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];no(i,r.length);let s=H.Buffer.alloc($u);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([ae("programIdIndex"),fe(d.keyIndicesCount.length,"keyIndicesCount"),Te(ae("keyIndex"),d.keyIndices.length,"keyIndices"),fe(d.dataLength.length,"dataLength"),Te(ae("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([fe(1,"numRequiredSignatures"),fe(1,"numReadonlySignedAccounts"),fe(1,"numReadonlyUnsignedAccounts"),fe(t.length,"keyCount"),Te(Gt("key"),e,"keys"),Gt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Kt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Ca(t);if(r!==(r&Uk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ca(t),s=Ca(t),o=Ss(t);let a=[];for(let b=0;b<o;b++){const p=As(t,0,Qa);a.push(new Ve(H.Buffer.from(p)))}const c=As(t,0,Qa),u=Ss(t);let l=[];for(let b=0;b<u;b++){const p=Ca(t),g=Ss(t),y=As(t,0,g),S=Ss(t),w=As(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new DI(d)}},Kk=class UI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Dy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=Sq.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Dy(a,i).compileInstructions(e.instructions);return new UI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();no(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();no(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();no(s,this.addressTableLookups.length);const o=U([ae("prefix"),U([ae("numRequiredSignatures"),ae("numReadonlySignedAccounts"),ae("numReadonlyUnsignedAccounts")],"header"),fe(e.length,"staticAccountKeysLength"),Te(Gt(),this.staticAccountKeys.length,"staticAccountKeys"),Gt("recentBlockhash"),fe(r.length,"instructionsLength"),fe(t.length,"serializedInstructions"),fe(s.length,"addressTableLookupsLength"),fe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array($u),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array($u);for(const r of this.compiledInstructions){const i=Array();no(i,r.accountKeyIndexes.length);const s=Array();no(s,r.data.length);const o=U([ae("programIdIndex"),fe(i.length,"encodedAccountKeyIndexesLength"),Te(ae(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe(s.length,"encodedDataLength"),fe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array($u);for(const r of this.addressTableLookups){const i=Array();no(i,r.writableIndexes.length);const s=Array();no(s,r.readonlyIndexes.length);const o=U([Gt("accountKey"),fe(i.length,"encodedWritableIndexesLength"),Te(ae(),r.writableIndexes.length,"writableIndexes"),fe(s.length,"encodedReadonlyIndexesLength"),Te(ae(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ca(t),i=r&Uk;An(r!==i,"Expected versioned message but received legacy message");const s=i;An(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Ca(t),numReadonlySignedAccounts:Ca(t),numReadonlyUnsignedAccounts:Ca(t)},a=[],c=Ss(t);for(let g=0;g<c;g++)a.push(new Ve(As(t,0,Qa)));const u=Pe.encode(As(t,0,Qa)),l=Ss(t),d=[];for(let g=0;g<l;g++){const y=Ca(t),S=Ss(t),w=As(t,0,S),_=Ss(t),R=new Uint8Array(As(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=Ss(t),p=[];for(let g=0;g<b;g++){const y=new Ve(As(t,0,Qa)),S=Ss(t),w=As(t,0,S),_=Ss(t),R=As(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new UI({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const Zx={deserializeMessageVersion(n){const e=n[0],t=e&Uk;return t===e?"legacy":t},deserialize:n=>{const e=Zx.deserializeMessageVersion(n);if(e==="legacy")return Ju.from(n);if(e===0)return Kk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Sc=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ete=H.Buffer.alloc(zy).fill(0);let sr=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},er=class KI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new sr(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new Ve(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{An(y.programIdIndex>=0),y.accounts.forEach(S=>An(S>=0))}),new Ju({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=Yx(r,i.secretKey);this._addSignature(i.publicKey,Kt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){An(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Fee(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];no(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return An(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(An(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),An(s.length<=$u,`Transaction too large: ${s.length} > ${$u}`),s}get keys(){return An(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return An(this.instructions.length===1),this.instructions[0].programId}get data(){return An(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Ss(t);let i=[];for(let s=0;s<r;s++){const o=As(t,0,zy);i.push(Pe.encode(H.Buffer.from(o)))}return KI.populate(Ju.from(t),i)}static populate(e,t=[]){const r=new KI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(ete)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new sr({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},tte=class vq{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;An(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;An(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new sr({programId:S,data:Kt(g.data),keys:y}))}return new vq({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Ju.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Kk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},nte=class Eq{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)An(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(zy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();no(t,this.signatures.length);const r=U([fe(t.length,"encodedSignaturesLength"),Te(Gee(),this.signatures.length,"signatures"),fe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Ss(t);for(let o=0;o<i;o++)r.push(new Uint8Array(As(t,0,zy)));const s=Zx.deserialize(new Uint8Array(t));return new Eq(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));An(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=Yx(t,i.secretKey)}}addSignature(e,t){An(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));An(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const rte=160,ite=64,ste=rte/ite,Iq=1e3/ste,Sa=new Ve("SysvarC1ock11111111111111111111111111111111"),ote=new Ve("SysvarEpochSchedu1e111111111111111111111111"),ate=new Ve("Sysvar1nstructions1111111111111111111111111"),k1=new Ve("SysvarRecentB1ockHashes11111111111111111111"),af=new Ve("SysvarRent111111111111111111111111111111111"),cte=new Ve("SysvarRewards111111111111111111111111111111"),ute=new Ve("SysvarS1otHashes111111111111111111111111111"),lte=new Ve("SysvarS1otHistory11111111111111111111111111"),S1=new Ve("SysvarStakeHistory1111111111111111111111111");let Uy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const dte={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let dt=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function WI(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Uy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function wl(n){return new Promise(e=>setTimeout(e,n))}function dn(n,e){const t=n.layout.span>=0?n.layout.span:kq(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function qn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const Rq=Be("lamportsPerSignature"),Pq=U([D("version"),D("state"),Gt("authorizedPubkey"),Gt("nonce"),U([Rq],"feeCalculator")]),FI=Pq.span;let xq=class Bq{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Pq.decode(Kt(e),0);return new Bq({authorizedPubkey:new Ve(t.authorizedPubkey),nonce:new Ve(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const hte=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},fte=n=>e=>{const t=fe(n,e),{encode:r,decode:i}=hte(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Ko(o,n);return r(u,a,c)},s},cf=fte(8);let pte=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(fr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=qn(fr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ve(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=qn(fr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=qn(fr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ve(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=qn(fr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=qn(fr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ve(t),seed:r,space:i,programId:new Ve(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=qn(fr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ve(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=qn(fr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ve(t),seed:r,programId:new Ve(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=qn(fr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ve(t),seed:r,lamports:i,space:s,programId:new Ve(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=qn(fr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ve(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),qn(fr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=qn(fr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=qn(fr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ve(t)}}static checkProgramId(e){if(!e.equals(is.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const fr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Gt("programId")])},Assign:{index:1,layout:U([D("instruction"),Gt("programId")])},Transfer:{index:2,layout:U([D("instruction"),cf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Gt("base"),Nl("seed"),Je("lamports"),Je("space"),Gt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Gt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Gt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Gt("base"),Nl("seed"),Je("space"),Gt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Gt("base"),Nl("seed"),Gt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),cf("lamports"),Nl("seed"),Gt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let is=class VI{constructor(){}static createAccount(e){const t=fr.Create,r=dn(t,{lamports:e.lamports,space:e.space,programId:Kt(e.programId.toBuffer())});return new sr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=fr.TransferWithSeed;t=dn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=fr.Transfer;t=dn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=fr.AssignWithSeed;t=dn(i,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=fr.Assign;t=dn(i,{programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=fr.CreateWithSeed,r=dn(t,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Kt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new sr({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new er;"basePubkey"in e&&"seed"in e?t.add(VI.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:FI,programId:this.programId})):t.add(VI.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:FI,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=fr.InitializeNonceAccount,r=dn(t,{authorized:Kt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:k1,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new sr(i)}static nonceAdvance(e){const t=fr.AdvanceNonceAccount,r=dn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:k1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new sr(i)}static nonceWithdraw(e){const t=fr.WithdrawNonceAccount,r=dn(t,{lamports:e.lamports});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:k1,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=fr.AuthorizeNonceAccount,r=dn(t,{authorized:Kt(e.newAuthorizedPubkey.toBuffer())});return new sr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=fr.AllocateWithSeed;t=dn(i,{base:Kt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Kt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=fr.Allocate;t=dn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:t})}};is.programId=new Ve("11111111111111111111111111111111");const gte=$u-300;let W0=class jI{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/jI.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new er,p.add(is.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new er,p.add(is.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new er,p.add(is.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new er().add(is.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await WI(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(ae("byte"),Rt(D(),-8),"bytes")]),a=jI.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new er().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(WI(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await wl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new er().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(Iq/2)))}}return!0}};W0.chunkSize=gte;const yte=new Ve("BPFLoader2111111111111111111111111111111111");let mte=class{static getMinNumSignatures(e){return W0.getMinNumSignatures(e)}static load(e,t,r,i,s){return W0.load(e,t,r,s,i)}};function bte(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var wte=Object.prototype.toString,kte=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function xg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return xg(n.toJSON(),e);if(c=wte.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=xg(n[t],!0)+",";return r>-1&&(i+=xg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=kte(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=xg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Ste=function(n){var e=xg(n,!1);if(e!==void 0)return""+e},LM=bte(Ste);const pg=32;function $_(n){let e=0;for(;n>1;)n/=2,e++;return e}function Ate(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let Tq=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=$_(Ate(e+pg+1))-$_(pg)-1,r=this.getSlotsInEpoch(t),i=e-(r-pg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*pg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+$_(pg)):this.slotsPerEpoch}};var _te=globalThis.fetch;let vte=class extends qee{constructor(e,t,r){const i=s=>{const o=Kee(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function Ete(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const OM=56;let HI=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Ete(Ite,e),r=e.length-OM;An(r>=0,"lookup table is invalid"),An(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Gt(),i,"addresses")]).decode(e.slice(OM));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ve(t.authority[0]):void 0,addresses:s.map(o=>new Ve(o))}}};const Ite={index:1,layout:U([D("typeIndex"),cf("deactivationSlot"),Be("lastExtendedSlot"),ae("lastExtendedStartIndex"),ae(),Te(Gt(),Rt(ae(),-1),"authority")])},Rte=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Pte(n){const e=n.match(Rte);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const li=_r(gs(Ve),O(),n=>new Ve(n)),Cq=ys([O(),_e("base64")]),Xx=_r(gs(H.Buffer),Cq,n=>H.Buffer.from(n[0],"base64")),Mq=30*1e3;function xte(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Rr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function Lq(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:ne(zm())})})])}const Bte=Lq(Ar());function Nt(n){return _r(Lq(n),Bte,e=>"error"in e?e:{...e,result:$(e.result,n)})}function Hr(n){return Nt(P({context:P({slot:k()}),value:n}))}function Wk(n){return P({context:P({slot:k()}),value:n})}function q_(n,e){return n===0?new Kk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ve(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Ju(e)}const Tte=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),Cte=Nt(F(W(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:ne(W(k()))})))),Mte=F(P({slot:k(),prioritizationFee:k()})),Lte=P({total:k(),validator:k(),foundation:k(),epoch:k()}),Ote=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:ne(k()),transactionCount:ne(k())}),Nte=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),$te=lc(O(),F(k())),xd=W(tt([P({}),O()])),qte=P({err:xd}),zte=_e("receivedSignature"),Dte=P({"solana-core":O(),"feature-set":ne(k())}),NM=Hr(P({err:W(tt([P({}),O()])),logs:W(F(O())),accounts:ne(W(F(W(P({executable:St(),owner:O(),lamports:k(),data:F(O()),rentEpoch:ne(k())}))))),unitsConsumed:ne(k()),returnData:ne(W(P({programId:O(),data:ys([O(),_e("base64")])})))})),Ute=Hr(P({byIdentity:lc(O(),F(k())),range:P({firstSlot:k(),lastSlot:k()})}));function Kte(n,e,t,r,i,s){const o=t||_te;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Wne)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await wl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Wte(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function Fte(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const Vte=Nt(Tte),jte=Nt(Lte),Hte=Nt(Mte),Yte=Nt(Ote),Gte=Nt(Nte),Jte=Nt($te),Qte=Nt(k()),Zte=Hr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:F(li)})),YI=P({amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}),Xte=Hr(F(P({address:li,amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}))),ene=Hr(F(P({pubkey:li,account:P({executable:St(),owner:li,lamports:k(),data:Xx,rentEpoch:k()})}))),GI=P({program:O(),parsed:Ar(),space:k()}),tne=Hr(F(P({pubkey:li,account:P({executable:St(),owner:li,lamports:k(),data:GI,rentEpoch:k()})}))),nne=Hr(F(P({lamports:k(),address:li}))),Ky=P({executable:St(),owner:li,lamports:k(),data:Xx,rentEpoch:k()}),rne=P({pubkey:li,account:Ky}),ine=_r(tt([gs(H.Buffer),GI]),tt([Cq,GI]),n=>Array.isArray(n)?$(n,Xx):n),JI=P({executable:St(),owner:li,lamports:k(),data:ine,rentEpoch:k()}),sne=P({pubkey:li,account:JI}),one=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),ane=Nt(F(P({signature:O(),slot:k(),err:xd,memo:W(O()),blockTime:ne(W(k()))}))),cne=Nt(F(P({signature:O(),slot:k(),err:xd,memo:W(O()),blockTime:ne(W(k()))}))),une=P({subscription:k(),result:Wk(Ky)}),lne=P({pubkey:li,account:Ky}),dne=P({subscription:k(),result:Wk(lne)}),hne=P({parent:k(),slot:k(),root:k()}),fne=P({subscription:k(),result:hne}),pne=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),gne=P({subscription:k(),result:pne}),yne=P({subscription:k(),result:Wk(tt([qte,zte]))}),mne=P({subscription:k(),result:k()}),bne=P({pubkey:O(),gossip:W(O()),tpu:W(O()),rpc:W(O()),version:W(O())}),$M=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:F(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:W(k())}),wne=Nt(P({current:F($M),delinquent:F($M)})),kne=tt([_e("processed"),_e("confirmed"),_e("finalized")]),Sne=P({slot:k(),confirmations:W(k()),err:xd,confirmationStatus:ne(kne)}),Ane=Hr(F(W(Sne))),_ne=Nt(k()),Oq=P({accountKey:li,writableIndexes:F(k()),readonlyIndexes:F(k())}),eB=P({signatures:F(O()),message:P({accountKeys:F(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:ne(F(Oq))})}),Nq=P({pubkey:li,signer:St(),writable:St(),source:ne(tt([_e("transaction"),_e("lookupTable")]))}),$q=P({accountKeys:F(Nq),signatures:F(O())}),qq=P({parsed:Ar(),program:O(),programId:li}),zq=P({accounts:F(li),data:O(),programId:li}),vne=tt([zq,qq]),Ene=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:F(O()),data:O(),programId:O()})]),Dq=_r(vne,Ene,n=>"accounts"in n?$(n,zq):$(n,qq)),Uq=P({signatures:F(O()),message:P({accountKeys:F(Nq),instructions:F(Dq),recentBlockhash:O(),addressTableLookups:ne(W(F(Oq)))})}),F0=P({accountIndex:k(),mint:O(),owner:ne(O()),uiTokenAmount:YI}),Kq=P({writable:F(li),readonly:F(li)}),Fk=P({err:xd,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()}))})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(F0))),postTokenBalances:ne(W(F(F0))),loadedAddresses:ne(Kq),computeUnitsConsumed:ne(k())}),tB=P({err:xd,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(Dq)})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(F0))),postTokenBalances:ne(W(F(F0))),loadedAddresses:ne(Kq),computeUnitsConsumed:ne(k())}),Op=tt([_e(0),_e("legacy")]),Bd=P({pubkey:O(),lamports:k(),postBalance:W(k()),rewardType:W(O()),commission:ne(W(k()))}),Ine=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:eB,meta:W(Fk),version:ne(Op)})),rewards:ne(F(Bd)),blockTime:W(k()),blockHeight:W(k())}))),Rne=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Bd)),blockTime:W(k()),blockHeight:W(k())}))),Pne=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:$q,meta:W(Fk),version:ne(Op)})),rewards:ne(F(Bd)),blockTime:W(k()),blockHeight:W(k())}))),xne=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:Uq,meta:W(tB),version:ne(Op)})),rewards:ne(F(Bd)),blockTime:W(k()),blockHeight:W(k())}))),Bne=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:$q,meta:W(tB),version:ne(Op)})),rewards:ne(F(Bd)),blockTime:W(k()),blockHeight:W(k())}))),Tne=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Bd)),blockTime:W(k()),blockHeight:W(k())}))),Cne=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:eB,meta:W(Fk)})),rewards:ne(F(Bd)),blockTime:W(k())}))),qM=Nt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:F(O()),blockTime:W(k())}))),z_=Nt(W(P({slot:k(),meta:W(Fk),blockTime:ne(W(k())),transaction:eB,version:ne(Op)}))),Pb=Nt(W(P({slot:k(),transaction:Uq,meta:W(tB),blockTime:ne(W(k())),version:ne(Op)}))),Mne=Hr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),Lne=Hr(P({blockhash:O(),lastValidBlockHeight:k()})),One=Hr(St()),Nne=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),$ne=Nt(F(Nne)),qne=Hr(W(P({feeCalculator:P({lamportsPerSignature:k()})}))),zne=Nt(O()),Dne=Nt(O()),Une=P({err:xd,logs:F(O()),signature:O()}),Kne=P({result:Wk(Une),subscription:k()}),Wne={"solana-client":"js/0.0.0-development"};let Fne=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Rr(l),p=this._buildArgs([],d,void 0,b),g=LM(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=$(y,Nt(k()));if("error"in S)throw new dt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=xte(e),this._rpcWsEndpoint=r||Pte(e),this._rpcClient=Kte(e,i,s,o,a,c),this._rpcRequest=Wte(this._rpcClient),this._rpcBatchRequest=Fte(this._rpcClient),this._rpcWebSocket=new vte(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=$(o,Hr(k()));if("error"in a)throw new dt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=$(t,Nt(W(k())));if("error"in r)throw new dt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=$(e,Nt(k()));if("error"in t)throw new dt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=$(e,Qte);if("error"in t)throw new dt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=$(r,Zte);if("error"in i)throw new dt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=$(i,Hr(YI));if("error"in s)throw new dt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=$(i,Hr(YI));if("error"in s)throw new dt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Rr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=$(c,ene);if("error"in u)throw new dt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=$(o,tne);if("error"in a)throw new dt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=$(i,nne);if("error"in s)throw new dt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=$(i,Xte);if("error"in s)throw new dt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Hr(W(Ky)));if("error"in a)throw new dt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Hr(W(JI)));if("error"in a)throw new dt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Hr(F(W(JI))));if("error"in c)throw new dt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Hr(F(W(Ky))));if("error"in c)throw new dt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Rr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=$(a,Nt(one));if("error"in c)throw new dt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Rr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=F(rne),l=o.withContext===!0?$(c,Hr(u)):$(c,Nt(u));if("error"in l)throw new dt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=$(o,Nt(F(sne)));if("error"in a)throw new dt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return An(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:Sc.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Sc.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await wl(1e3),s||(p=await b(),s))return;d({__type:Sc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Sc.PROCESSED)l=d.response;else throw new Jx(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:Sc.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await wl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===Sc.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await wl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Rh(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Rh(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Rh(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Rh(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Sc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===Sc.PROCESSED)a=c.response;else throw new Qx(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=$(e,Nt(F(bne)));if("error"in t)throw new dt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=$(r,wne);if("error"in i)throw new dt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=$(s,Nt(k()));if("error"in o)throw new dt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=$(s,Nt(O()));if("error"in o)throw new dt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=$(i,Nt(F(li)));if("error"in s)throw new dt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);An(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=$(i,Ane);if("error"in s)throw new dt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=$(s,Nt(k()));if("error"in o)throw new dt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=$(r,Vte);if("error"in i)throw new dt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Rr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=$(a,Cte);if("error"in c)throw new dt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=$(e,jte);if("error"in t)throw new dt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=$(s,Yte);if("error"in o)throw new dt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=$(e,Gte);if("error"in t)throw new dt(t.error,"failed to get epoch schedule");const r=t.result;return new Tq(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=$(e,Jte);if("error"in t)throw new dt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=$(i,_ne);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=$(r,Mne);if("error"in i)throw new dt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=$(t,$ne);if("error"in r)throw new dt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=$(i,qne);if("error"in s)throw new dt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Kt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=$(s,Hr(W(k())));if("error"in o)throw new dt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=$(i,Hte);if("error"in s)throw new dt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=$(s,Lne);if("error"in o)throw new dt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=$(o,One);if("error"in a)throw new dt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=$(e,Nt(Dte));if("error"in t)throw new dt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=$(e,Nt(O()));if("error"in t)throw new dt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,Pne);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,Rne);if("error"in a)throw a.error;return a.result}default:{const a=$(o,Ine);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:q_(d,u.message)},version:d}))}:null}}}catch(a){throw new dt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,Bne);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,Tne);if("error"in a)throw a.error;return a.result}default:{const a=$(o,xne);if("error"in a)throw a.error;return a.result}}}catch(a){throw new dt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=$(s,Ute);if("error"in o)throw new dt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=$(o,z_);if("error"in a)throw new dt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:q_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Rr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=$(o,Pb);if("error"in a)throw new dt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,Pb);if("error"in u)throw new dt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Rr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,z_);if("error"in u)throw new dt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:q_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,Cne);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Ju(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:er.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=$(s,Nt(F(k())));if("error"in o)throw new dt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=$(i,qM);if("error"in s)throw new dt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,qM);if("error"in s)throw new dt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,z_);if("error"in s)throw new dt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Ju(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:er.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,Pb);if("error"in s)throw new dt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=$(o,Pb);if("error"in a)throw new dt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=$(s,ane);if("error"in o)throw new dt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=$(s,cne);if("error"in o)throw new dt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new HI({key:e,state:HI.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=xq.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=$(r,zne);if("error"in i)throw new dt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await wl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Mq;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await wl(Iq/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Rr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=$(s,Hr(k()));if("error"in o)throw new dt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=$(R,NM);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof er){let g=e;i=new er,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=er.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=$(b,NM);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Uy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Kt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=$(a,Dne);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Uy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=$(e,une);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=LM([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];An(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=$(e,dne);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=$(e,Kne);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=$(e,fne);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=$(e,gne);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=$(e,yne);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=$(e,mne);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Wq=class A1{constructor(e){this._keypair=void 0,this._keypair=e??TM()}static generate(){return new A1(TM())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=K0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new A1({publicKey:r,secretKey:e})}static fromSeed(e){const t=K0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new A1({publicKey:t,secretKey:r})}get publicKey(){return new Ve(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Mc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),cf("recentSlot"),ae("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),cf(),Te(Gt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let Vne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Mc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=qn(Mc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=qn(Mc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ve(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(nB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},nB=class{constructor(){}static createLookupTable(e){const[t,r]=Ve.findProgramAddressSync([e.authority.toBuffer(),Ko(BigInt(e.recentSlot),8)],this.programId),i=Mc.CreateLookupTable,s=dn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:is.programId,isSigner:!1,isWritable:!1}];return[new sr({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Mc.FreezeLookupTable,r=dn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sr({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Mc.ExtendLookupTable,r=dn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:is.programId,isSigner:!1,isWritable:!1}),new sr({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Mc.DeactivateLookupTable,r=dn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new sr({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Mc.CloseLookupTable,r=dn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new sr({programId:this.programId,keys:i,data:r})}};nB.programId=new Ve("AddressLookupTab1e1111111111111111111111111");let jne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ae("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ma))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=qn(Ma.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=qn(Ma.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=qn(Ma.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=qn(Ma.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(rB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Ma=Object.freeze({RequestUnits:{index:0,layout:U([ae("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([ae("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([ae("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([ae("instruction"),cf("microLamports")])}});let rB=class{constructor(){}static requestUnits(e){const t=Ma.RequestUnits,r=dn(t,e);return new sr({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Ma.RequestHeapFrame,r=dn(t,e);return new sr({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Ma.SetComputeUnitLimit,r=dn(t,e);return new sr({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Ma.SetComputeUnitPrice,r=dn(t,{microLamports:BigInt(e.microLamports)});return new sr({keys:[],programId:this.programId,data:r})}};rB.programId=new Ve("ComputeBudget111111111111111111111111111111");const zM=64,DM=32,UM=64,KM=U([ae("numSignatures"),ae("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let Fq=class Vq{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;An(t.length===DM,`Public Key must be ${DM} bytes but received ${t.length} bytes`),An(i.length===UM,`Signature must be ${UM} bytes but received ${i.length} bytes`);const o=KM.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return KM.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new sr({keys:[],programId:Vq.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;An(t.length===zM,`Private key must be ${zM} bytes but received ${t.length} bytes`);try{const s=Wq.fromSecretKey(t),o=s.publicKey.toBytes(),a=Yx(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Fq.programId=new Ve("Ed25519SigVerify111111111111111111111111111");const Hne=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const Yne=ki.getPublicKey,WM=32,D_=20,FM=64,Gne=11,U_=U([ae("numSignatures"),ot("signatureOffset"),ae("signatureInstructionIndex"),ot("ethAddressOffset"),ae("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ae("messageInstructionIndex"),fe(20,"ethAddress"),fe(64,"signature"),ae("recoveryId")]);let jq=class _1{constructor(){}static publicKeyToEthAddress(e){An(e.length===FM,`Public key must be ${FM} bytes but received ${e.length} bytes`);try{return H.Buffer.from(qo(Kt(e))).slice(-D_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return _1.createInstructionWithEthAddress({ethAddress:_1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,An(a.length===D_,`Address must be ${D_} bytes but received ${a.length} bytes`);const c=1+Gne,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(U_.span+r.length);return U_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Kt(i),ethAddress:Kt(a),recoveryId:s},p),p.fill(Kt(r),U_.span),new sr({keys:[],programId:_1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;An(t.length===WM,`Private key must be ${WM} bytes but received ${t.length} bytes`);try{const s=Kt(t),o=Yne(s,!1).slice(1),a=H.Buffer.from(qo(Kt(r))),[c,u]=Hne(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};jq.programId=new Ve("KeccakSecp256k11111111111111111111111111111");var Hq;const Yq=new Ve("StakeConfig11111111111111111111111111111111");let Gq=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Dm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};Hq=Dm;Dm.default=new Hq(0,0,Ve.default);let Jne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(vi))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=qn(vi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Gq(new Ve(t.staker),new Ve(t.withdrawer)),lockup:new Dm(r.unixTimestamp,r.epoch,new Ve(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),qn(vi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=qn(vi.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ve(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=qn(vi.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Ve(s),newAuthorizedPubkey:new Ve(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=qn(vi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),qn(vi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=qn(vi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),qn(vi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Vk.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const vi=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),Jee(),Qee()])},Authorize:{index:1,layout:U([D("instruction"),Gt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Gt("newAuthorized"),D("stakeAuthorizationType"),Nl("authoritySeed"),Gt("authorityOwner")])}}),Qne=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let Vk=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Dm.default,o=vi.Initialize,a=dn(o,{authorized:{staker:Kt(r.staker.toBuffer()),withdrawer:Kt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Kt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new sr(c)}static createAccountWithSeed(e){const t=new er;t.add(is.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new er;t.add(is.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=vi.Delegate,o=dn(s);return new er().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:S1,isSigner:!1,isWritable:!1},{pubkey:Yq,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=vi.Authorize,c=dn(a,{newAuthorized:Kt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new er().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=vi.AuthorizeWithSeed,l=dn(u,{newAuthorized:Kt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Kt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Sa,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new er().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=vi.Split,a=dn(o,{lamports:s});return new sr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new er;return r.add(is.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new er;return u.add(is.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(is.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=vi.Merge,o=dn(s);return new er().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:S1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=vi.Withdraw,c=dn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:S1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new er().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=vi.Deactivate,s=dn(i);return new er().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Vk.programId=new Ve("Stake11111111111111111111111111111111111111");Vk.space=200;let Jq=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},Zne=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(La))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=qn(La.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Jq(new Ve(t.nodePubkey),new Ve(t.authorizedVoter),new Ve(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=qn(La.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ve(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=qn(La.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ve(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ve(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=qn(La.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(jk.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const La=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Zee()])},Authorize:{index:1,layout:U([D("instruction"),Gt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),Xee()])}}),Xne=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let jk=class Qq{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=La.InitializeAccount,o=dn(s,{voteInit:{nodePubkey:Kt(i.nodePubkey.toBuffer()),authorizedVoter:Kt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Kt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new sr(a)}static createAccount(e){const t=new er;return t.add(is.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=La.Authorize,a=dn(o,{newAuthorized:Kt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new er().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=La.AuthorizeWithSeed,u=dn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Kt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Kt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Sa,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new er().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=La.Withdraw,a=dn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new er().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Qq.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=La.UpdateValidatorIdentity,o=dn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new er().add({keys:a,programId:this.programId,data:o})}};jk.programId=new Ve("Vote111111111111111111111111111111111111111");jk.space=3762;const Zq=new Ve("Va1idator1nfo111111111111111111111111111111"),ere=P({name:O(),website:ne(O()),details:ne(O()),keybaseUsername:ne(O())});let tre=class Xq{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Ss(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Ve(As(t,0,Qa)),a=Ca(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(Zq)&&i[1].isSigner){const s=Nl().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,ere),new Xq(i[1].publicKey,o)}return null}};const nre=new Ve("Vote111111111111111111111111111111111111111"),rre=U([Gt("nodePubkey"),Gt("authorizedWithdrawer"),ae("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),ae("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Gt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Gt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),ae("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let ire=class ez{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=rre.decode(Kt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new ez({nodePubkey:new Ve(r.nodePubkey),authorizedWithdrawer:new Ve(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(sre),priorVoters:ore(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function sre({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ve(n)}}function VM({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ve(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function ore({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(VM),...n.slice(0,e).map(VM)]}const jM={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function are(n,e){const t=e===!1?"http":"https";if(!n)return jM[t].devnet;const r=jM[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function cre(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Uy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const ure=1e9,lre=Object.freeze(Object.defineProperty({__proto__:null,Account:Hee,AddressLookupTableAccount:HI,AddressLookupTableInstruction:Vne,AddressLookupTableProgram:nB,Authorized:Gq,BLOCKHASH_CACHE_TIMEOUT_MS:Mq,BPF_LOADER_DEPRECATED_PROGRAM_ID:Yee,BPF_LOADER_PROGRAM_ID:yte,BpfLoader:mte,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ma,ComputeBudgetInstruction:jne,ComputeBudgetProgram:rB,Connection:Fne,Ed25519Program:Fq,Enum:Vee,EpochSchedule:Tq,FeeCalculatorLayout:Rq,Keypair:Wq,LAMPORTS_PER_SOL:ure,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Mc,Loader:W0,Lockup:Dm,MAX_SEED_LENGTH:wq,Message:Ju,MessageAccountKeys:Dy,MessageV0:Kk,NONCE_ACCOUNT_LENGTH:FI,NonceAccount:xq,PACKET_DATA_SIZE:$u,PUBLIC_KEY_LENGTH:Qa,PublicKey:Ve,SIGNATURE_LENGTH_IN_BYTES:zy,SOLANA_SCHEMA:Zg,STAKE_CONFIG_ID:Yq,STAKE_INSTRUCTION_LAYOUTS:vi,SYSTEM_INSTRUCTION_LAYOUTS:fr,SYSVAR_CLOCK_PUBKEY:Sa,SYSVAR_EPOCH_SCHEDULE_PUBKEY:ote,SYSVAR_INSTRUCTIONS_PUBKEY:ate,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:k1,SYSVAR_RENT_PUBKEY:af,SYSVAR_REWARDS_PUBKEY:cte,SYSVAR_SLOT_HASHES_PUBKEY:ute,SYSVAR_SLOT_HISTORY_PUBKEY:lte,SYSVAR_STAKE_HISTORY_PUBKEY:S1,Secp256k1Program:jq,SendTransactionError:Uy,SolanaJSONRPCError:dt,SolanaJSONRPCErrorCode:dte,StakeAuthorizationLayout:Qne,StakeInstruction:Jne,StakeProgram:Vk,Struct:Gx,SystemInstruction:pte,SystemProgram:is,Transaction:er,TransactionExpiredBlockheightExceededError:Jx,TransactionExpiredNonceInvalidError:Rh,TransactionExpiredTimeoutError:Qx,TransactionInstruction:sr,TransactionMessage:tte,TransactionStatus:Sc,VALIDATOR_INFO_KEY:Zq,VERSION_PREFIX_MASK:Uk,VOTE_PROGRAM_ID:nre,ValidatorInfo:tre,VersionedMessage:Zx,VersionedTransaction:nte,VoteAccount:ire,VoteAuthorizationLayout:Xne,VoteInit:Jq,VoteInstruction:Zne,VoteProgram:jk,clusterApiUrl:are,sendAndConfirmRawTransaction:cre,sendAndConfirmTransaction:WI},Symbol.toStringTag,{value:"Module"})),Hs=la(lre);var lr={},Ce={},iB={},Um={},tz={},uf={};Object.defineProperty(uf,"__esModule",{value:!0});uf.createError=uf.DefaultDataPack=void 0;const dre=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let hre=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};uf.DefaultDataPack=hre;function fre(n,e){const t={code:n,message:dre.get(n)||"Internal Server Error"};return e&&(t.data=e),t}uf.createError=fre;Object.defineProperty(tz,"__esModule",{value:!0});const pre=Wo,gre=uf;let yre=class extends pre.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new gre.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var mre=tz.default=yre,nz={};Object.defineProperty(nz,"__esModule",{value:!0});const bre=Wo;let wre=class extends bre.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function kre(n,e){return new wre(n,e)}var Sre=nz.default=kre;const Are=on.utils.randomPrivateKey,HM=()=>{const n=on.utils.randomPrivateKey(),e=V0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},V0=on.getPublicKey;function YM(n){try{return on.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sB=(n,e)=>on.sign(n,e.slice(0,32)),_re=on.verify,Wt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let oB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(Xg,this))}static decode(e){return Pp(Xg,this,e)}static decodeUnchecked(e){return Ip(Xg,this,e)}},vre=class extends oB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const Xg=new Map;var rz;const iz=32,Za=32;function Ere(n){return n._bn!==void 0}let GM=1,je=class rh extends oB{constructor(e){if(super({}),this._bn=void 0,Ere(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Za)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Za)throw new Error("Invalid public key input")}}static unique(){const e=new rh(GM);return GM+=1,new rh(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Za)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=po(i);return new rh(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>iz)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Wt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=po(r);if(YM(i))throw new Error("Invalid seeds, address must fall off the curve");return new rh(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new rh(e);return YM(t.toBytes())}};rz=je;je.default=new rz("11111111111111111111111111111111");Xg.set(je,{kind:"struct",fields:[["_bn","u256"]]});let Ire=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Wt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Wt(Are()),this._publicKey=Wt(V0(this._secretKey))}get publicKey(){return new je(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const Rre=new je("BPFLoader1111111111111111111111111111111111"),qu=1232,Hk=127,Wy=64;let aB=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(aB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let cB=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(cB.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Ph=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Ph.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Fy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Jt=(n="publicKey")=>fe(32,n),Pre=(n="signature")=>fe(64,n),$l=(n="string")=>{const e=U([D("length"),D("lengthPadding"),fe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},xre=(n="authorized")=>U([Jt("staker"),Jt("withdrawer")],n),Bre=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Jt("custodian")],n),Tre=(n="voteInit")=>U([Jt("nodePubkey"),Jt("authorizedVoter"),Jt("authorizedWithdrawer"),ae("commission")],n),Cre=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Jt("currentAuthorityDerivedKeyOwnerPubkey"),$l("currentAuthorityDerivedKeySeed"),Jt("newAuthorized")],n);function sz(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return sz({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function _s(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function ro(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function _n(n,e){if(!n)throw new Error(e||"Assertion failed")}let oz=class az{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new az(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];_n(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{_n(t.length>0,"Expected at least one writable signer key");const[c]=t[0];_n(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new je(c)),...r.map(([c])=>new je(c)),...i.map(([c])=>new je(c)),...s.map(([c])=>new je(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new je(s),c=e.findIndex(u=>u.equals(a));c>=0&&(_n(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const cz="Reached end of buffer unexpectedly";function Oa(n){if(n.length===0)throw new Error(cz);return n.shift()}function vs(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(cz);return n.splice(...e)}let Qu=class QI{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new je(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Fy(this.staticAccountKeys)}static compile(e){const t=oz.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Fy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new QI({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];ro(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];ro(y,b.length);let S=[];return ro(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];ro(i,r.length);let s=H.Buffer.alloc(qu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([ae("programIdIndex"),fe(d.keyIndicesCount.length,"keyIndicesCount"),Te(ae("keyIndex"),d.keyIndices.length,"keyIndices"),fe(d.dataLength.length,"dataLength"),Te(ae("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([fe(1,"numRequiredSignatures"),fe(1,"numReadonlySignedAccounts"),fe(1,"numReadonlyUnsignedAccounts"),fe(t.length,"keyCount"),Te(Jt("key"),e,"keys"),Jt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Wt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Oa(t);if(r!==(r&Hk))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Oa(t),s=Oa(t),o=_s(t);let a=[];for(let b=0;b<o;b++){const p=vs(t,0,Za);a.push(new je(H.Buffer.from(p)))}const c=vs(t,0,Za),u=_s(t);let l=[];for(let b=0;b<u;b++){const p=Oa(t),g=_s(t),y=vs(t,0,g),S=_s(t),w=vs(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new QI(d)}},Yk=class ZI{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Fy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=oz.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Fy(a,i).compileInstructions(e.instructions);return new ZI({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();ro(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();ro(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();ro(s,this.addressTableLookups.length);const o=U([ae("prefix"),U([ae("numRequiredSignatures"),ae("numReadonlySignedAccounts"),ae("numReadonlyUnsignedAccounts")],"header"),fe(e.length,"staticAccountKeysLength"),Te(Jt(),this.staticAccountKeys.length,"staticAccountKeys"),Jt("recentBlockhash"),fe(r.length,"instructionsLength"),fe(t.length,"serializedInstructions"),fe(s.length,"addressTableLookupsLength"),fe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(qu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(qu);for(const r of this.compiledInstructions){const i=Array();ro(i,r.accountKeyIndexes.length);const s=Array();ro(s,r.data.length);const o=U([ae("programIdIndex"),fe(i.length,"encodedAccountKeyIndexesLength"),Te(ae(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe(s.length,"encodedDataLength"),fe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(qu);for(const r of this.addressTableLookups){const i=Array();ro(i,r.writableIndexes.length);const s=Array();ro(s,r.readonlyIndexes.length);const o=U([Jt("accountKey"),fe(i.length,"encodedWritableIndexesLength"),Te(ae(),r.writableIndexes.length,"writableIndexes"),fe(s.length,"encodedReadonlyIndexesLength"),Te(ae(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Oa(t),i=r&Hk;_n(r!==i,"Expected versioned message but received legacy message");const s=i;_n(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Oa(t),numReadonlySignedAccounts:Oa(t),numReadonlyUnsignedAccounts:Oa(t)},a=[],c=_s(t);for(let g=0;g<c;g++)a.push(new je(vs(t,0,Za)));const u=Pe.encode(vs(t,0,Za)),l=_s(t),d=[];for(let g=0;g<l;g++){const y=Oa(t),S=_s(t),w=vs(t,0,S),_=_s(t),R=new Uint8Array(vs(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=_s(t),p=[];for(let g=0;g<b;g++){const y=new je(vs(t,0,Za)),S=_s(t),w=vs(t,0,S),_=_s(t),R=vs(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new ZI({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const uB={deserializeMessageVersion(n){const e=n[0],t=e&Hk;return t===e?"legacy":t},deserialize:n=>{const e=uB.deserializeMessageVersion(n);if(e==="legacy")return Qu.from(n);if(e===0)return Yk.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ac=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Mre=H.Buffer.alloc(Wy).fill(0);let or=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},tr=class XI{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new or(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new je(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{_n(y.programIdIndex>=0),y.accounts.forEach(S=>_n(S>=0))}),new Qu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=sB(r,i.secretKey);this._addSignature(i.publicKey,Wt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){_n(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):_re(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];ro(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return _n(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(_n(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),_n(s.length<=qu,`Transaction too large: ${s.length} > ${qu}`),s}get keys(){return _n(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return _n(this.instructions.length===1),this.instructions[0].programId}get data(){return _n(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=_s(t);let i=[];for(let s=0;s<r;s++){const o=vs(t,0,Wy);i.push(Pe.encode(H.Buffer.from(o)))}return XI.populate(Qu.from(t),i)}static populate(e,t=[]){const r=new XI;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(Mre)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new or({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},Lre=class uz{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;_n(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;_n(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new or({programId:S,data:Wt(g.data),keys:y}))}return new uz({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Qu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Yk.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},Ore=class lz{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)_n(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Wy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();ro(t,this.signatures.length);const r=U([fe(t.length,"encodedSignaturesLength"),Te(Pre(),this.signatures.length,"signatures"),fe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=_s(t);for(let o=0;o<i;o++)r.push(new Uint8Array(vs(t,0,Wy)));const s=uB.deserialize(new Uint8Array(t));return new lz(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));_n(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=sB(t,i.secretKey)}}addSignature(e,t){_n(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));_n(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const Nre=160,$re=64,qre=Nre/$re,dz=1e3/qre,Aa=new je("SysvarC1ock11111111111111111111111111111111"),zre=new je("SysvarEpochSchedu1e111111111111111111111111"),Dre=new je("Sysvar1nstructions1111111111111111111111111"),v1=new je("SysvarRecentB1ockHashes11111111111111111111"),lf=new je("SysvarRent111111111111111111111111111111111"),Ure=new je("SysvarRewards111111111111111111111111111111"),Kre=new je("SysvarS1otHashes111111111111111111111111111"),Wre=new je("SysvarS1otHistory11111111111111111111111111"),E1=new je("SysvarStakeHistory1111111111111111111111111");let Vy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const Fre={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let ht=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function eR(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Vy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function kl(n){return new Promise(e=>setTimeout(e,n))}function hn(n,e){const t=n.layout.span>=0?n.layout.span:sz(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function zn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const hz=Be("lamportsPerSignature"),fz=U([D("version"),D("state"),Jt("authorizedPubkey"),Jt("nonce"),U([hz],"feeCalculator")]),tR=fz.span;let pz=class gz{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=fz.decode(Wt(e),0);return new gz({authorizedPubkey:new je(t.authorizedPubkey),nonce:new je(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const Vre=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},jre=n=>e=>{const t=fe(n,e),{encode:r,decode:i}=Vre(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Ko(o,n);return r(u,a,c)},s},df=jre(8);let Hre=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(pr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=zn(pr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new je(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=zn(pr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=zn(pr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new je(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=zn(pr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=zn(pr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new je(t),seed:r,space:i,programId:new je(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=zn(pr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new je(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=zn(pr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new je(t),seed:r,programId:new je(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=zn(pr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new je(t),seed:r,lamports:i,space:s,programId:new je(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=zn(pr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new je(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zn(pr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=zn(pr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=zn(pr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new je(t)}}static checkProgramId(e){if(!e.equals(ss.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const pr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Jt("programId")])},Assign:{index:1,layout:U([D("instruction"),Jt("programId")])},Transfer:{index:2,layout:U([D("instruction"),df("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Jt("base"),$l("seed"),Je("lamports"),Je("space"),Jt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Jt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Jt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Jt("base"),$l("seed"),Je("space"),Jt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Jt("base"),$l("seed"),Jt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),df("lamports"),$l("seed"),Jt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let ss=class nR{constructor(){}static createAccount(e){const t=pr.Create,r=hn(t,{lamports:e.lamports,space:e.space,programId:Wt(e.programId.toBuffer())});return new or({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=pr.TransferWithSeed;t=hn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=pr.Transfer;t=hn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=pr.AssignWithSeed;t=hn(i,{base:Wt(e.basePubkey.toBuffer()),seed:e.seed,programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pr.Assign;t=hn(i,{programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=pr.CreateWithSeed,r=hn(t,{base:Wt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Wt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new or({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new tr;"basePubkey"in e&&"seed"in e?t.add(nR.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:tR,programId:this.programId})):t.add(nR.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:tR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=pr.InitializeNonceAccount,r=hn(t,{authorized:Wt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:v1,isSigner:!1,isWritable:!1},{pubkey:lf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new or(i)}static nonceAdvance(e){const t=pr.AdvanceNonceAccount,r=hn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:v1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new or(i)}static nonceWithdraw(e){const t=pr.WithdrawNonceAccount,r=hn(t,{lamports:e.lamports});return new or({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:v1,isSigner:!1,isWritable:!1},{pubkey:lf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=pr.AuthorizeNonceAccount,r=hn(t,{authorized:Wt(e.newAuthorizedPubkey.toBuffer())});return new or({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=pr.AllocateWithSeed;t=hn(i,{base:Wt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Wt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=pr.Allocate;t=hn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new or({keys:r,programId:this.programId,data:t})}};ss.programId=new je("11111111111111111111111111111111");const Yre=qu-300;let j0=class rR{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/rR.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new tr,p.add(ss.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new tr,p.add(ss.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new tr,p.add(ss.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new tr().add(ss.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await eR(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(ae("byte"),Rt(D(),-8),"bytes")]),a=rR.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new tr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(eR(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await kl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new tr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:lf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(dz/2)))}}return!0}};j0.chunkSize=Yre;const Gre=new je("BPFLoader2111111111111111111111111111111111");let Jre=class{static getMinNumSignatures(e){return j0.getMinNumSignatures(e)}static load(e,t,r,i,s){return j0.load(e,t,r,s,i)}};function Qre(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zre=Object.prototype.toString,Xre=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Bg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Bg(n.toJSON(),e);if(c=Zre.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Bg(n[t],!0)+",";return r>-1&&(i+=Bg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=Xre(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Bg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var eie=function(n){var e=Bg(n,!1);if(e!==void 0)return""+e},JM=Qre(eie);const gg=32;function K_(n){let e=0;for(;n>1;)n/=2,e++;return e}function tie(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let yz=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=K_(tie(e+gg+1))-K_(gg)-1,r=this.getSlotsInEpoch(t),i=e-(r-gg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*gg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+K_(gg)):this.slotsPerEpoch}};var nie=globalThis.fetch;let rie=class extends mre{constructor(e,t,r){const i=s=>{const o=Sre(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function iie(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const QM=56;let iR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=iie(sie,e),r=e.length-QM;_n(r>=0,"lookup table is invalid"),_n(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Jt(),i,"addresses")]).decode(e.slice(QM));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new je(t.authority[0]):void 0,addresses:s.map(o=>new je(o))}}};const sie={index:1,layout:U([D("typeIndex"),df("deactivationSlot"),Be("lastExtendedSlot"),ae("lastExtendedStartIndex"),ae(),Te(Jt(),Rt(ae(),-1),"authority")])},oie=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function aie(n){const e=n.match(oie);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const di=_r(gs(je),O(),n=>new je(n)),mz=ys([O(),_e("base64")]),lB=_r(gs(H.Buffer),mz,n=>H.Buffer.from(n[0],"base64")),bz=30*1e3;function cie(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Pr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function wz(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:ne(zm())})})])}const uie=wz(Ar());function $t(n){return _r(wz(n),uie,e=>"error"in e?e:{...e,result:$(e.result,n)})}function Yr(n){return $t(P({context:P({slot:k()}),value:n}))}function Gk(n){return P({context:P({slot:k()}),value:n})}function W_(n,e){return n===0?new Yk({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new je(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Qu(e)}const lie=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),die=$t(F(W(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:ne(W(k()))})))),hie=F(P({slot:k(),prioritizationFee:k()})),fie=P({total:k(),validator:k(),foundation:k(),epoch:k()}),pie=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:ne(k()),transactionCount:ne(k())}),gie=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),yie=lc(O(),F(k())),Td=W(tt([P({}),O()])),mie=P({err:Td}),bie=_e("receivedSignature"),wie=P({"solana-core":O(),"feature-set":ne(k())}),ZM=Yr(P({err:W(tt([P({}),O()])),logs:W(F(O())),accounts:ne(W(F(W(P({executable:St(),owner:O(),lamports:k(),data:F(O()),rentEpoch:ne(k())}))))),unitsConsumed:ne(k()),returnData:ne(W(P({programId:O(),data:ys([O(),_e("base64")])})))})),kie=Yr(P({byIdentity:lc(O(),F(k())),range:P({firstSlot:k(),lastSlot:k()})}));function Sie(n,e,t,r,i,s){const o=t||nie;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Ase)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await kl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Aie(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function _ie(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const vie=$t(lie),Eie=$t(fie),Iie=$t(hie),Rie=$t(pie),Pie=$t(gie),xie=$t(yie),Bie=$t(k()),Tie=Yr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:F(di)})),sR=P({amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}),Cie=Yr(F(P({address:di,amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}))),Mie=Yr(F(P({pubkey:di,account:P({executable:St(),owner:di,lamports:k(),data:lB,rentEpoch:k()})}))),oR=P({program:O(),parsed:Ar(),space:k()}),Lie=Yr(F(P({pubkey:di,account:P({executable:St(),owner:di,lamports:k(),data:oR,rentEpoch:k()})}))),Oie=Yr(F(P({lamports:k(),address:di}))),jy=P({executable:St(),owner:di,lamports:k(),data:lB,rentEpoch:k()}),Nie=P({pubkey:di,account:jy}),$ie=_r(tt([gs(H.Buffer),oR]),tt([mz,oR]),n=>Array.isArray(n)?$(n,lB):n),aR=P({executable:St(),owner:di,lamports:k(),data:$ie,rentEpoch:k()}),qie=P({pubkey:di,account:aR}),zie=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),Die=$t(F(P({signature:O(),slot:k(),err:Td,memo:W(O()),blockTime:ne(W(k()))}))),Uie=$t(F(P({signature:O(),slot:k(),err:Td,memo:W(O()),blockTime:ne(W(k()))}))),Kie=P({subscription:k(),result:Gk(jy)}),Wie=P({pubkey:di,account:jy}),Fie=P({subscription:k(),result:Gk(Wie)}),Vie=P({parent:k(),slot:k(),root:k()}),jie=P({subscription:k(),result:Vie}),Hie=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),Yie=P({subscription:k(),result:Hie}),Gie=P({subscription:k(),result:Gk(tt([mie,bie]))}),Jie=P({subscription:k(),result:k()}),Qie=P({pubkey:O(),gossip:W(O()),tpu:W(O()),rpc:W(O()),version:W(O())}),XM=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:F(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:W(k())}),Zie=$t(P({current:F(XM),delinquent:F(XM)})),Xie=tt([_e("processed"),_e("confirmed"),_e("finalized")]),ese=P({slot:k(),confirmations:W(k()),err:Td,confirmationStatus:ne(Xie)}),tse=Yr(F(W(ese))),nse=$t(k()),kz=P({accountKey:di,writableIndexes:F(k()),readonlyIndexes:F(k())}),dB=P({signatures:F(O()),message:P({accountKeys:F(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:ne(F(kz))})}),Sz=P({pubkey:di,signer:St(),writable:St(),source:ne(tt([_e("transaction"),_e("lookupTable")]))}),Az=P({accountKeys:F(Sz),signatures:F(O())}),_z=P({parsed:Ar(),program:O(),programId:di}),vz=P({accounts:F(di),data:O(),programId:di}),rse=tt([vz,_z]),ise=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:F(O()),data:O(),programId:O()})]),Ez=_r(rse,ise,n=>"accounts"in n?$(n,vz):$(n,_z)),Iz=P({signatures:F(O()),message:P({accountKeys:F(Sz),instructions:F(Ez),recentBlockhash:O(),addressTableLookups:ne(W(F(kz)))})}),H0=P({accountIndex:k(),mint:O(),owner:ne(O()),uiTokenAmount:sR}),Rz=P({writable:F(di),readonly:F(di)}),Jk=P({err:Td,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()}))})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(H0))),postTokenBalances:ne(W(F(H0))),loadedAddresses:ne(Rz),computeUnitsConsumed:ne(k())}),hB=P({err:Td,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(Ez)})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(H0))),postTokenBalances:ne(W(F(H0))),loadedAddresses:ne(Rz),computeUnitsConsumed:ne(k())}),Np=tt([_e(0),_e("legacy")]),Cd=P({pubkey:O(),lamports:k(),postBalance:W(k()),rewardType:W(O()),commission:ne(W(k()))}),sse=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:dB,meta:W(Jk),version:ne(Np)})),rewards:ne(F(Cd)),blockTime:W(k()),blockHeight:W(k())}))),ose=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Cd)),blockTime:W(k()),blockHeight:W(k())}))),ase=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:Az,meta:W(Jk),version:ne(Np)})),rewards:ne(F(Cd)),blockTime:W(k()),blockHeight:W(k())}))),cse=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:Iz,meta:W(hB),version:ne(Np)})),rewards:ne(F(Cd)),blockTime:W(k()),blockHeight:W(k())}))),use=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:Az,meta:W(hB),version:ne(Np)})),rewards:ne(F(Cd)),blockTime:W(k()),blockHeight:W(k())}))),lse=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Cd)),blockTime:W(k()),blockHeight:W(k())}))),dse=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:dB,meta:W(Jk)})),rewards:ne(F(Cd)),blockTime:W(k())}))),eL=$t(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:F(O()),blockTime:W(k())}))),F_=$t(W(P({slot:k(),meta:W(Jk),blockTime:ne(W(k())),transaction:dB,version:ne(Np)}))),xb=$t(W(P({slot:k(),transaction:Iz,meta:W(hB),blockTime:ne(W(k())),version:ne(Np)}))),hse=Yr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),fse=Yr(P({blockhash:O(),lastValidBlockHeight:k()})),pse=Yr(St()),gse=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),yse=$t(F(gse)),mse=Yr(W(P({feeCalculator:P({lamportsPerSignature:k()})}))),bse=$t(O()),wse=$t(O()),kse=P({err:Td,logs:F(O()),signature:O()}),Sse=P({result:Gk(kse),subscription:k()}),Ase={"solana-client":"js/0.0.0-development"};let _se=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Pr(l),p=this._buildArgs([],d,void 0,b),g=JM(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=$(y,$t(k()));if("error"in S)throw new ht(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=cie(e),this._rpcWsEndpoint=r||aie(e),this._rpcClient=Sie(e,i,s,o,a,c),this._rpcRequest=Aie(this._rpcClient),this._rpcBatchRequest=_ie(this._rpcClient),this._rpcWebSocket=new rie(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=$(o,Yr(k()));if("error"in a)throw new ht(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=$(t,$t(W(k())));if("error"in r)throw new ht(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=$(e,$t(k()));if("error"in t)throw new ht(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=$(e,Bie);if("error"in t)throw new ht(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=$(r,Tie);if("error"in i)throw new ht(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=$(i,Yr(sR));if("error"in s)throw new ht(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=$(i,Yr(sR));if("error"in s)throw new ht(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Pr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=$(c,Mie);if("error"in u)throw new ht(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=$(o,Lie);if("error"in a)throw new ht(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=$(i,Oie);if("error"in s)throw new ht(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=$(i,Cie);if("error"in s)throw new ht(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Yr(W(jy)));if("error"in a)throw new ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Yr(W(aR)));if("error"in a)throw new ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Yr(F(W(aR))));if("error"in c)throw new ht(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Yr(F(W(jy))));if("error"in c)throw new ht(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Pr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=$(a,$t(zie));if("error"in c)throw new ht(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Pr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=F(Nie),l=o.withContext===!0?$(c,Yr(u)):$(c,$t(u));if("error"in l)throw new ht(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=$(o,$t(F(qie)));if("error"in a)throw new ht(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return _n(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:Ac.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Ac.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await kl(1e3),s||(p=await b(),s))return;d({__type:Ac.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ac.PROCESSED)l=d.response;else throw new aB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:Ac.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await kl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===Ac.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await kl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Ph(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Ph(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Ph(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Ph(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ac.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===Ac.PROCESSED)a=c.response;else throw new cB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=$(e,$t(F(Qie)));if("error"in t)throw new ht(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=$(r,Zie);if("error"in i)throw new ht(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=$(s,$t(k()));if("error"in o)throw new ht(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=$(s,$t(O()));if("error"in o)throw new ht(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=$(i,$t(F(di)));if("error"in s)throw new ht(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);_n(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=$(i,tse);if("error"in s)throw new ht(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=$(s,$t(k()));if("error"in o)throw new ht(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=$(r,vie);if("error"in i)throw new ht(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Pr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=$(a,die);if("error"in c)throw new ht(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=$(e,Eie);if("error"in t)throw new ht(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=$(s,Rie);if("error"in o)throw new ht(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=$(e,Pie);if("error"in t)throw new ht(t.error,"failed to get epoch schedule");const r=t.result;return new yz(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=$(e,xie);if("error"in t)throw new ht(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=$(i,nse);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=$(r,hse);if("error"in i)throw new ht(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=$(t,yse);if("error"in r)throw new ht(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=$(i,mse);if("error"in s)throw new ht(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Wt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=$(s,Yr(W(k())));if("error"in o)throw new ht(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=$(i,Iie);if("error"in s)throw new ht(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=$(s,fse);if("error"in o)throw new ht(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=$(o,pse);if("error"in a)throw new ht(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=$(e,$t(wie));if("error"in t)throw new ht(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=$(e,$t(O()));if("error"in t)throw new ht(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,ase);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,ose);if("error"in a)throw a.error;return a.result}default:{const a=$(o,sse);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:W_(d,u.message)},version:d}))}:null}}}catch(a){throw new ht(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,use);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,lse);if("error"in a)throw a.error;return a.result}default:{const a=$(o,cse);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ht(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=$(s,kie);if("error"in o)throw new ht(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=$(o,F_);if("error"in a)throw new ht(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:W_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Pr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=$(o,xb);if("error"in a)throw new ht(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,xb);if("error"in u)throw new ht(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Pr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,F_);if("error"in u)throw new ht(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:W_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,dse);if("error"in s)throw new ht(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Qu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:tr.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=$(s,$t(F(k())));if("error"in o)throw new ht(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=$(i,eL);if("error"in s)throw new ht(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,eL);if("error"in s)throw new ht(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,F_);if("error"in s)throw new ht(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Qu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:tr.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,xb);if("error"in s)throw new ht(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=$(o,xb);if("error"in a)throw new ht(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=$(s,Die);if("error"in o)throw new ht(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=$(s,Uie);if("error"in o)throw new ht(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new iR({key:e,state:iR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=pz.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=$(r,bse);if("error"in i)throw new ht(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await kl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=bz;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await kl(dz/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Pr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=$(s,Yr(k()));if("error"in o)throw new ht(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=$(R,ZM);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof tr){let g=e;i=new tr,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=tr.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=$(b,ZM);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Vy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Wt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=$(a,wse);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Vy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=$(e,Kie);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=JM([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];_n(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=$(e,Fie);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=$(e,Sse);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=$(e,jie);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=$(e,Yie);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=$(e,Gie);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=$(e,Jie);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Pz=class I1{constructor(e){this._keypair=void 0,this._keypair=e??HM()}static generate(){return new I1(HM())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=V0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new I1({publicKey:r,secretKey:e})}static fromSeed(e){const t=V0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new I1({publicKey:t,secretKey:r})}get publicKey(){return new je(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Lc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),df("recentSlot"),ae("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),df(),Te(Jt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let vse=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Lc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=zn(Lc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=zn(Lc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new je(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},fB=class{constructor(){}static createLookupTable(e){const[t,r]=je.findProgramAddressSync([e.authority.toBuffer(),Ko(BigInt(e.recentSlot),8)],this.programId),i=Lc.CreateLookupTable,s=hn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ss.programId,isSigner:!1,isWritable:!1}];return[new or({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Lc.FreezeLookupTable,r=hn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new or({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Lc.ExtendLookupTable,r=hn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ss.programId,isSigner:!1,isWritable:!1}),new or({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Lc.DeactivateLookupTable,r=hn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new or({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Lc.CloseLookupTable,r=hn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new or({programId:this.programId,keys:i,data:r})}};fB.programId=new je("AddressLookupTab1e1111111111111111111111111");let Ese=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ae("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Na))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=zn(Na.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=zn(Na.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=zn(Na.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=zn(Na.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(pB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Na=Object.freeze({RequestUnits:{index:0,layout:U([ae("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([ae("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([ae("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([ae("instruction"),df("microLamports")])}});let pB=class{constructor(){}static requestUnits(e){const t=Na.RequestUnits,r=hn(t,e);return new or({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Na.RequestHeapFrame,r=hn(t,e);return new or({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Na.SetComputeUnitLimit,r=hn(t,e);return new or({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Na.SetComputeUnitPrice,r=hn(t,{microLamports:BigInt(e.microLamports)});return new or({keys:[],programId:this.programId,data:r})}};pB.programId=new je("ComputeBudget111111111111111111111111111111");const tL=64,nL=32,rL=64,iL=U([ae("numSignatures"),ae("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let xz=class Bz{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;_n(t.length===nL,`Public Key must be ${nL} bytes but received ${t.length} bytes`),_n(i.length===rL,`Signature must be ${rL} bytes but received ${i.length} bytes`);const o=iL.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return iL.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new or({keys:[],programId:Bz.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;_n(t.length===tL,`Private key must be ${tL} bytes but received ${t.length} bytes`);try{const s=Pz.fromSecretKey(t),o=s.publicKey.toBytes(),a=sB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};xz.programId=new je("Ed25519SigVerify111111111111111111111111111");const Ise=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const Rse=ki.getPublicKey,sL=32,V_=20,oL=64,Pse=11,j_=U([ae("numSignatures"),ot("signatureOffset"),ae("signatureInstructionIndex"),ot("ethAddressOffset"),ae("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ae("messageInstructionIndex"),fe(20,"ethAddress"),fe(64,"signature"),ae("recoveryId")]);let Tz=class R1{constructor(){}static publicKeyToEthAddress(e){_n(e.length===oL,`Public key must be ${oL} bytes but received ${e.length} bytes`);try{return H.Buffer.from(qo(Wt(e))).slice(-V_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return R1.createInstructionWithEthAddress({ethAddress:R1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,_n(a.length===V_,`Address must be ${V_} bytes but received ${a.length} bytes`);const c=1+Pse,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(j_.span+r.length);return j_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Wt(i),ethAddress:Wt(a),recoveryId:s},p),p.fill(Wt(r),j_.span),new or({keys:[],programId:R1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;_n(t.length===sL,`Private key must be ${sL} bytes but received ${t.length} bytes`);try{const s=Wt(t),o=Rse(s,!1).slice(1),a=H.Buffer.from(qo(Wt(r))),[c,u]=Ise(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};Tz.programId=new je("KeccakSecp256k11111111111111111111111111111");var Cz;const Mz=new je("StakeConfig11111111111111111111111111111111");let Lz=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Km=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};Cz=Km;Km.default=new Cz(0,0,je.default);let xse=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ei))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=zn(Ei.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Lz(new je(t.staker),new je(t.withdrawer)),lockup:new Km(r.unixTimestamp,r.epoch,new je(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),zn(Ei.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=zn(Ei.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new je(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=zn(Ei.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new je(s),newAuthorizedPubkey:new je(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=zn(Ei.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zn(Ei.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=zn(Ei.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),zn(Ei.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Qk.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ei=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),xre(),Bre()])},Authorize:{index:1,layout:U([D("instruction"),Jt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Jt("newAuthorized"),D("stakeAuthorizationType"),$l("authoritySeed"),Jt("authorityOwner")])}}),Bse=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let Qk=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Km.default,o=Ei.Initialize,a=hn(o,{authorized:{staker:Wt(r.staker.toBuffer()),withdrawer:Wt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Wt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new or(c)}static createAccountWithSeed(e){const t=new tr;t.add(ss.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new tr;t.add(ss.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Ei.Delegate,o=hn(s);return new tr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:E1,isSigner:!1,isWritable:!1},{pubkey:Mz,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Ei.Authorize,c=hn(a,{newAuthorized:Wt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new tr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ei.AuthorizeWithSeed,l=hn(u,{newAuthorized:Wt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Wt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new tr().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Ei.Split,a=hn(o,{lamports:s});return new or({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new tr;return r.add(ss.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new tr;return u.add(ss.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(ss.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Ei.Merge,o=hn(s);return new tr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:E1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Ei.Withdraw,c=hn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:E1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new tr().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Ei.Deactivate,s=hn(i);return new tr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};Qk.programId=new je("Stake11111111111111111111111111111111111111");Qk.space=200;let Oz=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},Tse=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries($a))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=zn($a.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Oz(new je(t.nodePubkey),new je(t.authorizedVoter),new je(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=zn($a.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new je(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=zn($a.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new je(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new je(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=zn($a.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Zk.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const $a=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Tre()])},Authorize:{index:1,layout:U([D("instruction"),Jt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),Cre()])}}),Cse=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let Zk=class Nz{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=$a.InitializeAccount,o=hn(s,{voteInit:{nodePubkey:Wt(i.nodePubkey.toBuffer()),authorizedVoter:Wt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Wt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:lf,isSigner:!1,isWritable:!1},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new or(a)}static createAccount(e){const t=new tr;return t.add(ss.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=$a.Authorize,a=hn(o,{newAuthorized:Wt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new tr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=$a.AuthorizeWithSeed,u=hn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Wt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Wt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Aa,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new tr().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=$a.Withdraw,a=hn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new tr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Nz.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=$a.UpdateValidatorIdentity,o=hn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new tr().add({keys:a,programId:this.programId,data:o})}};Zk.programId=new je("Vote111111111111111111111111111111111111111");Zk.space=3762;const $z=new je("Va1idator1nfo111111111111111111111111111111"),Mse=P({name:O(),website:ne(O()),details:ne(O()),keybaseUsername:ne(O())});let Lse=class qz{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(_s(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new je(vs(t,0,Za)),a=Oa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals($z)&&i[1].isSigner){const s=$l().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,Mse),new qz(i[1].publicKey,o)}return null}};const Ose=new je("Vote111111111111111111111111111111111111111"),Nse=U([Jt("nodePubkey"),Jt("authorizedWithdrawer"),ae("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),ae("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Jt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Jt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),ae("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let $se=class zz{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Nse.decode(Wt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new zz({nodePubkey:new je(r.nodePubkey),authorizedWithdrawer:new je(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(qse),priorVoters:zse(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function qse({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new je(n)}}function aL({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new je(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function zse({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(aL),...n.slice(0,e).map(aL)]}const cL={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Dse(n,e){const t=e===!1?"http":"https";if(!n)return cL[t].devnet;const r=cL[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Use(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Vy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Kse=1e9,Wse=Object.freeze(Object.defineProperty({__proto__:null,Account:Ire,AddressLookupTableAccount:iR,AddressLookupTableInstruction:vse,AddressLookupTableProgram:fB,Authorized:Lz,BLOCKHASH_CACHE_TIMEOUT_MS:bz,BPF_LOADER_DEPRECATED_PROGRAM_ID:Rre,BPF_LOADER_PROGRAM_ID:Gre,BpfLoader:Jre,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Na,ComputeBudgetInstruction:Ese,ComputeBudgetProgram:pB,Connection:_se,Ed25519Program:xz,Enum:vre,EpochSchedule:yz,FeeCalculatorLayout:hz,Keypair:Pz,LAMPORTS_PER_SOL:Kse,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Lc,Loader:j0,Lockup:Km,MAX_SEED_LENGTH:iz,Message:Qu,MessageAccountKeys:Fy,MessageV0:Yk,NONCE_ACCOUNT_LENGTH:tR,NonceAccount:pz,PACKET_DATA_SIZE:qu,PUBLIC_KEY_LENGTH:Za,PublicKey:je,SIGNATURE_LENGTH_IN_BYTES:Wy,SOLANA_SCHEMA:Xg,STAKE_CONFIG_ID:Mz,STAKE_INSTRUCTION_LAYOUTS:Ei,SYSTEM_INSTRUCTION_LAYOUTS:pr,SYSVAR_CLOCK_PUBKEY:Aa,SYSVAR_EPOCH_SCHEDULE_PUBKEY:zre,SYSVAR_INSTRUCTIONS_PUBKEY:Dre,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:v1,SYSVAR_RENT_PUBKEY:lf,SYSVAR_REWARDS_PUBKEY:Ure,SYSVAR_SLOT_HASHES_PUBKEY:Kre,SYSVAR_SLOT_HISTORY_PUBKEY:Wre,SYSVAR_STAKE_HISTORY_PUBKEY:E1,Secp256k1Program:Tz,SendTransactionError:Vy,SolanaJSONRPCError:ht,SolanaJSONRPCErrorCode:Fre,StakeAuthorizationLayout:Bse,StakeInstruction:xse,StakeProgram:Qk,Struct:oB,SystemInstruction:Hre,SystemProgram:ss,Transaction:tr,TransactionExpiredBlockheightExceededError:aB,TransactionExpiredNonceInvalidError:Ph,TransactionExpiredTimeoutError:cB,TransactionInstruction:or,TransactionMessage:Lre,TransactionStatus:Ac,VALIDATOR_INFO_KEY:$z,VERSION_PREFIX_MASK:Hk,VOTE_PROGRAM_ID:Ose,ValidatorInfo:Lse,VersionedMessage:uB,VersionedTransaction:Ore,VoteAccount:$se,VoteAuthorizationLayout:Cse,VoteInit:Oz,VoteInstruction:Tse,VoteProgram:Zk,clusterApiUrl:Dse,sendAndConfirmRawTransaction:Use,sendAndConfirmTransaction:eR},Symbol.toStringTag,{value:"Module"})),Wm=la(Wse);var Xk={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.ERROR_ACCOUNT_NOT_FOUND=n.ERROR_DEPRECATED_ACCOUNT_DATA=n.ERROR_INVALID_ACCOUNT_DATA=n.ERROR_INVALID_OWNER=n.MetaplexError=n.ErrorCode=void 0;var e;(function(a){a[a.ERROR_INVALID_OWNER=0]="ERROR_INVALID_OWNER",a[a.ERROR_INVALID_ACCOUNT_DATA=1]="ERROR_INVALID_ACCOUNT_DATA",a[a.ERROR_DEPRECATED_ACCOUNT_DATA=2]="ERROR_DEPRECATED_ACCOUNT_DATA",a[a.ERROR_ACCOUNT_NOT_FOUND=3]="ERROR_ACCOUNT_NOT_FOUND"})(e=n.ErrorCode||(n.ErrorCode={}));class t extends Error{constructor(c,u){super(u),this.errorCode=c}}n.MetaplexError=t;const r=()=>new t(e.ERROR_INVALID_OWNER,"Invalid owner");n.ERROR_INVALID_OWNER=r;const i=()=>new t(e.ERROR_INVALID_ACCOUNT_DATA,"Invalid data");n.ERROR_INVALID_ACCOUNT_DATA=i;const s=()=>new t(e.ERROR_DEPRECATED_ACCOUNT_DATA,"Account data is deprecated");n.ERROR_DEPRECATED_ACCOUNT_DATA=s;const o=a=>new t(e.ERROR_ACCOUNT_NOT_FOUND,`Unable to find account: ${a}`);n.ERROR_ACCOUNT_NOT_FOUND=o})(Xk);var Bb=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Um,"__esModule",{value:!0});Um.Account=void 0;const Tb=Wm,uL=H,Fse=Xk;let Vse=class cR{constructor(e,t){this.pubkey=new Tb.PublicKey(e),this.info=t}static from(e){return new this(e.pubkey,e.info)}static load(e,t){return Bb(this,void 0,void 0,function*(){const r=yield cR.getInfo(e,t);return new this(t,r)})}static isCompatible(e){throw new Error("method 'isCompatible' is not implemented")}static getInfo(e,t){return Bb(this,void 0,void 0,function*(){const r=yield e.getAccountInfo(new Tb.PublicKey(t));if(!r)throw(0,Fse.ERROR_ACCOUNT_NOT_FOUND)(t);return Object.assign(Object.assign({},r),{data:uL.Buffer.from(r==null?void 0:r.data)})})}static getInfos(e,t,r="recent"){return Bb(this,void 0,void 0,function*(){const s=[];for(let a=0;a<t.length;a+=99)s.push(cR.getMultipleAccounts(e,t.slice(a,Math.min(t.length,a+99)),r));const o=new Map;return(yield Promise.all(s)).forEach(a=>{var c;return[...(c=a==null?void 0:a.entries())!==null&&c!==void 0?c:[]].forEach(([u,l])=>o.set(u,l))}),o})}static getMultipleAccounts(e,t,r){return Bb(this,void 0,void 0,function*(){const i=e._buildArgs([t.map(a=>a.toString())],r,"base64"),s=yield e._rpcRequest("getMultipleAccounts",i);if(s.error)throw new Error("failed to get info about accounts "+s.error.message);return s.result.value?s.result.value.filter(Boolean).map(a=>Object.assign(Object.assign({},a),{data:uL.Buffer.from(a.data[0],"base64")})).reduce((a,c,u)=>(a.set(t[u],c),a),new Map):void 0})}assertOwner(e){var t;return(t=this.info)===null||t===void 0?void 0:t.owner.equals(new Tb.PublicKey(e))}toJSON(){var e,t,r,i,s;return{pubkey:this.pubkey.toString(),info:{executable:!!(!((e=this.info)===null||e===void 0)&&e.executable),owner:!((t=this.info)===null||t===void 0)&&t.owner?new Tb.PublicKey((r=this.info)===null||r===void 0?void 0:r.owner):null,lamports:(i=this.info)===null||i===void 0?void 0:i.lamports,data:(s=this.info)===null||s===void 0?void 0:s.data.toJSON()},data:this.data}}toString(){return JSON.stringify(this.toJSON())}};Um.Account=Vse;var Dz={};const Jn=la(OX);(function(n){var e=ce&&ce.__awaiter||function(c,u,l,d){function b(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function y(_){try{w(d.next(_))}catch(R){g(R)}}function S(_){try{w(d.throw(_))}catch(R){g(R)}}function w(_){_.done?p(_.value):b(_.value).then(y,S)}w((d=d.apply(c,u||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deserialize=n.TokenAccount=void 0;const t=Xk,r=Um,i=Jn,s=Wm;class o extends r.Account{constructor(u,l){if(super(u,l),!this.assertOwner(i.TOKEN_PROGRAM_ID))throw(0,t.ERROR_INVALID_OWNER)();if(!o.isCompatible(this.info.data))throw(0,t.ERROR_INVALID_ACCOUNT_DATA)();this.data=(0,n.deserialize)(this.info.data)}static isCompatible(u){return u.length===i.AccountLayout.span}static getTokenAccountsByOwner(u,l){return e(this,void 0,void 0,function*(){return(yield u.getTokenAccountsByOwner(new s.PublicKey(l),{programId:i.TOKEN_PROGRAM_ID})).value.map(({pubkey:d,account:b})=>new o(d,b))})}}n.TokenAccount=o;const a=c=>{const u=i.AccountLayout.decode(c);return u.mint=new s.PublicKey(u.mint),u.owner=new s.PublicKey(u.owner),u.amount=i.u64.fromBuffer(u.amount),u.delegateOption===0?(u.delegate=null,u.delegatedAmount=new i.u64(0)):(u.delegate=new s.PublicKey(u.delegate),u.delegatedAmount=i.u64.fromBuffer(u.delegatedAmount)),u.isInitialized=u.state!==0,u.isFrozen=u.state===2,u.isNativeOption===1?(u.rentExemptReserve=i.u64.fromBuffer(u.isNative),u.isNative=!0):(u.rentExemptReserve=null,u.isNative=!1),u.closeAuthorityOption===0?u.closeAuthority=null:u.closeAuthority=new s.PublicKey(u.closeAuthority),u};n.deserialize=a})(Dz);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Um,n),t(Dz,n)})(iB);var eS={};Object.defineProperty(eS,"__esModule",{value:!0});eS.config=void 0;eS.config={arweaveWallet:"HvwC9QSAzvGXhhVrgPmauVwFWcYZhne3hVot9EbHuFTm",programs:{auction:"auctxRXPeJoc4817jDhf4HbjnhEcr1cCXenosMhK5R8",metadata:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s",metaplex:"p1exdMJcjVao65QdewkaZRUnU6VPSXhus9n2GzWfh98",vault:"vau1zxA2LbssAUEF7Gpw91zMM1LvXrvpzJtmZ58rPsn",packs:"BNRmGgciUJuyznkYHnmitA9an1BcDDiU9JmjEQwvBYVR",memo:"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr",token:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},maxCreatorLimit:5};var tS={},lL=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(tS,"__esModule",{value:!0});tS.Program=void 0;const H_=Wm,jse=iB,Hse=H;class Yse{static findProgramAddress(e){return lL(this,void 0,void 0,function*(){return(yield H_.PublicKey.findProgramAddress(e,this.PUBKEY))[0]})}static getProgramAccounts(e,t){return lL(this,void 0,void 0,function*(){const r={};let i;t&&(typeof t=="string"?i=t:(i=t.commitment,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const s=e._buildArgs([this.PUBKEY.toBase58()],i,"base64",r);return(yield e._rpcRequest("getProgramAccounts",s)).result.map(({account:{data:a,executable:c,lamports:u,owner:l},pubkey:d})=>({account:{data:Hse.Buffer.from(a[0],"base64"),executable:c,lamports:u,owner:new H_.PublicKey(l)},pubkey:new H_.PublicKey(d)})).map(({pubkey:a,account:c})=>new jse.Account(a,c))})}}tS.Program=Yse;var nS={};Object.defineProperty(nS,"__esModule",{value:!0});nS.Transaction=void 0;const Gse=Wm;let Jse=class Uz extends Gse.Transaction{constructor(e){super(e)}static fromCombined(e,t={}){const r=new Uz(t);return e.forEach(i=>i.instructions.forEach(s=>{r.add(s)})),r}};nS.Transaction=Jse;var Kz={};Object.defineProperty(Kz,"__esModule",{value:!0});var Wz={},Fz={};(function(n){var e=ce&&ce.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.serialize=n.deserializeUnchecked=n.deserialize=n.struct=n.Data=n.extendBorsh=void 0;const t=Wm,r=Bi;Object.defineProperty(n,"deserializeUnchecked",{enumerable:!0,get:function(){return r.deserializeUnchecked}}),Object.defineProperty(n,"serialize",{enumerable:!0,get:function(){return r.serialize}}),Object.defineProperty(n,"deserialize",{enumerable:!0,get:function(){return r.deserialize}});const i=e(Vs),s=()=>{r.BinaryReader.prototype.readPubkey=function(){const c=this.readFixedArray(32);return new t.PublicKey(c)},r.BinaryWriter.prototype.writePubkey=function(c){this.writeFixedArray(c.toBuffer())},r.BinaryReader.prototype.readPubkeyAsString=function(){const c=this.readFixedArray(32);return i.default.encode(c)},r.BinaryWriter.prototype.writePubkeyAsString=function(c){this.writeFixedArray(i.default.decode(c))}};n.extendBorsh=s,(0,n.extendBorsh)();class o{constructor(u={}){Object.assign(this,u)}static struct(u){return(0,n.struct)(this,u)}static serialize(u={}){return Buffer.from((0,r.serialize)(this.SCHEMA,new this(u)))}static deserialize(u){return(0,r.deserializeUnchecked)(this.SCHEMA,this,u)}}n.Data=o;const a=(c,u)=>new Map([[c,{kind:"struct",fields:u}]]);n.struct=a})(Fz);var Vz={};(function(n){var e=ce&&ce.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(n,"__esModule",{value:!0}),n.getBNFromData=n.TupleNumericType=void 0;const t=e(Fs);var r;(function(s){s[s.U8=1]="U8",s[s.U16=2]="U16",s[s.U32=4]="U32",s[s.U64=8]="U64"})(r=n.TupleNumericType||(n.TupleNumericType={}));const i=(s,o,a)=>{switch(a){case r.U8:return new t.default(s[o],"le");case r.U16:return new t.default(s.slice(o,o+2),"le");case r.U32:return new t.default(s.slice(o,o+4),"le");case r.U64:return new t.default(s.slice(o,o+8),"le")}};n.getBNFromData=i})(Vz);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(s,o,a,c){c===void 0&&(c=a),Object.defineProperty(s,c,{enumerable:!0,get:function(){return o[a]}})}:function(s,o,a,c){c===void 0&&(c=a),s[c]=o[a]}),t=ce&&ce.__setModuleDefault||(Object.create?function(s,o){Object.defineProperty(s,"default",{enumerable:!0,value:o})}:function(s,o){s.default=o}),r=ce&&ce.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var a in s)a!=="default"&&Object.prototype.hasOwnProperty.call(s,a)&&e(o,s,a);return t(o,s),o},i=ce&&ce.__exportStar||function(s,o){for(var a in s)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,s,a)};Object.defineProperty(n,"__esModule",{value:!0}),n.Borsh=void 0,n.Borsh=r(Fz),i(Vz,n)})(Wz);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(iB,n),t(eS,n),t(Xk,n),t(tS,n),t(nS,n),t(Kz,n),t(Wz,n)})(Ce);const Qse=Uo(Ce),Zse=Sd({__proto__:null,default:Qse},[Ce]);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.VaultProgram=n.VaultInstructions=n.VaultKey=void 0;const e=Ce,t=Hs;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.VaultV1=3]="VaultV1",i[i.SafetyDepositBoxV1=1]="SafetyDepositBoxV1",i[i.ExternalPriceAccountV1=2]="ExternalPriceAccountV1"})(n.VaultKey||(n.VaultKey={})),function(i){i[i.InitVault=0]="InitVault",i[i.AddTokenToInactiveVault=1]="AddTokenToInactiveVault",i[i.ActivateVault=2]="ActivateVault",i[i.CombineVault=3]="CombineVault",i[i.RedeemShares=4]="RedeemShares",i[i.WithdrawTokenFromSafetyDepositBox=5]="WithdrawTokenFromSafetyDepositBox",i[i.MintFractionalShares=6]="MintFractionalShares",i[i.WithdrawSharesFromTreasury=7]="WithdrawSharesFromTreasury",i[i.AddSharesToTreasury=8]="AddSharesToTreasury",i[i.UpdateExternalPriceAccount=9]="UpdateExternalPriceAccount",i[i.SetVaultAuthority=10]="SetVaultAuthority"}(n.VaultInstructions||(n.VaultInstructions={}));class r extends e.Program{}n.VaultProgram=r,r.PREFIX="vault",r.PUBKEY=new t.PublicKey(e.config.programs.vault)})(lr);var Xse=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},jz;Object.defineProperty(ud,"__esModule",{value:!0});ud.SafetyDepositBox=ud.SafetyDepositBoxData=void 0;const dL=Hs,Tg=lr,eoe=H,P1=Ce;class rS extends P1.Borsh.Data{constructor(e){super(e),this.key=Tg.VaultKey.SafetyDepositBoxV1}}ud.SafetyDepositBoxData=rS;jz=rS;rS.SCHEMA=jz.struct([["key","u8"],["vault","pubkeyAsString"],["tokenMint","pubkeyAsString"],["store","pubkeyAsString"],["order","u8"]]);class gB extends P1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Tg.VaultProgram.PUBKEY))throw(0,P1.ERROR_INVALID_OWNER)();if(!gB.isCompatible(this.info.data))throw(0,P1.ERROR_INVALID_ACCOUNT_DATA)();this.data=rS.deserialize(this.info.data)}static getPDA(e,t){return Xse(this,void 0,void 0,function*(){return Tg.VaultProgram.findProgramAddress([eoe.Buffer.from(Tg.VaultProgram.PREFIX),new dL.PublicKey(e).toBuffer(),new dL.PublicKey(t).toBuffer()])})}static isCompatible(e){return e[0]===Tg.VaultKey.SafetyDepositBoxV1}}ud.SafetyDepositBox=gB;var ol={};(function(n){var e=ce&&ce.__awaiter||function(S,w,_,R){function x(K){return K instanceof _?K:new _(function(G){G(K)})}return new(_||(_=Promise))(function(K,G){function M(ee){try{ie(R.next(ee))}catch(X){G(X)}}function Q(ee){try{ie(R.throw(ee))}catch(X){G(X)}}function ie(ee){ee.done?K(ee.value):x(ee.value).then(M,Q)}ie((R=R.apply(S,w||[])).next())})},t=ce&&ce.__importDefault||function(S){return S&&S.__esModule?S:{default:S}},r,i,s;Object.defineProperty(n,"__esModule",{value:!0}),n.Vault=n.VaultData=n.VaultState=n.NumberOfShareArgs=n.AmountArgs=void 0;const o=Hs,a=t(Vs),c=Ce,u=ud,l=lr,d=H;class b extends c.Borsh.Data{}n.AmountArgs=b,r=b,b.SCHEMA=r.struct([["instruction","u8"],["amount","u64"]]);class p extends c.Borsh.Data{}n.NumberOfShareArgs=p,i=p,p.SCHEMA=i.struct([["instruction","u8"],["numberOfShares","u64"]]),function(S){S[S.Inactive=0]="Inactive",S[S.Active=1]="Active",S[S.Combined=2]="Combined",S[S.Deactivated=3]="Deactivated"}(n.VaultState||(n.VaultState={}));class g extends c.Borsh.Data{constructor(w){super(w),this.key=l.VaultKey.VaultV1}}n.VaultData=g,s=g,g.SCHEMA=s.struct([["key","u8"],["tokenProgram","pubkeyAsString"],["fractionMint","pubkeyAsString"],["authority","pubkeyAsString"],["fractionTreasury","pubkeyAsString"],["redeemTreasury","pubkeyAsString"],["allowFurtherShareCreation","u8"],["pricingLookupAddress","pubkeyAsString"],["tokenTypeCount","u8"],["state","u8"],["lockedPricePerShare","u64"]]);class y extends c.Account{constructor(w,_){if(super(w,_),!this.assertOwner(l.VaultProgram.PUBKEY))throw(0,c.ERROR_INVALID_OWNER)();if(!y.isCompatible(this.info.data))throw(0,c.ERROR_INVALID_ACCOUNT_DATA)();this.data=g.deserialize(this.info.data)}static getPDA(w){return e(this,void 0,void 0,function*(){return l.VaultProgram.findProgramAddress([d.Buffer.from(l.VaultProgram.PREFIX),l.VaultProgram.PUBKEY.toBuffer(),new o.PublicKey(w).toBuffer()])})}static isCompatible(w){return w[0]===l.VaultKey.VaultV1}getSafetyDepositBoxes(w){return e(this,void 0,void 0,function*(){return(yield l.VaultProgram.getProgramAccounts(w,{filters:[{memcmp:{offset:0,bytes:a.default.encode(d.Buffer.from([l.VaultKey.SafetyDepositBoxV1]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(_=>u.SafetyDepositBox.from(_))})}}n.Vault=y,y.MAX_VAULT_SIZE=205,y.MAX_EXTERNAL_ACCOUNT_SIZE=42})(ol);var ld={},Hz;Object.defineProperty(ld,"__esModule",{value:!0});ld.ExternalPriceAccount=ld.ExternalPriceAccountData=void 0;const x1=Ce,uR=lr;class iS extends x1.Borsh.Data{constructor(e){super(e),this.key=uR.VaultKey.ExternalPriceAccountV1}}ld.ExternalPriceAccountData=iS;Hz=iS;iS.SCHEMA=Hz.struct([["key","u8"],["pricePerShare","u64"],["priceMint","pubkeyAsString"],["allowedToCombine","u8"]]);class yB extends x1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(uR.VaultProgram.PUBKEY))throw(0,x1.ERROR_INVALID_OWNER)();if(!yB.isCompatible(this.info.data))throw(0,x1.ERROR_INVALID_ACCOUNT_DATA)();this.data=iS.deserialize(this.info.data)}static isCompatible(e){return e[0]===uR.VaultKey.ExternalPriceAccountV1}}ld.ExternalPriceAccount=yB;var Yz={},sS={};Object.defineProperty(sS,"__esModule",{value:!0});sS.ActivateVault=void 0;const toe=Jn,noe=Hs,roe=lr,ioe=ol,soe=lr,ooe=Ce;class aoe extends ooe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionMint:s,fractionTreasury:o,fractionMintAuthority:a,numberOfShares:c}=t,u=ioe.NumberOfShareArgs.serialize({instruction:roe.VaultInstructions.ActivateVault,numberOfShares:c});this.add(new noe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:toe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:soe.VaultProgram.PUBKEY,data:u}))}}sS.ActivateVault=aoe;var oS={};Object.defineProperty(oS,"__esModule",{value:!0});oS.AddSharesToTreasury=void 0;const coe=Jn,hL=Hs,uoe=lr,loe=ol,doe=lr,hoe=Ce;class foe extends hoe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,source:s,transferAuthority:o,fractionTreasury:a,numberOfShares:c}=t,u=loe.NumberOfShareArgs.serialize({instruction:uoe.VaultInstructions.AddSharesToTreasury,numberOfShares:c});this.add(new hL.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:coe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:hL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:doe.VaultProgram.PUBKEY,data:u}))}}oS.AddSharesToTreasury=foe;var aS={};Object.defineProperty(aS,"__esModule",{value:!0});aS.AddTokenToInactiveVault=void 0;const poe=Ce,goe=Jn,Y_=Hs,yoe=ol,moe=lr,boe=lr;class woe extends poe.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{vault:i,vaultAuthority:s,tokenAccount:o,tokenStoreAccount:a,transferAuthority:c,safetyDepositBox:u,amount:l}=t,d=yoe.AmountArgs.serialize({instruction:boe.VaultInstructions.AddTokenToInactiveVault,amount:l});this.add(new Y_.TransactionInstruction({keys:[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:goe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Y_.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Y_.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:moe.VaultProgram.PUBKEY,data:d}))}}aS.AddTokenToInactiveVault=woe;var hf={},Gz;Object.defineProperty(hf,"__esModule",{value:!0});hf.CombineVault=hf.CombineVaultArgs=void 0;const Jz=Ce,koe=Jn,Soe=Hs,Aoe=lr,_oe=lr;class cS extends Jz.Borsh.Data{constructor(){super(...arguments),this.instruction=Aoe.VaultInstructions.CombineVault}}hf.CombineVaultArgs=cS;Gz=cS;cS.SCHEMA=Gz.struct([["instruction","u8"]]);class voe extends Jz.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionMint:s,fractionTreasury:o,outstandingShareTokenAccount:a,payingTokenAccount:c,redeemTreasury:u,newVaultAuthority:l,transferAuthority:d,externalPriceAccount:b,burnAuthority:p}=t,g=cS.serialize();this.add(new Soe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l||i,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:koe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:_oe.VaultProgram.PUBKEY,data:g}))}}hf.CombineVault=voe;var ff={},Qz;Object.defineProperty(ff,"__esModule",{value:!0});ff.InitVault=ff.InitVaultArgs=void 0;const Zz=Ce,Eoe=Jn,fL=Hs,Ioe=lr,Roe=lr;class uS extends Zz.Borsh.Data{constructor(){super(...arguments),this.instruction=Ioe.VaultInstructions.InitVault,this.allowFurtherShareCreation=!1}}ff.InitVaultArgs=uS;Qz=uS;uS.SCHEMA=Qz.struct([["instruction","u8"],["allowFurtherShareCreation","u8"]]);class Poe extends Zz.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionalMint:s,redeemTreasury:o,fractionalTreasury:a,pricingLookupAddress:c,allowFurtherShareCreation:u}=t,l=uS.serialize({allowFurtherShareCreation:u});this.add(new fL.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:Eoe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:fL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Roe.VaultProgram.PUBKEY,data:l}))}}ff.InitVault=Poe;var lS={};Object.defineProperty(lS,"__esModule",{value:!0});lS.MintFractionalShares=void 0;const xoe=Jn,Boe=Hs,Toe=lr,Coe=Ce,Moe=ol,Loe=lr;class Ooe extends Coe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,fractionMint:s,fractionTreasury:o,fractionMintAuthority:a,numberOfShares:c}=t,u=Moe.NumberOfShareArgs.serialize({instruction:Toe.VaultInstructions.MintFractionalShares,numberOfShares:c});this.add(new Boe.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:xoe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:Loe.VaultProgram.PUBKEY,data:u}))}}lS.MintFractionalShares=Ooe;var pf={},Xz;Object.defineProperty(pf,"__esModule",{value:!0});pf.RedeemShares=pf.RedeemSharesArgs=void 0;const eD=Ce,Noe=Jn,pL=Hs,$oe=lr,qoe=lr;class dS extends eD.Borsh.Data{constructor(){super(...arguments),this.instruction=$oe.VaultInstructions.RedeemShares}}pf.RedeemSharesArgs=dS;Xz=dS;dS.SCHEMA=Xz.struct([["instruction","u8"]]);class zoe extends eD.Transaction{constructor(e,t){super(e);const{vault:r,burnAuthority:i,fractionMint:s,outstandingSharesAccount:o,proceedsAccount:a,redeemTreasury:c,transferAuthority:u}=t,l=dS.serialize();this.add(new pL.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Noe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:pL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:qoe.VaultProgram.PUBKEY,data:l}))}}pf.RedeemShares=zoe;var gf={},tD;Object.defineProperty(gf,"__esModule",{value:!0});gf.SetVaultAuthority=gf.SetVaultAuthorityArgs=void 0;const nD=Ce,Doe=Hs,Uoe=lr,Koe=lr;class hS extends nD.Borsh.Data{constructor(){super(...arguments),this.instruction=Uoe.VaultInstructions.SetVaultAuthority}}gf.SetVaultAuthorityArgs=hS;tD=hS;hS.SCHEMA=tD.struct([["instruction","u8"]]);class Woe extends nD.Transaction{constructor(e,t){super(e);const{vault:r,currentAuthority:i,newAuthority:s}=t,o=hS.serialize();this.add(new Doe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Koe.VaultProgram.PUBKEY,data:o}))}}gf.SetVaultAuthority=Woe;var yf={},rD;Object.defineProperty(yf,"__esModule",{value:!0});yf.UpdateExternalPriceAccount=yf.UpdateExternalPriceAccountArgs=void 0;const iD=Ce,Foe=Hs,Voe=lr,gL=ld,joe=lr;class fS extends iD.Borsh.Data{constructor(){super(...arguments),this.instruction=Voe.VaultInstructions.UpdateExternalPriceAccount}}yf.UpdateExternalPriceAccountArgs=fS;rD=fS;fS.SCHEMA=new Map([...gL.ExternalPriceAccountData.SCHEMA,...rD.struct([["instruction","u8"],["externalPriceAccount",gL.ExternalPriceAccountData]])]);class Hoe extends iD.Transaction{constructor(e,t){super(e);const{externalPriceAccount:r,externalPriceAccountData:i}=t,s=fS.serialize({externalPriceAccount:i});this.add(new Foe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0}],programId:joe.VaultProgram.PUBKEY,data:s}))}}yf.UpdateExternalPriceAccount=Hoe;var pS={};Object.defineProperty(pS,"__esModule",{value:!0});pS.WithdrawSharesFromTreasury=void 0;const Yoe=Ce,Goe=Jn,yL=Hs,Joe=lr,Qoe=ol,Zoe=lr;class Xoe extends Yoe.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,destination:s,transferAuthority:o,fractionTreasury:a,numberOfShares:c}=t,u=Qoe.NumberOfShareArgs.serialize({instruction:Joe.VaultInstructions.WithdrawSharesFromTreasury,numberOfShares:c});this.add(new yL.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Goe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:yL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Zoe.VaultProgram.PUBKEY,data:u}))}}pS.WithdrawSharesFromTreasury=Xoe;var gS={};Object.defineProperty(gS,"__esModule",{value:!0});gS.WithdrawTokenFromSafetyDepositBox=void 0;const eae=Ce,tae=Jn,mL=Hs,nae=lr,rae=ol,iae=lr;class sae extends eae.Transaction{constructor(e,t){super(e);const{vault:r,vaultAuthority:i,store:s,destination:o,fractionMint:a,transferAuthority:c,safetyDepositBox:u,amount:l}=t,d=rae.AmountArgs.serialize({instruction:nae.VaultInstructions.WithdrawTokenFromSafetyDepositBox,amount:l});this.add(new mL.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:tae.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:mL.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:iae.VaultProgram.PUBKEY,data:d}))}}gS.WithdrawTokenFromSafetyDepositBox=sae;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(sS,n),t(oS,n),t(aS,n),t(hf,n),t(ff,n),t(lS,n),t(pf,n),t(gf,n),t(yf,n),t(pS,n),t(gS,n)})(Yz);var sD={};Object.defineProperty(sD,"__esModule",{value:!0});(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(ud,n),t(ol,n),t(ld,n),t(lr,n),t(Yz,n),t(sD,n)})(eu);const oae=Uo(eu),aae=Sd({__proto__:null,default:oae},[eu]);var mB={},bB={},oD={},mf={};Object.defineProperty(mf,"__esModule",{value:!0});mf.createError=mf.DefaultDataPack=void 0;const cae=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let uae=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};mf.DefaultDataPack=uae;function lae(n,e){const t={code:n,message:cae.get(n)||"Internal Server Error"};return e&&(t.data=e),t}mf.createError=lae;Object.defineProperty(oD,"__esModule",{value:!0});const dae=Wo,hae=mf;let fae=class extends dae.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new hae.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var pae=oD.default=fae,aD={};Object.defineProperty(aD,"__esModule",{value:!0});const gae=Wo;let yae=class extends gae.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function mae(n,e){return new yae(n,e)}var bae=aD.default=mae;const wae=on.utils.randomPrivateKey,bL=()=>{const n=on.utils.randomPrivateKey(),e=Y0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Y0=on.getPublicKey;function wL(n){try{return on.ExtendedPoint.fromHex(n),!0}catch{return!1}}const wB=(n,e)=>on.sign(n,e.slice(0,32)),kae=on.verify,Ft=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let kB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(ey,this))}static decode(e){return Pp(ey,this,e)}static decodeUnchecked(e){return Ip(ey,this,e)}},Sae=class extends kB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const ey=new Map;var cD;const uD=32,Xa=32;function Aae(n){return n._bn!==void 0}let kL=1,He=class ih extends kB{constructor(e){if(super({}),this._bn=void 0,Aae(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=Xa)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>Xa)throw new Error("Invalid public key input")}}static unique(){const e=new ih(kL);return kL+=1,new ih(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===Xa)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=po(i);return new ih(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>uD)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Ft(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=po(r);if(wL(i))throw new Error("Invalid seeds, address must fall off the curve");return new ih(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ih(e);return wL(t.toBytes())}};cD=He;He.default=new cD("11111111111111111111111111111111");ey.set(He,{kind:"struct",fields:[["_bn","u256"]]});let _ae=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Ft(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Ft(wae()),this._publicKey=Ft(Y0(this._secretKey))}get publicKey(){return new He(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const vae=new He("BPFLoader1111111111111111111111111111111111"),zu=1232,yS=127,Hy=64;let SB=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(SB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let AB=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(AB.prototype,"name",{value:"TransactionExpiredTimeoutError"});let xh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(xh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Yy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Qt=(n="publicKey")=>fe(32,n),Eae=(n="signature")=>fe(64,n),ql=(n="string")=>{const e=U([D("length"),D("lengthPadding"),fe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},Iae=(n="authorized")=>U([Qt("staker"),Qt("withdrawer")],n),Rae=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Qt("custodian")],n),Pae=(n="voteInit")=>U([Qt("nodePubkey"),Qt("authorizedVoter"),Qt("authorizedWithdrawer"),ae("commission")],n),xae=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Qt("currentAuthorityDerivedKeyOwnerPubkey"),ql("currentAuthorityDerivedKeySeed"),Qt("newAuthorized")],n);function lD(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return lD({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Es(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function io(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function vn(n,e){if(!n)throw new Error(e||"Assertion failed")}let dD=class hD{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new hD(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];vn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{vn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];vn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new He(c)),...r.map(([c])=>new He(c)),...i.map(([c])=>new He(c)),...s.map(([c])=>new He(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new He(s),c=e.findIndex(u=>u.equals(a));c>=0&&(vn(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const fD="Reached end of buffer unexpectedly";function qa(n){if(n.length===0)throw new Error(fD);return n.shift()}function Is(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(fD);return n.splice(...e)}let Zu=class lR{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new He(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Yy(this.staticAccountKeys)}static compile(e){const t=dD.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Yy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new lR({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];io(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];io(y,b.length);let S=[];return io(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];io(i,r.length);let s=H.Buffer.alloc(zu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([ae("programIdIndex"),fe(d.keyIndicesCount.length,"keyIndicesCount"),Te(ae("keyIndex"),d.keyIndices.length,"keyIndices"),fe(d.dataLength.length,"dataLength"),Te(ae("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([fe(1,"numRequiredSignatures"),fe(1,"numReadonlySignedAccounts"),fe(1,"numReadonlyUnsignedAccounts"),fe(t.length,"keyCount"),Te(Qt("key"),e,"keys"),Qt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Ft(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=qa(t);if(r!==(r&yS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=qa(t),s=qa(t),o=Es(t);let a=[];for(let b=0;b<o;b++){const p=Is(t,0,Xa);a.push(new He(H.Buffer.from(p)))}const c=Is(t,0,Xa),u=Es(t);let l=[];for(let b=0;b<u;b++){const p=qa(t),g=Es(t),y=Is(t,0,g),S=Es(t),w=Is(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new lR(d)}},mS=class dR{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Yy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=dD.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Yy(a,i).compileInstructions(e.instructions);return new dR({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();io(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();io(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();io(s,this.addressTableLookups.length);const o=U([ae("prefix"),U([ae("numRequiredSignatures"),ae("numReadonlySignedAccounts"),ae("numReadonlyUnsignedAccounts")],"header"),fe(e.length,"staticAccountKeysLength"),Te(Qt(),this.staticAccountKeys.length,"staticAccountKeys"),Qt("recentBlockhash"),fe(r.length,"instructionsLength"),fe(t.length,"serializedInstructions"),fe(s.length,"addressTableLookupsLength"),fe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(zu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(zu);for(const r of this.compiledInstructions){const i=Array();io(i,r.accountKeyIndexes.length);const s=Array();io(s,r.data.length);const o=U([ae("programIdIndex"),fe(i.length,"encodedAccountKeyIndexesLength"),Te(ae(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe(s.length,"encodedDataLength"),fe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(zu);for(const r of this.addressTableLookups){const i=Array();io(i,r.writableIndexes.length);const s=Array();io(s,r.readonlyIndexes.length);const o=U([Qt("accountKey"),fe(i.length,"encodedWritableIndexesLength"),Te(ae(),r.writableIndexes.length,"writableIndexes"),fe(s.length,"encodedReadonlyIndexesLength"),Te(ae(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=qa(t),i=r&yS;vn(r!==i,"Expected versioned message but received legacy message");const s=i;vn(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:qa(t),numReadonlySignedAccounts:qa(t),numReadonlyUnsignedAccounts:qa(t)},a=[],c=Es(t);for(let g=0;g<c;g++)a.push(new He(Is(t,0,Xa)));const u=Pe.encode(Is(t,0,Xa)),l=Es(t),d=[];for(let g=0;g<l;g++){const y=qa(t),S=Es(t),w=Is(t,0,S),_=Es(t),R=new Uint8Array(Is(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=Es(t),p=[];for(let g=0;g<b;g++){const y=new He(Is(t,0,Xa)),S=Es(t),w=Is(t,0,S),_=Es(t),R=Is(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new dR({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const _B={deserializeMessageVersion(n){const e=n[0],t=e&yS;return t===e?"legacy":t},deserialize:n=>{const e=_B.deserializeMessageVersion(n);if(e==="legacy")return Zu.from(n);if(e===0)return mS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let _c=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Bae=H.Buffer.alloc(Hy).fill(0);let ar=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},nr=class hR{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ar(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new He(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{vn(y.programIdIndex>=0),y.accounts.forEach(S=>vn(S>=0))}),new Zu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=wB(r,i.secretKey);this._addSignature(i.publicKey,Ft(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){vn(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):kae(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];io(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return vn(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(vn(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),vn(s.length<=zu,`Transaction too large: ${s.length} > ${zu}`),s}get keys(){return vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return vn(this.instructions.length===1),this.instructions[0].programId}get data(){return vn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Es(t);let i=[];for(let s=0;s<r;s++){const o=Is(t,0,Hy);i.push(Pe.encode(H.Buffer.from(o)))}return hR.populate(Zu.from(t),i)}static populate(e,t=[]){const r=new hR;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(Bae)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ar({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},Tae=class pD{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;vn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;vn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new ar({programId:S,data:Ft(g.data),keys:y}))}return new pD({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Zu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return mS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},Cae=class gD{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)vn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Hy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();io(t,this.signatures.length);const r=U([fe(t.length,"encodedSignaturesLength"),Te(Eae(),this.signatures.length,"signatures"),fe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Es(t);for(let o=0;o<i;o++)r.push(new Uint8Array(Is(t,0,Hy)));const s=_B.deserialize(new Uint8Array(t));return new gD(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));vn(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=wB(t,i.secretKey)}}addSignature(e,t){vn(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));vn(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const Mae=160,Lae=64,Oae=Mae/Lae,yD=1e3/Oae,_a=new He("SysvarC1ock11111111111111111111111111111111"),Nae=new He("SysvarEpochSchedu1e111111111111111111111111"),$ae=new He("Sysvar1nstructions1111111111111111111111111"),B1=new He("SysvarRecentB1ockHashes11111111111111111111"),bf=new He("SysvarRent111111111111111111111111111111111"),qae=new He("SysvarRewards111111111111111111111111111111"),zae=new He("SysvarS1otHashes111111111111111111111111111"),Dae=new He("SysvarS1otHistory11111111111111111111111111"),T1=new He("SysvarStakeHistory1111111111111111111111111");let Gy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const Uae={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let ft=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function fR(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Gy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Sl(n){return new Promise(e=>setTimeout(e,n))}function fn(n,e){const t=n.layout.span>=0?n.layout.span:lD(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Dn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const mD=Be("lamportsPerSignature"),bD=U([D("version"),D("state"),Qt("authorizedPubkey"),Qt("nonce"),U([mD],"feeCalculator")]),pR=bD.span;let wD=class kD{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=bD.decode(Ft(e),0);return new kD({authorizedPubkey:new He(t.authorizedPubkey),nonce:new He(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const Kae=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Wae=n=>e=>{const t=fe(n,e),{encode:r,decode:i}=Kae(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Ko(o,n);return r(u,a,c)},s},wf=Wae(8);let Fae=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(gr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Dn(gr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new He(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Dn(gr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Dn(gr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new He(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Dn(gr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Dn(gr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new He(t),seed:r,space:i,programId:new He(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Dn(gr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new He(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Dn(gr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new He(t),seed:r,programId:new He(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=Dn(gr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new He(t),seed:r,lamports:i,space:s,programId:new He(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Dn(gr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new He(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Dn(gr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Dn(gr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Dn(gr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new He(t)}}static checkProgramId(e){if(!e.equals(os.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const gr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Qt("programId")])},Assign:{index:1,layout:U([D("instruction"),Qt("programId")])},Transfer:{index:2,layout:U([D("instruction"),wf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Qt("base"),ql("seed"),Je("lamports"),Je("space"),Qt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Qt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Qt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Qt("base"),ql("seed"),Je("space"),Qt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Qt("base"),ql("seed"),Qt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),wf("lamports"),ql("seed"),Qt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let os=class gR{constructor(){}static createAccount(e){const t=gr.Create,r=fn(t,{lamports:e.lamports,space:e.space,programId:Ft(e.programId.toBuffer())});return new ar({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=gr.TransferWithSeed;t=fn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=gr.Transfer;t=fn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=gr.AssignWithSeed;t=fn(i,{base:Ft(e.basePubkey.toBuffer()),seed:e.seed,programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=gr.Assign;t=fn(i,{programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=gr.CreateWithSeed,r=fn(t,{base:Ft(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Ft(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ar({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new nr;"basePubkey"in e&&"seed"in e?t.add(gR.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:pR,programId:this.programId})):t.add(gR.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:pR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=gr.InitializeNonceAccount,r=fn(t,{authorized:Ft(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:B1,isSigner:!1,isWritable:!1},{pubkey:bf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ar(i)}static nonceAdvance(e){const t=gr.AdvanceNonceAccount,r=fn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:B1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ar(i)}static nonceWithdraw(e){const t=gr.WithdrawNonceAccount,r=fn(t,{lamports:e.lamports});return new ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:B1,isSigner:!1,isWritable:!1},{pubkey:bf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=gr.AuthorizeNonceAccount,r=fn(t,{authorized:Ft(e.newAuthorizedPubkey.toBuffer())});return new ar({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=gr.AllocateWithSeed;t=fn(i,{base:Ft(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Ft(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=gr.Allocate;t=fn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ar({keys:r,programId:this.programId,data:t})}};os.programId=new He("11111111111111111111111111111111");const Vae=zu-300;let G0=class yR{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/yR.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new nr,p.add(os.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new nr,p.add(os.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new nr,p.add(os.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new nr().add(os.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await fR(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(ae("byte"),Rt(D(),-8),"bytes")]),a=yR.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new nr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(fR(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Sl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new nr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:bf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(yD/2)))}}return!0}};G0.chunkSize=Vae;const jae=new He("BPFLoader2111111111111111111111111111111111");let Hae=class{static getMinNumSignatures(e){return G0.getMinNumSignatures(e)}static load(e,t,r,i,s){return G0.load(e,t,r,s,i)}};function Yae(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gae=Object.prototype.toString,Jae=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Cg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Cg(n.toJSON(),e);if(c=Gae.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Cg(n[t],!0)+",";return r>-1&&(i+=Cg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=Jae(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Cg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Qae=function(n){var e=Cg(n,!1);if(e!==void 0)return""+e},SL=Yae(Qae);const yg=32;function G_(n){let e=0;for(;n>1;)n/=2,e++;return e}function Zae(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let SD=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=G_(Zae(e+yg+1))-G_(yg)-1,r=this.getSlotsInEpoch(t),i=e-(r-yg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*yg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+G_(yg)):this.slotsPerEpoch}};var Xae=globalThis.fetch;let ece=class extends pae{constructor(e,t,r){const i=s=>{const o=bae(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function tce(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const AL=56;let mR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=tce(nce,e),r=e.length-AL;vn(r>=0,"lookup table is invalid"),vn(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Qt(),i,"addresses")]).decode(e.slice(AL));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new He(t.authority[0]):void 0,addresses:s.map(o=>new He(o))}}};const nce={index:1,layout:U([D("typeIndex"),wf("deactivationSlot"),Be("lastExtendedSlot"),ae("lastExtendedStartIndex"),ae(),Te(Qt(),Rt(ae(),-1),"authority")])},rce=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ice(n){const e=n.match(rce);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const hi=_r(gs(He),O(),n=>new He(n)),AD=ys([O(),_e("base64")]),vB=_r(gs(H.Buffer),AD,n=>H.Buffer.from(n[0],"base64")),_D=30*1e3;function sce(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function xr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function vD(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:ne(zm())})})])}const oce=vD(Ar());function qt(n){return _r(vD(n),oce,e=>"error"in e?e:{...e,result:$(e.result,n)})}function Gr(n){return qt(P({context:P({slot:k()}),value:n}))}function bS(n){return P({context:P({slot:k()}),value:n})}function J_(n,e){return n===0?new mS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new He(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Zu(e)}const ace=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),cce=qt(F(W(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:ne(W(k()))})))),uce=F(P({slot:k(),prioritizationFee:k()})),lce=P({total:k(),validator:k(),foundation:k(),epoch:k()}),dce=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:ne(k()),transactionCount:ne(k())}),hce=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),fce=lc(O(),F(k())),Md=W(tt([P({}),O()])),pce=P({err:Md}),gce=_e("receivedSignature"),yce=P({"solana-core":O(),"feature-set":ne(k())}),_L=Gr(P({err:W(tt([P({}),O()])),logs:W(F(O())),accounts:ne(W(F(W(P({executable:St(),owner:O(),lamports:k(),data:F(O()),rentEpoch:ne(k())}))))),unitsConsumed:ne(k()),returnData:ne(W(P({programId:O(),data:ys([O(),_e("base64")])})))})),mce=Gr(P({byIdentity:lc(O(),F(k())),range:P({firstSlot:k(),lastSlot:k()})}));function bce(n,e,t,r,i,s){const o=t||Xae;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},wue)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await Sl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function wce(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function kce(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const Sce=qt(ace),Ace=qt(lce),_ce=qt(uce),vce=qt(dce),Ece=qt(hce),Ice=qt(fce),Rce=qt(k()),Pce=Gr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:F(hi)})),bR=P({amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}),xce=Gr(F(P({address:hi,amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}))),Bce=Gr(F(P({pubkey:hi,account:P({executable:St(),owner:hi,lamports:k(),data:vB,rentEpoch:k()})}))),wR=P({program:O(),parsed:Ar(),space:k()}),Tce=Gr(F(P({pubkey:hi,account:P({executable:St(),owner:hi,lamports:k(),data:wR,rentEpoch:k()})}))),Cce=Gr(F(P({lamports:k(),address:hi}))),Jy=P({executable:St(),owner:hi,lamports:k(),data:vB,rentEpoch:k()}),Mce=P({pubkey:hi,account:Jy}),Lce=_r(tt([gs(H.Buffer),wR]),tt([AD,wR]),n=>Array.isArray(n)?$(n,vB):n),kR=P({executable:St(),owner:hi,lamports:k(),data:Lce,rentEpoch:k()}),Oce=P({pubkey:hi,account:kR}),Nce=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),$ce=qt(F(P({signature:O(),slot:k(),err:Md,memo:W(O()),blockTime:ne(W(k()))}))),qce=qt(F(P({signature:O(),slot:k(),err:Md,memo:W(O()),blockTime:ne(W(k()))}))),zce=P({subscription:k(),result:bS(Jy)}),Dce=P({pubkey:hi,account:Jy}),Uce=P({subscription:k(),result:bS(Dce)}),Kce=P({parent:k(),slot:k(),root:k()}),Wce=P({subscription:k(),result:Kce}),Fce=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),Vce=P({subscription:k(),result:Fce}),jce=P({subscription:k(),result:bS(tt([pce,gce]))}),Hce=P({subscription:k(),result:k()}),Yce=P({pubkey:O(),gossip:W(O()),tpu:W(O()),rpc:W(O()),version:W(O())}),vL=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:F(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:W(k())}),Gce=qt(P({current:F(vL),delinquent:F(vL)})),Jce=tt([_e("processed"),_e("confirmed"),_e("finalized")]),Qce=P({slot:k(),confirmations:W(k()),err:Md,confirmationStatus:ne(Jce)}),Zce=Gr(F(W(Qce))),Xce=qt(k()),ED=P({accountKey:hi,writableIndexes:F(k()),readonlyIndexes:F(k())}),EB=P({signatures:F(O()),message:P({accountKeys:F(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:ne(F(ED))})}),ID=P({pubkey:hi,signer:St(),writable:St(),source:ne(tt([_e("transaction"),_e("lookupTable")]))}),RD=P({accountKeys:F(ID),signatures:F(O())}),PD=P({parsed:Ar(),program:O(),programId:hi}),xD=P({accounts:F(hi),data:O(),programId:hi}),eue=tt([xD,PD]),tue=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:F(O()),data:O(),programId:O()})]),BD=_r(eue,tue,n=>"accounts"in n?$(n,xD):$(n,PD)),TD=P({signatures:F(O()),message:P({accountKeys:F(ID),instructions:F(BD),recentBlockhash:O(),addressTableLookups:ne(W(F(ED)))})}),J0=P({accountIndex:k(),mint:O(),owner:ne(O()),uiTokenAmount:bR}),CD=P({writable:F(hi),readonly:F(hi)}),wS=P({err:Md,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()}))})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(J0))),postTokenBalances:ne(W(F(J0))),loadedAddresses:ne(CD),computeUnitsConsumed:ne(k())}),IB=P({err:Md,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(BD)})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(J0))),postTokenBalances:ne(W(F(J0))),loadedAddresses:ne(CD),computeUnitsConsumed:ne(k())}),$p=tt([_e(0),_e("legacy")]),Ld=P({pubkey:O(),lamports:k(),postBalance:W(k()),rewardType:W(O()),commission:ne(W(k()))}),nue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:EB,meta:W(wS),version:ne($p)})),rewards:ne(F(Ld)),blockTime:W(k()),blockHeight:W(k())}))),rue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Ld)),blockTime:W(k()),blockHeight:W(k())}))),iue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:RD,meta:W(wS),version:ne($p)})),rewards:ne(F(Ld)),blockTime:W(k()),blockHeight:W(k())}))),sue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:TD,meta:W(IB),version:ne($p)})),rewards:ne(F(Ld)),blockTime:W(k()),blockHeight:W(k())}))),oue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:RD,meta:W(IB),version:ne($p)})),rewards:ne(F(Ld)),blockTime:W(k()),blockHeight:W(k())}))),aue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Ld)),blockTime:W(k()),blockHeight:W(k())}))),cue=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:EB,meta:W(wS)})),rewards:ne(F(Ld)),blockTime:W(k())}))),EL=qt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:F(O()),blockTime:W(k())}))),Q_=qt(W(P({slot:k(),meta:W(wS),blockTime:ne(W(k())),transaction:EB,version:ne($p)}))),Cb=qt(W(P({slot:k(),transaction:TD,meta:W(IB),blockTime:ne(W(k())),version:ne($p)}))),uue=Gr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),lue=Gr(P({blockhash:O(),lastValidBlockHeight:k()})),due=Gr(St()),hue=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),fue=qt(F(hue)),pue=Gr(W(P({feeCalculator:P({lamportsPerSignature:k()})}))),gue=qt(O()),yue=qt(O()),mue=P({err:Md,logs:F(O()),signature:O()}),bue=P({result:bS(mue),subscription:k()}),wue={"solana-client":"js/0.0.0-development"};let kue=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=xr(l),p=this._buildArgs([],d,void 0,b),g=SL(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=$(y,qt(k()));if("error"in S)throw new ft(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=sce(e),this._rpcWsEndpoint=r||ice(e),this._rpcClient=bce(e,i,s,o,a,c),this._rpcRequest=wce(this._rpcClient),this._rpcBatchRequest=kce(this._rpcClient),this._rpcWebSocket=new ece(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=$(o,Gr(k()));if("error"in a)throw new ft(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=$(t,qt(W(k())));if("error"in r)throw new ft(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=$(e,qt(k()));if("error"in t)throw new ft(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=$(e,Rce);if("error"in t)throw new ft(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=$(r,Pce);if("error"in i)throw new ft(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=$(i,Gr(bR));if("error"in s)throw new ft(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=$(i,Gr(bR));if("error"in s)throw new ft(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=xr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=$(c,Bce);if("error"in u)throw new ft(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=$(o,Tce);if("error"in a)throw new ft(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=$(i,Cce);if("error"in s)throw new ft(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=$(i,xce);if("error"in s)throw new ft(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Gr(W(Jy)));if("error"in a)throw new ft(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Gr(W(kR)));if("error"in a)throw new ft(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=xr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Gr(F(W(kR))));if("error"in c)throw new ft(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=xr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Gr(F(W(Jy))));if("error"in c)throw new ft(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=xr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=$(a,qt(Nce));if("error"in c)throw new ft(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=xr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=F(Mce),l=o.withContext===!0?$(c,Gr(u)):$(c,qt(u));if("error"in l)throw new ft(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=$(o,qt(F(Oce)));if("error"in a)throw new ft(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return vn(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:_c.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:_c.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await Sl(1e3),s||(p=await b(),s))return;d({__type:_c.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===_c.PROCESSED)l=d.response;else throw new SB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:_c.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Sl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===_c.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Sl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new xh(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new xh(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new xh(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new xh(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:_c.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===_c.PROCESSED)a=c.response;else throw new AB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=$(e,qt(F(Yce)));if("error"in t)throw new ft(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=$(r,Gce);if("error"in i)throw new ft(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=$(s,qt(k()));if("error"in o)throw new ft(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=$(s,qt(O()));if("error"in o)throw new ft(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=$(i,qt(F(hi)));if("error"in s)throw new ft(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);vn(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=$(i,Zce);if("error"in s)throw new ft(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=$(s,qt(k()));if("error"in o)throw new ft(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=$(r,Sce);if("error"in i)throw new ft(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=xr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=$(a,cce);if("error"in c)throw new ft(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=$(e,Ace);if("error"in t)throw new ft(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=$(s,vce);if("error"in o)throw new ft(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=$(e,Ece);if("error"in t)throw new ft(t.error,"failed to get epoch schedule");const r=t.result;return new SD(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=$(e,Ice);if("error"in t)throw new ft(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=$(i,Xce);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=$(r,uue);if("error"in i)throw new ft(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=$(t,fue);if("error"in r)throw new ft(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=$(i,pue);if("error"in s)throw new ft(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Ft(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=$(s,Gr(W(k())));if("error"in o)throw new ft(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=$(i,_ce);if("error"in s)throw new ft(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=$(s,lue);if("error"in o)throw new ft(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=$(o,due);if("error"in a)throw new ft(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=$(e,qt(yce));if("error"in t)throw new ft(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=$(e,qt(O()));if("error"in t)throw new ft(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,iue);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,rue);if("error"in a)throw a.error;return a.result}default:{const a=$(o,nue);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:J_(d,u.message)},version:d}))}:null}}}catch(a){throw new ft(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,oue);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,aue);if("error"in a)throw a.error;return a.result}default:{const a=$(o,sue);if("error"in a)throw a.error;return a.result}}}catch(a){throw new ft(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=$(s,mce);if("error"in o)throw new ft(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=$(o,Q_);if("error"in a)throw new ft(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:J_(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=xr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=$(o,Cb);if("error"in a)throw new ft(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=xr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,Cb);if("error"in u)throw new ft(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=xr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,Q_);if("error"in u)throw new ft(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:J_(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,cue);if("error"in s)throw new ft(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Zu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:nr.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=$(s,qt(F(k())));if("error"in o)throw new ft(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=$(i,EL);if("error"in s)throw new ft(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,EL);if("error"in s)throw new ft(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,Q_);if("error"in s)throw new ft(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Zu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:nr.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,Cb);if("error"in s)throw new ft(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=$(o,Cb);if("error"in a)throw new ft(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=$(s,$ce);if("error"in o)throw new ft(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=$(s,qce);if("error"in o)throw new ft(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new mR({key:e,state:mR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=wD.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=$(r,gue);if("error"in i)throw new ft(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Sl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=_D;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Sl(yD/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=xr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=$(s,Gr(k()));if("error"in o)throw new ft(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=$(R,_L);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof nr){let g=e;i=new nr,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=nr.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=$(b,_L);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Gy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Ft(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=$(a,yue);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Gy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=$(e,zce);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=SL([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];vn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=$(e,Uce);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=$(e,bue);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=$(e,Wce);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=$(e,Vce);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=$(e,jce);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=$(e,Hce);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},MD=class C1{constructor(e){this._keypair=void 0,this._keypair=e??bL()}static generate(){return new C1(bL())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=Y0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new C1({publicKey:r,secretKey:e})}static fromSeed(e){const t=Y0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new C1({publicKey:t,secretKey:r})}get publicKey(){return new He(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Oc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),wf("recentSlot"),ae("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),wf(),Te(Qt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let Sue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Oc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Dn(Oc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Dn(Oc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new He(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(RB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},RB=class{constructor(){}static createLookupTable(e){const[t,r]=He.findProgramAddressSync([e.authority.toBuffer(),Ko(BigInt(e.recentSlot),8)],this.programId),i=Oc.CreateLookupTable,s=fn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:os.programId,isSigner:!1,isWritable:!1}];return[new ar({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Oc.FreezeLookupTable,r=fn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ar({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Oc.ExtendLookupTable,r=fn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:os.programId,isSigner:!1,isWritable:!1}),new ar({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Oc.DeactivateLookupTable,r=fn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ar({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Oc.CloseLookupTable,r=fn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ar({programId:this.programId,keys:i,data:r})}};RB.programId=new He("AddressLookupTab1e1111111111111111111111111");let Aue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ae("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(za))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Dn(za.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Dn(za.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Dn(za.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Dn(za.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(PB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const za=Object.freeze({RequestUnits:{index:0,layout:U([ae("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([ae("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([ae("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([ae("instruction"),wf("microLamports")])}});let PB=class{constructor(){}static requestUnits(e){const t=za.RequestUnits,r=fn(t,e);return new ar({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=za.RequestHeapFrame,r=fn(t,e);return new ar({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=za.SetComputeUnitLimit,r=fn(t,e);return new ar({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=za.SetComputeUnitPrice,r=fn(t,{microLamports:BigInt(e.microLamports)});return new ar({keys:[],programId:this.programId,data:r})}};PB.programId=new He("ComputeBudget111111111111111111111111111111");const IL=64,RL=32,PL=64,xL=U([ae("numSignatures"),ae("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let LD=class OD{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;vn(t.length===RL,`Public Key must be ${RL} bytes but received ${t.length} bytes`),vn(i.length===PL,`Signature must be ${PL} bytes but received ${i.length} bytes`);const o=xL.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return xL.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new ar({keys:[],programId:OD.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;vn(t.length===IL,`Private key must be ${IL} bytes but received ${t.length} bytes`);try{const s=MD.fromSecretKey(t),o=s.publicKey.toBytes(),a=wB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};LD.programId=new He("Ed25519SigVerify111111111111111111111111111");const _ue=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const vue=ki.getPublicKey,BL=32,Z_=20,TL=64,Eue=11,X_=U([ae("numSignatures"),ot("signatureOffset"),ae("signatureInstructionIndex"),ot("ethAddressOffset"),ae("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ae("messageInstructionIndex"),fe(20,"ethAddress"),fe(64,"signature"),ae("recoveryId")]);let ND=class M1{constructor(){}static publicKeyToEthAddress(e){vn(e.length===TL,`Public key must be ${TL} bytes but received ${e.length} bytes`);try{return H.Buffer.from(qo(Ft(e))).slice(-Z_)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return M1.createInstructionWithEthAddress({ethAddress:M1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,vn(a.length===Z_,`Address must be ${Z_} bytes but received ${a.length} bytes`);const c=1+Eue,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(X_.span+r.length);return X_.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Ft(i),ethAddress:Ft(a),recoveryId:s},p),p.fill(Ft(r),X_.span),new ar({keys:[],programId:M1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;vn(t.length===BL,`Private key must be ${BL} bytes but received ${t.length} bytes`);try{const s=Ft(t),o=vue(s,!1).slice(1),a=H.Buffer.from(qo(Ft(r))),[c,u]=_ue(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};ND.programId=new He("KeccakSecp256k11111111111111111111111111111");var $D;const qD=new He("StakeConfig11111111111111111111111111111111");let zD=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Fm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};$D=Fm;Fm.default=new $D(0,0,He.default);let Iue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ii))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Dn(Ii.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new zD(new He(t.staker),new He(t.withdrawer)),lockup:new Fm(r.unixTimestamp,r.epoch,new He(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Dn(Ii.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Dn(Ii.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new He(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Dn(Ii.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new He(s),newAuthorizedPubkey:new He(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Dn(Ii.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Dn(Ii.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Dn(Ii.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Dn(Ii.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(kS.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ii=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),Iae(),Rae()])},Authorize:{index:1,layout:U([D("instruction"),Qt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Qt("newAuthorized"),D("stakeAuthorizationType"),ql("authoritySeed"),Qt("authorityOwner")])}}),Rue=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let kS=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Fm.default,o=Ii.Initialize,a=fn(o,{authorized:{staker:Ft(r.staker.toBuffer()),withdrawer:Ft(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Ft(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:bf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ar(c)}static createAccountWithSeed(e){const t=new nr;t.add(os.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new nr;t.add(os.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Ii.Delegate,o=fn(s);return new nr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:T1,isSigner:!1,isWritable:!1},{pubkey:qD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Ii.Authorize,c=fn(a,{newAuthorized:Ft(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new nr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ii.AuthorizeWithSeed,l=fn(u,{newAuthorized:Ft(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Ft(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new nr().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Ii.Split,a=fn(o,{lamports:s});return new ar({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new nr;return r.add(os.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new nr;return u.add(os.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(os.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Ii.Merge,o=fn(s);return new nr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:T1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Ii.Withdraw,c=fn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:T1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new nr().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Ii.Deactivate,s=fn(i);return new nr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};kS.programId=new He("Stake11111111111111111111111111111111111111");kS.space=200;let DD=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},Pue=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Da))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Dn(Da.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new DD(new He(t.nodePubkey),new He(t.authorizedVoter),new He(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Dn(Da.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new He(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Dn(Da.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new He(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new He(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Dn(Da.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(SS.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Da=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Pae()])},Authorize:{index:1,layout:U([D("instruction"),Qt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),xae()])}}),xue=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let SS=class UD{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=Da.InitializeAccount,o=fn(s,{voteInit:{nodePubkey:Ft(i.nodePubkey.toBuffer()),authorizedVoter:Ft(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Ft(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:bf,isSigner:!1,isWritable:!1},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ar(a)}static createAccount(e){const t=new nr;return t.add(os.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Da.Authorize,a=fn(o,{newAuthorized:Ft(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Da.AuthorizeWithSeed,u=fn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Ft(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Ft(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:_a,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new nr().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Da.Withdraw,a=fn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return UD.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Da.UpdateValidatorIdentity,o=fn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:a,programId:this.programId,data:o})}};SS.programId=new He("Vote111111111111111111111111111111111111111");SS.space=3762;const KD=new He("Va1idator1nfo111111111111111111111111111111"),Bue=P({name:O(),website:ne(O()),details:ne(O()),keybaseUsername:ne(O())});let Tue=class WD{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Es(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new He(Is(t,0,Xa)),a=qa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(KD)&&i[1].isSigner){const s=ql().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,Bue),new WD(i[1].publicKey,o)}return null}};const Cue=new He("Vote111111111111111111111111111111111111111"),Mue=U([Qt("nodePubkey"),Qt("authorizedWithdrawer"),ae("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),ae("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Qt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Qt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),ae("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let Lue=class FD{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Mue.decode(Ft(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new FD({nodePubkey:new He(r.nodePubkey),authorizedWithdrawer:new He(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(Oue),priorVoters:Nue(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function Oue({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new He(n)}}function CL({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new He(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Nue({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(CL),...n.slice(0,e).map(CL)]}const ML={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function $ue(n,e){const t=e===!1?"http":"https";if(!n)return ML[t].devnet;const r=ML[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function que(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Gy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const zue=1e9,Due=Object.freeze(Object.defineProperty({__proto__:null,Account:_ae,AddressLookupTableAccount:mR,AddressLookupTableInstruction:Sue,AddressLookupTableProgram:RB,Authorized:zD,BLOCKHASH_CACHE_TIMEOUT_MS:_D,BPF_LOADER_DEPRECATED_PROGRAM_ID:vae,BPF_LOADER_PROGRAM_ID:jae,BpfLoader:Hae,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:za,ComputeBudgetInstruction:Aue,ComputeBudgetProgram:PB,Connection:kue,Ed25519Program:LD,Enum:Sae,EpochSchedule:SD,FeeCalculatorLayout:mD,Keypair:MD,LAMPORTS_PER_SOL:zue,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Oc,Loader:G0,Lockup:Fm,MAX_SEED_LENGTH:uD,Message:Zu,MessageAccountKeys:Yy,MessageV0:mS,NONCE_ACCOUNT_LENGTH:pR,NonceAccount:wD,PACKET_DATA_SIZE:zu,PUBLIC_KEY_LENGTH:Xa,PublicKey:He,SIGNATURE_LENGTH_IN_BYTES:Hy,SOLANA_SCHEMA:ey,STAKE_CONFIG_ID:qD,STAKE_INSTRUCTION_LAYOUTS:Ii,SYSTEM_INSTRUCTION_LAYOUTS:gr,SYSVAR_CLOCK_PUBKEY:_a,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Nae,SYSVAR_INSTRUCTIONS_PUBKEY:$ae,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:B1,SYSVAR_RENT_PUBKEY:bf,SYSVAR_REWARDS_PUBKEY:qae,SYSVAR_SLOT_HASHES_PUBKEY:zae,SYSVAR_SLOT_HISTORY_PUBKEY:Dae,SYSVAR_STAKE_HISTORY_PUBKEY:T1,Secp256k1Program:ND,SendTransactionError:Gy,SolanaJSONRPCError:ft,SolanaJSONRPCErrorCode:Uae,StakeAuthorizationLayout:Rue,StakeInstruction:Iue,StakeProgram:kS,Struct:kB,SystemInstruction:Fae,SystemProgram:os,Transaction:nr,TransactionExpiredBlockheightExceededError:SB,TransactionExpiredNonceInvalidError:xh,TransactionExpiredTimeoutError:AB,TransactionInstruction:ar,TransactionMessage:Tae,TransactionStatus:_c,VALIDATOR_INFO_KEY:KD,VERSION_PREFIX_MASK:yS,VOTE_PROGRAM_ID:Cue,ValidatorInfo:Tue,VersionedMessage:_B,VersionedTransaction:Cae,VoteAccount:Lue,VoteAuthorizationLayout:xue,VoteInit:DD,VoteInstruction:Pue,VoteProgram:SS,clusterApiUrl:$ue,sendAndConfirmRawTransaction:que,sendAndConfirmTransaction:fR},Symbol.toStringTag,{value:"Module"})),Ln=la(Due);var xB={},Xr={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetaplexProgram=n.MetaplexKey=void 0;const e=Ce,t=Ln;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.OriginalAuthorityLookupV1=1]="OriginalAuthorityLookupV1",i[i.BidRedemptionTicketV1=2]="BidRedemptionTicketV1",i[i.StoreV1=3]="StoreV1",i[i.WhitelistedCreatorV1=4]="WhitelistedCreatorV1",i[i.PayoutTicketV1=5]="PayoutTicketV1",i[i.SafetyDepositValidationTicketV1=6]="SafetyDepositValidationTicketV1",i[i.AuctionManagerV1=7]="AuctionManagerV1",i[i.PrizeTrackingTicketV1=8]="PrizeTrackingTicketV1",i[i.SafetyDepositConfigV1=9]="SafetyDepositConfigV1",i[i.AuctionManagerV2=10]="AuctionManagerV2",i[i.BidRedemptionTicketV2=11]="BidRedemptionTicketV2",i[i.AuctionWinnerTokenTypeTrackerV1=12]="AuctionWinnerTokenTypeTrackerV1",i[i.StoreIndexerV1=13]="StoreIndexerV1",i[i.AuctionCacheV1=14]="AuctionCacheV1",i[i.StoreConfigV1=15]="StoreConfigV1"})(n.MetaplexKey||(n.MetaplexKey={}));class r extends e.Program{}n.MetaplexProgram=r,r.PREFIX="metaplex",r.CONFIG="config",r.TOTALS="totals",r.PUBKEY=new t.PublicKey(e.config.programs.metaplex)})(Xr);(function(n){var e=ce&&ce.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(n,"__esModule",{value:!0}),n.BidRedemptionTicket=n.WINNER_INDEX_OFFSETS=void 0;const t=e(Fs),r=e(Vs),i=Xr,s=Ce;n.WINNER_INDEX_OFFSETS=[2,10];class o extends s.Account{constructor(c,u){if(super(c,u),!this.assertOwner(i.MetaplexProgram.PUBKEY))throw(0,s.ERROR_INVALID_OWNER)();if(o.isBidRedemptionTicketV1(this.info.data))throw(0,s.ERROR_DEPRECATED_ACCOUNT_DATA)();if(o.isBidRedemptionTicketV2(this.info.data)){const l=this.info.data.toJSON().data,d=l[1]!==0&&new t.default(l.slice(1,9),"le"),b=n.WINNER_INDEX_OFFSETS[+!!d];this.data={key:i.MetaplexKey.BidRedemptionTicketV2,winnerIndex:d,data:l,auctionManager:r.default.encode(l.slice(b,b+32))}}else throw(0,s.ERROR_INVALID_ACCOUNT_DATA)()}static isCompatible(c){return o.isBidRedemptionTicketV1(c)||o.isBidRedemptionTicketV2(c)}static isBidRedemptionTicketV1(c){return c[0]===i.MetaplexKey.BidRedemptionTicketV1}static isBidRedemptionTicketV2(c){return c[0]===i.MetaplexKey.BidRedemptionTicketV2}}n.BidRedemptionTicket=o})(xB);var tu={},AS={},VD={},kf={};Object.defineProperty(kf,"__esModule",{value:!0});kf.createError=kf.DefaultDataPack=void 0;const Uue=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);let Kue=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}};kf.DefaultDataPack=Kue;function Wue(n,e){const t={code:n,message:Uue.get(n)||"Internal Server Error"};return e&&(t.data=e),t}kf.createError=Wue;Object.defineProperty(VD,"__esModule",{value:!0});const Fue=Wo,Vue=kf;let jue=class extends Fue.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Vue.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}};var Hue=VD.default=jue,jD={};Object.defineProperty(jD,"__esModule",{value:!0});const Yue=Wo;let Gue=class extends Yue.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}};function Jue(n,e){return new Gue(n,e)}var Que=jD.default=Jue;const Zue=on.utils.randomPrivateKey,LL=()=>{const n=on.utils.randomPrivateKey(),e=Q0(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},Q0=on.getPublicKey;function OL(n){try{return on.ExtendedPoint.fromHex(n),!0}catch{return!1}}const BB=(n,e)=>on.sign(n,e.slice(0,32)),Xue=on.verify,Vt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let TB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(Rp(ty,this))}static decode(e){return Pp(ty,this,e)}static decodeUnchecked(e){return Ip(ty,this,e)}},ele=class extends TB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}};const ty=new Map;var HD;const YD=32,ec=32;function tle(n){return n._bn!==void 0}let NL=1,Ye=class sh extends TB{constructor(e){if(super({}),this._bn=void 0,tle(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=ec)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>ec)throw new Error("Invalid public key input")}}static unique(){const e=new sh(NL);return NL+=1,new sh(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===ec)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=po(i);return new sh(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>YD)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,Vt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=po(r);if(OL(i))throw new Error("Invalid seeds, address must fall off the curve");return new sh(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new sh(e);return OL(t.toBytes())}};HD=Ye;Ye.default=new HD("11111111111111111111111111111111");ty.set(Ye,{kind:"struct",fields:[["_bn","u256"]]});let nle=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Vt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Vt(Zue()),this._publicKey=Vt(Q0(this._secretKey))}get publicKey(){return new Ye(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}};const rle=new Ye("BPFLoader1111111111111111111111111111111111"),Du=1232,_S=127,Qy=64;let CB=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(CB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});let MB=class extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(MB.prototype,"name",{value:"TransactionExpiredTimeoutError"});let Bh=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(Bh.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});let Zy=class{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}};const Zt=(n="publicKey")=>fe(32,n),ile=(n="signature")=>fe(64,n),zl=(n="string")=>{const e=U([D("length"),D("lengthPadding"),fe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},sle=(n="authorized")=>U([Zt("staker"),Zt("withdrawer")],n),ole=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Zt("custodian")],n),ale=(n="voteInit")=>U([Zt("nodePubkey"),Zt("authorizedVoter"),Zt("authorizedWithdrawer"),ae("commission")],n),cle=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Zt("currentAuthorityDerivedKeyOwnerPubkey"),zl("currentAuthorityDerivedKeySeed"),Zt("newAuthorized")],n);function GD(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return GD({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function Rs(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function so(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function En(n,e){if(!n)throw new Error(e||"Assertion failed")}let JD=class QD{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new QD(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];En(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{En(t.length>0,"Expected at least one writable signer key");const[c]=t[0];En(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ye(c)),...r.map(([c])=>new Ye(c)),...i.map(([c])=>new Ye(c)),...s.map(([c])=>new Ye(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ye(s),c=e.findIndex(u=>u.equals(a));c>=0&&(En(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}};const ZD="Reached end of buffer unexpectedly";function Ua(n){if(n.length===0)throw new Error(ZD);return n.shift()}function Ps(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(ZD);return n.splice(...e)}let Xu=class SR{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ye(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Zy(this.staticAccountKeys)}static compile(e){const t=JD.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new Zy(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new SR({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];so(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];so(y,b.length);let S=[];return so(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];so(i,r.length);let s=H.Buffer.alloc(Du);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([ae("programIdIndex"),fe(d.keyIndicesCount.length,"keyIndicesCount"),Te(ae("keyIndex"),d.keyIndices.length,"keyIndices"),fe(d.dataLength.length,"dataLength"),Te(ae("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([fe(1,"numRequiredSignatures"),fe(1,"numReadonlySignedAccounts"),fe(1,"numReadonlyUnsignedAccounts"),fe(t.length,"keyCount"),Te(Zt("key"),e,"keys"),Zt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>Vt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Ua(t);if(r!==(r&_S))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Ua(t),s=Ua(t),o=Rs(t);let a=[];for(let b=0;b<o;b++){const p=Ps(t,0,ec);a.push(new Ye(H.Buffer.from(p)))}const c=Ps(t,0,ec),u=Rs(t);let l=[];for(let b=0;b<u;b++){const p=Ua(t),g=Rs(t),y=Ps(t,0,g),S=Rs(t),w=Ps(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new SR(d)}},vS=class AR{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Zy(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=JD.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new Zy(a,i).compileInstructions(e.instructions);return new AR({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();so(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();so(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();so(s,this.addressTableLookups.length);const o=U([ae("prefix"),U([ae("numRequiredSignatures"),ae("numReadonlySignedAccounts"),ae("numReadonlyUnsignedAccounts")],"header"),fe(e.length,"staticAccountKeysLength"),Te(Zt(),this.staticAccountKeys.length,"staticAccountKeys"),Zt("recentBlockhash"),fe(r.length,"instructionsLength"),fe(t.length,"serializedInstructions"),fe(s.length,"addressTableLookupsLength"),fe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Du),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Du);for(const r of this.compiledInstructions){const i=Array();so(i,r.accountKeyIndexes.length);const s=Array();so(s,r.data.length);const o=U([ae("programIdIndex"),fe(i.length,"encodedAccountKeyIndexesLength"),Te(ae(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe(s.length,"encodedDataLength"),fe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Du);for(const r of this.addressTableLookups){const i=Array();so(i,r.writableIndexes.length);const s=Array();so(s,r.readonlyIndexes.length);const o=U([Zt("accountKey"),fe(i.length,"encodedWritableIndexesLength"),Te(ae(),r.writableIndexes.length,"writableIndexes"),fe(s.length,"encodedReadonlyIndexesLength"),Te(ae(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ua(t),i=r&_S;En(r!==i,"Expected versioned message but received legacy message");const s=i;En(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Ua(t),numReadonlySignedAccounts:Ua(t),numReadonlyUnsignedAccounts:Ua(t)},a=[],c=Rs(t);for(let g=0;g<c;g++)a.push(new Ye(Ps(t,0,ec)));const u=Pe.encode(Ps(t,0,ec)),l=Rs(t),d=[];for(let g=0;g<l;g++){const y=Ua(t),S=Rs(t),w=Ps(t,0,S),_=Rs(t),R=new Uint8Array(Ps(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=Rs(t),p=[];for(let g=0;g<b;g++){const y=new Ye(Ps(t,0,ec)),S=Rs(t),w=Ps(t,0,S),_=Rs(t),R=Ps(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new AR({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}};const LB={deserializeMessageVersion(n){const e=n[0],t=e&_S;return t===e?"legacy":t},deserialize:n=>{const e=LB.deserializeMessageVersion(n);if(e==="legacy")return Xu.from(n);if(e===0)return vS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vc=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ule=H.Buffer.alloc(Qy).fill(0);let cr=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}},rr=class _R{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new cr(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new Ye(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{En(y.programIdIndex>=0),y.accounts.forEach(S=>En(S>=0))}),new Xu({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=BB(r,i.secretKey);this._addSignature(i.publicKey,Vt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){En(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Xue(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];so(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return En(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(En(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),En(s.length<=Du,`Transaction too large: ${s.length} > ${Du}`),s}get keys(){return En(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return En(this.instructions.length===1),this.instructions[0].programId}get data(){return En(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Rs(t);let i=[];for(let s=0;s<r;s++){const o=Ps(t,0,Qy);i.push(Pe.encode(H.Buffer.from(o)))}return _R.populate(Xu.from(t),i)}static populate(e,t=[]){const r=new _R;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(ule)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new cr({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}},lle=class XD{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;En(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;En(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new cr({programId:S,data:Vt(g.data),keys:y}))}return new XD({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return Xu.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return vS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},dle=class eU{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)En(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Qy));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();so(t,this.signatures.length);const r=U([fe(t.length,"encodedSignaturesLength"),Te(ile(),this.signatures.length,"signatures"),fe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=Rs(t);for(let o=0;o<i;o++)r.push(new Uint8Array(Ps(t,0,Qy)));const s=LB.deserialize(new Uint8Array(t));return new eU(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));En(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=BB(t,i.secretKey)}}addSignature(e,t){En(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));En(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}};const hle=160,fle=64,ple=hle/fle,tU=1e3/ple,va=new Ye("SysvarC1ock11111111111111111111111111111111"),gle=new Ye("SysvarEpochSchedu1e111111111111111111111111"),yle=new Ye("Sysvar1nstructions1111111111111111111111111"),L1=new Ye("SysvarRecentB1ockHashes11111111111111111111"),Sf=new Ye("SysvarRent111111111111111111111111111111111"),mle=new Ye("SysvarRewards111111111111111111111111111111"),ble=new Ye("SysvarS1otHashes111111111111111111111111111"),wle=new Ye("SysvarS1otHistory11111111111111111111111111"),O1=new Ye("SysvarStakeHistory1111111111111111111111111");let Xy=class extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}};const kle={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};let pt=class extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}};async function vR(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new Xy({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Al(n){return new Promise(e=>setTimeout(e,n))}function pn(n,e){const t=n.layout.span>=0?n.layout.span:GD(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Un(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const nU=Be("lamportsPerSignature"),rU=U([D("version"),D("state"),Zt("authorizedPubkey"),Zt("nonce"),U([nU],"feeCalculator")]),ER=rU.span;let iU=class sU{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=rU.decode(Vt(e),0);return new sU({authorizedPubkey:new Ye(t.authorizedPubkey),nonce:new Ye(t.nonce).toString(),feeCalculator:t.feeCalculator})}};const Sle=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Ale=n=>e=>{const t=fe(n,e),{encode:r,decode:i}=Sle(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Ko(o,n);return r(u,a,c)},s},Af=Ale(8);let _le=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(yr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Un(yr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ye(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Un(yr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Un(yr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ye(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Un(yr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Un(yr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ye(t),seed:r,space:i,programId:new Ye(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Un(yr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ye(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Un(yr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ye(t),seed:r,programId:new Ye(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=Un(yr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ye(t),seed:r,lamports:i,space:s,programId:new Ye(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Un(yr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ye(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Un(yr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Un(yr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Un(yr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ye(t)}}static checkProgramId(e){if(!e.equals(as.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const yr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Zt("programId")])},Assign:{index:1,layout:U([D("instruction"),Zt("programId")])},Transfer:{index:2,layout:U([D("instruction"),Af("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Zt("base"),zl("seed"),Je("lamports"),Je("space"),Zt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Zt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Zt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Zt("base"),zl("seed"),Je("space"),Zt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Zt("base"),zl("seed"),Zt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),Af("lamports"),zl("seed"),Zt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});let as=class IR{constructor(){}static createAccount(e){const t=yr.Create,r=pn(t,{lamports:e.lamports,space:e.space,programId:Vt(e.programId.toBuffer())});return new cr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=yr.TransferWithSeed;t=pn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=yr.Transfer;t=pn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new cr({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=yr.AssignWithSeed;t=pn(i,{base:Vt(e.basePubkey.toBuffer()),seed:e.seed,programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=yr.Assign;t=pn(i,{programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new cr({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=yr.CreateWithSeed,r=pn(t,{base:Vt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Vt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new cr({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new rr;"basePubkey"in e&&"seed"in e?t.add(IR.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:ER,programId:this.programId})):t.add(IR.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:ER,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=yr.InitializeNonceAccount,r=pn(t,{authorized:Vt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:L1,isSigner:!1,isWritable:!1},{pubkey:Sf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new cr(i)}static nonceAdvance(e){const t=yr.AdvanceNonceAccount,r=pn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:L1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new cr(i)}static nonceWithdraw(e){const t=yr.WithdrawNonceAccount,r=pn(t,{lamports:e.lamports});return new cr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:L1,isSigner:!1,isWritable:!1},{pubkey:Sf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=yr.AuthorizeNonceAccount,r=pn(t,{authorized:Vt(e.newAuthorizedPubkey.toBuffer())});return new cr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=yr.AllocateWithSeed;t=pn(i,{base:Vt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Vt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=yr.Allocate;t=pn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new cr({keys:r,programId:this.programId,data:t})}};as.programId=new Ye("11111111111111111111111111111111");const vle=Du-300;let Z0=class RR{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/RR.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new rr,p.add(as.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new rr,p.add(as.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new rr,p.add(as.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new rr().add(as.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await vR(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(ae("byte"),Rt(D(),-8),"bytes")]),a=RR.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new rr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(vR(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Al(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new rr().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Sf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(tU/2)))}}return!0}};Z0.chunkSize=vle;const Ele=new Ye("BPFLoader2111111111111111111111111111111111");let Ile=class{static getMinNumSignatures(e){return Z0.getMinNumSignatures(e)}static load(e,t,r,i,s){return Z0.load(e,t,r,s,i)}};function Rle(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ple=Object.prototype.toString,xle=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Mg(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Mg(n.toJSON(),e);if(c=Ple.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Mg(n[t],!0)+",";return r>-1&&(i+=Mg(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=xle(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Mg(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var Ble=function(n){var e=Mg(n,!1);if(e!==void 0)return""+e},$L=Rle(Ble);const mg=32;function ev(n){let e=0;for(;n>1;)n/=2,e++;return e}function Tle(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}let oU=class{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=ev(Tle(e+mg+1))-ev(mg)-1,r=this.getSlotsInEpoch(t),i=e-(r-mg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*mg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+ev(mg)):this.slotsPerEpoch}};var Cle=globalThis.fetch;let Mle=class extends Hue{constructor(e,t,r){const i=s=>{const o=Que(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}};function Lle(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const qL=56;let PR=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Lle(Ole,e),r=e.length-qL;En(r>=0,"lookup table is invalid"),En(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Zt(),i,"addresses")]).decode(e.slice(qL));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ye(t.authority[0]):void 0,addresses:s.map(o=>new Ye(o))}}};const Ole={index:1,layout:U([D("typeIndex"),Af("deactivationSlot"),Be("lastExtendedSlot"),ae("lastExtendedStartIndex"),ae(),Te(Zt(),Rt(ae(),-1),"authority")])},Nle=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function $le(n){const e=n.match(Nle);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const fi=_r(gs(Ye),O(),n=>new Ye(n)),aU=ys([O(),_e("base64")]),OB=_r(gs(H.Buffer),aU,n=>H.Buffer.from(n[0],"base64")),cU=30*1e3;function qle(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Br(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function uU(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:ne(zm())})})])}const zle=uU(Ar());function zt(n){return _r(uU(n),zle,e=>"error"in e?e:{...e,result:$(e.result,n)})}function Jr(n){return zt(P({context:P({slot:k()}),value:n}))}function ES(n){return P({context:P({slot:k()}),value:n})}function tv(n,e){return n===0?new vS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ye(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Xu(e)}const Dle=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),Ule=zt(F(W(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:ne(W(k()))})))),Kle=F(P({slot:k(),prioritizationFee:k()})),Wle=P({total:k(),validator:k(),foundation:k(),epoch:k()}),Fle=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:ne(k()),transactionCount:ne(k())}),Vle=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),jle=lc(O(),F(k())),Od=W(tt([P({}),O()])),Hle=P({err:Od}),Yle=_e("receivedSignature"),Gle=P({"solana-core":O(),"feature-set":ne(k())}),zL=Jr(P({err:W(tt([P({}),O()])),logs:W(F(O())),accounts:ne(W(F(W(P({executable:St(),owner:O(),lamports:k(),data:F(O()),rentEpoch:ne(k())}))))),unitsConsumed:ne(k()),returnData:ne(W(P({programId:O(),data:ys([O(),_e("base64")])})))})),Jle=Jr(P({byIdentity:lc(O(),F(k())),range:P({firstSlot:k(),lastSlot:k()})}));function Qle(n,e,t,r,i,s){const o=t||Cle;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Zde)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await Al(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Zle(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function Xle(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const ede=zt(Dle),tde=zt(Wle),nde=zt(Kle),rde=zt(Fle),ide=zt(Vle),sde=zt(jle),ode=zt(k()),ade=Jr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:F(fi)})),xR=P({amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}),cde=Jr(F(P({address:fi,amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}))),ude=Jr(F(P({pubkey:fi,account:P({executable:St(),owner:fi,lamports:k(),data:OB,rentEpoch:k()})}))),BR=P({program:O(),parsed:Ar(),space:k()}),lde=Jr(F(P({pubkey:fi,account:P({executable:St(),owner:fi,lamports:k(),data:BR,rentEpoch:k()})}))),dde=Jr(F(P({lamports:k(),address:fi}))),em=P({executable:St(),owner:fi,lamports:k(),data:OB,rentEpoch:k()}),hde=P({pubkey:fi,account:em}),fde=_r(tt([gs(H.Buffer),BR]),tt([aU,BR]),n=>Array.isArray(n)?$(n,OB):n),TR=P({executable:St(),owner:fi,lamports:k(),data:fde,rentEpoch:k()}),pde=P({pubkey:fi,account:TR}),gde=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),yde=zt(F(P({signature:O(),slot:k(),err:Od,memo:W(O()),blockTime:ne(W(k()))}))),mde=zt(F(P({signature:O(),slot:k(),err:Od,memo:W(O()),blockTime:ne(W(k()))}))),bde=P({subscription:k(),result:ES(em)}),wde=P({pubkey:fi,account:em}),kde=P({subscription:k(),result:ES(wde)}),Sde=P({parent:k(),slot:k(),root:k()}),Ade=P({subscription:k(),result:Sde}),_de=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),vde=P({subscription:k(),result:_de}),Ede=P({subscription:k(),result:ES(tt([Hle,Yle]))}),Ide=P({subscription:k(),result:k()}),Rde=P({pubkey:O(),gossip:W(O()),tpu:W(O()),rpc:W(O()),version:W(O())}),DL=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:F(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:W(k())}),Pde=zt(P({current:F(DL),delinquent:F(DL)})),xde=tt([_e("processed"),_e("confirmed"),_e("finalized")]),Bde=P({slot:k(),confirmations:W(k()),err:Od,confirmationStatus:ne(xde)}),Tde=Jr(F(W(Bde))),Cde=zt(k()),lU=P({accountKey:fi,writableIndexes:F(k()),readonlyIndexes:F(k())}),NB=P({signatures:F(O()),message:P({accountKeys:F(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:ne(F(lU))})}),dU=P({pubkey:fi,signer:St(),writable:St(),source:ne(tt([_e("transaction"),_e("lookupTable")]))}),hU=P({accountKeys:F(dU),signatures:F(O())}),fU=P({parsed:Ar(),program:O(),programId:fi}),pU=P({accounts:F(fi),data:O(),programId:fi}),Mde=tt([pU,fU]),Lde=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:F(O()),data:O(),programId:O()})]),gU=_r(Mde,Lde,n=>"accounts"in n?$(n,pU):$(n,fU)),yU=P({signatures:F(O()),message:P({accountKeys:F(dU),instructions:F(gU),recentBlockhash:O(),addressTableLookups:ne(W(F(lU)))})}),X0=P({accountIndex:k(),mint:O(),owner:ne(O()),uiTokenAmount:xR}),mU=P({writable:F(fi),readonly:F(fi)}),IS=P({err:Od,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()}))})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(X0))),postTokenBalances:ne(W(F(X0))),loadedAddresses:ne(mU),computeUnitsConsumed:ne(k())}),$B=P({err:Od,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(gU)})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(X0))),postTokenBalances:ne(W(F(X0))),loadedAddresses:ne(mU),computeUnitsConsumed:ne(k())}),qp=tt([_e(0),_e("legacy")]),Nd=P({pubkey:O(),lamports:k(),postBalance:W(k()),rewardType:W(O()),commission:ne(W(k()))}),Ode=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:NB,meta:W(IS),version:ne(qp)})),rewards:ne(F(Nd)),blockTime:W(k()),blockHeight:W(k())}))),Nde=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Nd)),blockTime:W(k()),blockHeight:W(k())}))),$de=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:hU,meta:W(IS),version:ne(qp)})),rewards:ne(F(Nd)),blockTime:W(k()),blockHeight:W(k())}))),qde=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:yU,meta:W($B),version:ne(qp)})),rewards:ne(F(Nd)),blockTime:W(k()),blockHeight:W(k())}))),zde=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:hU,meta:W($B),version:ne(qp)})),rewards:ne(F(Nd)),blockTime:W(k()),blockHeight:W(k())}))),Dde=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Nd)),blockTime:W(k()),blockHeight:W(k())}))),Ude=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:NB,meta:W(IS)})),rewards:ne(F(Nd)),blockTime:W(k())}))),UL=zt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:F(O()),blockTime:W(k())}))),nv=zt(W(P({slot:k(),meta:W(IS),blockTime:ne(W(k())),transaction:NB,version:ne(qp)}))),Mb=zt(W(P({slot:k(),transaction:yU,meta:W($B),blockTime:ne(W(k())),version:ne(qp)}))),Kde=Jr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),Wde=Jr(P({blockhash:O(),lastValidBlockHeight:k()})),Fde=Jr(St()),Vde=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),jde=zt(F(Vde)),Hde=Jr(W(P({feeCalculator:P({lamportsPerSignature:k()})}))),Yde=zt(O()),Gde=zt(O()),Jde=P({err:Od,logs:F(O()),signature:O()}),Qde=P({result:ES(Jde),subscription:k()}),Zde={"solana-client":"js/0.0.0-development"};let Xde=class{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Br(l),p=this._buildArgs([],d,void 0,b),g=$L(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=$(y,zt(k()));if("error"in S)throw new pt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=qle(e),this._rpcWsEndpoint=r||$le(e),this._rpcClient=Qle(e,i,s,o,a,c),this._rpcRequest=Zle(this._rpcClient),this._rpcBatchRequest=Xle(this._rpcClient),this._rpcWebSocket=new Mle(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=$(o,Jr(k()));if("error"in a)throw new pt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=$(t,zt(W(k())));if("error"in r)throw new pt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=$(e,zt(k()));if("error"in t)throw new pt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=$(e,ode);if("error"in t)throw new pt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=$(r,ade);if("error"in i)throw new pt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=$(i,Jr(xR));if("error"in s)throw new pt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=$(i,Jr(xR));if("error"in s)throw new pt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Br(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=$(c,ude);if("error"in u)throw new pt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=$(o,lde);if("error"in a)throw new pt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=$(i,dde);if("error"in s)throw new pt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=$(i,cde);if("error"in s)throw new pt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Jr(W(em)));if("error"in a)throw new pt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Jr(W(TR)));if("error"in a)throw new pt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Br(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Jr(F(W(TR))));if("error"in c)throw new pt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Br(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Jr(F(W(em))));if("error"in c)throw new pt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Br(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=$(a,zt(gde));if("error"in c)throw new pt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Br(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=F(hde),l=o.withContext===!0?$(c,Jr(u)):$(c,zt(u));if("error"in l)throw new pt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=$(o,zt(F(pde)));if("error"in a)throw new pt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return En(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:vc.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:vc.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await Al(1e3),s||(p=await b(),s))return;d({__type:vc.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vc.PROCESSED)l=d.response;else throw new CB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:vc.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Al(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===vc.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Al(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Bh(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Bh(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Bh(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Bh(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vc.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===vc.PROCESSED)a=c.response;else throw new MB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=$(e,zt(F(Rde)));if("error"in t)throw new pt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=$(r,Pde);if("error"in i)throw new pt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=$(s,zt(k()));if("error"in o)throw new pt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=$(s,zt(O()));if("error"in o)throw new pt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=$(i,zt(F(fi)));if("error"in s)throw new pt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);En(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=$(i,Tde);if("error"in s)throw new pt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=$(s,zt(k()));if("error"in o)throw new pt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=$(r,ede);if("error"in i)throw new pt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Br(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=$(a,Ule);if("error"in c)throw new pt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=$(e,tde);if("error"in t)throw new pt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=$(s,rde);if("error"in o)throw new pt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=$(e,ide);if("error"in t)throw new pt(t.error,"failed to get epoch schedule");const r=t.result;return new oU(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=$(e,sde);if("error"in t)throw new pt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=$(i,Cde);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=$(r,Kde);if("error"in i)throw new pt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=$(t,jde);if("error"in r)throw new pt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=$(i,Hde);if("error"in s)throw new pt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Vt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=$(s,Jr(W(k())));if("error"in o)throw new pt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=$(i,nde);if("error"in s)throw new pt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=$(s,Wde);if("error"in o)throw new pt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=$(o,Fde);if("error"in a)throw new pt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=$(e,zt(Gle));if("error"in t)throw new pt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=$(e,zt(O()));if("error"in t)throw new pt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,$de);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,Nde);if("error"in a)throw a.error;return a.result}default:{const a=$(o,Ode);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:tv(d,u.message)},version:d}))}:null}}}catch(a){throw new pt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,zde);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,Dde);if("error"in a)throw a.error;return a.result}default:{const a=$(o,qde);if("error"in a)throw a.error;return a.result}}}catch(a){throw new pt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=$(s,Jle);if("error"in o)throw new pt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=$(o,nv);if("error"in a)throw new pt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:tv(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Br(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=$(o,Mb);if("error"in a)throw new pt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Br(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,Mb);if("error"in u)throw new pt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Br(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,nv);if("error"in u)throw new pt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:tv(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,Ude);if("error"in s)throw new pt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Xu(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:rr.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=$(s,zt(F(k())));if("error"in o)throw new pt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=$(i,UL);if("error"in s)throw new pt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,UL);if("error"in s)throw new pt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,nv);if("error"in s)throw new pt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Xu(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:rr.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,Mb);if("error"in s)throw new pt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=$(o,Mb);if("error"in a)throw new pt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=$(s,yde);if("error"in o)throw new pt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=$(s,mde);if("error"in o)throw new pt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new PR({key:e,state:PR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=iU.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=$(r,Yde);if("error"in i)throw new pt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Al(100);const r=Date.now()-this._blockhashInfo.lastFetch>=cU;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Al(tU/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Br(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=$(s,Jr(k()));if("error"in o)throw new pt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=$(R,zL);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof rr){let g=e;i=new rr,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=rr.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=$(b,zL);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new Xy({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=Vt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=$(a,Gde);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Xy({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=$(e,bde);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=$L([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];En(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=$(e,kde);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=$(e,Qde);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=$(e,Ade);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=$(e,vde);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=$(e,Ede);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=$(e,Ide);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},bU=class N1{constructor(e){this._keypair=void 0,this._keypair=e??LL()}static generate(){return new N1(LL())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=Q0(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new N1({publicKey:r,secretKey:e})}static fromSeed(e){const t=Q0(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new N1({publicKey:t,secretKey:r})}get publicKey(){return new Ye(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}};const Nc=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),Af("recentSlot"),ae("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),Af(),Te(Zt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});let ehe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Nc))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Un(Nc.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Un(Nc.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ye(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qB.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}},qB=class{constructor(){}static createLookupTable(e){const[t,r]=Ye.findProgramAddressSync([e.authority.toBuffer(),Ko(BigInt(e.recentSlot),8)],this.programId),i=Nc.CreateLookupTable,s=pn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}];return[new cr({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=Nc.FreezeLookupTable,r=pn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new cr({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=Nc.ExtendLookupTable,r=pn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:as.programId,isSigner:!1,isWritable:!1}),new cr({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=Nc.DeactivateLookupTable,r=pn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new cr({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=Nc.CloseLookupTable,r=pn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new cr({programId:this.programId,keys:i,data:r})}};qB.programId=new Ye("AddressLookupTab1e1111111111111111111111111");let the=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ae("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ka))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Un(Ka.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Un(Ka.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Un(Ka.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Un(Ka.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(zB.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}};const Ka=Object.freeze({RequestUnits:{index:0,layout:U([ae("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([ae("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([ae("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([ae("instruction"),Af("microLamports")])}});let zB=class{constructor(){}static requestUnits(e){const t=Ka.RequestUnits,r=pn(t,e);return new cr({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Ka.RequestHeapFrame,r=pn(t,e);return new cr({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Ka.SetComputeUnitLimit,r=pn(t,e);return new cr({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Ka.SetComputeUnitPrice,r=pn(t,{microLamports:BigInt(e.microLamports)});return new cr({keys:[],programId:this.programId,data:r})}};zB.programId=new Ye("ComputeBudget111111111111111111111111111111");const KL=64,WL=32,FL=64,VL=U([ae("numSignatures"),ae("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);let wU=class kU{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;En(t.length===WL,`Public Key must be ${WL} bytes but received ${t.length} bytes`),En(i.length===FL,`Signature must be ${FL} bytes but received ${i.length} bytes`);const o=VL.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return VL.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new cr({keys:[],programId:kU.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;En(t.length===KL,`Private key must be ${KL} bytes but received ${t.length} bytes`);try{const s=bU.fromSecretKey(t),o=s.publicKey.toBytes(),a=BB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};wU.programId=new Ye("Ed25519SigVerify111111111111111111111111111");const nhe=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const rhe=ki.getPublicKey,jL=32,rv=20,HL=64,ihe=11,iv=U([ae("numSignatures"),ot("signatureOffset"),ae("signatureInstructionIndex"),ot("ethAddressOffset"),ae("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ae("messageInstructionIndex"),fe(20,"ethAddress"),fe(64,"signature"),ae("recoveryId")]);let SU=class $1{constructor(){}static publicKeyToEthAddress(e){En(e.length===HL,`Public key must be ${HL} bytes but received ${e.length} bytes`);try{return H.Buffer.from(qo(Vt(e))).slice(-rv)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return $1.createInstructionWithEthAddress({ethAddress:$1.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,En(a.length===rv,`Address must be ${rv} bytes but received ${a.length} bytes`);const c=1+ihe,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(iv.span+r.length);return iv.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Vt(i),ethAddress:Vt(a),recoveryId:s},p),p.fill(Vt(r),iv.span),new cr({keys:[],programId:$1.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;En(t.length===jL,`Private key must be ${jL} bytes but received ${t.length} bytes`);try{const s=Vt(t),o=rhe(s,!1).slice(1),a=H.Buffer.from(qo(Vt(r))),[c,u]=nhe(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}};SU.programId=new Ye("KeccakSecp256k11111111111111111111111111111");var AU;const _U=new Ye("StakeConfig11111111111111111111111111111111");let vU=class{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}},Vm=class{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}};AU=Vm;Vm.default=new AU(0,0,Ye.default);let she=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Ri))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Un(Ri.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new vU(new Ye(t.staker),new Ye(t.withdrawer)),lockup:new Vm(r.unixTimestamp,r.epoch,new Ye(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Un(Ri.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Un(Ri.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ye(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Un(Ri.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Ye(s),newAuthorizedPubkey:new Ye(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Un(Ri.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Un(Ri.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Un(Ri.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Un(Ri.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(RS.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Ri=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),sle(),ole()])},Authorize:{index:1,layout:U([D("instruction"),Zt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Zt("newAuthorized"),D("stakeAuthorizationType"),zl("authoritySeed"),Zt("authorityOwner")])}}),ohe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});let RS=class{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||Vm.default,o=Ri.Initialize,a=pn(o,{authorized:{staker:Vt(r.staker.toBuffer()),withdrawer:Vt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:Vt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new cr(c)}static createAccountWithSeed(e){const t=new rr;t.add(as.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new rr;t.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Ri.Delegate,o=pn(s);return new rr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:O1,isSigner:!1,isWritable:!1},{pubkey:_U,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Ri.Authorize,c=pn(a,{newAuthorized:Vt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new rr().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ri.AuthorizeWithSeed,l=pn(u,{newAuthorized:Vt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:Vt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:va,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new rr().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Ri.Split,a=pn(o,{lamports:s});return new cr({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new rr;return r.add(as.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new rr;return u.add(as.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(as.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Ri.Merge,o=pn(s);return new rr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:O1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Ri.Withdraw,c=pn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:O1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new rr().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Ri.Deactivate,s=pn(i);return new rr().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}};RS.programId=new Ye("Stake11111111111111111111111111111111111111");RS.space=200;let EU=class{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}},ahe=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Wa))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Un(Wa.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new EU(new Ye(t.nodePubkey),new Ye(t.authorizedVoter),new Ye(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Un(Wa.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ye(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Un(Wa.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ye(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ye(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Un(Wa.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(PS.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}};const Wa=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),ale()])},Authorize:{index:1,layout:U([D("instruction"),Zt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),cle()])}}),che=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});let PS=class IU{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=Wa.InitializeAccount,o=pn(s,{voteInit:{nodePubkey:Vt(i.nodePubkey.toBuffer()),authorizedVoter:Vt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:Vt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Sf,isSigner:!1,isWritable:!1},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new cr(a)}static createAccount(e){const t=new rr;return t.add(as.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Wa.Authorize,a=pn(o,{newAuthorized:Vt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new rr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Wa.AuthorizeWithSeed,u=pn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Vt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:Vt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:va,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new rr().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=Wa.Withdraw,a=pn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new rr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return IU.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=Wa.UpdateValidatorIdentity,o=pn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new rr().add({keys:a,programId:this.programId,data:o})}};PS.programId=new Ye("Vote111111111111111111111111111111111111111");PS.space=3762;const RU=new Ye("Va1idator1nfo111111111111111111111111111111"),uhe=P({name:O(),website:ne(O()),details:ne(O()),keybaseUsername:ne(O())});let lhe=class PU{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Rs(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Ye(Ps(t,0,ec)),a=Ua(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(RU)&&i[1].isSigner){const s=zl().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,uhe),new PU(i[1].publicKey,o)}return null}};const dhe=new Ye("Vote111111111111111111111111111111111111111"),hhe=U([Zt("nodePubkey"),Zt("authorizedWithdrawer"),ae("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),ae("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Zt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Zt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),ae("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);let fhe=class xU{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=hhe.decode(Vt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new xU({nodePubkey:new Ye(r.nodePubkey),authorizedWithdrawer:new Ye(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(phe),priorVoters:ghe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}};function phe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ye(n)}}function YL({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ye(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function ghe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(YL),...n.slice(0,e).map(YL)]}const GL={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function yhe(n,e){const t=e===!1?"http":"https";if(!n)return GL[t].devnet;const r=GL[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function mhe(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Xy({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const bhe=1e9,whe=Object.freeze(Object.defineProperty({__proto__:null,Account:nle,AddressLookupTableAccount:PR,AddressLookupTableInstruction:ehe,AddressLookupTableProgram:qB,Authorized:vU,BLOCKHASH_CACHE_TIMEOUT_MS:cU,BPF_LOADER_DEPRECATED_PROGRAM_ID:rle,BPF_LOADER_PROGRAM_ID:Ele,BpfLoader:Ile,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Ka,ComputeBudgetInstruction:the,ComputeBudgetProgram:zB,Connection:Xde,Ed25519Program:wU,Enum:ele,EpochSchedule:oU,FeeCalculatorLayout:nU,Keypair:bU,LAMPORTS_PER_SOL:bhe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Nc,Loader:Z0,Lockup:Vm,MAX_SEED_LENGTH:YD,Message:Xu,MessageAccountKeys:Zy,MessageV0:vS,NONCE_ACCOUNT_LENGTH:ER,NonceAccount:iU,PACKET_DATA_SIZE:Du,PUBLIC_KEY_LENGTH:ec,PublicKey:Ye,SIGNATURE_LENGTH_IN_BYTES:Qy,SOLANA_SCHEMA:ty,STAKE_CONFIG_ID:_U,STAKE_INSTRUCTION_LAYOUTS:Ri,SYSTEM_INSTRUCTION_LAYOUTS:yr,SYSVAR_CLOCK_PUBKEY:va,SYSVAR_EPOCH_SCHEDULE_PUBKEY:gle,SYSVAR_INSTRUCTIONS_PUBKEY:yle,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:L1,SYSVAR_RENT_PUBKEY:Sf,SYSVAR_REWARDS_PUBKEY:mle,SYSVAR_SLOT_HASHES_PUBKEY:ble,SYSVAR_SLOT_HISTORY_PUBKEY:wle,SYSVAR_STAKE_HISTORY_PUBKEY:O1,Secp256k1Program:SU,SendTransactionError:Xy,SolanaJSONRPCError:pt,SolanaJSONRPCErrorCode:kle,StakeAuthorizationLayout:ohe,StakeInstruction:she,StakeProgram:RS,Struct:TB,SystemInstruction:_le,SystemProgram:as,Transaction:rr,TransactionExpiredBlockheightExceededError:CB,TransactionExpiredNonceInvalidError:Bh,TransactionExpiredTimeoutError:MB,TransactionInstruction:cr,TransactionMessage:lle,TransactionStatus:vc,VALIDATOR_INFO_KEY:RU,VERSION_PREFIX_MASK:_S,VOTE_PROGRAM_ID:dhe,ValidatorInfo:lhe,VersionedMessage:LB,VersionedTransaction:dle,VoteAccount:fhe,VoteAuthorizationLayout:che,VoteInit:EU,VoteInstruction:ahe,VoteProgram:PS,clusterApiUrl:yhe,sendAndConfirmRawTransaction:mhe,sendAndConfirmTransaction:vR},Symbol.toStringTag,{value:"Module"})),dc=la(whe);var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.AuctionProgram=void 0;const khe=dc,BU=Ce;class xS extends BU.Program{}bo.AuctionProgram=xS;xS.PREFIX="auction";xS.EXTENDED="extended";xS.PUBKEY=new khe.PublicKey(BU.config.programs.auction);var dd={};Object.defineProperty(dd,"__esModule",{value:!0});dd.BidderMetadata=dd.BidderMetadataData=void 0;const q1=Ce,JL=dc,Lb=bo,QL=H;class ew extends q1.Borsh.Data{}dd.BidderMetadataData=ew;ew.SCHEMA=ew.struct([["bidderPubkey","pubkeyAsString"],["auctionPubkey","pubkeyAsString"],["lastBid","u64"],["lastBidTimestamp","u64"],["cancelled","u8"]]);class tm extends q1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Lb.AuctionProgram.PUBKEY))throw(0,q1.ERROR_INVALID_OWNER)();if(!tm.isCompatible(this.info.data))throw(0,q1.ERROR_INVALID_ACCOUNT_DATA)();this.data=ew.deserialize(this.info.data)}static isCompatible(e){return e.length===tm.DATA_SIZE}static getPDA(e,t){return Lb.AuctionProgram.findProgramAddress([QL.Buffer.from(Lb.AuctionProgram.PREFIX),Lb.AuctionProgram.PUBKEY.toBuffer(),new JL.PublicKey(e).toBuffer(),new JL.PublicKey(t).toBuffer(),QL.Buffer.from("metadata")])}}dd.BidderMetadata=tm;tm.DATA_SIZE=81;var hd={};Object.defineProperty(hd,"__esModule",{value:!0});hd.BidderPot=hd.BidderPotData=void 0;const z1=Ce,Ob=bo,ZL=dc,She=H;class tw extends z1.Borsh.Data{}hd.BidderPotData=tw;tw.SCHEMA=tw.struct([["bidderPot","pubkeyAsString"],["bidderAct","pubkeyAsString"],["auctionAct","pubkeyAsString"],["emptied","u8"]]);class nm extends z1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Ob.AuctionProgram.PUBKEY))throw(0,z1.ERROR_INVALID_OWNER)();if(!nm.isCompatible(this.info.data))throw(0,z1.ERROR_INVALID_ACCOUNT_DATA)();this.data=tw.deserialize(this.info.data)}static isCompatible(e){return e.length===nm.DATA_SIZE}static getPDA(e,t){return Ob.AuctionProgram.findProgramAddress([She.Buffer.from(Ob.AuctionProgram.PREFIX),Ob.AuctionProgram.PUBKEY.toBuffer(),new ZL.PublicKey(e).toBuffer(),new ZL.PublicKey(t).toBuffer()])}}hd.BidderPot=nm;nm.DATA_SIZE=97;(function(n){var e=ce&&ce.__awaiter||function(S,w,_,R){function x(K){return K instanceof _?K:new _(function(G){G(K)})}return new(_||(_=Promise))(function(K,G){function M(ee){try{ie(R.next(ee))}catch(X){G(X)}}function Q(ee){try{ie(R.throw(ee))}catch(X){G(X)}}function ie(ee){ee.done?K(ee.value):x(ee.value).then(M,Q)}ie((R=R.apply(S,w||[])).next())})},t=ce&&ce.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.Auction=n.AuctionData=n.PriceFloor=n.BidState=n.Bid=n.PriceFloorType=n.BidStateType=n.AuctionState=void 0;const r=Ce,i=dc,s=t(Fs),o=H,a=bo,c=dd,u=hd;(function(S){S[S.Created=0]="Created",S[S.Started=1]="Started",S[S.Ended=2]="Ended"})(n.AuctionState||(n.AuctionState={})),function(S){S[S.EnglishAuction=0]="EnglishAuction",S[S.OpenEdition=1]="OpenEdition"}(n.BidStateType||(n.BidStateType={}));var l;(function(S){S[S.None=0]="None",S[S.Minimum=1]="Minimum",S[S.BlindedPrice=2]="BlindedPrice"})(l=n.PriceFloorType||(n.PriceFloorType={}));class d extends r.Borsh.Data{}n.Bid=d,d.SCHEMA=d.struct([["key","pubkeyAsString"],["amount","u64"]]);class b extends r.Borsh.Data{getWinnerAt(w){const _=this.bids.length-w-1;return _>=0&&_<this.bids.length?this.bids[_].key:null}getAmountAt(w){const _=this.bids.length-w-1;return _>=0&&_<this.bids.length?this.bids[_].amount:null}getWinnerIndex(w){if(!this.bids)return null;const _=this.bids.findIndex(R=>R.key===w);if(_!==-1){const R=this.bids.length-_-1;return R<this.max.toNumber()?R:null}return null}}n.BidState=b,b.SCHEMA=new Map([...d.SCHEMA,...b.struct([["type","u8"],["bids",[d]],["max","u64"]])]);class p extends r.Borsh.Data{constructor(w){super(),this.type=w.type,this.hash=w.hash||new Uint8Array(32),this.type===l.Minimum&&(w.minPrice?this.hash.set(w.minPrice.toArrayLike(o.Buffer,"le",8),0):this.minPrice=new s.default((w.hash||new Uint8Array(0)).slice(0,8),"le"))}}n.PriceFloor=p,p.SCHEMA=p.struct([["type","u8"],["hash",[32]]]);class g extends r.Borsh.Data{}n.AuctionData=g,g.SCHEMA=new Map([...b.SCHEMA,...p.SCHEMA,...g.struct([["authority","pubkeyAsString"],["tokenMint","pubkeyAsString"],["lastBid",{kind:"option",type:"u64"}],["endedAt",{kind:"option",type:"u64"}],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["priceFloor",p],["state","u8"],["bidState",b]])]);class y extends r.Account{constructor(w,_){if(super(w,_),!this.assertOwner(a.AuctionProgram.PUBKEY))throw(0,r.ERROR_INVALID_OWNER)();this.data=g.deserialize(this.info.data)}static getPDA(w){return a.AuctionProgram.findProgramAddress([o.Buffer.from(a.AuctionProgram.PREFIX),a.AuctionProgram.PUBKEY.toBuffer(),new i.PublicKey(w).toBuffer()])}static findMany(w,_={}){return e(this,void 0,void 0,function*(){return(yield a.AuctionProgram.getProgramAccounts(w,{filters:[_.authority&&{memcmp:{offset:0,bytes:new i.PublicKey(_.authority).toBase58()}}].filter(Boolean)})).map(R=>{try{return y.from(R)}catch{}}).filter(Boolean)})}getBidderPots(w){return e(this,void 0,void 0,function*(){return(yield a.AuctionProgram.getProgramAccounts(w,{filters:[{dataSize:u.BidderPot.DATA_SIZE},{memcmp:{offset:64,bytes:this.pubkey.toBase58()}}]})).map(_=>u.BidderPot.from(_))})}getBidderMetadata(w){return e(this,void 0,void 0,function*(){return(yield a.AuctionProgram.getProgramAccounts(w,{filters:[{dataSize:c.BidderMetadata.DATA_SIZE},{memcmp:{offset:32,bytes:this.pubkey.toBase58()}}]})).map(_=>c.BidderMetadata.from(_))})}}n.Auction=y,y.EXTENDED_DATA_SIZE=219})(AS);var _f={};Object.defineProperty(_f,"__esModule",{value:!0});_f.AuctionExtended=_f.AuctionDataExtended=void 0;const D1=Ce,bg=bo,XL=H,Ahe=dc;class nw extends D1.Borsh.Data{}_f.AuctionDataExtended=nw;nw.SCHEMA=nw.struct([["totalUncancelledBids","u64"],["tickSize",{kind:"option",type:"u64"}],["gapTickSizePercentage",{kind:"option",type:"u8"}],["instantSalePrice",{kind:"option",type:"u64"}],["name",{kind:"option",type:[32]}]]);class rm extends D1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(bg.AuctionProgram.PUBKEY))throw(0,D1.ERROR_INVALID_OWNER)();if(!rm.isCompatible(this.info.data))throw(0,D1.ERROR_INVALID_ACCOUNT_DATA)();this.data=nw.deserialize(this.info.data)}static isCompatible(e){return e.length===rm.DATA_SIZE}static getPDA(e){return bg.AuctionProgram.findProgramAddress([XL.Buffer.from(bg.AuctionProgram.PREFIX),bg.AuctionProgram.PUBKEY.toBuffer(),new Ahe.PublicKey(e).toBuffer(),XL.Buffer.from(bg.AuctionProgram.EXTENDED)])}}_f.AuctionExtended=rm;rm.DATA_SIZE=219;var TU={},vf={};Object.defineProperty(vf,"__esModule",{value:!0});vf.CancelBid=vf.CancelBidArgs=void 0;const CU=Ce,_he=Jn,Nb=dc,vhe=bo;class rw extends CU.Borsh.Data{constructor(){super(...arguments),this.instruction=0}}vf.CancelBidArgs=rw;rw.SCHEMA=rw.struct([["instruction","u8"],["resource","pubkeyAsString"]]);class Ehe extends CU.Transaction{constructor(e,t){super(e);const{auction:r,auctionExtended:i,bidderPot:s,bidderMeta:o,bidder:a,bidderToken:c,bidderPotToken:u,tokenMint:l,resource:d}=t,b=rw.serialize({resource:d.toString()});this.add(new Nb.TransactionInstruction({keys:[{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Nb.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Nb.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Nb.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:_he.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:vhe.AuctionProgram.PUBKEY,data:b}))}}vf.CancelBid=Ehe;var DB={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.CreateAuction=n.CreateAuctionArgs=n.WinnerLimit=n.WinnerLimitType=void 0;const e=Ce,t=dc,r=bo,i=AS;(function(c){c[c.Unlimited=0]="Unlimited",c[c.Capped=1]="Capped"})(n.WinnerLimitType||(n.WinnerLimitType={}));class s extends e.Borsh.Data{}n.WinnerLimit=s,s.SCHEMA=s.struct([["type","u8"],["usize","u64"]]);class o extends e.Borsh.Data{constructor(){super(...arguments),this.instruction=1}}n.CreateAuctionArgs=o,o.SCHEMA=new Map([...s.SCHEMA,...i.PriceFloor.SCHEMA,...o.struct([["instruction","u8"],["winners",s],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["tokenMint","pubkeyAsString"],["authority","pubkeyAsString"],["resource","pubkeyAsString"],["priceFloor",i.PriceFloor],["tickSize",{kind:"option",type:"u64"}],["gapTickSizePercentage",{kind:"option",type:"u8"}]])]);class a extends e.Transaction{constructor(u,l){super(u);const{args:d,auction:b,auctionExtended:p,creator:g}=l,y=o.serialize(d);this.add(new t.TransactionInstruction({keys:[{pubkey:g,isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:t.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:t.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:r.AuctionProgram.PUBKEY,data:y}))}}n.CreateAuction=a})(DB);var Ef={},MU;Object.defineProperty(Ef,"__esModule",{value:!0});Ef.CreateAuctionV2=Ef.CreateAuctionV2Args=void 0;const LU=Ce,sv=dc,Ihe=bo,eO=AS,tO=DB;class BS extends LU.Borsh.Data{constructor(){super(...arguments),this.instruction=7}}Ef.CreateAuctionV2Args=BS;MU=BS;BS.SCHEMA=new Map([...tO.WinnerLimit.SCHEMA,...eO.PriceFloor.SCHEMA,...MU.struct([["instruction","u8"],["winners",tO.WinnerLimit],["endAuctionAt",{kind:"option",type:"u64"}],["auctionGap",{kind:"option",type:"u64"}],["tokenMint","pubkeyAsString"],["authority","pubkeyAsString"],["resource","pubkeyAsString"],["priceFloor",eO.PriceFloor],["tickSize",{kind:"option",type:"u64"}],["gapTickSizePercentage",{kind:"option",type:"u8"}],["instantSalePrice",{kind:"option",type:"u64"}],["name",{kind:"option",type:[32]}]])]);class Rhe extends LU.Transaction{constructor(e,t){super(e);const{args:r,auction:i,auctionExtended:s,creator:o}=t,a=BS.serialize(r);this.add(new sv.TransactionInstruction({keys:[{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:sv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:sv.SystemProgram.programId,isSigner:!1,isWritable:!1}],programId:Ihe.AuctionProgram.PUBKEY,data:a}))}}Ef.CreateAuctionV2=Rhe;var If={};Object.defineProperty(If,"__esModule",{value:!0});If.PlaceBid=If.PlaceBidArgs=void 0;const OU=Ce,$b=dc,Phe=bo,xhe=Jn;class iw extends OU.Borsh.Data{constructor(){super(...arguments),this.instruction=6}}If.PlaceBidArgs=iw;iw.SCHEMA=iw.struct([["instruction","u8"],["amount","u64"],["resource","pubkeyAsString"]]);class Bhe extends OU.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{auction:i,auctionExtended:s,bidderPot:o,bidderMeta:a,bidder:c,bidderToken:u,bidderPotToken:l,tokenMint:d,transferAuthority:b,resource:p,amount:g}=t,y=iw.serialize({resource:p.toString(),amount:g});this.add(new $b.TransactionInstruction({keys:[{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:$b.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:$b.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:$b.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:xhe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:Phe.AuctionProgram.PUBKEY,data:y}))}}If.PlaceBid=Bhe;var Rf={};Object.defineProperty(Rf,"__esModule",{value:!0});Rf.SetAuctionAuthority=Rf.SetAuctionAuthorityArgs=void 0;const NU=Ce,The=dc,Che=bo;class sw extends NU.Borsh.Data{constructor(){super(...arguments),this.instruction=5}}Rf.SetAuctionAuthorityArgs=sw;sw.SCHEMA=sw.struct([["instruction","u8"]]);class Mhe extends NU.Transaction{constructor(e,t){super(e);const{auction:r,currentAuthority:i,newAuthority:s}=t,o=sw.serialize();this.add(new The.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Che.AuctionProgram.PUBKEY,data:o}))}}Rf.SetAuctionAuthority=Mhe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(vf,n),t(DB,n),t(Ef,n),t(If,n),t(Rf,n)})(TU);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(AS,n),t(_f,n),t(dd,n),t(hd,n),t(bo,n),t(TU,n)})(tu);const Lhe=Uo(tu),Ohe=Sd({__proto__:null,default:Lhe},[tu]);(function(n){var e=ce&&ce.__awaiter||function(w,_,R,x){function K(G){return G instanceof R?G:new R(function(M){M(G)})}return new(R||(R=Promise))(function(G,M){function Q(X){try{ee(x.next(X))}catch(oe){M(oe)}}function ie(X){try{ee(x.throw(X))}catch(oe){M(oe)}}function ee(X){X.done?G(X.value):K(X.value).then(Q,ie)}ee((x=x.apply(w,_||[])).next())})},t=ce&&ce.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},r,i;Object.defineProperty(n,"__esModule",{value:!0}),n.AuctionManager=n.AuctionManagerV2Data=n.AuctionManagerStateV2=n.AuctionManagerStatus=void 0;const s=Ln,o=t(Fs),a=t(Vs),c=xB,u=Xr,l=H,d=tu,b=Ce;var p;(function(w){w[w.Initialized=0]="Initialized",w[w.Validated=1]="Validated",w[w.Running=2]="Running",w[w.Disbursing=3]="Disbursing",w[w.Finished=4]="Finished"})(p=n.AuctionManagerStatus||(n.AuctionManagerStatus={}));class g extends b.Borsh.Data{constructor(){super(...arguments),this.status=p.Initialized,this.safetyConfigItemsValidated=new o.default(0),this.bidsPushedToAcceptPayment=new o.default(0),this.hasParticipation=!1}}n.AuctionManagerStateV2=g,r=g,g.SCHEMA=r.struct([["status","u8"],["safetyConfigItemsValidated","u64"],["bidsPushedToAcceptPayment","u64"],["hasParticipation","u8"]]);class y extends b.Borsh.Data{constructor(_){super(_),this.key=u.MetaplexKey.AuctionManagerV2}}n.AuctionManagerV2Data=y,i=y,y.SCHEMA=new Map([...g.SCHEMA,...i.struct([["key","u8"],["store","pubkeyAsString"],["authority","pubkeyAsString"],["auction","pubkeyAsString"],["vault","pubkeyAsString"],["acceptPayment","pubkeyAsString"],["state",g]])]);class S extends b.Account{constructor(_,R){if(super(_,R),!this.assertOwner(u.MetaplexProgram.PUBKEY))throw(0,b.ERROR_INVALID_OWNER)();if(S.isAuctionManagerV1(this.info.data))throw(0,b.ERROR_DEPRECATED_ACCOUNT_DATA)();if(S.isAuctionManagerV2(this.info.data))this.data=y.deserialize(this.info.data);else throw(0,b.ERROR_INVALID_ACCOUNT_DATA)()}static isCompatible(_){return S.isAuctionManagerV1(_)||S.isAuctionManagerV2(_)}static isAuctionManagerV1(_){return _[0]===u.MetaplexKey.AuctionManagerV1}static isAuctionManagerV2(_){return _[0]===u.MetaplexKey.AuctionManagerV2}static getPDA(_){return u.MetaplexProgram.findProgramAddress([l.Buffer.from(u.MetaplexProgram.PREFIX),new s.PublicKey(_).toBuffer()])}static findMany(_,R={}){return e(this,void 0,void 0,function*(){return(yield u.MetaplexProgram.getProgramAccounts(_,{filters:[{memcmp:{offset:0,bytes:a.default.encode(l.Buffer.from([u.MetaplexKey.AuctionManagerV2]))}},R.store&&{memcmp:{offset:1,bytes:new s.PublicKey(R.store).toBase58()}},R.authority&&{memcmp:{offset:33,bytes:new s.PublicKey(R.authority).toBase58()}}].filter(Boolean)})).map(x=>S.from(x))})}getAuction(_){return e(this,void 0,void 0,function*(){return d.Auction.load(_,this.data.auction)})}getBidRedemptionTickets(_,R=!0){return e(this,void 0,void 0,function*(){return(yield u.MetaplexProgram.getProgramAccounts(_,{filters:[{memcmp:{offset:0,bytes:a.default.encode(l.Buffer.from([u.MetaplexKey.BidRedemptionTicketV2]))}},{memcmp:{offset:c.WINNER_INDEX_OFFSETS[+R],bytes:this.pubkey.toBase58()}}]})).map(x=>c.BidRedemptionTicket.from(x))})}}n.AuctionManager=S})(bB);var Pf={},Nhe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},$he=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},$U;Object.defineProperty(Pf,"__esModule",{value:!0});Pf.PayoutTicket=Pf.PayoutTicketData=void 0;const qhe=Ln,zhe=$he(Vs),U1=Ce,Lg=Xr,Dhe=H;class TS extends U1.Borsh.Data{constructor(e){super(e),this.key=Lg.MetaplexKey.PayoutTicketV1}}Pf.PayoutTicketData=TS;$U=TS;TS.SCHEMA=$U.struct([["key","u8"],["recipient","pubkeyAsString"],["amountPaid","u64"]]);class ow extends U1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Lg.MetaplexProgram.PUBKEY))throw(0,U1.ERROR_INVALID_OWNER)();if(!ow.isCompatible(this.info.data))throw(0,U1.ERROR_INVALID_ACCOUNT_DATA)();this.data=TS.deserialize(this.info.data)}static isCompatible(e){return e[0]===Lg.MetaplexKey.PayoutTicketV1}static getPayoutTicketsByRecipient(e,t){return Nhe(this,void 0,void 0,function*(){return(yield Lg.MetaplexProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:zhe.default.encode(Dhe.Buffer.from([Lg.MetaplexKey.PayoutTicketV1]))}},{memcmp:{offset:1,bytes:new qhe.PublicKey(t).toBase58()}}]})).map(r=>ow.from(r))})}}Pf.PayoutTicket=ow;var xf={},Uhe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},qU;Object.defineProperty(xf,"__esModule",{value:!0});xf.PrizeTrackingTicket=xf.PrizeTrackingTicketData=void 0;const nO=Ln,K1=Ce,_l=Xr,Khe=H;class CS extends K1.Borsh.Data{constructor(e){super(e),this.key=_l.MetaplexKey.PrizeTrackingTicketV1,this.key=_l.MetaplexKey.PrizeTrackingTicketV1}}xf.PrizeTrackingTicketData=CS;qU=CS;CS.SCHEMA=qU.struct([["key","u8"],["metadata","pubkeyAsString"],["supplySnapshot","u64"],["expectedRedemptions","u64"],["redemptions","u64"]]);class UB extends K1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(_l.MetaplexProgram.PUBKEY))throw(0,K1.ERROR_INVALID_OWNER)();if(!UB.isCompatible(this.info.data))throw(0,K1.ERROR_INVALID_ACCOUNT_DATA)();this.data=CS.deserialize(this.info.data)}static isCompatible(e){return e[0]===_l.MetaplexKey.PrizeTrackingTicketV1}static getPDA(e,t){return Uhe(this,void 0,void 0,function*(){return _l.MetaplexProgram.findProgramAddress([Khe.Buffer.from(_l.MetaplexProgram.PREFIX),_l.MetaplexProgram.PUBKEY.toBuffer(),new nO.PublicKey(e).toBuffer(),new nO.PublicKey(t).toBuffer()])})}}xf.PrizeTrackingTicket=UB;var zU={};(function(n){var e=ce&&ce.__awaiter||function(d,b,p,g){function y(S){return S instanceof p?S:new p(function(w){w(S)})}return new(p||(p=Promise))(function(S,w){function _(K){try{x(g.next(K))}catch(G){w(G)}}function R(K){try{x(g.throw(K))}catch(G){w(G)}}function x(K){K.done?S(K.value):y(K.value).then(_,R)}x((g=g.apply(d,b||[])).next())})},t=ce&&ce.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(n,"__esModule",{value:!0}),n.SafetyDepositConfig=n.NonWinningConstraint=n.WinningConstraint=n.WinningConfigType=void 0;const r=Ln,i=t(Fs),s=t(Vs),o=Ce,a=Xr,c=H;(function(d){d[d.TokenOnlyTransfer=0]="TokenOnlyTransfer",d[d.FullRightsTransfer=1]="FullRightsTransfer",d[d.PrintingV1=2]="PrintingV1",d[d.PrintingV2=3]="PrintingV2",d[d.Participation=4]="Participation"})(n.WinningConfigType||(n.WinningConfigType={})),function(d){d[d.NoParticipationPrize=0]="NoParticipationPrize",d[d.ParticipationPrizeGiven=1]="ParticipationPrizeGiven"}(n.WinningConstraint||(n.WinningConstraint={})),function(d){d[d.NoParticipationPrize=0]="NoParticipationPrize",d[d.GivenForFixedPrice=1]="GivenForFixedPrice",d[d.GivenForBidPrice=2]="GivenForBidPrice"}(n.NonWinningConstraint||(n.NonWinningConstraint={}));class u extends o.Account{constructor(b,p){if(super(b,p),!this.assertOwner(a.MetaplexProgram.PUBKEY))throw(0,o.ERROR_INVALID_OWNER)();if(!u.isCompatible(this.info.data))throw(0,o.ERROR_INVALID_ACCOUNT_DATA)();this.data=l(this.info.data)}static isCompatible(b){return b[0]===a.MetaplexKey.SafetyDepositConfigV1}static getPDA(b,p){return e(this,void 0,void 0,function*(){return a.MetaplexProgram.findProgramAddress([c.Buffer.from(a.MetaplexProgram.PREFIX),a.MetaplexProgram.PUBKEY.toBuffer(),new r.PublicKey(b).toBuffer(),new r.PublicKey(p).toBuffer()])})}}n.SafetyDepositConfig=u;const l=d=>{const b={key:a.MetaplexKey.SafetyDepositConfigV1,auctionManager:s.default.encode(d.slice(1,33)),order:new i.default(d.slice(33,41),"le"),winningConfigType:d[41],amountType:d[42],lengthType:d[43],amountRanges:[],participationConfig:null,participationState:null},p=new i.default(d.slice(44,48),"le");let g=48;for(let y=0;y<p.toNumber();y++){const S=(0,o.getBNFromData)(d,g,b.amountType);g+=b.amountType;const w=(0,o.getBNFromData)(d,g,b.lengthType);g+=b.lengthType,b.amountRanges.push({amount:S,length:w})}if(d[g]==0)g+=1,b.participationConfig=null;else{const y=d[g+1],S=d[g+2];let w=null;g+=3,d[g]==1?(w=new i.default(d.slice(g+1,g+9),"le"),g+=9):g+=1,b.participationConfig={winnerConstraint:y,nonWinningConstraint:S,fixedPrice:w}}if(d[g]==0)g+=1,b.participationState=null;else{const y=new i.default(d.slice(g+1,g+9),"le");g+=9,b.participationState={collectedToAcceptPayment:y}}return b}})(zU);var Bf={},fd={},Whe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},DU;Object.defineProperty(fd,"__esModule",{value:!0});fd.WhitelistedCreator=fd.WhitelistedCreatorData=void 0;const W1=Ce,vl=Xr,Fhe=H,rO=Ln;class MS extends W1.Borsh.Data{constructor(e){super(e),this.key=vl.MetaplexKey.WhitelistedCreatorV1,this.activated=!0,this.key=vl.MetaplexKey.WhitelistedCreatorV1}}fd.WhitelistedCreatorData=MS;DU=MS;MS.SCHEMA=DU.struct([["key","u8"],["address","pubkeyAsString"],["activated","u8"]]);class KB extends W1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(vl.MetaplexProgram.PUBKEY))throw(0,W1.ERROR_INVALID_OWNER)();if(!KB.isCompatible(this.info.data))throw(0,W1.ERROR_INVALID_ACCOUNT_DATA)();this.data=MS.deserialize(this.info.data)}static isCompatible(e){return e[0]===vl.MetaplexKey.WhitelistedCreatorV1}static getPDA(e,t){return Whe(this,void 0,void 0,function*(){return vl.MetaplexProgram.findProgramAddress([Fhe.Buffer.from(vl.MetaplexProgram.PREFIX),vl.MetaplexProgram.PUBKEY.toBuffer(),new rO.PublicKey(e).toBuffer(),new rO.PublicKey(t).toBuffer()])})}}fd.WhitelistedCreator=KB;var ov=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Vhe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},UU;Object.defineProperty(Bf,"__esModule",{value:!0});Bf.Store=Bf.StoreData=void 0;const F1=Ce,Jo=Xr,jhe=Ln,iO=Vhe(Vs),Hhe=fd,Yhe=bB,av=H;class LS extends F1.Borsh.Data{constructor(e){super(e),this.key=Jo.MetaplexKey.StoreV1,this.public=!0,this.key=Jo.MetaplexKey.StoreV1}}Bf.StoreData=LS;UU=LS;LS.SCHEMA=UU.struct([["key","u8"],["public","u8"],["auctionProgram","pubkeyAsString"],["tokenVaultProgram","pubkeyAsString"],["tokenMetadataProgram","pubkeyAsString"],["tokenProgram","pubkeyAsString"]]);class WB extends F1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Jo.MetaplexProgram.PUBKEY))throw(0,F1.ERROR_INVALID_OWNER)();if(!WB.isCompatible(this.info.data))throw(0,F1.ERROR_INVALID_ACCOUNT_DATA)();this.data=LS.deserialize(this.info.data)}static isCompatible(e){return e[0]===Jo.MetaplexKey.StoreV1}static getPDA(e){return ov(this,void 0,void 0,function*(){return Jo.MetaplexProgram.findProgramAddress([av.Buffer.from(Jo.MetaplexProgram.PREFIX),Jo.MetaplexProgram.PUBKEY.toBuffer(),new jhe.PublicKey(e).toBuffer()])})}getWhitelistedCreators(e){return ov(this,void 0,void 0,function*(){return(yield Jo.MetaplexProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:iO.default.encode(av.Buffer.from([Jo.MetaplexKey.WhitelistedCreatorV1]))}}]})).map(t=>Hhe.WhitelistedCreator.from(t))})}getAuctionManagers(e){return ov(this,void 0,void 0,function*(){return(yield Jo.MetaplexProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:iO.default.encode(av.Buffer.from([Jo.MetaplexKey.AuctionManagerV2]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(t=>Yhe.AuctionManager.from(t))})}}Bf.Store=WB;var Tf={},Ghe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},KU;Object.defineProperty(Tf,"__esModule",{value:!0});Tf.StoreConfig=Tf.StoreConfigData=void 0;const V1=Ce,Jhe=Ln,sO=H,gu=Xr;class OS extends V1.Borsh.Data{constructor(e){super(e),this.key=gu.MetaplexKey.StoreConfigV1,this.key=gu.MetaplexKey.StoreConfigV1}}Tf.StoreConfigData=OS;KU=OS;OS.SCHEMA=KU.struct([["key","u8"],["settingsUri",{kind:"option",type:"string"}]]);class FB extends V1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(gu.MetaplexProgram.PUBKEY))throw(0,V1.ERROR_INVALID_OWNER)();if(!FB.isCompatible(this.info.data))throw(0,V1.ERROR_INVALID_ACCOUNT_DATA)();this.data=OS.deserialize(this.info.data)}static isCompatible(e){return e[0]===gu.MetaplexKey.StoreConfigV1}static getPDA(e){return Ghe(this,void 0,void 0,function*(){return gu.MetaplexProgram.findProgramAddress([sO.Buffer.from(gu.MetaplexProgram.PREFIX),gu.MetaplexProgram.PUBKEY.toBuffer(),sO.Buffer.from(gu.MetaplexProgram.CONFIG),new Jhe.PublicKey(e).toBuffer()])})}}Tf.StoreConfig=FB;var NS={},Qhe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Zhe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(NS,"__esModule",{value:!0});NS.AuctionWinnerTokenTypeTracker=void 0;const ny=Ce,Xhe=Ln,efe=Zhe(Fs),oO=H,hl=Xr;class VB extends ny.Account{constructor(e,t){if(super(e,t),!this.assertOwner(hl.MetaplexProgram.PUBKEY))throw(0,ny.ERROR_INVALID_OWNER)();if(!VB.isCompatible(this.info.data))throw(0,ny.ERROR_INVALID_ACCOUNT_DATA)();this.data=tfe(this.info.data)}static isCompatible(e){return e[0]===hl.MetaplexKey.AuctionWinnerTokenTypeTrackerV1}static getPDA(e){return Qhe(this,void 0,void 0,function*(){return hl.MetaplexProgram.findProgramAddress([oO.Buffer.from(hl.MetaplexProgram.PREFIX),hl.MetaplexProgram.PUBKEY.toBuffer(),new Xhe.PublicKey(e).toBuffer(),oO.Buffer.from(hl.MetaplexProgram.TOTALS)])})}}NS.AuctionWinnerTokenTypeTracker=VB;const tfe=n=>{const e={key:hl.MetaplexKey.SafetyDepositConfigV1,amountType:n[1],lengthType:n[2],amountRanges:[]},t=new efe.default(n.slice(3,7),"le");let r=7;for(let i=0;i<t.toNumber();i++){const s=(0,ny.getBNFromData)(n,r,e.amountType);r+=e.amountType;const o=(0,ny.getBNFromData)(n,r,e.lengthType);r+=e.lengthType,e.amountRanges.push({amount:s,length:o})}return e};var WU={},Cf={},FU;Object.defineProperty(Cf,"__esModule",{value:!0});Cf.ClaimBid=Cf.ClaimBidArgs=void 0;const VU=Ce,nfe=tu,rfe=Jn,aO=Ln,ife=Xr;class $S extends VU.Borsh.Data{constructor(){super(...arguments),this.instruction=6}}Cf.ClaimBidArgs=$S;FU=$S;$S.SCHEMA=FU.struct([["instruction","u8"]]);class sfe extends VU.Transaction{constructor(e,t){super(e);const{store:r,vault:i,auction:s,auctionExtended:o,auctionManager:a,bidder:c,bidderPot:u,bidderPotToken:l,acceptPayment:d,tokenMint:b}=t,p=$S.serialize();this.add(new aO.TransactionInstruction({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:b,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:nfe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:aO.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:rfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}],programId:ife.MetaplexProgram.PUBKEY,data:p}))}}Cf.ClaimBid=sfe;var Mf={},ofe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},jU;Object.defineProperty(Mf,"__esModule",{value:!0});Mf.EndAuction=Mf.EndAuctionArgs=void 0;const cO=ofe(Fs),HU=Ce,uO=Ln,afe=tu,cfe=Xr;class qS extends HU.Borsh.Data{constructor(){super(...arguments),this.instruction=20}}Mf.EndAuctionArgs=qS;jU=qS;qS.SCHEMA=jU.struct([["instruction","u8"],["reveal",{kind:"option",type:[cO.default,cO.default]}]]);class ufe extends HU.Transaction{constructor(e,t){super(e);const{store:r,auction:i,auctionExtended:s,auctionManager:o,auctionManagerAuthority:a,reveal:c=null}=t,u=qS.serialize({reveal:c});this.add(new uO.TransactionInstruction({keys:[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:afe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:uO.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:cfe.MetaplexProgram.PUBKEY,data:u}))}}Mf.EndAuction=ufe;var Lf={},lfe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},YU;Object.defineProperty(Lf,"__esModule",{value:!0});Lf.InitAuctionManagerV2=Lf.InitAuctionManagerV2Args=void 0;const j1=Ce,cv=Ln,dfe=lfe(Fs),hfe=Xr;class zS extends j1.Borsh.Data{constructor(){super(...arguments),this.instruction=17,this.amountType=j1.TupleNumericType.U8,this.lengthType=j1.TupleNumericType.U8,this.maxRanges=new dfe.default(1)}}Lf.InitAuctionManagerV2Args=zS;YU=zS;zS.SCHEMA=YU.struct([["instruction","u8"],["amountType","u8"],["lengthType","u8"],["maxRanges","u64"]]);class ffe extends j1.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionManager:a,auctionManagerAuthority:c,acceptPaymentAccount:u,tokenTracker:l,amountType:d,lengthType:b,maxRanges:p}=t,g=zS.serialize({amountType:d,lengthType:b,maxRanges:p});this.add(new cv.TransactionInstruction({keys:[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:cv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:cv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:hfe.MetaplexProgram.PUBKEY,data:g}))}}Lf.InitAuctionManagerV2=ffe;var jB={},$d={},Jc={},Fo={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.MetadataProgram=n.MetadataKey=void 0;const e=Ln,t=Ce;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.MetadataV1=4]="MetadataV1",i[i.EditionV1=1]="EditionV1",i[i.MasterEditionV1=2]="MasterEditionV1",i[i.MasterEditionV2=6]="MasterEditionV2",i[i.EditionMarker=7]="EditionMarker"})(n.MetadataKey||(n.MetadataKey={}));class r extends t.Program{}n.MetadataProgram=r,r.PREFIX="metadata",r.PUBKEY=new e.PublicKey(t.config.programs.metadata)})(Fo);var pfe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Jc,"__esModule",{value:!0});Jc.Edition=Jc.EditionData=void 0;const H1=Ce,oh=Fo,gfe=Ln,lO=H;let aw=class extends H1.Borsh.Data{constructor(e){super(e),this.key=oh.MetadataKey.EditionV1}};Jc.EditionData=aw;aw.SCHEMA=aw.struct([["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]);let GU=class CR extends H1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(oh.MetadataProgram.PUBKEY))throw(0,H1.ERROR_INVALID_OWNER)();if(!CR.isCompatible(this.info.data))throw(0,H1.ERROR_INVALID_ACCOUNT_DATA)();this.data=aw.deserialize(this.info.data)}static getPDA(e){return pfe(this,void 0,void 0,function*(){return oh.MetadataProgram.findProgramAddress([lO.Buffer.from(oh.MetadataProgram.PREFIX),oh.MetadataProgram.PUBKEY.toBuffer(),new gfe.PublicKey(e).toBuffer(),lO.Buffer.from(CR.EDITION_PREFIX)])})}static isCompatible(e){return e[0]===oh.MetadataKey.EditionV1}};Jc.Edition=GU;GU.EDITION_PREFIX="edition";var Of={},yfe=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Of,"__esModule",{value:!0});Of.EditionMarker=Of.EditionMarkerData=void 0;const Y1=Ce,mfe=Ln,bfe=Jc,ah=Fo,uv=H;let cw=class extends Y1.Borsh.Data{constructor(e){super(e),this.key=ah.MetadataKey.EditionMarker}editionTaken(e){const t=e%HB.DATA_SIZE,r=Math.floor(t/8);if(r>30)throw Error("Bad index for edition");const i=7-t%8,s=Math.pow(2,i);return(this.ledger[r]&s)!=0}};Of.EditionMarkerData=cw;cw.SCHEMA=cw.struct([["key","u8"],["ledger",[31]]]);let HB=class JU extends Y1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(ah.MetadataProgram.PUBKEY))throw(0,Y1.ERROR_INVALID_OWNER)();if(!JU.isCompatible(this.info.data))throw(0,Y1.ERROR_INVALID_ACCOUNT_DATA)();this.data=cw.deserialize(this.info.data)}static getPDA(e,t){return yfe(this,void 0,void 0,function*(){const r=Math.floor(t.toNumber()/248);return ah.MetadataProgram.findProgramAddress([uv.Buffer.from(ah.MetadataProgram.PREFIX),ah.MetadataProgram.PUBKEY.toBuffer(),new mfe.PublicKey(e).toBuffer(),uv.Buffer.from(bfe.Edition.EDITION_PREFIX),uv.Buffer.from(r.toString())])})}static isCompatible(e){return e[0]===ah.MetadataKey.EditionMarker}};Of.EditionMarker=HB;HB.DATA_SIZE=248;var Fc={},dO=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},wfe=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.MasterEdition=Fc.MasterEditionV2Data=Fc.MasterEditionV1Data=void 0;const ry=Ce,kfe=wfe(Vs),Sfe=Jc,wa=Fo,lv=H,Afe=Ln;let uw=class extends ry.Borsh.Data{constructor(e){super(e),this.key=wa.MetadataKey.MasterEditionV1}};Fc.MasterEditionV1Data=uw;uw.SCHEMA=uw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]);let lw=class extends ry.Borsh.Data{constructor(e){super(e),this.key=wa.MetadataKey.MasterEditionV2}};Fc.MasterEditionV2Data=lw;lw.SCHEMA=lw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]);let QU=class ch extends ry.Account{constructor(e,t){if(super(e,t),!this.assertOwner(wa.MetadataProgram.PUBKEY))throw(0,ry.ERROR_INVALID_OWNER)();if(ch.isMasterEditionV1(this.info.data))this.data=uw.deserialize(this.info.data);else if(ch.isMasterEditionV2(this.info.data))this.data=lw.deserialize(this.info.data);else throw(0,ry.ERROR_INVALID_ACCOUNT_DATA)()}static getPDA(e){return dO(this,void 0,void 0,function*(){return wa.MetadataProgram.findProgramAddress([lv.Buffer.from(wa.MetadataProgram.PREFIX),wa.MetadataProgram.PUBKEY.toBuffer(),new Afe.PublicKey(e).toBuffer(),lv.Buffer.from(ch.EDITION_PREFIX)])})}static isCompatible(e){return ch.isMasterEditionV1(e)||ch.isMasterEditionV2(e)}static isMasterEditionV1(e){return e[0]===wa.MetadataKey.MasterEditionV1}static isMasterEditionV2(e){return e[0]===wa.MetadataKey.MasterEditionV2}getEditions(e){return dO(this,void 0,void 0,function*(){return(yield wa.MetadataProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:kfe.default.encode(lv.Buffer.from([wa.MetadataKey.EditionV1]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(t=>Sfe.Edition.from(t))})}};Fc.MasterEdition=QU;QU.EDITION_PREFIX="edition";var DS={};(function(n){var e=ce&&ce.__awaiter||function(S,w,_,R){function x(K){return K instanceof _?K:new _(function(G){G(K)})}return new(_||(_=Promise))(function(K,G){function M(ee){try{ie(R.next(ee))}catch(X){G(X)}}function Q(ee){try{ie(R.throw(ee))}catch(X){G(X)}}function ie(ee){ee.done?K(ee.value):x(ee.value).then(M,Q)}ie((R=R.apply(S,w||[])).next())})},t=ce&&ce.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(n,"__esModule",{value:!0}),n.computeCreatorOffset=n.MAX_CREATOR_LEN=n.MAX_URI_LENGTH=n.MAX_SYMBOL_LENGTH=n.MAX_NAME_LENGTH=n.Metadata=n.MetadataData=n.MetadataDataData=n.Creator=void 0;const r=Ce,i=Ln,s=t(Fs),o=t(Vs),a=H,c=Fo,u=Jc,l=Fc;class d extends r.Borsh.Data{}n.Creator=d,d.SCHEMA=d.struct([["address","pubkeyAsString"],["verified","u8"],["share","u8"]]);class b extends r.Borsh.Data{constructor(w){super(w);const _=new RegExp("\0","g");this.name=w.name.replace(_,""),this.uri=w.uri.replace(_,""),this.symbol=w.symbol.replace(_,"")}}n.MetadataDataData=b,b.SCHEMA=new Map([...d.SCHEMA,...b.struct([["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[d]}]])]);class p extends r.Borsh.Data{constructor(w){super(w),this.key=c.MetadataKey.MetadataV1}}n.MetadataData=p,p.SCHEMA=new Map([...b.SCHEMA,...p.struct([["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",b],["primarySaleHappened","u8"],["isMutable","u8"]])]);class g extends r.Account{constructor(w,_){if(super(w,_),!this.assertOwner(c.MetadataProgram.PUBKEY))throw(0,r.ERROR_INVALID_OWNER)();if(!g.isCompatible(this.info.data))throw(0,r.ERROR_INVALID_ACCOUNT_DATA)();this.data=p.deserialize(this.info.data)}static isCompatible(w){return w[0]===c.MetadataKey.MetadataV1}static getPDA(w){return e(this,void 0,void 0,function*(){return c.MetadataProgram.findProgramAddress([a.Buffer.from(c.MetadataProgram.PREFIX),c.MetadataProgram.PUBKEY.toBuffer(),new i.PublicKey(w).toBuffer()])})}static findMany(w,_={}){return e(this,void 0,void 0,function*(){const R=[{memcmp:{offset:0,bytes:o.default.encode(a.Buffer.from([c.MetadataKey.MetadataV1]))}},_.updateAuthority&&{memcmp:{offset:1,bytes:new i.PublicKey(_.updateAuthority).toBase58()}},_.mint&&{memcmp:{offset:33,bytes:new i.PublicKey(_.mint).toBase58()}}].filter(Boolean);return _.creators?(yield Promise.all(Array.from(Array(r.config.maxCreatorLimit).keys()).reduce((x,K)=>[...x,..._.creators.map(G=>c.MetadataProgram.getProgramAccounts(w,{filters:[...R,{memcmp:{offset:(0,n.computeCreatorOffset)(K),bytes:new i.PublicKey(G).toBase58()}}]}))],[]))).flat().map(x=>g.from(x)):(yield c.MetadataProgram.getProgramAccounts(w,{filters:R})).map(x=>g.from(x))})}static findByOwner(w,_){return e(this,void 0,void 0,function*(){const R=yield r.TokenAccount.getTokenAccountsByOwner(w,_),x=new Map(R.map(({data:G})=>[G.mint.toString(),G]));return(yield g.findMany(w)).filter(G=>{var M,Q;return x.has(G.data.mint)&&(((Q=(M=x==null?void 0:x.get(G.data.mint))===null||M===void 0?void 0:M.amount)===null||Q===void 0?void 0:Q.toNumber())||0)>0})})}static findByOwnerV2(w,_){return e(this,void 0,void 0,function*(){const x=(yield r.TokenAccount.getTokenAccountsByOwner(w,_)).map(({data:K})=>K).filter(({amount:K})=>(K==null?void 0:K.toNumber())>0);return(yield Promise.all(x.map(({mint:K})=>g.findMany(w,{mint:K})))).flat()})}static findDataByOwner(w,_){return e(this,void 0,void 0,function*(){const x=(yield r.TokenAccount.getTokenAccountsByOwner(w,_)).reduce((M,{data:Q})=>{var ie;return!((ie=Q.amount)===null||ie===void 0)&&ie.eq(new s.default(1))?[...M,g.getPDA(Q.mint)]:M},[]),K=yield Promise.all(x),G=yield r.Account.getInfos(w,K);return Array.from(G.values()).map(M=>p.deserialize(M.data))})}static getEdition(w,_){return e(this,void 0,void 0,function*(){const R=yield u.Edition.getPDA(_),x=yield r.Account.getInfo(w,R);switch(x==null?void 0:x.data[0]){case c.MetadataKey.EditionV1:return new u.Edition(R,x);case c.MetadataKey.MasterEditionV1:case c.MetadataKey.MasterEditionV2:return new l.MasterEdition(R,x);default:return}})}}n.Metadata=g,n.MAX_NAME_LENGTH=32,n.MAX_SYMBOL_LENGTH=10,n.MAX_URI_LENGTH=200,n.MAX_CREATOR_LEN=34;const y=S=>69+n.MAX_NAME_LENGTH+4+n.MAX_URI_LENGTH+4+n.MAX_SYMBOL_LENGTH+2+1+4+S*n.MAX_CREATOR_LEN;n.computeCreatorOffset=y})(DS);var ZU={},Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});Nf.CreateMetadata=Nf.CreateMetadataArgs=void 0;const XU=Ce,dv=Ln,hO=DS,_fe=Fo;let dw=class extends XU.Borsh.Data{constructor(){super(...arguments),this.instruction=0}};Nf.CreateMetadataArgs=dw;dw.SCHEMA=new Map([...hO.MetadataDataData.SCHEMA,...dw.struct([["instruction","u8"],["data",hO.MetadataDataData],["isMutable","u8"]])]);let vfe=class extends XU.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,metadataData:s,updateAuthority:o,mint:a,mintAuthority:c}=t,u=dw.serialize({data:s,isMutable:!0});this.add(new dv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:dv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:dv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:_fe.MetadataProgram.PUBKEY,data:u}))}};Nf.CreateMetadata=vfe;var $f={};Object.defineProperty($f,"__esModule",{value:!0});$f.UpdateMetadata=$f.UpdateMetadataArgs=void 0;const eK=Ce,Efe=Ln,fO=DS,Ife=Fo;let hw=class extends eK.Borsh.Data{constructor(){super(...arguments),this.instruction=1}};$f.UpdateMetadataArgs=hw;hw.SCHEMA=new Map([...fO.MetadataDataData.SCHEMA,...hw.struct([["instruction","u8"],["data",{kind:"option",type:fO.MetadataDataData}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]])]);let Rfe=class extends eK.Transaction{constructor(e,t){super(e);const{metadata:r,metadataData:i,updateAuthority:s,newUpdateAuthority:o,primarySaleHappened:a}=t,c=hw.serialize({data:i,updateAuthority:o&&o.toString(),primarySaleHappened:a||null});this.add(new Efe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}],programId:Ife.MetadataProgram.PUBKEY,data:c}))}};$f.UpdateMetadata=Rfe;var qf={};Object.defineProperty(qf,"__esModule",{value:!0});qf.CreateMasterEdition=qf.CreateMasterEditionArgs=void 0;const tK=Ce,Pfe=Jn,hv=Ln,xfe=Fo;let fw=class extends tK.Borsh.Data{constructor(){super(...arguments),this.instruction=10}};qf.CreateMasterEditionArgs=fw;fw.SCHEMA=fw.struct([["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]);let Bfe=class extends tK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,mint:a,mintAuthority:c,maxSupply:u}=t,l=fw.serialize({maxSupply:u||null});this.add(new hv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Pfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:hv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:hv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:xfe.MetadataProgram.PUBKEY,data:l}))}};qf.CreateMasterEdition=Bfe;var zf={};Object.defineProperty(zf,"__esModule",{value:!0});zf.MintNewEditionFromMasterEditionViaToken=zf.MintNewEditionFromMasterEditionViaTokenArgs=void 0;const nK=Ce,Tfe=Jn,fv=Ln,Cfe=Fo;let pw=class extends nK.Borsh.Data{constructor(){super(...arguments),this.instruction=11}};zf.MintNewEditionFromMasterEditionViaTokenArgs=pw;pw.SCHEMA=pw.struct([["instruction","u8"],["edition","u64"]]);let Mfe=class extends nK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,masterEdition:a,masterMetadata:c,mint:u,editionMarker:l,mintAuthority:d,tokenOwner:b,tokenAccount:p,editionValue:g}=t,y=pw.serialize({edition:g});this.add(new fv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:Tfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:fv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:fv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Cfe.MetadataProgram.PUBKEY,data:y}))}};zf.MintNewEditionFromMasterEditionViaToken=Mfe;var Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.UpdatePrimarySaleHappenedViaToken=Df.UpdatePrimarySaleHappenedViaTokenArgs=void 0;const rK=Ce,Lfe=Ln,Ofe=Fo;let gw=class extends rK.Borsh.Data{constructor(){super(...arguments),this.instruction=4}};Df.UpdatePrimarySaleHappenedViaTokenArgs=gw;gw.SCHEMA=gw.struct([["instruction","u8"]]);let Nfe=class extends rK.Transaction{constructor(e,t){super(e);const{metadata:r,owner:i,tokenAccount:s}=t,o=gw.serialize();this.add(new Lfe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Ofe.MetadataProgram.PUBKEY,data:o}))}};Df.UpdatePrimarySaleHappenedViaToken=Nfe;var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});Uf.SignMetadata=Uf.SignMetadataArgs=void 0;const iK=Ce,$fe=Ln,qfe=Fo;let yw=class extends iK.Borsh.Data{constructor(){super(...arguments),this.instruction=7}};Uf.SignMetadataArgs=yw;yw.SCHEMA=yw.struct([["instruction","u8"]]);let zfe=class extends iK.Transaction{constructor(e,t){super(e);const{metadata:r,creator:i}=t,s=yw.serialize();this.add(new $fe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:qfe.MetadataProgram.PUBKEY,data:s}))}};Uf.SignMetadata=zfe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Nf,n),t($f,n),t(qf,n),t(zf,n),t(Df,n),t(Uf,n)})(ZU);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Jc,n),t(Of,n),t(Fc,n),t(DS,n),t(Fo,n),t(ZU,n)})($d);(function(n){var e,t;Object.defineProperty(n,"__esModule",{value:!0}),n.RedeemBid=n.RedeemUnusedWinningConfigItemsAsAuctioneerArgs=n.ProxyCallAddress=n.RedeemBidArgs=void 0;const r=Ce,i=Jn,s=Ln,o=$d,a=eu,c=Xr;class u extends r.Borsh.Data{constructor(){super(...arguments),this.instruction=2}}n.RedeemBidArgs=u,e=u,u.SCHEMA=e.struct([["instruction","u8"]]);var l;(function(p){p[p.RedeemBid=0]="RedeemBid",p[p.RedeemFullRightsTransferBid=1]="RedeemFullRightsTransferBid"})(l=n.ProxyCallAddress||(n.ProxyCallAddress={}));class d extends r.Borsh.Data{constructor(){super(...arguments),this.instruction=12}}n.RedeemUnusedWinningConfigItemsAsAuctioneerArgs=d,t=d,d.SCHEMA=t.struct([["instruction","u8"],["winningConfigItemIndex","u8"],["proxyCall","u8"]]);class b extends r.Transaction{constructor(g,y){super(g);const{feePayer:S}=g,{store:w,vault:_,auction:R,auctionExtended:x,auctionManager:K,bidRedemption:G,bidderMeta:M,safetyDepositTokenStore:Q,destination:ie,safetyDeposit:ee,fractionMint:X,bidder:oe,isPrintingType:z,safetyDepositConfig:m,transferAuthority:v,masterEdition:T,reservationList:V,auctioneerReclaimIndex:C}=y,N=C?d.serialize({winningConfigItemIndex:C,proxyCall:l.RedeemBid}):u.serialize();this.add(new s.TransactionInstruction({keys:[{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:Q,isSigner:!1,isWritable:!0},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:G,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:X,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:oe,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!0,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:a.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:s.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},...z&&T&&V?[{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:V,isSigner:!1,isWritable:!0}]:[]],programId:c.MetaplexProgram.PUBKEY,data:N}))}}n.RedeemBid=b})(jB);var Kf={},sK;Object.defineProperty(Kf,"__esModule",{value:!0});Kf.RedeemFullRightsTransferBid=Kf.RedeemFullRightsTransferBidArgs=void 0;const oK=Ce,Dfe=Jn,pv=Ln,Ufe=$d,Kfe=eu,Wfe=Xr,pO=jB;class US extends oK.Borsh.Data{constructor(){super(...arguments),this.instruction=3}}Kf.RedeemFullRightsTransferBidArgs=US;sK=US;US.SCHEMA=sK.struct([["instruction","u8"]]);class Ffe extends oK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionExtended:a,auctionManager:c,bidRedemption:u,bidMetadata:l,safetyDepositTokenStore:d,destination:b,safetyDeposit:p,fractionMint:g,bidder:y,safetyDepositConfig:S,transferAuthority:w,masterMetadata:_,newAuthority:R,auctioneerReclaimIndex:x}=t,K=x?pO.RedeemUnusedWinningConfigItemsAsAuctioneerArgs.serialize({winningConfigItemIndex:x,proxyCall:pO.ProxyCallAddress.RedeemFullRightsTransferBid}):US.serialize();this.add(new pv.TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Dfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Kfe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Ufe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:pv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:pv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}],programId:Wfe.MetaplexProgram.PUBKEY,data:K}))}}Kf.RedeemFullRightsTransferBid=Ffe;var Wf={},aK;Object.defineProperty(Wf,"__esModule",{value:!0});Wf.RedeemPrintingV2Bid=Wf.RedeemPrintingV2BidArgs=void 0;const cK=Ce,Vfe=eu,jfe=$d,Hfe=Jn,gv=Ln,Yfe=Xr;class KS extends cK.Borsh.Data{constructor(){super(...arguments),this.instruction=14}}Wf.RedeemPrintingV2BidArgs=KS;aK=KS;KS.SCHEMA=aK.struct([["instruction","u8"],["editionOffset","u64"],["winIndex","u64"]]);class Gfe extends cK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionExtended:a,auctionManager:c,bidRedemption:u,bidMetadata:l,safetyDepositTokenStore:d,destination:b,safetyDeposit:p,bidder:g,safetyDepositConfig:y,metadata:S,prizeTrackingTicket:w,newMetadata:_,newEdition:R,masterEdition:x,newMint:K,editionMark:G,winIndex:M,editionOffset:Q}=t,ie=KS.serialize({winIndex:M,editionOffset:Q});this.add(new gv.TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:y,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:Hfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Vfe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:jfe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:gv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:gv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:G,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}],programId:Yfe.MetaplexProgram.PUBKEY,data:ie}))}}Wf.RedeemPrintingV2Bid=Gfe;var Ff={},uK;Object.defineProperty(Ff,"__esModule",{value:!0});Ff.SetStore=Ff.SetStoreArgs=void 0;const lK=Ce,Jfe=Jn,yv=Ln,Qfe=$d,Zfe=eu,Xfe=tu,epe=Xr;class WS extends lK.Borsh.Data{constructor(){super(...arguments),this.instruction=8}}Ff.SetStoreArgs=WS;uK=WS;WS.SCHEMA=uK.struct([["instruction","u8"],["public","u8"]]);class tpe extends lK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{admin:i,store:s,isPublic:o}=t,a=WS.serialize({public:o});this.add(new yv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Jfe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Zfe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Qfe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Xfe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:yv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:yv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:epe.MetaplexProgram.PUBKEY,data:a}))}}Ff.SetStore=tpe;var Vf={},dK;Object.defineProperty(Vf,"__esModule",{value:!0});Vf.SetStoreV2=Vf.SetStoreV2Args=void 0;const npe=Jn,mv=Ln,hK=Ce,rpe=eu,ipe=$d,spe=tu,ope=Xr;class FS extends hK.Borsh.Data{constructor(){super(...arguments),this.instruction=23}}Vf.SetStoreV2Args=FS;dK=FS;FS.SCHEMA=dK.struct([["instruction","u8"],["public","u8"],["settingsUri",{kind:"option",type:"string"}]]);class ape extends hK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{admin:i,store:s,config:o,isPublic:a,settingsUri:c}=t,u=FS.serialize({public:a,settingsUri:c});this.add(new mv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:npe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:rpe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:ipe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:spe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:mv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:mv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:ope.MetaplexProgram.PUBKEY,data:u}))}}Vf.SetStoreV2=ape;var jf={},fK;Object.defineProperty(jf,"__esModule",{value:!0});jf.SetWhitelistedCreator=jf.SetWhitelistedCreatorArgs=void 0;const pK=Ce,bv=Ln,cpe=Xr;class VS extends pK.Borsh.Data{constructor(){super(...arguments),this.instruction=9}}jf.SetWhitelistedCreatorArgs=VS;fK=VS;VS.SCHEMA=fK.struct([["instruction","u8"],["activated","u8"]]);class upe extends pK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{admin:i,whitelistedCreatorPDA:s,store:o,creator:a,activated:c}=t,u=VS.serialize({activated:c});this.add(new bv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:bv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:bv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:cpe.MetaplexProgram.PUBKEY,data:u}))}}jf.SetWhitelistedCreator=upe;var Hf={},gK;Object.defineProperty(Hf,"__esModule",{value:!0});Hf.StartAuction=Hf.StartAuctionArgs=void 0;const yK=Ce,gO=Ln,lpe=tu,dpe=Xr;class jS extends yK.Borsh.Data{constructor(){super(...arguments),this.instruction=5}}Hf.StartAuctionArgs=jS;gK=jS;jS.SCHEMA=gK.struct([["instruction","u8"]]);class hpe extends yK.Transaction{constructor(e,t){super(e);const{store:r,auction:i,auctionManager:s,auctionManagerAuthority:o}=t,a=jS.serialize();this.add(new gO.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:lpe.AuctionProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:gO.SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}],programId:dpe.MetaplexProgram.PUBKEY,data:a}))}}Hf.StartAuction=hpe;var Yf={},mK;Object.defineProperty(Yf,"__esModule",{value:!0});Yf.RedeemParticipationBidV3=Yf.RedeemParticipationBidV3Args=void 0;const bK=Ce,fpe=$d,ppe=eu,gpe=Jn,wv=Ln,ype=Xr;class HS extends bK.Borsh.Data{constructor(){super(...arguments),this.instruction=19}}Yf.RedeemParticipationBidV3Args=HS;mK=HS;HS.SCHEMA=mK.struct([["instruction","u8"],["winIndex",{kind:"option",type:"u64"}]]);class mpe extends bK.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{store:i,vault:s,auction:o,auctionExtended:a,auctionManager:c,bidRedemption:u,bidMetadata:l,safetyDepositTokenStore:d,destination:b,safetyDeposit:p,bidder:g,safetyDepositConfig:y,metadata:S,prizeTrackingTicket:w,newMetadata:_,newEdition:R,masterEdition:x,newMint:K,editionMark:G,winIndex:M,transferAuthority:Q,acceptPaymentAccount:ie,tokenPaymentAccount:ee}=t,X=HS.serialize({winIndex:M});this.add(new wv.TransactionInstruction({keys:[{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:y,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:gpe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:ppe.VaultProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:fpe.MetadataProgram.PUBKEY,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:wv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:wv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:Q,isSigner:!0,isWritable:!1},{pubkey:ie,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!0},{pubkey:w,isSigner:!1,isWritable:!0},{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!0},{pubkey:K,isSigner:!1,isWritable:!0},{pubkey:G,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:S,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}],programId:ype.MetaplexProgram.PUBKEY,data:X}))}}Yf.RedeemParticipationBidV3=mpe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Cf,n),t(Mf,n),t(Lf,n),t(jB,n),t(Kf,n),t(Wf,n),t(Ff,n),t(Vf,n),t(jf,n),t(Hf,n),t(Yf,n)})(WU);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(bB,n),t(xB,n),t(Pf,n),t(xf,n),t(zU,n),t(Bf,n),t(Tf,n),t(fd,n),t(NS,n),t(Xr,n),t(WU,n)})(mB);const bpe=Uo(mB),wpe=Sd({__proto__:null,default:bpe},[mB]);var YB={},kv={},qd={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.TokenStandard=n.UseMethod=n.MetadataKey=void 0,function(e){e[e.Uninitialized=0]="Uninitialized",e[e.MetadataV1=4]="MetadataV1",e[e.EditionV1=1]="EditionV1",e[e.MasterEditionV1=2]="MasterEditionV1",e[e.MasterEditionV2=6]="MasterEditionV2",e[e.EditionMarker=7]="EditionMarker",e[e.UseAuthorityRecord=8]="UseAuthorityRecord",e[e.CollectionAuthorityRecord=9]="CollectionAuthorityRecord"}(n.MetadataKey||(n.MetadataKey={})),function(e){e[e.Burn=0]="Burn",e[e.Single=1]="Single",e[e.Multiple=2]="Multiple"}(n.UseMethod||(n.UseMethod={})),function(e){e[e.NonFungible=0]="NonFungible",e[e.FungibleAsset=1]="FungibleAsset",e[e.Fungible=2]="Fungible",e[e.NonFungibleEdition=3]="NonFungibleEdition"}(n.TokenStandard||(n.TokenStandard={}))})(qd);var Sv={},$i={},kpe=ce&&ce.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Spe=ce&&ce.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),hc=ce&&ce.__decorate||function(n,e,t,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(i<3?o(s):i>3?o(e,t,s):o(e,t))||s);return i>3&&s&&Object.defineProperty(e,t,s),s},Ape=ce&&ce.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&kpe(e,n,t);return Spe(e,n),e},wK=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($i,"__esModule",{value:!0});var kK=$i.deserializeUnchecked=IK=$i.deserialize=EK=$i.serialize=$i.BinaryReader=$i.BinaryWriter=$i.BorshError=$i.baseDecode=$i.baseEncode=void 0;const vu=wK(Fs),SK=wK(Vs),_pe=Ape(d8),vpe=typeof TextDecoder!="function"?_pe.TextDecoder:TextDecoder,Epe=new vpe("utf-8",{fatal:!0});function Ipe(n){return typeof n=="string"&&(n=Buffer.from(n,"utf8")),SK.default.encode(Buffer.from(n))}$i.baseEncode=Ipe;function Rpe(n){return Buffer.from(SK.default.decode(n))}$i.baseDecode=Rpe;const Av=1024;class ls extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}$i.BorshError=ls;class AK{constructor(){this.buf=Buffer.alloc(Av),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Av)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new vu.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Av)]),this.length+=e.length}writeString(e){this.maybeResize();const t=Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}$i.BinaryWriter=AK;function fc(n,e,t){const r=t.value;t.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new ls("Reached the end of buffer when deserializing")}throw s}}}class wo{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new vu.default(e,"le")}readU128(){const e=this.readBuffer(16);return new vu.default(e,"le")}readU256(){const e=this.readBuffer(32);return new vu.default(e,"le")}readU512(){const e=this.readBuffer(64);return new vu.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new ls(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return Epe.decode(t)}catch(r){throw new ls(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let i=0;i<t;++i)r.push(e());return r}}hc([fc],wo.prototype,"readU8",null);hc([fc],wo.prototype,"readU16",null);hc([fc],wo.prototype,"readU32",null);hc([fc],wo.prototype,"readU64",null);hc([fc],wo.prototype,"readU128",null);hc([fc],wo.prototype,"readU256",null);hc([fc],wo.prototype,"readU512",null);hc([fc],wo.prototype,"readString",null);hc([fc],wo.prototype,"readFixedArray",null);hc([fc],wo.prototype,"readArray",null);$i.BinaryReader=wo;function _K(n){return n.charAt(0).toUpperCase()+n.slice(1)}function El(n,e,t,r,i){try{if(typeof r=="string")i[`write${_K(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new ls(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);i.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new ls(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let s=0;s<r[1];s++)El(n,null,t[s],r[0],i)}else i.writeArray(t,s=>{El(n,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?i.writeU8(0):(i.writeU8(1),El(n,e,t,r.type,i));break}case"map":{i.writeU32(t.size),t.forEach((s,o)=>{El(n,e,o,r.key,i),El(n,e,s,r.value,i)});break}default:throw new ls(`FieldType ${r} unrecognized`)}else vK(n,t,i)}catch(s){throw s instanceof ls&&s.addToFieldPath(e),s}}function vK(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new ls(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{El(n,i,e[i],s,t)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){t.writeU8(s),El(n,o,e[o],a,t);break}}}else throw new ls(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function Ppe(n,e,t=AK){const r=new t;return vK(n,e,r),r.toArray()}var EK=$i.serialize=Ppe;function Il(n,e,t,r){try{if(typeof t=="string")return r[`read${_K(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const i=[];for(let s=0;s<t[1];s++)i.push(Il(n,null,t[0],r));return i}else return r.readArray(()=>Il(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?Il(n,e,t.type,r):void 0;if(t.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Il(n,e,t.key,r),c=Il(n,e,t.value,r);i.set(a,c)}return i}return GB(n,t,r)}catch(i){throw i instanceof ls&&i.addToFieldPath(e),i}}function GB(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new ls(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of n.get(e).fields)i[s]=Il(n,s,o,t);return new e(i)}if(r.kind==="enum"){const i=t.readU8();if(i>=r.values.length)throw new ls(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Il(n,s,o,t);return new e({[s]:a})}throw new ls(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function xpe(n,e,t,r=wo){const i=new r(t),s=GB(n,e,i);if(i.offset<t.length)throw new ls(`Unexpected ${t.length-i.offset} bytes after deserialized data`);return s}var IK=$i.deserialize=xpe;function Bpe(n,e,t,r=wo){const i=new r(t);return GB(n,e,i)}kK=$i.deserializeUnchecked=Bpe;var RK={},Gf={};Object.defineProperty(Gf,"__esModule",{value:!0});Gf.createError=Gf.DefaultDataPack=void 0;const Tpe=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]);class Cpe{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}}Gf.DefaultDataPack=Cpe;function Mpe(n,e){const t={code:n,message:Tpe.get(n)||"Internal Server Error"};return e&&(t.data=e),t}Gf.createError=Mpe;Object.defineProperty(RK,"__esModule",{value:!0});const Lpe=Wo,Ope=Gf;class Npe extends Lpe.EventEmitter{constructor(t,r="ws://localhost:8080",{autoconnect:i=!0,reconnect:s=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,l){super();Ee(this,"address");Ee(this,"rpc_id");Ee(this,"queue");Ee(this,"options");Ee(this,"autoconnect");Ee(this,"ready");Ee(this,"reconnect");Ee(this,"reconnect_timer_id");Ee(this,"reconnect_interval");Ee(this,"max_reconnects");Ee(this,"rest_options");Ee(this,"current_reconnects");Ee(this,"generate_request_id");Ee(this,"socket");Ee(this,"webSocketFactory");Ee(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=i,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new Ope.DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,r,i,s){return!s&&typeof i=="object"&&(s=i,i=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(t,r),u={jsonrpc:"2.0",method:t,params:r||void 0,id:c};this.socket.send(this.dataPack.encode(u),s,l=>{if(l)return a(l);this.queue[c]={promise:[o,a]},i&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},i))})})}async login(t){const r=await this.call("rpc.login",t);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(t,r){return new Promise((i,s)=>{if(!this.ready)return s(new Error("socket not ready"));const o={jsonrpc:"2.0",method:t,params:r};this.socket.send(this.dataPack.encode(o),a=>{if(a)return s(a);i()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.on",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+r[t]);return r}async unsubscribe(t){typeof t=="string"&&(t=[t]);const r=await this.call("rpc.off",t);if(typeof t=="string"&&r[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(t,r){this.socket.close(t||1e3,r)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}_connect(t,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:i})=>{i instanceof ArrayBuffer&&(i=Buffer.from(i).toString());try{i=this.dataPack.decode(i)}catch{return}if(i.notification&&this.listeners(i.notification).length){if(!Object.keys(i.params).length)return this.emit(i.notification);const s=[i.notification];if(i.params.constructor===Object)s.push(i.params);else for(let o=0;o<i.params.length;o++)s.push(i.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[i.id])return i.method?Promise.resolve().then(()=>{this.emit(i.method,i==null?void 0:i.params)}):void 0;"error"in i=="result"in i&&this.queue[i.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[i.id].timeout&&clearTimeout(this.queue[i.id].timeout),i.error?this.queue[i.id].promise[1](i.error):this.queue[i.id].promise[0](i.result),delete this.queue[i.id]}),this.socket.addEventListener("error",i=>this.emit("error",i)),this.socket.addEventListener("close",({code:i,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",i,s),0),this.ready=!1,this.socket=void 0,i!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(t,r),this.reconnect_interval)))})}}var $pe=RK.default=Npe,PK={};Object.defineProperty(PK,"__esModule",{value:!0});const qpe=Wo;class zpe extends qpe.EventEmitter{constructor(t,r,i){super();Ee(this,"socket");this.socket=new window.WebSocket(t,i),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=s=>this.emit("message",s.data),this.socket.onerror=s=>this.emit("error",s),this.socket.onclose=s=>{this.emit("close",s.code,s.reason)}}send(t,r,i){const s=i||r;try{this.socket.send(t),s()}catch(o){s(o)}}close(t,r){this.socket.close(t,r)}addEventListener(t,r,i){this.socket.addEventListener(t,r,i)}}function Dpe(n,e){return new zpe(n,e)}var Upe=PK.default=Dpe;const Kpe=on.utils.randomPrivateKey,yO=()=>{const n=on.utils.randomPrivateKey(),e=mw(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},mw=on.getPublicKey;function mO(n){try{return on.ExtendedPoint.fromHex(n),!0}catch{return!1}}const JB=(n,e)=>on.sign(n,e.slice(0,32)),Wpe=on.verify,jt=n=>H.Buffer.isBuffer(n)?n:n instanceof Uint8Array?H.Buffer.from(n.buffer,n.byteOffset,n.byteLength):H.Buffer.from(n);let QB=class{constructor(e){Object.assign(this,e)}encode(){return H.Buffer.from(EK(iy,this))}static decode(e){return IK(iy,this,e)}static decodeUnchecked(e){return kK(iy,this,e)}};class Fpe extends QB{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const iy=new Map;var xK;const BK=32,tc=32;function Vpe(n){return n._bn!==void 0}let bO=1;class ze extends QB{constructor(e){if(super({}),this._bn=void 0,Vpe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Pe.decode(e);if(t.length!=tc)throw new Error("Invalid public key input");this._bn=new Zi(t)}else this._bn=new Zi(e);if(this._bn.byteLength()>tc)throw new Error("Invalid public key input")}}static unique(){const e=new ze(bO);return bO+=1,new ze(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Pe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(H.Buffer);if(e.length===tc)return e;const t=H.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const i=H.Buffer.concat([e.toBuffer(),H.Buffer.from(t),r.toBuffer()]),s=po(i);return new ze(s)}static createProgramAddressSync(e,t){let r=H.Buffer.alloc(0);e.forEach(function(s){if(s.length>BK)throw new TypeError("Max seed length exceeded");r=H.Buffer.concat([r,jt(s)])}),r=H.Buffer.concat([r,t.toBuffer(),H.Buffer.from("ProgramDerivedAddress")]);const i=po(r);if(mO(i))throw new Error("Invalid seeds, address must fall off the curve");return new ze(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,i;for(;r!=0;){try{const s=e.concat(H.Buffer.from([r]));i=this.createProgramAddressSync(s,t)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ze(e);return mO(t.toBytes())}}xK=ze;ze.default=new xK("11111111111111111111111111111111");iy.set(ze,{kind:"struct",fields:[["_bn","u256"]]});class jpe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=jt(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=jt(Kpe()),this._publicKey=jt(mw(this._secretKey))}get publicKey(){return new ze(this._publicKey)}get secretKey(){return H.Buffer.concat([this._secretKey,this._publicKey],64)}}const Hpe=new ze("BPFLoader1111111111111111111111111111111111"),Uu=1232,YS=127,im=64;class ZB extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(ZB.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class XB extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(XB.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Th extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Th.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class sm{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Xt=(n="publicKey")=>fe(32,n),Ype=(n="signature")=>fe(64,n),Dl=(n="string")=>{const e=U([D("length"),D("lengthPadding"),fe(Rt(D(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>t(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:H.Buffer.from(s,"utf8")};return r(c,o,a)},i.alloc=s=>D().span+D().span+H.Buffer.from(s,"utf8").length,i},Gpe=(n="authorized")=>U([Xt("staker"),Xt("withdrawer")],n),Jpe=(n="lockup")=>U([Je("unixTimestamp"),Je("epoch"),Xt("custodian")],n),Qpe=(n="voteInit")=>U([Xt("nodePubkey"),Xt("authorizedVoter"),Xt("authorizedWithdrawer"),ae("commission")],n),Zpe=(n="voteAuthorizeWithSeedArgs")=>U([D("voteAuthorizationType"),Xt("currentAuthorityDerivedKeyOwnerPubkey"),Dl("currentAuthorityDerivedKeySeed"),Xt("newAuthorized")],n);function TK(n,e){const t=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*t(i.elementLayout)}else if("fields"in i)return TK({layout:i},e[i.property]);return 0};let r=0;return n.layout.fields.forEach(i=>{r+=t(i)}),r}function xs(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,!(r&128))break}return e}function oo(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function In(n,e){if(!n)throw new Error(e||"Assertion failed")}class GS{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,i=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},s=i(t);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new GS(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];In(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{In(t.length>0,"Expected at least one writable signer key");const[c]=t[0];In(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ze(c)),...r.map(([c])=>new ze(c)),...i.map(([c])=>new ze(c)),...s.map(([c])=>new ze(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,t){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(t(o)){const a=new ze(s),c=e.findIndex(u=>u.equals(a));c>=0&&(In(c<256,"Max lookup table index exceeded"),r.push(c),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const CK="Reached end of buffer unexpectedly";function Fa(n){if(n.length===0)throw new Error(CK);return n.shift()}function Bs(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(CK);return n.splice(...e)}class ua{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ze(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Pe.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new sm(this.staticAccountKeys)}static compile(e){const t=GS.compile(e.instructions,e.payerKey),[r,i]=t.getMessageComponents(),o=new sm(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Pe.encode(a.data)}));return new ua({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,s=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];oo(t,e);const r=this.instructions.map(d=>{const{accounts:b,programIdIndex:p}=d,g=Array.from(Pe.decode(d.data));let y=[];oo(y,b.length);let S=[];return oo(S,g.length),{programIdIndex:p,keyIndicesCount:H.Buffer.from(y),keyIndices:b,dataLength:H.Buffer.from(S),data:g}});let i=[];oo(i,r.length);let s=H.Buffer.alloc(Uu);H.Buffer.from(i).copy(s);let o=i.length;r.forEach(d=>{const p=U([ae("programIdIndex"),fe(d.keyIndicesCount.length,"keyIndicesCount"),Te(ae("keyIndex"),d.keyIndices.length,"keyIndices"),fe(d.dataLength.length,"dataLength"),Te(ae("userdatum"),d.data.length,"data")]).encode(d,s,o);o+=p}),s=s.slice(0,o);const a=U([fe(1,"numRequiredSignatures"),fe(1,"numReadonlySignedAccounts"),fe(1,"numReadonlyUnsignedAccounts"),fe(t.length,"keyCount"),Te(Xt("key"),e,"keys"),Xt("recentBlockhash")]),c={numRequiredSignatures:H.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:H.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:H.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:H.Buffer.from(t),keys:this.accountKeys.map(d=>jt(d.toBytes())),recentBlockhash:Pe.decode(this.recentBlockhash)};let u=H.Buffer.alloc(2048);const l=a.encode(c,u);return s.copy(u,l),u.slice(0,l+s.length)}static from(e){let t=[...e];const r=Fa(t);if(r!==(r&YS))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Fa(t),s=Fa(t),o=xs(t);let a=[];for(let b=0;b<o;b++){const p=Bs(t,0,tc);a.push(new ze(H.Buffer.from(p)))}const c=Bs(t,0,tc),u=xs(t);let l=[];for(let b=0;b<u;b++){const p=Fa(t),g=xs(t),y=Bs(t,0,g),S=xs(t),w=Bs(t,0,S),_=Pe.encode(H.Buffer.from(w));l.push({programIdIndex:p,accounts:y,data:_})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:Pe.encode(H.Buffer.from(c)),accountKeys:a,instructions:l};return new ua(d)}}class pd{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new sm(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=t-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)t.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)t.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=GS.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const l of s){const d=t.extractTableLookup(l);if(d!==void 0){const[b,{writable:p,readonly:g}]=d;r.push(b),i.writable.push(...p),i.readonly.push(...g)}}const[o,a]=t.getMessageComponents(),u=new sm(a,i).compileInstructions(e.instructions);return new pd({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();oo(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();oo(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();oo(s,this.addressTableLookups.length);const o=U([ae("prefix"),U([ae("numRequiredSignatures"),ae("numReadonlySignedAccounts"),ae("numReadonlyUnsignedAccounts")],"header"),fe(e.length,"staticAccountKeysLength"),Te(Xt(),this.staticAccountKeys.length,"staticAccountKeys"),Xt("recentBlockhash"),fe(r.length,"instructionsLength"),fe(t.length,"serializedInstructions"),fe(s.length,"addressTableLookupsLength"),fe(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Uu),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Pe.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Uu);for(const r of this.compiledInstructions){const i=Array();oo(i,r.accountKeyIndexes.length);const s=Array();oo(s,r.data.length);const o=U([ae("programIdIndex"),fe(i.length,"encodedAccountKeyIndexesLength"),Te(ae(),r.accountKeyIndexes.length,"accountKeyIndexes"),fe(s.length,"encodedDataLength"),fe(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Uu);for(const r of this.addressTableLookups){const i=Array();oo(i,r.writableIndexes.length);const s=Array();oo(s,r.readonlyIndexes.length);const o=U([Xt("accountKey"),fe(i.length,"encodedWritableIndexesLength"),Te(ae(),r.writableIndexes.length,"writableIndexes"),fe(s.length,"encodedReadonlyIndexesLength"),Te(ae(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Fa(t),i=r&YS;In(r!==i,"Expected versioned message but received legacy message");const s=i;In(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Fa(t),numReadonlySignedAccounts:Fa(t),numReadonlyUnsignedAccounts:Fa(t)},a=[],c=xs(t);for(let g=0;g<c;g++)a.push(new ze(Bs(t,0,tc)));const u=Pe.encode(Bs(t,0,tc)),l=xs(t),d=[];for(let g=0;g<l;g++){const y=Fa(t),S=xs(t),w=Bs(t,0,S),_=xs(t),R=new Uint8Array(Bs(t,0,_));d.push({programIdIndex:y,accountKeyIndexes:w,data:R})}const b=xs(t),p=[];for(let g=0;g<b;g++){const y=new ze(Bs(t,0,tc)),S=xs(t),w=Bs(t,0,S),_=xs(t),R=Bs(t,0,_);p.push({accountKey:y,writableIndexes:w,readonlyIndexes:R})}return new pd({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:p})}}const eT={deserializeMessageVersion(n){const e=n[0],t=e&YS;return t===e?"legacy":t},deserialize:n=>{const e=eT.deserializeMessageVersion(n);if(e==="legacy")return ua.from(n);if(e===0)return pd.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ec=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Xpe=H.Buffer.alloc(im).fill(0);class ur{constructor(e){this.keys=void 0,this.programId=void 0,this.data=H.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Mn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ur(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<t.length;y++)if(t[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const i=[],s=[];t.forEach(y=>{y.keys.forEach(w=>{s.push({...w})});const S=y.programId.toString();i.includes(S)||i.push(S)}),i.forEach(y=>{s.push({pubkey:new ze(y),isSigner:!1,isWritable:!1})});const o=[];s.forEach(y=>{const S=y.pubkey.toString(),w=o.findIndex(_=>_.pubkey.toString()===S);w>-1?(o[w].isWritable=o[w].isWritable||y.isWritable,o[w].isSigner=o[w].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,S){if(y.isSigner!==S.isSigner)return y.isSigner?-1:1;if(y.isWritable!==S.isWritable)return y.isWritable?-1:1;const w={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(S.pubkey.toBase58(),"en",w)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const S=o.findIndex(w=>w.pubkey.equals(y.publicKey));if(S>-1)o[S].isSigner||(o[S].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],b=[];o.forEach(({pubkey:y,isSigner:S,isWritable:w})=>{S?(d.push(y.toString()),c+=1,w||(u+=1)):(b.push(y.toString()),w||(l+=1))});const p=d.concat(b),g=t.map(y=>{const{data:S,programId:w}=y;return{programIdIndex:p.indexOf(w.toString()),accounts:y.keys.map(_=>p.indexOf(_.pubkey.toString())),data:Pe.encode(S)}});return g.forEach(y=>{In(y.programIdIndex>=0),y.accounts.forEach(S=>In(S>=0))}),new ua({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:e,instructions:g})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((i,s)=>t[s].equals(i.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const i=r.toString();return t.has(i)?!1:(t.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const s of e){const o=s.publicKey.toString();t.has(o)||(t.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(i=>{const s=JB(r,i.secretKey);this._addSignature(i.publicKey,jt(s))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){In(t.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=H.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?t&&(r.missing||(r.missing=[])).push(s):Wpe(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,t);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:t}=this,r=[];oo(r,t.length);const i=r.length+t.length*64+e.length,s=H.Buffer.alloc(i);return In(t.length<256),H.Buffer.from(r).copy(s,0),t.forEach(({signature:o},a)=>{o!==null&&(In(o.length===64,"signature has invalid length"),H.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+t.length*64),In(s.length<=Uu,`Transaction too large: ${s.length} > ${Uu}`),s}get keys(){return In(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return In(this.instructions.length===1),this.instructions[0].programId}get data(){return In(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=xs(t);let i=[];for(let s=0;s<r;s++){const o=Bs(t,0,im);i.push(Pe.encode(H.Buffer.from(o)))}return Mn.populate(ua.from(t),i)}static populate(e,t=[]){const r=new Mn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((i,s)=>{const o={signature:i==Pe.encode(Xpe)?null:Pe.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ur({keys:s,programId:e.accountKeys[i.programIdIndex],data:Pe.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class tT{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;In(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;In(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),b=d.get(0);if(b===void 0)throw new Error("Failed to decompile message because no account keys were found");const p=[];for(const g of i){const y=[];for(const w of g.accountKeyIndexes){const _=d.get(w);if(_===void 0)throw new Error(`Failed to find key for account key index ${w}`);const R=w<o;let x;R?x=w<u:w<d.staticAccountKeys.length?x=w-o<l:x=w-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,y.push({pubkey:_,isSigner:w<r.numRequiredSignatures,isWritable:x})}const S=d.get(g.programIdIndex);if(S===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);p.push(new ur({programId:S,data:jt(g.data),keys:y}))}return new tT({payerKey:b,instructions:p,recentBlockhash:s})}compileToLegacyMessage(){return ua.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return pd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class nT{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)In(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(im));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();oo(t,this.signatures.length);const r=U([fe(t.length,"encodedSignaturesLength"),Te(Ype(),this.signatures.length,"signatures"),fe(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let t=[...e];const r=[],i=xs(t);for(let o=0;o<i;o++)r.push(new Uint8Array(Bs(t,0,im)));const s=eT.deserialize(new Uint8Array(t));return new nT(s,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));In(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=JB(t,i.secretKey)}}addSignature(e,t){In(t.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));In(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=t}}const ege=160,tge=64,nge=ege/tge,MK=1e3/nge,Ea=new ze("SysvarC1ock11111111111111111111111111111111"),rge=new ze("SysvarEpochSchedu1e111111111111111111111111"),ige=new ze("Sysvar1nstructions1111111111111111111111111"),G1=new ze("SysvarRecentB1ockHashes11111111111111111111"),Jf=new ze("SysvarRent111111111111111111111111111111111"),sge=new ze("SysvarRewards111111111111111111111111111111"),oge=new ze("SysvarS1otHashes111111111111111111111111111"),age=new ze("SysvarS1otHistory11111111111111111111111111"),J1=new ze("SysvarStakeHistory1111111111111111111111111");class om extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,t(s)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const cge={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class gt extends Error{constructor({code:e,message:t,data:r},i){super(i!=null?`${i}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function MR(n,e,t,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},s=await n.sendTransaction(e,t,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(s,r&&r.commitment)).value;if(o.err)throw s!=null?new om({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Rl(n){return new Promise(e=>setTimeout(e,n))}function gn(n,e){const t=n.layout.span>=0?n.layout.span:TK(n,e),r=H.Buffer.alloc(t),i=Object.assign({instruction:n.index},e);return n.layout.encode(i,r),r}function Kn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const LK=Be("lamportsPerSignature"),OK=U([D("version"),D("state"),Xt("authorizedPubkey"),Xt("nonce"),U([LK],"feeCalculator")]),LR=OK.span;class JS{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=OK.decode(jt(e),0);return new JS({authorizedPubkey:new ze(t.authorizedPubkey),nonce:new ze(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const uge=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},lge=n=>e=>{const t=fe(n,e),{encode:r,decode:i}=uge(t),s=t;return s.decode=(o,a)=>{const c=i(o,a);return Tp(H.Buffer.from(c))},s.encode=(o,a,c)=>{const u=Ko(o,n);return r(u,a,c)},s},Qf=lge(8);class dge{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(mr))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:i}=Kn(mr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ze(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Kn(mr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:i}=Kn(mr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ze(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Kn(mr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:i,programId:s}=Kn(mr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ze(t),seed:r,space:i,programId:new ze(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Kn(mr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ze(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:i}=Kn(mr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ze(t),seed:r,programId:new ze(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:i,space:s,programId:o}=Kn(mr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ze(t),seed:r,lamports:i,space:s,programId:new ze(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Kn(mr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ze(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(mr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Kn(mr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Kn(mr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ze(t)}}static checkProgramId(e){if(!e.equals(Ti.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const mr=Object.freeze({Create:{index:0,layout:U([D("instruction"),Je("lamports"),Je("space"),Xt("programId")])},Assign:{index:1,layout:U([D("instruction"),Xt("programId")])},Transfer:{index:2,layout:U([D("instruction"),Qf("lamports")])},CreateWithSeed:{index:3,layout:U([D("instruction"),Xt("base"),Dl("seed"),Je("lamports"),Je("space"),Xt("programId")])},AdvanceNonceAccount:{index:4,layout:U([D("instruction")])},WithdrawNonceAccount:{index:5,layout:U([D("instruction"),Je("lamports")])},InitializeNonceAccount:{index:6,layout:U([D("instruction"),Xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([D("instruction"),Xt("authorized")])},Allocate:{index:8,layout:U([D("instruction"),Je("space")])},AllocateWithSeed:{index:9,layout:U([D("instruction"),Xt("base"),Dl("seed"),Je("space"),Xt("programId")])},AssignWithSeed:{index:10,layout:U([D("instruction"),Xt("base"),Dl("seed"),Xt("programId")])},TransferWithSeed:{index:11,layout:U([D("instruction"),Qf("lamports"),Dl("seed"),Xt("programId")])},UpgradeNonceAccount:{index:12,layout:U([D("instruction")])}});class Ti{constructor(){}static createAccount(e){const t=mr.Create,r=gn(t,{lamports:e.lamports,space:e.space,programId:jt(e.programId.toBuffer())});return new ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const i=mr.TransferWithSeed;t=gn(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=mr.Transfer;t=gn(i,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const i=mr.AssignWithSeed;t=gn(i,{base:jt(e.basePubkey.toBuffer()),seed:e.seed,programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=mr.Assign;t=gn(i,{programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=mr.CreateWithSeed,r=gn(t,{base:jt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:jt(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ur({keys:i,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Mn;"basePubkey"in e&&"seed"in e?t.add(Ti.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:LR,programId:this.programId})):t.add(Ti.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:LR,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=mr.InitializeNonceAccount,r=gn(t,{authorized:jt(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:G1,isSigner:!1,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ur(i)}static nonceAdvance(e){const t=mr.AdvanceNonceAccount,r=gn(t),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:G1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ur(i)}static nonceWithdraw(e){const t=mr.WithdrawNonceAccount,r=gn(t,{lamports:e.lamports});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:G1,isSigner:!1,isWritable:!1},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=mr.AuthorizeNonceAccount,r=gn(t,{authorized:jt(e.newAuthorizedPubkey.toBuffer())});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const i=mr.AllocateWithSeed;t=gn(i,{base:jt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:jt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=mr.Allocate;t=gn(i,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}}Ti.programId=new ze("11111111111111111111111111111111");const hge=Uu-300;class gd{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/gd.chunkSize)+1+1)}static async load(e,t,r,i,s){{const d=await e.getMinimumBalanceForRentExemption(s.length),b=await e.getAccountInfo(r.publicKey,"confirmed");let p=null;if(b!==null){if(b.executable)return console.error("Program load failed, account is already executable"),!1;b.data.length!==s.length&&(p=p||new Mn,p.add(Ti.allocate({accountPubkey:r.publicKey,space:s.length}))),b.owner.equals(i)||(p=p||new Mn,p.add(Ti.assign({accountPubkey:r.publicKey,programId:i}))),b.lamports<d&&(p=p||new Mn,p.add(Ti.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-b.lamports})))}else p=new Mn().add(Ti.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:s.length,programId:i}));p!==null&&await MR(e,p,[t,r],{commitment:"confirmed"})}const o=U([D("instruction"),D("offset"),D("bytesLength"),D("bytesLengthPadding"),Te(ae("byte"),Rt(D(),-8),"bytes")]),a=gd.chunkSize;let c=0,u=s,l=[];for(;u.length>0;){const d=u.slice(0,a),b=H.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},b);const p=new Mn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:b});l.push(MR(e,p,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Rl(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=U([D("instruction")]),b=H.Buffer.alloc(d.span);d.encode({instruction:1},b);const p=new Mn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1}],programId:i,data:b}),g="processed",y=await e.sendTransaction(p,[t,r],{preflightCommitment:g}),{context:S,value:w}=await e.confirmTransaction({signature:y,lastValidBlockHeight:p.lastValidBlockHeight,blockhash:p.recentBlockhash},g);if(w.err)throw new Error(`Transaction ${y} failed (${JSON.stringify(w)})`);for(;;){try{if(await e.getSlot({commitment:g})>S.slot)break}catch{}await new Promise(_=>setTimeout(_,Math.round(MK/2)))}}return!0}}gd.chunkSize=hge;const fge=new ze("BPFLoader2111111111111111111111111111111111");class pge{static getMinNumSignatures(e){return gd.getMinNumSignatures(e)}static load(e,t,r,i,s){return gd.load(e,t,r,s,i)}}function gge(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yge=Object.prototype.toString,mge=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function Og(n,e){var t,r,i,s,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return Og(n.toJSON(),e);if(c=yge.call(n),c==="[object Array]"){for(i="[",r=n.length-1,t=0;t<r;t++)i+=Og(n[t],!0)+",";return r>-1&&(i+=Og(n[t],!0)),i+"]"}else if(c==="[object Object]"){for(s=mge(n).sort(),r=s.length,i="",t=0;t<r;)o=s[t],a=Og(n[o],!1),a!==void 0&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),t++;return"{"+i+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var bge=function(n){var e=Og(n,!1);if(e!==void 0)return""+e},wO=gge(bge);const wg=32;function _v(n){let e=0;for(;n>1;)n/=2,e++;return e}function wge(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class NK{constructor(e,t,r,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=_v(wge(e+wg+1))-_v(wg)-1,r=this.getSlotsInEpoch(t),i=e-(r-wg);return[t,i]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),i=this.firstNormalEpoch+r,s=t%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*wg:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+_v(wg)):this.slotsPerEpoch}}var kge=globalThis.fetch;class Sge extends $pe{constructor(e,t,r){const i=s=>{const o=Upe(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Age(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const kO=56;class OR{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Age(_ge,e),r=e.length-kO;In(r>=0,"lookup table is invalid"),In(r%32===0,"lookup table is invalid");const i=r/32,{addresses:s}=U([Te(Xt(),i,"addresses")]).decode(e.slice(kO));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ze(t.authority[0]):void 0,addresses:s.map(o=>new ze(o))}}}const _ge={index:1,layout:U([D("typeIndex"),Qf("deactivationSlot"),Be("lastExtendedSlot"),ae("lastExtendedStartIndex"),ae(),Te(Xt(),Rt(ae(),-1),"authority")])},vge=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Ege(n){const e=n.match(vge);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,i,s]=e,o=n.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${s}`}const pi=_r(gs(ze),O(),n=>new ze(n)),$K=ys([O(),_e("base64")]),rT=_r(gs(H.Buffer),$K,n=>H.Buffer.from(n[0],"base64")),qK=30*1e3;function Ige(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Tr(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...i}=n;e=r,t=i}return{commitment:e,config:t}}function zK(n){return tt([P({jsonrpc:_e("2.0"),id:O(),result:n}),P({jsonrpc:_e("2.0"),id:O(),error:P({code:Ar(),message:O(),data:ne(zm())})})])}const Rge=zK(Ar());function Dt(n){return _r(zK(n),Rge,e=>"error"in e?e:{...e,result:$(e.result,n)})}function Qr(n){return Dt(P({context:P({slot:k()}),value:n}))}function QS(n){return P({context:P({slot:k()}),value:n})}function vv(n,e){return n===0?new pd({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ze(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Pe.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new ua(e)}const Pge=P({foundation:k(),foundationTerm:k(),initial:k(),taper:k(),terminal:k()}),xge=Dt(F(W(P({epoch:k(),effectiveSlot:k(),amount:k(),postBalance:k(),commission:ne(W(k()))})))),Bge=F(P({slot:k(),prioritizationFee:k()})),Tge=P({total:k(),validator:k(),foundation:k(),epoch:k()}),Cge=P({epoch:k(),slotIndex:k(),slotsInEpoch:k(),absoluteSlot:k(),blockHeight:ne(k()),transactionCount:ne(k())}),Mge=P({slotsPerEpoch:k(),leaderScheduleSlotOffset:k(),warmup:St(),firstNormalEpoch:k(),firstNormalSlot:k()}),Lge=lc(O(),F(k())),zd=W(tt([P({}),O()])),Oge=P({err:zd}),Nge=_e("receivedSignature"),$ge=P({"solana-core":O(),"feature-set":ne(k())}),SO=Qr(P({err:W(tt([P({}),O()])),logs:W(F(O())),accounts:ne(W(F(W(P({executable:St(),owner:O(),lamports:k(),data:F(O()),rentEpoch:ne(k())}))))),unitsConsumed:ne(k()),returnData:ne(W(P({programId:O(),data:ys([O(),_e("base64")])})))})),qge=Qr(P({byIdentity:lc(O(),F(k())),range:P({firstSlot:k(),lastSlot:k()})}));function zge(n,e,t,r,i,s){const o=t||kge;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const b=await new Promise((p,g)=>{try{r(l,d,(y,S)=>p([y,S]))}catch(y){g(y)}});return await o(...b)}),new Cp(async(l,d)=>{const b={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Dye)};try{let p=5,g,y=500;for(;c?g=await c(n,b):g=await o(n,b),!(g.status!==429||i===!0||(p-=1,p===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await Rl(y),y*=2;const S=await g.text();g.ok?d(null,S):d(new Error(`${g.status} ${g.statusText}: ${S}`))}catch(p){p instanceof Error&&d(p)}},{})}function Dge(n){return(e,t)=>new Promise((r,i)=>{n.request(e,t,(s,o)=>{if(s){i(s);return}r(o)})})}function Uge(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const i=e.map(s=>n.request(s.methodName,s.args));n.request(i,(s,o)=>{if(s){r(s);return}t(o)})})}const Kge=Dt(Pge),Wge=Dt(Tge),Fge=Dt(Bge),Vge=Dt(Cge),jge=Dt(Mge),Hge=Dt(Lge),Yge=Dt(k()),Gge=Qr(P({total:k(),circulating:k(),nonCirculating:k(),nonCirculatingAccounts:F(pi)})),NR=P({amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}),Jge=Qr(F(P({address:pi,amount:O(),uiAmount:W(k()),decimals:k(),uiAmountString:ne(O())}))),Qge=Qr(F(P({pubkey:pi,account:P({executable:St(),owner:pi,lamports:k(),data:rT,rentEpoch:k()})}))),$R=P({program:O(),parsed:Ar(),space:k()}),Zge=Qr(F(P({pubkey:pi,account:P({executable:St(),owner:pi,lamports:k(),data:$R,rentEpoch:k()})}))),Xge=Qr(F(P({lamports:k(),address:pi}))),am=P({executable:St(),owner:pi,lamports:k(),data:rT,rentEpoch:k()}),eye=P({pubkey:pi,account:am}),tye=_r(tt([gs(H.Buffer),$R]),tt([$K,$R]),n=>Array.isArray(n)?$(n,rT):n),qR=P({executable:St(),owner:pi,lamports:k(),data:tye,rentEpoch:k()}),nye=P({pubkey:pi,account:qR}),rye=P({state:tt([_e("active"),_e("inactive"),_e("activating"),_e("deactivating")]),active:k(),inactive:k()}),iye=Dt(F(P({signature:O(),slot:k(),err:zd,memo:W(O()),blockTime:ne(W(k()))}))),sye=Dt(F(P({signature:O(),slot:k(),err:zd,memo:W(O()),blockTime:ne(W(k()))}))),oye=P({subscription:k(),result:QS(am)}),aye=P({pubkey:pi,account:am}),cye=P({subscription:k(),result:QS(aye)}),uye=P({parent:k(),slot:k(),root:k()}),lye=P({subscription:k(),result:uye}),dye=tt([P({type:tt([_e("firstShredReceived"),_e("completed"),_e("optimisticConfirmation"),_e("root")]),slot:k(),timestamp:k()}),P({type:_e("createdBank"),parent:k(),slot:k(),timestamp:k()}),P({type:_e("frozen"),slot:k(),timestamp:k(),stats:P({numTransactionEntries:k(),numSuccessfulTransactions:k(),numFailedTransactions:k(),maxTransactionsPerEntry:k()})}),P({type:_e("dead"),slot:k(),timestamp:k(),err:O()})]),hye=P({subscription:k(),result:dye}),fye=P({subscription:k(),result:QS(tt([Oge,Nge]))}),pye=P({subscription:k(),result:k()}),gye=P({pubkey:O(),gossip:W(O()),tpu:W(O()),rpc:W(O()),version:W(O())}),AO=P({votePubkey:O(),nodePubkey:O(),activatedStake:k(),epochVoteAccount:St(),epochCredits:F(ys([k(),k(),k()])),commission:k(),lastVote:k(),rootSlot:W(k())}),yye=Dt(P({current:F(AO),delinquent:F(AO)})),mye=tt([_e("processed"),_e("confirmed"),_e("finalized")]),bye=P({slot:k(),confirmations:W(k()),err:zd,confirmationStatus:ne(mye)}),wye=Qr(F(W(bye))),kye=Dt(k()),DK=P({accountKey:pi,writableIndexes:F(k()),readonlyIndexes:F(k())}),iT=P({signatures:F(O()),message:P({accountKeys:F(O()),header:P({numRequiredSignatures:k(),numReadonlySignedAccounts:k(),numReadonlyUnsignedAccounts:k()}),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()})),recentBlockhash:O(),addressTableLookups:ne(F(DK))})}),UK=P({pubkey:pi,signer:St(),writable:St(),source:ne(tt([_e("transaction"),_e("lookupTable")]))}),KK=P({accountKeys:F(UK),signatures:F(O())}),WK=P({parsed:Ar(),program:O(),programId:pi}),FK=P({accounts:F(pi),data:O(),programId:pi}),Sye=tt([FK,WK]),Aye=tt([P({parsed:Ar(),program:O(),programId:O()}),P({accounts:F(O()),data:O(),programId:O()})]),VK=_r(Sye,Aye,n=>"accounts"in n?$(n,FK):$(n,WK)),jK=P({signatures:F(O()),message:P({accountKeys:F(UK),instructions:F(VK),recentBlockhash:O(),addressTableLookups:ne(W(F(DK)))})}),bw=P({accountIndex:k(),mint:O(),owner:ne(O()),uiTokenAmount:NR}),HK=P({writable:F(pi),readonly:F(pi)}),ZS=P({err:zd,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(P({accounts:F(k()),data:O(),programIdIndex:k()}))})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(bw))),postTokenBalances:ne(W(F(bw))),loadedAddresses:ne(HK),computeUnitsConsumed:ne(k())}),sT=P({err:zd,fee:k(),innerInstructions:ne(W(F(P({index:k(),instructions:F(VK)})))),preBalances:F(k()),postBalances:F(k()),logMessages:ne(W(F(O()))),preTokenBalances:ne(W(F(bw))),postTokenBalances:ne(W(F(bw))),loadedAddresses:ne(HK),computeUnitsConsumed:ne(k())}),zp=tt([_e(0),_e("legacy")]),Dd=P({pubkey:O(),lamports:k(),postBalance:W(k()),rewardType:W(O()),commission:ne(W(k()))}),_ye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:iT,meta:W(ZS),version:ne(zp)})),rewards:ne(F(Dd)),blockTime:W(k()),blockHeight:W(k())}))),vye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Dd)),blockTime:W(k()),blockHeight:W(k())}))),Eye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:KK,meta:W(ZS),version:ne(zp)})),rewards:ne(F(Dd)),blockTime:W(k()),blockHeight:W(k())}))),Iye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:jK,meta:W(sT),version:ne(zp)})),rewards:ne(F(Dd)),blockTime:W(k()),blockHeight:W(k())}))),Rye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:KK,meta:W(sT),version:ne(zp)})),rewards:ne(F(Dd)),blockTime:W(k()),blockHeight:W(k())}))),Pye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),rewards:ne(F(Dd)),blockTime:W(k()),blockHeight:W(k())}))),xye=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),transactions:F(P({transaction:iT,meta:W(ZS)})),rewards:ne(F(Dd)),blockTime:W(k())}))),_O=Dt(W(P({blockhash:O(),previousBlockhash:O(),parentSlot:k(),signatures:F(O()),blockTime:W(k())}))),Ev=Dt(W(P({slot:k(),meta:W(ZS),blockTime:ne(W(k())),transaction:iT,version:ne(zp)}))),qb=Dt(W(P({slot:k(),transaction:jK,meta:W(sT),blockTime:ne(W(k())),version:ne(zp)}))),Bye=Qr(P({blockhash:O(),feeCalculator:P({lamportsPerSignature:k()})})),Tye=Qr(P({blockhash:O(),lastValidBlockHeight:k()})),Cye=Qr(St()),Mye=P({slot:k(),numTransactions:k(),numSlots:k(),samplePeriodSecs:k()}),Lye=Dt(F(Mye)),Oye=Qr(W(P({feeCalculator:P({lamportsPerSignature:k()})}))),Nye=Dt(O()),$ye=Dt(O()),qye=P({err:zd,logs:F(O()),signature:O()}),zye=P({result:QS(qye),subscription:k()}),Dye={"solana-client":"js/0.0.0-development"};class Uye{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:b}=Tr(l),p=this._buildArgs([],d,void 0,b),g=wO(p);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",p),S=$(y,Dt(k()));if("error"in S)throw new gt(S.error,"failed to get block height information");return S.result}finally{delete u[g]}})(),await u[g]}})();let r,i,s,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Ige(e),this._rpcWsEndpoint=r||Ege(e),this._rpcClient=zge(e,i,s,o,a,c),this._rpcRequest=Dge(this._rpcClient),this._rpcBatchRequest=Uge(this._rpcClient),this._rpcWebSocket=new Sge(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,void 0,i),o=await this._rpcRequest("getBalance",s),a=$(o,Qr(k()));if("error"in a)throw new gt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=$(t,Dt(W(k())));if("error"in r)throw new gt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=$(e,Dt(k()));if("error"in t)throw new gt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=$(e,Yge);if("error"in t)throw new gt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),i=$(r,Gge);if("error"in i)throw new gt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenSupply",r),s=$(i,Qr(NR));if("error"in s)throw new gt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenAccountBalance",r),s=$(i,Qr(NR));if("error"in s)throw new gt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,t,r){const{commitment:i,config:s}=Tr(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=$(c,Qge);if("error"in u)throw new gt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let i=[e.toBase58()];"mint"in t?i.push({mint:t.mint.toBase58()}):i.push({programId:t.programId.toBase58()});const s=this._buildArgs(i,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=$(o,Zge);if("error"in a)throw new gt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],i=await this._rpcRequest("getLargestAccounts",r),s=$(i,Xge);if("error"in s)throw new gt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),i=await this._rpcRequest("getTokenLargestAccounts",r),s=$(i,Jge);if("error"in s)throw new gt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Qr(W(am)));if("error"in a)throw new gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=$(o,Qr(W(qR)));if("error"in a)throw new gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Qr(F(W(qR))));if("error"in c)throw new gt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(u=>u.toBase58()),o=this._buildArgs([s],r,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=$(a,Qr(F(W(am))));if("error"in c)throw new gt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:i,config:s}=Tr(t),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=$(a,Dt(rye));if("error"in c)throw new gt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:i}=Tr(t),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],r,s||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=F(eye),l=o.withContext===!0?$(c,Qr(u)):$(c,Dt(u));if("error"in l)throw new gt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e.toBase58()],r,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=$(o,Dt(F(nye)));if("error"in a)throw new gt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var s;let r;if(typeof e=="string")r=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let i;try{i=Pe.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return In(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,i,s=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,b)=>{r=void 0;const p={context:b,value:d};c({__type:Ec.PROCESSED,response:p})},e);const l=new Promise(d=>{r==null?d():i=this._onSubscriptionStateChange(r,b=>{b==="subscribed"&&d()})});(async()=>{if(await l,s)return;const d=await this.getSignatureStatus(t);if(s||d==null)return;const{context:b,value:p}=d;if(p!=null)if(p!=null&&p.err)u(p.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(p.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(p.confirmationStatus==="processed"||p.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Ec.PROCESSED,response:{context:b,value:p}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:i}}){let s=!1;const o=new Promise(d=>{const b=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let p=await b();if(!s){for(;p<=r;)if(await Rl(1e3),s||(p=await b(),s))return;d({__type:Ec.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ec.PROCESSED)l=d.response;else throw new ZB(i)}finally{s=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(p=>{let g=s,y=null;const S=async()=>{try{const{context:w,value:_}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:r});return y=w.slot,_==null?void 0:_.nonce}catch{return g}};(async()=>{if(g=await S(),!a)for(;;){if(s!==g){p({__type:Ec.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await Rl(2e3),a||(g=await S(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let b;try{const p=await Promise.race([d,l,c]);if(p.__type===Ec.PROCESSED)b=p.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(p.slotInWhichNonceDidAdvance??r)){await Rl(400);continue}g=y;break}if(g!=null&&g.value){const y=e||"finalized",{confirmationStatus:S}=g.value;switch(y){case"processed":case"recent":if(S!=="processed"&&S!=="confirmed"&&S!=="finalized")throw new Th(o);break;case"confirmed":case"single":case"singleGossip":if(S!=="confirmed"&&S!=="finalized")throw new Th(o);break;case"finalized":case"max":case"root":if(S!=="finalized")throw new Th(o);break;default:}b={context:g.context,value:{err:g.value.err}}}else throw new Th(o)}}finally{a=!0,u()}return b}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const i=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ec.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,i]);if(c.__type===Ec.PROCESSED)a=c.response;else throw new XB(t,c.timeoutMs/1e3)}finally{clearTimeout(r),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=$(e,Dt(F(gye)));if("error"in t)throw new gt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),i=$(r,yye);if("error"in i)throw new gt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlot",i),o=$(s,Dt(k()));if("error"in o)throw new gt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getSlotLeader",i),o=$(s,Dt(O()));if("error"in o)throw new gt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],i=await this._rpcRequest("getSlotLeaders",r),s=$(i,Dt(F(pi)));if("error"in s)throw new gt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,t){const{context:r,value:i}=await this.getSignatureStatuses([e],t);In(i.length===1);const s=i[0];return{context:r,value:s}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const i=await this._rpcRequest("getSignatureStatuses",r),s=$(i,wye);if("error"in s)throw new gt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getTransactionCount",i),o=$(s,Dt(k()));if("error"in o)throw new gt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),i=$(r,Kge);if("error"in i)throw new gt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,t,r){const{commitment:i,config:s}=Tr(r),o=this._buildArgs([e.map(u=>u.toBase58())],i,void 0,{...s,epoch:t??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=$(a,xge);if("error"in c)throw new gt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=$(e,Wge);if("error"in t)throw new gt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getEpochInfo",i),o=$(s,Vge);if("error"in o)throw new gt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=$(e,jge);if("error"in t)throw new gt(t.error,"failed to get epoch schedule");const r=t.result;return new NK(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=$(e,Hge);if("error"in t)throw new gt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getMinimumBalanceForRentExemption",r),s=$(i,kye);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),i=$(r,Bye);if("error"in i)throw new gt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=$(t,Lye);if("error"in r)throw new gt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),i=await this._rpcRequest("getFeeCalculatorForBlockhash",r),s=$(i,Oye);if("error"in s)throw new gt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=jt(e.serialize()).toString("base64"),i=this._buildArgs([r],t),s=await this._rpcRequest("getFeeForMessage",i),o=$(s,Qr(W(k())));if("error"in o)throw new gt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],i=await this._rpcRequest("getRecentPrioritizationFees",r),s=$(i,Fge);if("error"in s)throw new gt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,void 0,r),s=await this._rpcRequest("getLatestBlockhash",i),o=$(s,Tye);if("error"in o)throw new gt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgs([e],r,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=$(o,Cye);if("error"in a)throw new gt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=$(e,Dt($ge));if("error"in t)throw new gt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=$(e,Dt(O()));if("error"in t)throw new gt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,Eye);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,vye);if("error"in a)throw a.error;return a.result}default:{const a=$(o,_ye);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:vv(d,u.message)},version:d}))}:null}}}catch(a){throw new gt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=$(o,Rye);if("error"in a)throw a.error;return a.result}case"none":{const a=$(o,Pye);if("error"in a)throw a.error;return a.result}default:{const a=$(o,Iye);if("error"in a)throw a.error;return a.result}}}catch(a){throw new gt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const i=this._buildArgs([],r,"base64",t),s=await this._rpcRequest("getBlockProduction",i),o=$(s,qge);if("error"in o)throw new gt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,void 0,i),o=await this._rpcRequest("getTransaction",s),a=$(o,Ev);if("error"in a)throw new gt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:vv(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:i}=Tr(t),s=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=$(o,qb);if("error"in a)throw new gt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,qb);if("error"in u)throw new gt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:i}=Tr(t),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const u=$(c,Ev);if("error"in u)throw new gt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:vv(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,xye);if("error"in s)throw new gt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new ua(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Mn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const i=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),s=await this._rpcRequest("getBlocks",i),o=$(s,Dt(F(k())));if("error"in o)throw new gt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",r),s=$(i,_O);if("error"in s)throw new gt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",r),s=$(i,_O);if("error"in s)throw new gt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,Ev);if("error"in s)throw new gt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new ua(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Mn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",r),s=$(i,qb);if("error"in s)throw new gt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],t,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=$(o,qb);if("error"in a)throw new gt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(t--,!(t<=0||t<s));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=$(s,iye);if("error"in o)throw new gt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),s=await this._rpcRequest("getSignaturesForAddress",i),o=$(s,sye);if("error"in o)throw new gt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=new OR({key:e,state:OR.deserialize(i.data)})),{context:r,value:s}}async getNonceAndContext(e,t){const{context:r,value:i}=await this.getAccountInfoAndContext(e,t);let s=null;return i!==null&&(s=JS.fromAccountData(i.data)),{context:r,value:s}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),i=$(r,Nye);if("error"in i)throw new gt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Rl(100);const r=Date.now()-this._blockhashInfo.lastFetch>=qK;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(r!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Rl(MK/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Tr(e),i=this._buildArgs([],t,"base64",r),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=$(s,Qr(k()));if("error"in o)throw new gt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const y=e.serialize(),S=H.Buffer.from(y).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const w=t||{};w.encoding="base64","commitment"in w||(w.commitment=this.commitment);const _=[S,w],R=await this._rpcRequest("simulateTransaction",_),x=$(R,SO);if("error"in x)throw new Error("failed to simulate transaction: "+x.error.message);return x.result}let i;if(e instanceof Mn){let g=e;i=new Mn,i.feePayer=g.feePayer,i.instructions=e.instructions,i.nonceInfo=g.nonceInfo,i.signatures=g.signatures}else i=Mn.populate(e),i._message=i._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(i.nonceInfo&&s)i.sign(...s);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(i.lastValidBlockHeight=y.lastValidBlockHeight,i.recentBlockhash=y.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const S=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(S)&&!this._blockhashInfo.transactionSignatures.includes(S)){this._blockhashInfo.simulatedSignatures.push(S);break}else g=!0}}const o=i._compile(),a=o.serialize(),u=i._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}s&&(l.sigVerify=!0);const d=[u,l],b=await this._rpcRequest("simulateTransaction",d),p=$(b,SO);if("error"in p){let g;if("data"in p.error&&(g=p.error.data.logs,g&&Array.isArray(g))){const y=`
    `,S=y+g.join(y);console.error(p.error.message,S)}throw new om({action:"simulate",signature:"",transactionMessage:p.error.message,logs:g})}return p.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,r)}async sendRawTransaction(e,t){const r=jt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},i=t&&t.skipPreflight,s=i===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),i&&(r.skipPreflight=i),s&&(r.preflightCommitment=s);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=$(a,$ye);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new om({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var i;const r=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){var s;const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[r]||(s[r]=new Set);return i.add(t),()=>{i.delete(t),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const i=this._subscriptionsByHash[r];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[r],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(r,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(r,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,s,a.message),!t())return;this._setSubscription(r,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(r,{...i,state:"unsubscribing"}),this._setSubscription(r,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(i=>{try{i(...t)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=$(e,oye);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,i=wO([e.method,t]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[i];In(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},i)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=$(e,cye);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,i){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i?{filters:i}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=$(e,zye);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=$(e,lye);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=$(e,hye);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,i){const s=t||this._commitment;if(s||r||i){let o={};r&&(o.encoding=r),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,i){const s=t||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,i)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=$(e,fye);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const i=this._buildArgs([e],r||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,t,r){const{commitment:i,...s}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=$(e,pye);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Dh{constructor(e){this._keypair=void 0,this._keypair=e??yO()}static generate(){return new Dh(yO())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const i=e.slice(0,32),s=mw(i);for(let o=0;o<32;o++)if(r[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Dh({publicKey:r,secretKey:e})}static fromSeed(e){const t=mw(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Dh({publicKey:t,secretKey:r})}get publicKey(){return new ze(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $c=Object.freeze({CreateLookupTable:{index:0,layout:U([D("instruction"),Qf("recentSlot"),ae("bumpSeed")])},FreezeLookupTable:{index:1,layout:U([D("instruction")])},ExtendLookupTable:{index:2,layout:U([D("instruction"),Qf(),Te(Xt(),Rt(D(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:U([D("instruction")])},CloseLookupTable:{index:4,layout:U([D("instruction")])}});class Kye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries($c))if(o.index==r){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Kn($c.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Kn($c.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ze(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(oT.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class oT{constructor(){}static createLookupTable(e){const[t,r]=ze.findProgramAddressSync([e.authority.toBuffer(),Ko(BigInt(e.recentSlot),8)],this.programId),i=$c.CreateLookupTable,s=gn(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ti.programId,isSigner:!1,isWritable:!1}];return[new ur({programId:this.programId,keys:o,data:s}),t]}static freezeLookupTable(e){const t=$c.FreezeLookupTable,r=gn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:i,data:r})}static extendLookupTable(e){const t=$c.ExtendLookupTable,r=gn(t,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ti.programId,isSigner:!1,isWritable:!1}),new ur({programId:this.programId,keys:i,data:r})}static deactivateLookupTable(e){const t=$c.DeactivateLookupTable,r=gn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:i,data:r})}static closeLookupTable(e){const t=$c.CloseLookupTable,r=gn(t),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ur({programId:this.programId,keys:i,data:r})}}oT.programId=new ze("AddressLookupTab1e1111111111111111111111111");class Wye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=ae("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Va))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Kn(Va.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Kn(Va.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Kn(Va.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Kn(Va.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(aT.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Va=Object.freeze({RequestUnits:{index:0,layout:U([ae("instruction"),D("units"),D("additionalFee")])},RequestHeapFrame:{index:1,layout:U([ae("instruction"),D("bytes")])},SetComputeUnitLimit:{index:2,layout:U([ae("instruction"),D("units")])},SetComputeUnitPrice:{index:3,layout:U([ae("instruction"),Qf("microLamports")])}});class aT{constructor(){}static requestUnits(e){const t=Va.RequestUnits,r=gn(t,e);return new ur({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Va.RequestHeapFrame,r=gn(t,e);return new ur({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Va.SetComputeUnitLimit,r=gn(t,e);return new ur({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Va.SetComputeUnitPrice,r=gn(t,{microLamports:BigInt(e.microLamports)});return new ur({keys:[],programId:this.programId,data:r})}}aT.programId=new ze("ComputeBudget111111111111111111111111111111");const vO=64,EO=32,IO=64,RO=U([ae("numSignatures"),ae("padding"),ot("signatureOffset"),ot("signatureInstructionIndex"),ot("publicKeyOffset"),ot("publicKeyInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ot("messageInstructionIndex")]);class XS{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,instructionIndex:s}=e;In(t.length===EO,`Public Key must be ${EO} bytes but received ${t.length} bytes`),In(i.length===IO,`Signature must be ${IO} bytes but received ${i.length} bytes`);const o=RO.span,a=o+t.length,c=a+i.length,u=1,l=H.Buffer.alloc(c+r.length),d=s??65535;return RO.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(i,a),l.fill(r,c),new ur({keys:[],programId:XS.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;In(t.length===vO,`Private key must be ${vO} bytes but received ${t.length} bytes`);try{const s=Dh.fromSecretKey(t),o=s.publicKey.toBytes(),a=JB(r,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}XS.programId=new ze("Ed25519SigVerify111111111111111111111111111");const Fye=(n,e)=>{const t=ki.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};ki.utils.isValidPrivateKey;const Vye=ki.getPublicKey,PO=32,Iv=20,xO=64,jye=11,Rv=U([ae("numSignatures"),ot("signatureOffset"),ae("signatureInstructionIndex"),ot("ethAddressOffset"),ae("ethAddressInstructionIndex"),ot("messageDataOffset"),ot("messageDataSize"),ae("messageInstructionIndex"),fe(20,"ethAddress"),fe(64,"signature"),ae("recoveryId")]);class Uh{constructor(){}static publicKeyToEthAddress(e){In(e.length===xO,`Public key must be ${xO} bytes but received ${e.length} bytes`);try{return H.Buffer.from(qo(jt(e))).slice(-Iv)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:i,recoveryId:s,instructionIndex:o}=e;return Uh.createInstructionWithEthAddress({ethAddress:Uh.publicKeyToEthAddress(t),message:r,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=H.Buffer.from(t.substr(2),"hex"):a=H.Buffer.from(t,"hex"):a=t,In(a.length===Iv,`Address must be ${Iv} bytes but received ${a.length} bytes`);const c=1+jye,u=c,l=c+a.length,d=l+i.length+1,b=1,p=H.Buffer.alloc(Rv.span+r.length);return Rv.encode({numSignatures:b,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:jt(i),ethAddress:jt(a),recoveryId:s},p),p.fill(jt(r),Rv.span),new ur({keys:[],programId:Uh.programId,data:p})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:i}=e;In(t.length===PO,`Private key must be ${PO} bytes but received ${t.length} bytes`);try{const s=jt(t),o=Vye(s,!1).slice(1),a=H.Buffer.from(qo(jt(r))),[c,u]=Fye(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Uh.programId=new ze("KeccakSecp256k11111111111111111111111111111");var YK;const GK=new ze("StakeConfig11111111111111111111111111111111");class JK{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class jm{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}YK=jm;jm.default=new YK(0,0,ze.default);class Hye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Pi))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Kn(Pi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new JK(new ze(t.staker),new ze(t.withdrawer)),lockup:new jm(r.unixTimestamp,r.epoch,new ze(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Kn(Pi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Kn(Pi.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ze(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:i,authorityOwner:s}=Kn(Pi.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new ze(s),newAuthorizedPubkey:new ze(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Kn(Pi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(Pi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Kn(Pi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Kn(Pi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(eA.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pi=Object.freeze({Initialize:{index:0,layout:U([D("instruction"),Gpe(),Jpe()])},Authorize:{index:1,layout:U([D("instruction"),Xt("newAuthorized"),D("stakeAuthorizationType")])},Delegate:{index:2,layout:U([D("instruction")])},Split:{index:3,layout:U([D("instruction"),Je("lamports")])},Withdraw:{index:4,layout:U([D("instruction"),Je("lamports")])},Deactivate:{index:5,layout:U([D("instruction")])},Merge:{index:7,layout:U([D("instruction")])},AuthorizeWithSeed:{index:8,layout:U([D("instruction"),Xt("newAuthorized"),D("stakeAuthorizationType"),Dl("authoritySeed"),Xt("authorityOwner")])}}),Yye=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class eA{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:i}=e,s=i||jm.default,o=Pi.Initialize,a=gn(o,{authorized:{staker:jt(r.staker.toBuffer()),withdrawer:jt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:jt(s.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ur(c)}static createAccountWithSeed(e){const t=new Mn;t.add(Ti.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static createAccount(e){const t=new Mn;t.add(Ti.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:i,lockup:s}=e;return t.add(this.initialize({stakePubkey:r,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:i}=e,s=Pi.Delegate,o=gn(s);return new Mn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:J1,isSigner:!1,isWritable:!1},{pubkey:GK,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Pi.Authorize,c=gn(a,{newAuthorized:jt(i.toBuffer()),stakeAuthorizationType:s.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Mn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Pi.AuthorizeWithSeed,l=gn(u,{newAuthorized:jt(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:jt(s.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Mn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:i,lamports:s}=e,o=Pi.Split,a=gn(o,{lamports:s});return new ur({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Mn;return r.add(Ti.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,u=new Mn;return u.add(Ti.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ti.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:i}=e,s=Pi.Merge,o=gn(s);return new Mn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:J1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Pi.Withdraw,c=gn(a,{lamports:s}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:J1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Mn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,i=Pi.Deactivate,s=gn(i);return new Mn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}eA.programId=new ze("Stake11111111111111111111111111111111111111");eA.space=200;class QK{constructor(e,t,r,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=i}}class Gye{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=D("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(ja))if(o.index==r){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Kn(ja.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new QK(new ze(t.nodePubkey),new ze(t.authorizedVoter),new ze(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Kn(ja.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ze(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:i,voteAuthorizationType:s}}=Kn(ja.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ze(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ze(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Kn(ja.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Dp.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ja=Object.freeze({InitializeAccount:{index:0,layout:U([D("instruction"),Qpe()])},Authorize:{index:1,layout:U([D("instruction"),Xt("newAuthorized"),D("voteAuthorizationType")])},Withdraw:{index:3,layout:U([D("instruction"),Je("lamports")])},UpdateValidatorIdentity:{index:4,layout:U([D("instruction")])},AuthorizeWithSeed:{index:10,layout:U([D("instruction"),Zpe()])}}),Jye=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Dp{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:i}=e,s=ja.InitializeAccount,o=gn(s,{voteInit:{nodePubkey:jt(i.nodePubkey.toBuffer()),authorizedVoter:jt(i.authorizedVoter.toBuffer()),authorizedWithdrawer:jt(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jf,isSigner:!1,isWritable:!1},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ur(a)}static createAccount(e){const t=new Mn;return t.add(Ti.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=ja.Authorize,a=gn(o,{newAuthorized:jt(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Mn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=ja.AuthorizeWithSeed,u=gn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:jt(r.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:jt(s.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Ea,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Mn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:i,toPubkey:s}=e,o=ja.Withdraw,a=gn(o,{lamports:i}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Mn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Dp.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:i}=e,s=ja.UpdateValidatorIdentity,o=gn(s),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Mn().add({keys:a,programId:this.programId,data:o})}}Dp.programId=new ze("Vote111111111111111111111111111111111111111");Dp.space=3762;const ZK=new ze("Va1idator1nfo111111111111111111111111111111"),Qye=P({name:O(),website:ne(O()),details:ne(O()),keybaseUsername:ne(O())});class cT{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(xs(t)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new ze(Bs(t,0,tc)),a=Fa(t)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(ZK)&&i[1].isSigner){const s=Dl().decode(H.Buffer.from(t)),o=JSON.parse(s);return Lp(o,Qye),new cT(i[1].publicKey,o)}return null}}const Zye=new ze("Vote111111111111111111111111111111111111111"),Xye=U([Xt("nodePubkey"),Xt("authorizedWithdrawer"),ae("commission"),Be(),Te(U([Be("slot"),D("confirmationCount")]),Rt(D(),-8),"votes"),ae("rootSlotValid"),Be("rootSlot"),Be(),Te(U([Be("epoch"),Xt("authorizedVoter")]),Rt(D(),-8),"authorizedVoters"),U([Te(U([Xt("authorizedPubkey"),Be("epochOfLastAuthorizedSwitch"),Be("targetEpoch")]),32,"buf"),Be("idx"),ae("isEmpty")],"priorVoters"),Be(),Te(U([Be("epoch"),Be("credits"),Be("prevCredits")]),Rt(D(),-8),"epochCredits"),U([Be("slot"),Be("timestamp")],"lastTimestamp")]);class uT{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Xye.decode(jt(e),4);let i=r.rootSlot;return r.rootSlotValid||(i=null),new uT({nodePubkey:new ze(r.nodePubkey),authorizedWithdrawer:new ze(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:i,authorizedVoters:r.authorizedVoters.map(eme),priorVoters:tme(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function eme({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ze(n)}}function BO({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ze(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function tme({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(BO),...n.slice(0,e).map(BO)]}const TO={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function nme(n,e){const t=e===!1?"http":"https";if(!n)return TO[t].devnet;const r=TO[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function rme(n,e,t,r){let i,s;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(i=t,s=r):s=t;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await n.sendRawTransaction(e,o),c=s&&s.commitment,l=(await(i?n.confirmTransaction(i,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new om({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const ime=1e9,sme=Object.freeze(Object.defineProperty({__proto__:null,Account:jpe,AddressLookupTableAccount:OR,AddressLookupTableInstruction:Kye,AddressLookupTableProgram:oT,Authorized:JK,BLOCKHASH_CACHE_TIMEOUT_MS:qK,BPF_LOADER_DEPRECATED_PROGRAM_ID:Hpe,BPF_LOADER_PROGRAM_ID:fge,BpfLoader:pge,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Va,ComputeBudgetInstruction:Wye,ComputeBudgetProgram:aT,Connection:Uye,Ed25519Program:XS,Enum:Fpe,EpochSchedule:NK,FeeCalculatorLayout:LK,Keypair:Dh,LAMPORTS_PER_SOL:ime,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:$c,Loader:gd,Lockup:jm,MAX_SEED_LENGTH:BK,Message:ua,MessageAccountKeys:sm,MessageV0:pd,NONCE_ACCOUNT_LENGTH:LR,NonceAccount:JS,PACKET_DATA_SIZE:Uu,PUBLIC_KEY_LENGTH:tc,PublicKey:ze,SIGNATURE_LENGTH_IN_BYTES:im,SOLANA_SCHEMA:iy,STAKE_CONFIG_ID:GK,STAKE_INSTRUCTION_LAYOUTS:Pi,SYSTEM_INSTRUCTION_LAYOUTS:mr,SYSVAR_CLOCK_PUBKEY:Ea,SYSVAR_EPOCH_SCHEDULE_PUBKEY:rge,SYSVAR_INSTRUCTIONS_PUBKEY:ige,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:G1,SYSVAR_RENT_PUBKEY:Jf,SYSVAR_REWARDS_PUBKEY:sge,SYSVAR_SLOT_HASHES_PUBKEY:oge,SYSVAR_SLOT_HISTORY_PUBKEY:age,SYSVAR_STAKE_HISTORY_PUBKEY:J1,Secp256k1Program:Uh,SendTransactionError:om,SolanaJSONRPCError:gt,SolanaJSONRPCErrorCode:cge,StakeAuthorizationLayout:Yye,StakeInstruction:Hye,StakeProgram:eA,Struct:QB,SystemInstruction:dge,SystemProgram:Ti,Transaction:Mn,TransactionExpiredBlockheightExceededError:ZB,TransactionExpiredNonceInvalidError:Th,TransactionExpiredTimeoutError:XB,TransactionInstruction:ur,TransactionMessage:tT,TransactionStatus:Ec,VALIDATOR_INFO_KEY:ZK,VERSION_PREFIX_MASK:YS,VOTE_PROGRAM_ID:Zye,ValidatorInfo:cT,VersionedMessage:eT,VersionedTransaction:nT,VoteAccount:uT,VoteAuthorizationLayout:Jye,VoteInit:QK,VoteInstruction:Gye,VoteProgram:Dp,clusterApiUrl:nme,sendAndConfirmRawTransaction:rme,sendAndConfirmTransaction:MR},Symbol.toStringTag,{value:"Module"})),vr=la(sme);var ir={},Jd=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(ir,"__esModule",{value:!0});ir.MetadataProgram=void 0;const fl=vr,XK=Ce;class Tn extends XK.Program{static findEditionAccount(e,t){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.EDITION,"utf8"),Buffer.from(t,"utf8")],Tn.PUBKEY)})}static findMasterEditionAccount(e){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.EDITION,"utf8")],Tn.PUBKEY)})}static findMetadataAccount(e){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer()],Tn.PUBKEY)})}static findUseAuthorityAccount(e,t){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.USER,"utf8"),t.toBuffer()],Tn.PUBKEY)})}static findCollectionAuthorityAccount(e,t){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),e.toBuffer(),Buffer.from(Tn.COLLECTION_AUTHORITY,"utf8"),t.toBuffer()],Tn.PUBKEY)})}static findProgramAsBurnerAccount(){return Jd(this,void 0,void 0,function*(){return fl.PublicKey.findProgramAddress([Buffer.from(Tn.PREFIX,"utf8"),Tn.PUBKEY.toBuffer(),Buffer.from(Tn.BURN,"utf8")],Tn.PUBKEY)})}}ir.MetadataProgram=Tn;Tn.PREFIX="metadata";Tn.EDITION="edition";Tn.USER="user";Tn.COLLECTION_AUTHORITY="collection_authority";Tn.BURN="burn";Tn.PUBKEY=new fl.PublicKey(XK.config.programs.metadata);var Qc={},ome=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Qc,"__esModule",{value:!0});Qc.Edition=Qc.EditionData=void 0;const Q1=Ce,zb=ir,ame=vr,CO=H,eW=qd;class ww extends Q1.Borsh.Data{constructor(e){super(e),this.key=eW.MetadataKey.EditionV1}}Qc.EditionData=ww;ww.SCHEMA=ww.struct([["key","u8"],["parent","pubkeyAsString"],["edition","u64"]]);class cm extends Q1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(zb.MetadataProgram.PUBKEY))throw(0,Q1.ERROR_INVALID_OWNER)();if(!cm.isCompatible(this.info.data))throw(0,Q1.ERROR_INVALID_ACCOUNT_DATA)();this.data=ww.deserialize(this.info.data)}static getPDA(e){return ome(this,void 0,void 0,function*(){return zb.MetadataProgram.findProgramAddress([CO.Buffer.from(zb.MetadataProgram.PREFIX),zb.MetadataProgram.PUBKEY.toBuffer(),new ame.PublicKey(e).toBuffer(),CO.Buffer.from(cm.EDITION_PREFIX)])})}static isCompatible(e){return e[0]===eW.MetadataKey.EditionV1}}Qc.Edition=cm;cm.EDITION_PREFIX="edition";var Vc={},MO=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},cme=ce&&ce.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.MasterEdition=Vc.MasterEditionV2Data=Vc.MasterEditionV1Data=void 0;const sy=Ce,ume=cme(Vs),lme=Qc,kg=ir,Pv=H,dme=vr,oy=qd;class kw extends sy.Borsh.Data{constructor(e){super(e),this.key=oy.MetadataKey.MasterEditionV1}}Vc.MasterEditionV1Data=kw;kw.SCHEMA=kw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}],["printingMint","pubkeyAsString"],["oneTimePrintingAuthorizationMint","pubkeyAsString"]]);class Sw extends sy.Borsh.Data{constructor(e){super(e),this.key=oy.MetadataKey.MasterEditionV2}}Vc.MasterEditionV2Data=Sw;Sw.SCHEMA=Sw.struct([["key","u8"],["supply","u64"],["maxSupply",{kind:"option",type:"u64"}]]);class bu extends sy.Account{constructor(e,t){if(super(e,t),!this.assertOwner(kg.MetadataProgram.PUBKEY))throw(0,sy.ERROR_INVALID_OWNER)();if(bu.isMasterEditionV1(this.info.data))this.data=kw.deserialize(this.info.data);else if(bu.isMasterEditionV2(this.info.data))this.data=Sw.deserialize(this.info.data);else throw(0,sy.ERROR_INVALID_ACCOUNT_DATA)()}static getPDA(e){return MO(this,void 0,void 0,function*(){return kg.MetadataProgram.findProgramAddress([Pv.Buffer.from(kg.MetadataProgram.PREFIX),kg.MetadataProgram.PUBKEY.toBuffer(),new dme.PublicKey(e).toBuffer(),Pv.Buffer.from(bu.EDITION_PREFIX)])})}static isCompatible(e){return bu.isMasterEditionV1(e)||bu.isMasterEditionV2(e)}static isMasterEditionV1(e){return e[0]===oy.MetadataKey.MasterEditionV1}static isMasterEditionV2(e){return e[0]===oy.MetadataKey.MasterEditionV2}getEditions(e){return MO(this,void 0,void 0,function*(){return(yield kg.MetadataProgram.getProgramAccounts(e,{filters:[{memcmp:{offset:0,bytes:ume.default.encode(Pv.Buffer.from([oy.MetadataKey.EditionV1]))}},{memcmp:{offset:1,bytes:this.pubkey.toBase58()}}]})).map(t=>lme.Edition.from(t))})}}Vc.MasterEdition=bu;bu.EDITION_PREFIX="edition";var ul={},LO;function tW(){if(LO)return ul;LO=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.UseAuthorityRecord=ul.Uses=void 0;const n=Ce,e=iW();let t=class extends n.Borsh.Data{constructor(s){super(s),this.useMethod=s.useMethod,this.total=s.total,this.remaining=s.remaining}};ul.Uses=t,t.SCHEMA=t.struct([["useMethod","u8"],["total","u64"],["remaining","u64"]]);class r extends n.Borsh.Data{constructor(s){super(s),this.key=e.MetadataKey.UseAuthorityRecord,this.allowedUses=s.allowedUses,this.bump=s.bump}}return ul.UseAuthorityRecord=r,r.SCHEMA=r.struct([["key","u8"],["allowedUses","u64"],["bump","u8"]]),ul}var yd={};Object.defineProperty(yd,"__esModule",{value:!0});yd.CollctionAuthorityRecord=yd.Collection=void 0;const nW=Ce,hme=qd;class zR extends nW.Borsh.Data{constructor(e){super(e),this.key=e.key,this.verified=e.verified}}yd.Collection=zR;zR.SCHEMA=zR.struct([["verified","u8"],["key","pubkeyAsString"]]);class DR extends nW.Borsh.Data{constructor(e){super(e),this.key=hme.MetadataKey.CollectionAuthorityRecord,this.bump=e.bump}}yd.CollctionAuthorityRecord=DR;DR.SCHEMA=DR.struct([["key","u8"],["bump","u8"]]);var OO;function Hm(){return OO||(OO=1,function(n){var e=ce&&ce.__awaiter||function(x,K,G,M){function Q(ie){return ie instanceof G?ie:new G(function(ee){ee(ie)})}return new(G||(G=Promise))(function(ie,ee){function X(m){try{z(M.next(m))}catch(v){ee(v)}}function oe(m){try{z(M.throw(m))}catch(v){ee(v)}}function z(m){m.done?ie(m.value):Q(m.value).then(X,oe)}z((M=M.apply(x,K||[])).next())})},t=ce&&ce.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(n,"__esModule",{value:!0}),n.computeCreatorOffset=n.MAX_CREATOR_LEN=n.MAX_URI_LENGTH=n.MAX_SYMBOL_LENGTH=n.MAX_NAME_LENGTH=n.Metadata=n.MetadataData=n.MetadataDataData=n.DataV2=n.Creator=void 0;const r=Ce,i=vr,s=t(Fs),o=t(Vs),a=H,c=ir,u=Qc,l=Vc,d=tW(),b=yd,p=qd;class g extends r.Borsh.Data{}n.Creator=g,g.SCHEMA=g.struct([["address","pubkeyAsString"],["verified","u8"],["share","u8"]]);class y extends r.Borsh.Data{}n.DataV2=y,y.SCHEMA=new Map([...g.SCHEMA,...b.Collection.SCHEMA,...d.Uses.SCHEMA,...y.struct([["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[g]}],["collection",{kind:"option",type:b.Collection}],["uses",{kind:"option",type:d.Uses}]])]);class S extends r.Borsh.Data{constructor(K){super(K);const G=new RegExp("\0","g");this.name=K.name.replace(G,""),this.uri=K.uri.replace(G,""),this.symbol=K.symbol.replace(G,"")}}n.MetadataDataData=S,S.SCHEMA=new Map([...g.SCHEMA,...S.struct([["name","string"],["symbol","string"],["uri","string"],["sellerFeeBasisPoints","u16"],["creators",{kind:"option",type:[g]}]])]);class w extends r.Borsh.Data{constructor(K){super(K),this.key=p.MetadataKey.MetadataV1}}n.MetadataData=w,w.SCHEMA=new Map([...S.SCHEMA,...b.Collection.SCHEMA,...d.Uses.SCHEMA,...w.struct([["key","u8"],["updateAuthority","pubkeyAsString"],["mint","pubkeyAsString"],["data",S],["primarySaleHappened","u8"],["isMutable","u8"],["editionNonce",{kind:"option",type:"u8"}],["tokenStandard",{kind:"option",type:"u8"}],["collection",{kind:"option",type:b.Collection}],["uses",{kind:"option",type:d.Uses}]])]);class _ extends r.Account{constructor(K,G){if(super(K,G),!this.assertOwner(c.MetadataProgram.PUBKEY))throw(0,r.ERROR_INVALID_OWNER)();if(!_.isCompatible(this.info.data))throw(0,r.ERROR_INVALID_ACCOUNT_DATA)();this.data=w.deserialize(this.info.data)}static isCompatible(K){return K[0]===p.MetadataKey.MetadataV1}static getPDA(K){return e(this,void 0,void 0,function*(){return c.MetadataProgram.findProgramAddress([a.Buffer.from(c.MetadataProgram.PREFIX),c.MetadataProgram.PUBKEY.toBuffer(),new i.PublicKey(K).toBuffer()])})}static findMany(K,G={}){return e(this,void 0,void 0,function*(){const M=[{memcmp:{offset:0,bytes:o.default.encode(a.Buffer.from([p.MetadataKey.MetadataV1]))}},G.updateAuthority&&{memcmp:{offset:1,bytes:new i.PublicKey(G.updateAuthority).toBase58()}},G.mint&&{memcmp:{offset:33,bytes:new i.PublicKey(G.mint).toBase58()}}].filter(Boolean);return G.creators?(yield Promise.all(Array.from(Array(r.config.maxCreatorLimit).keys()).reduce((Q,ie)=>[...Q,...G.creators.map(ee=>c.MetadataProgram.getProgramAccounts(K,{filters:[...M,{memcmp:{offset:(0,n.computeCreatorOffset)(ie),bytes:new i.PublicKey(ee).toBase58()}}]}))],[]))).flat().map(Q=>_.from(Q)):(yield c.MetadataProgram.getProgramAccounts(K,{filters:M})).map(Q=>_.from(Q))})}static findByMint(K,G){return e(this,void 0,void 0,function*(){const M=yield _.getPDA(G);return _.load(K,M)})}static findByOwner(K,G){return e(this,void 0,void 0,function*(){const M=yield r.TokenAccount.getTokenAccountsByOwner(K,G),Q=new Map(M.map(({data:ee})=>[ee.mint.toString(),ee]));return(yield _.findMany(K)).filter(ee=>{var X,oe;return Q.has(ee.data.mint)&&(((oe=(X=Q==null?void 0:Q.get(ee.data.mint))===null||X===void 0?void 0:X.amount)===null||oe===void 0?void 0:oe.toNumber())||0)>0})})}static findByOwnerV2(K,G){return e(this,void 0,void 0,function*(){const Q=(yield r.TokenAccount.getTokenAccountsByOwner(K,G)).map(({data:ie})=>ie).filter(({amount:ie})=>(ie==null?void 0:ie.toNumber())>0);return(yield Promise.all(Q.map(({mint:ie})=>_.findMany(K,{mint:ie})))).flat()})}static findByOwnerV3(K,G){return e(this,void 0,void 0,function*(){const M=yield _.findInfoByOwner(K,G);return Array.from(M.entries()).map(([Q,ie])=>new _(Q,ie))})}static findInfoByOwner(K,G){return e(this,void 0,void 0,function*(){const Q=(yield r.TokenAccount.getTokenAccountsByOwner(K,G)).reduce((ee,{data:X})=>{var oe;return!((oe=X.amount)===null||oe===void 0)&&oe.eq(new s.default(1))?[...ee,_.getPDA(X.mint)]:ee},[]),ie=yield Promise.all(Q);return r.Account.getInfos(K,ie)})}static findDataByOwner(K,G){return e(this,void 0,void 0,function*(){const M=yield _.findInfoByOwner(K,G);return Array.from(M.values()).map(Q=>w.deserialize(Q.data))})}static getEdition(K,G){return e(this,void 0,void 0,function*(){const M=yield u.Edition.getPDA(G),Q=yield r.Account.getInfo(K,M);switch(Q==null?void 0:Q.data[0]){case p.MetadataKey.EditionV1:return new u.Edition(M,Q);case p.MetadataKey.MasterEditionV1:case p.MetadataKey.MasterEditionV2:return new l.MasterEdition(M,Q);default:return}})}}n.Metadata=_,n.MAX_NAME_LENGTH=32,n.MAX_SYMBOL_LENGTH=10,n.MAX_URI_LENGTH=200,n.MAX_CREATOR_LEN=34;const R=x=>69+n.MAX_NAME_LENGTH+4+n.MAX_URI_LENGTH+4+n.MAX_SYMBOL_LENGTH+2+1+4+x*n.MAX_CREATOR_LEN;n.computeCreatorOffset=R}(Sv)),Sv}var Zf={},fme=ce&&ce.__awaiter||function(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Zf,"__esModule",{value:!0});Zf.EditionMarker=Zf.EditionMarkerData=void 0;const Z1=Ce,pme=vr,gme=Qc,Db=ir,xv=H,rW=qd;class Aw extends Z1.Borsh.Data{constructor(e){super(e),this.key=rW.MetadataKey.EditionMarker}editionTaken(e){const t=e%Ym.DATA_SIZE,r=Math.floor(t/8);if(r>30)throw Error("Bad index for edition");const i=7-t%8,s=Math.pow(2,i);return(this.ledger[r]&s)!=0}}Zf.EditionMarkerData=Aw;Aw.SCHEMA=Aw.struct([["key","u8"],["ledger",[31]]]);class Ym extends Z1.Account{constructor(e,t){if(super(e,t),!this.assertOwner(Db.MetadataProgram.PUBKEY))throw(0,Z1.ERROR_INVALID_OWNER)();if(!Ym.isCompatible(this.info.data))throw(0,Z1.ERROR_INVALID_ACCOUNT_DATA)();this.data=Aw.deserialize(this.info.data)}static getPDA(e,t){return fme(this,void 0,void 0,function*(){const r=Math.floor(t.toNumber()/248);return Db.MetadataProgram.findProgramAddress([xv.Buffer.from(Db.MetadataProgram.PREFIX),Db.MetadataProgram.PUBKEY.toBuffer(),new pme.PublicKey(e).toBuffer(),xv.Buffer.from(gme.Edition.EDITION_PREFIX),xv.Buffer.from(r.toString())])})}static isCompatible(e){return e[0]===rW.MetadataKey.EditionMarker}}Zf.EditionMarker=Ym;Ym.DATA_SIZE=248;var NO;function iW(){return NO||(NO=1,function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(qd,n),t(Hm(),n),t(Vc,n),t(Qc,n),t(Zf,n),t(yd,n),t(tW(),n)}(kv)),kv}var sW={},Xf={};Object.defineProperty(Xf,"__esModule",{value:!0});Xf.CreateMetadata=Xf.CreateMetadataArgs=void 0;const oW=Ce,Bv=vr,$O=Hm(),yme=ir;class _w extends oW.Borsh.Data{constructor(){super(...arguments),this.instruction=0}}Xf.CreateMetadataArgs=_w;_w.SCHEMA=new Map([...$O.MetadataDataData.SCHEMA,..._w.struct([["instruction","u8"],["data",$O.MetadataDataData],["isMutable","u8"]])]);class mme extends oW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,metadataData:s,updateAuthority:o,mint:a,mintAuthority:c}=t,u=_w.serialize({data:s,isMutable:!0});this.add(new Bv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Bv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Bv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:yme.MetadataProgram.PUBKEY,data:u}))}}Xf.CreateMetadata=mme;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.UpdateMetadata=ep.UpdateMetadataArgs=void 0;const aW=Ce,bme=vr,qO=Hm(),wme=ir;class vw extends aW.Borsh.Data{constructor(){super(...arguments),this.instruction=1}}ep.UpdateMetadataArgs=vw;vw.SCHEMA=new Map([...qO.MetadataDataData.SCHEMA,...vw.struct([["instruction","u8"],["data",{kind:"option",type:qO.MetadataDataData}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}]])]);class kme extends aW.Transaction{constructor(e,t){super(e);const{metadata:r,metadataData:i,updateAuthority:s,newUpdateAuthority:o,primarySaleHappened:a}=t,c=vw.serialize({data:i,updateAuthority:o&&o.toString(),primarySaleHappened:a||null});this.add(new bme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}],programId:wme.MetadataProgram.PUBKEY,data:c}))}}ep.UpdateMetadata=kme;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.CreateMasterEdition=tp.CreateMasterEditionArgs=void 0;const cW=Ce,Sme=Jn,Tv=vr,Ame=ir;class Ew extends cW.Borsh.Data{constructor(){super(...arguments),this.instruction=10}}tp.CreateMasterEditionArgs=Ew;Ew.SCHEMA=Ew.struct([["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]);class _me extends cW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,mint:a,mintAuthority:c,maxSupply:u}=t,l=Ew.serialize({maxSupply:u||null});this.add(new Tv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Sme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Tv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Tv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Ame.MetadataProgram.PUBKEY,data:l}))}}tp.CreateMasterEdition=_me;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.MintNewEditionFromMasterEditionViaToken=np.MintNewEditionFromMasterEditionViaTokenArgs=void 0;const uW=Ce,vme=Jn,Cv=vr,Eme=ir;class Iw extends uW.Borsh.Data{constructor(){super(...arguments),this.instruction=11}}np.MintNewEditionFromMasterEditionViaTokenArgs=Iw;Iw.SCHEMA=Iw.struct([["instruction","u8"],["edition","u64"]]);class Ime extends uW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,masterEdition:a,masterMetadata:c,mint:u,editionMarker:l,mintAuthority:d,tokenOwner:b,tokenAccount:p,editionValue:g}=t,y=Iw.serialize({edition:g});this.add(new Cv.TransactionInstruction({keys:[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:b,isSigner:!0,isWritable:!1},{pubkey:p,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:vme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Cv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Cv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Eme.MetadataProgram.PUBKEY,data:y}))}}np.MintNewEditionFromMasterEditionViaToken=Ime;var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.UpdatePrimarySaleHappenedViaToken=rp.UpdatePrimarySaleHappenedViaTokenArgs=void 0;const lW=Ce,Rme=vr,Pme=ir;class Rw extends lW.Borsh.Data{constructor(){super(...arguments),this.instruction=4}}rp.UpdatePrimarySaleHappenedViaTokenArgs=Rw;Rw.SCHEMA=Rw.struct([["instruction","u8"]]);class xme extends lW.Transaction{constructor(e,t){super(e);const{metadata:r,owner:i,tokenAccount:s}=t,o=Rw.serialize();this.add(new Rme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1}],programId:Pme.MetadataProgram.PUBKEY,data:o}))}}rp.UpdatePrimarySaleHappenedViaToken=xme;var md={};Object.defineProperty(md,"__esModule",{value:!0});md.SignMetadata=md.SignMetadataArgs=void 0;const dW=Ce,Bme=vr,Tme=ir;class Pw extends dW.Borsh.Data{constructor(){super(...arguments),this.instruction=7}}md.SignMetadataArgs=Pw;Pw.SCHEMA=Pw.struct([["instruction","u8"]]);class Cme extends dW.Transaction{constructor(e,t){super(e);const{metadata:r,creator:i}=t,s=Pw.serialize();this.add(new Bme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:Tme.MetadataProgram.PUBKEY,data:s}))}}md.SignMetadata=Cme;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.UpdateMetadataV2=ip.UpdateMetadataV2Args=void 0;const hW=Ce,Mme=vr,zO=Hm(),Lme=ir;class xw extends hW.Borsh.Data{constructor(){super(...arguments),this.instruction=15}}ip.UpdateMetadataV2Args=xw;xw.SCHEMA=new Map([...zO.DataV2.SCHEMA,...xw.struct([["instruction","u8"],["data",{kind:"option",type:zO.DataV2}],["updateAuthority",{kind:"option",type:"pubkeyAsString"}],["primarySaleHappened",{kind:"option",type:"u8"}],["isMutable",{kind:"option",type:"u8"}]])]);class Ome extends hW.Transaction{constructor(e,t){super(e);const{metadata:r,metadataData:i,updateAuthority:s,newUpdateAuthority:o,primarySaleHappened:a,isMutable:c}=t,u=xw.serialize({data:i,updateAuthority:o&&o.toString(),primarySaleHappened:a||null,isMutable:c||null});this.add(new Mme.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}],programId:Lme.MetadataProgram.PUBKEY,data:u}))}}ip.UpdateMetadataV2=Ome;var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.CreateMetadataV2=sp.CreateMetadataV2Args=void 0;const fW=Ce,Mv=vr,DO=Hm(),Nme=ir;class Bw extends fW.Borsh.Data{constructor(){super(...arguments),this.instruction=16}}sp.CreateMetadataV2Args=Bw;Bw.SCHEMA=new Map([...DO.DataV2.SCHEMA,...Bw.struct([["instruction","u8"],["data",DO.DataV2],["isMutable","u8"]])]);class $me extends fW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,metadataData:s,updateAuthority:o,mint:a,mintAuthority:c}=t,u=Bw.serialize({data:s,isMutable:!0});this.add(new Mv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:Mv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Mv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:Nme.MetadataProgram.PUBKEY,data:u}))}}sp.CreateMetadataV2=$me;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.CreateMasterEditionV3=op.CreateMasterEditionV3Args=void 0;const pW=Ce,qme=Jn,Lv=vr,zme=ir;class Tw extends pW.Borsh.Data{constructor(){super(...arguments),this.instruction=17}}op.CreateMasterEditionV3Args=Tw;Tw.SCHEMA=Tw.struct([["instruction","u8"],["maxSupply",{kind:"option",type:"u64"}]]);class Dme extends pW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{edition:i,metadata:s,updateAuthority:o,mint:a,mintAuthority:c,maxSupply:u}=t,l=Tw.serialize({maxSupply:u||null});this.add(new Lv.TransactionInstruction({keys:[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:qme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Lv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Lv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:zme.MetadataProgram.PUBKEY,data:l}))}}op.CreateMasterEditionV3=Dme;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.VerifyCollection=ap.VerifyCollectionArgs=void 0;const gW=Ce,Ume=vr,Kme=ir;class Cw extends gW.Borsh.Data{constructor(){super(...arguments),this.instruction=18}}ap.VerifyCollectionArgs=Cw;Cw.SCHEMA=new Map([...Cw.struct([["instruction","u8"]])]);class Wme extends gW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthority:s,collectionMint:o,collectionMetadata:a,collectionMasterEdition:c,collectionAuthorityRecord:u}=t,l=Cw.serialize(),d=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1}];u&&d.push({pubkey:u,isSigner:!1,isWritable:!1}),this.add(new Ume.TransactionInstruction({keys:d,programId:Kme.MetadataProgram.PUBKEY,data:l}))}}ap.VerifyCollection=Wme;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.UnVerifyCollection=cp.UnVerifyCollectionArgs=void 0;const yW=Ce,Fme=vr,Vme=ir;class Mw extends yW.Borsh.Data{constructor(){super(...arguments),this.instruction=22}}cp.UnVerifyCollectionArgs=Mw;Mw.SCHEMA=new Map([...Mw.struct([["instruction","u8"]])]);class jme extends yW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthority:s,collectionMint:o,collectionMetadata:a,collectionMasterEdition:c,collectionAuthorityRecord:u}=t,l=Mw.serialize(),d=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1}];u&&d.push({pubkey:u,isSigner:!1,isWritable:!1}),this.add(new Fme.TransactionInstruction({keys:d,programId:Vme.MetadataProgram.PUBKEY,data:l}))}}cp.UnVerifyCollection=jme;var up={};Object.defineProperty(up,"__esModule",{value:!0});up.SetAndVerifyCollectionCollection=up.SetAndVerifyCollectionArgs=void 0;const mW=Ce,Hme=vr,Yme=ir;class Lw extends mW.Borsh.Data{constructor(){super(...arguments),this.instruction=25}}up.SetAndVerifyCollectionArgs=Lw;Lw.SCHEMA=new Map([...Lw.struct([["instruction","u8"]])]);class Gme extends mW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthority:s,collectionMint:o,updateAuthority:a,collectionMetadata:c,collectionMasterEdition:u,collectionAuthorityRecord:l}=t,d=Lw.serialize(),b=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1}];l&&b.push({pubkey:l,isSigner:!1,isWritable:!1}),this.add(new Hme.TransactionInstruction({keys:b,programId:Yme.MetadataProgram.PUBKEY,data:d}))}}up.SetAndVerifyCollectionCollection=Gme;var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.ApproveUseAuthority=lp.ApproveUseAuthorityArgs=void 0;const bW=Ce,Jme=Jn,Ov=vr,Qme=ir;class Ow extends bW.Borsh.Data{constructor(){super(...arguments),this.instruction=20}}lp.ApproveUseAuthorityArgs=Ow;Ow.SCHEMA=new Map([...Ow.struct([["instruction","u8"],["numberOfUses","u8"]])]);class Zme extends bW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{useAuthorityRecord:i,user:s,owner:o,ownerTokenAccount:a,metadata:c,mint:u,burner:l,numberOfUses:d}=t,b=Ow.serialize({numberOfUses:d}),p=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:Jme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Ov.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Ov.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new Ov.TransactionInstruction({keys:p,programId:Qme.MetadataProgram.PUBKEY,data:b}))}}lp.ApproveUseAuthority=Zme;var dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.RevokeUseAuthority=dp.RevokeUseAuthorityArgs=void 0;const wW=Ce,Xme=Jn,Nv=vr,ebe=ir;class Nw extends wW.Borsh.Data{constructor(){super(...arguments),this.instruction=21}}dp.RevokeUseAuthorityArgs=Nw;Nw.SCHEMA=new Map([...Nw.struct([["instruction","u8"]])]);class tbe extends wW.Transaction{constructor(e,t){super(e);const{useAuthorityRecord:r,user:i,owner:s,ownerTokenAccount:o,metadata:a,mint:c}=t,u=Nw.serialize(),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:Xme.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:Nv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:Nv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new Nv.TransactionInstruction({keys:l,programId:ebe.MetadataProgram.PUBKEY,data:u}))}}dp.RevokeUseAuthority=tbe;var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.ApproveCollectionAuthority=hp.ApproveCollectionAuthorityArgs=void 0;const kW=Ce,$v=vr,nbe=ir;class $w extends kW.Borsh.Data{constructor(){super(...arguments),this.instruction=23}}hp.ApproveCollectionAuthorityArgs=$w;$w.SCHEMA=new Map([...$w.struct([["instruction","u8"]])]);class rbe extends kW.Transaction{constructor(e,t){super(e);const{feePayer:r}=e,{metadata:i,collectionAuthorityRecord:s,newCollectionAuthority:o,updateAuthority:a,mint:c}=t,u=$w.serialize(),l=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:$v.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:$v.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new $v.TransactionInstruction({keys:l,programId:nbe.MetadataProgram.PUBKEY,data:u}))}}hp.ApproveCollectionAuthority=rbe;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.RevokeCollectionAuthority=fp.RevokeCollectionAuthorityArgs=void 0;const SW=Ce,qv=vr,ibe=ir;class qw extends SW.Borsh.Data{constructor(){super(...arguments),this.instruction=24}}fp.RevokeCollectionAuthorityArgs=qw;qw.SCHEMA=new Map([...qw.struct([["instruction","u8"]])]);class sbe extends SW.Transaction{constructor(e,t){super(e);const{metadata:r,collectionAuthorityRecord:i,delegateAuthority:s,newCollectionAuthority:o,updateAuthority:a,mint:c}=t,u=s||o;if(!u)throw new Error("Must provide either a delegateAuthority");const l=qw.serialize(),d=[{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:qv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:qv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];this.add(new qv.TransactionInstruction({keys:d,programId:ibe.MetadataProgram.PUBKEY,data:l}))}}fp.RevokeCollectionAuthority=sbe;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.Utilize=pp.UtilizeArgs=void 0;const AW=Ce,obe=Jn,zv=vr,abe=ir;class zw extends AW.Borsh.Data{constructor(){super(...arguments),this.instruction=19}}pp.UtilizeArgs=zw;zw.SCHEMA=new Map([...zw.struct([["instruction","u8"],["numberOfUses","u8"]])]);class cbe extends AW.Transaction{constructor(e,t){super(e);const{metadata:r,useAuthority:i,numberOfUses:s,burner:o,tokenAccount:a}=t,c=zw.serialize({numberOfUses:s}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:obe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:zv.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:zv.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];i&&(u.push({pubkey:i,isSigner:!1,isWritable:!1}),u.push({pubkey:o,isSigner:!1,isWritable:!1})),this.add(new zv.TransactionInstruction({keys:u,programId:abe.MetadataProgram.PUBKEY,data:c}))}}pp.Utilize=cbe;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.FreezeDelegatedAccount=gp.FreezeDelegatedAccountArgs=void 0;const _W=Ce,ube=vr,lbe=ir,dbe=Jn;class Dw extends _W.Borsh.Data{constructor(){super(...arguments),this.instruction=26}}gp.FreezeDelegatedAccountArgs=Dw;Dw.SCHEMA=new Map([...Dw.struct([["instruction","u8"]])]);class hbe extends _W.Transaction{constructor(e,t){super(e);const{delegate:r,token_account:i,edition:s,mint:o}=t,a=Dw.serialize();this.add(new ube.TransactionInstruction({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:dbe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:lbe.MetadataProgram.PUBKEY,data:a}))}}gp.FreezeDelegatedAccount=hbe;var yp={};Object.defineProperty(yp,"__esModule",{value:!0});yp.ThawDelegatedAccount=yp.ThawDelegatedAccountArgs=void 0;const vW=Ce,fbe=vr,pbe=ir,gbe=Jn;class Uw extends vW.Borsh.Data{constructor(){super(...arguments),this.instruction=27}}yp.ThawDelegatedAccountArgs=Uw;Uw.SCHEMA=new Map([...Uw.struct([["instruction","u8"]])]);class ybe extends vW.Transaction{constructor(e,t){super(e);const{delegate:r,token_account:i,edition:s,mint:o}=t,a=Uw.serialize();this.add(new fbe.TransactionInstruction({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:gbe.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],programId:pbe.MetadataProgram.PUBKEY,data:a}))}}yp.ThawDelegatedAccount=ybe;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.RemoveCreatorVerification=mp.RemoveCreatorVerificationArgs=void 0;const EW=Ce,mbe=vr,bbe=ir;class Kw extends EW.Borsh.Data{constructor(){super(...arguments),this.instruction=28}}mp.RemoveCreatorVerificationArgs=Kw;Kw.SCHEMA=Kw.struct([["instruction","u8"]]);class wbe extends EW.Transaction{constructor(e,t){super(e);const{metadata:r,creator:i}=t,s=Kw.serialize();this.add(new mbe.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}],programId:bbe.MetadataProgram.PUBKEY,data:s}))}}mp.RemoveCreatorVerification=wbe;(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(Xf,n),t(ep,n),t(tp,n),t(np,n),t(rp,n),t(md,n),t(ip,n),t(sp,n),t(op,n),t(ap,n),t(cp,n),t(md,n),t(up,n),t(lp,n),t(dp,n),t(hp,n),t(fp,n),t(pp,n),t(gp,n),t(yp,n),t(mp,n)})(sW);(function(n){var e=ce&&ce.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),t=ce&&ce.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(n,"__esModule",{value:!0}),t(iW(),n),t(ir,n),t(sW,n)})(YB);const kbe=Uo(YB),Sbe=Sd({__proto__:null,default:kbe},[YB]);var UO;(function(n){n.USD="usd",n.EUR="eur",n.AR="ar",n.SOL="sol"})(UO||(UO={}));var Pl;(function(n){n[n.MainnetBeta=101]="MainnetBeta",n[n.Testnet=102]="Testnet",n[n.Devnet=103]="Devnet"})(Pl||(Pl={}));OI("devnet"),Pl.Devnet,Pl.MainnetBeta,Pl.MainnetBeta,Pl.MainnetBeta,OI("testnet"),Pl.Testnet;class Abe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{lamports:i,fileHashes:s,arweaveWallet:o}=t;super(e),this.add(br.transfer({fromPubkey:r,toPubkey:o??new ke(Ce.config.arweaveWallet),lamports:i})),s.forEach(a=>{this.add(new Et({keys:[],programId:new ke(Ce.config.programs.memo),data:a}))})}}class _be extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{newAccountPubkey:i,lamports:s,decimals:o,owner:a,freezeAuthority:c}=t;super(e),this.add(br.createAccount({fromPubkey:r,newAccountPubkey:i,lamports:s,space:Ih.span,programId:Cs})),this.add(sn.createInitMintInstruction(Cs,i,o??0,a??r,c??r))}}class vbe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{newAccountPubkey:i,lamports:s,mint:o,owner:a}=t;super(e),this.add(br.createAccount({fromPubkey:r,newAccountPubkey:i,lamports:s,space:bl.span,programId:Cs})),this.add(sn.createInitAccountInstruction(Cs,o,i,a??r))}}class Ebe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{associatedTokenAddress:i,walletAddress:s,splTokenMintAddress:o}=t;super(e),this.add(new Et({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s??r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:br.programId,isSigner:!1,isWritable:!1},{pubkey:Cs,isSigner:!1,isWritable:!1},{pubkey:ta,isSigner:!1,isWritable:!1}],programId:qy,data:H.Buffer.from([])}))}}class Ibe extends Ce.Transaction{constructor(e,t){const{feePayer:r}=e,{mint:i,dest:s,authority:o,amount:a}=t;super(e),this.add(sn.createMintToInstruction(Cs,i,s,o??r,[],new Zi(a).toNumber()))}}var Rbe=Object.freeze({__proto__:null,PayForFiles:Abe,CreateMint:_be,CreateTokenAccount:vbe,CreateAssociatedTokenAccount:Ebe,MintTo:Ibe}),Dv=Object.freeze({__proto__:null,transactions:Rbe,auction:Ohe,core:Zse,metaplex:wpe,metadata:Sbe,vault:aae}),IW={exports:{}};const Pbe=/[\p{Lu}]/u,xbe=/[\p{Ll}]/u,KO=/^[\p{Lu}](?![\p{Lu}])/gu,RW=/([\p{Alpha}\p{N}_]|$)/u,PW=/[_.\- ]+/,Bbe=new RegExp("^"+PW.source),WO=new RegExp(PW.source+RW.source,"gu"),FO=new RegExp("\\d+"+RW.source,"gu"),Tbe=(n,e,t)=>{let r=!1,i=!1,s=!1;for(let o=0;o<n.length;o++){const a=n[o];r&&Pbe.test(a)?(n=n.slice(0,o)+"-"+n.slice(o),r=!1,s=i,i=!0,o++):i&&s&&xbe.test(a)?(n=n.slice(0,o-1)+"-"+n.slice(o-1),s=i,i=!1,r=!0):(r=e(a)===a&&t(a)!==a,s=i,i=t(a)===a&&e(a)!==a)}return n},Cbe=(n,e)=>(KO.lastIndex=0,n.replace(KO,t=>e(t))),Mbe=(n,e)=>(WO.lastIndex=0,FO.lastIndex=0,n.replace(WO,(t,r)=>e(r)).replace(FO,t=>e(t))),xW=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(n)?n=n.map(s=>s.trim()).filter(s=>s.length).join("-"):n=n.trim(),n.length===0)return"";const t=e.locale===!1?s=>s.toLowerCase():s=>s.toLocaleLowerCase(e.locale),r=e.locale===!1?s=>s.toUpperCase():s=>s.toLocaleUpperCase(e.locale);return n.length===1?e.pascalCase?r(n):t(n):(n!==t(n)&&(n=Tbe(n,t,r)),n=n.replace(Bbe,""),e.preserveConsecutiveUppercase?n=Cbe(n,t):n=t(n),e.pascalCase&&(n=r(n.charAt(0))+n.slice(1)),Mbe(n,r))};IW.exports=xW;IW.exports.default=xW;var Gi={},nt={};let Gn=class{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}};nt.Layout=Gn;function lT(n,e){return e.property?n+"["+e.property+"]":n}nt.nameWithProperty=lT;function Lbe(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(n.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Gn))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}nt.bindConstructorLayout=Lbe;let Ls=class extends Gn{isCount(){throw new Error("ExternalLayout is abstract")}};class BW extends Ls{constructor(e,t){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){t===void 0&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}let dT=class extends Ls{constructor(e,t,r){if(!(e instanceof Gn))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof pc||this.layout instanceof nu}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}},pc=class extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}},nu=class extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}};class Ud extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class Up extends Gn{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const UR=Math.pow(2,32);function tA(n){const e=Math.floor(n/UR),t=n-e*UR;return{hi32:e,lo32:t}}function nA(n,e){return n*UR+e}let Obe=class extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return nA(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=tA(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}};class Nbe extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32BE(t),i=e.readUInt32BE(t+4);return nA(r,i)}encode(e,t,r){r===void 0&&(r=0);const i=tA(e);return t.writeUInt32BE(i.hi32,r),t.writeUInt32BE(i.lo32,r+4),8}}let $be=class extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return nA(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=tA(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}};class qbe extends Gn{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readInt32BE(t),i=e.readUInt32BE(t+4);return nA(r,i)}encode(e,t,r){r===void 0&&(r=0);const i=tA(e);return t.writeInt32BE(i.hi32,r),t.writeUInt32BE(i.lo32,r+4),8}}class TW extends Gn{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatLE(e,r),4}}class CW extends Gn{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatBE(e,r),4}}class MW extends Gn{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleLE(e,r),8}}class LW extends Gn{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleBE(e,r),8}}class OW extends Gn{constructor(e,t,r){if(!(e instanceof Gn))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof Ls&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(t instanceof Ls)&&0<e.span&&(i=t*e.span),super(i,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0,i=this.count;if(i instanceof Ls&&(i=i.decode(e,t)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,t+r),++s}return r}decode(e,t){t===void 0&&(t=0);const r=[];let i=0,s=this.count;for(s instanceof Ls&&(s=s.decode(e,t));i<s;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),i+=1;return r}encode(e,t,r){r===void 0&&(r=0);const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,t,r+o),0);return this.count instanceof Ls&&this.count.encode(e.length,t,r),s}}let NW=class extends Gn{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Gn,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}},hT=class{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}},Ww=class extends hT{constructor(e,t){if(!(e instanceof Ls&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}},fT=class extends Gn{constructor(e,t,r){const i=e instanceof pc||e instanceof nu;if(i)e=new Ww(new dT(e));else if(e instanceof Ls&&e.isCount())e=new Ww(e);else if(!(e instanceof hT))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Gn))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&i&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,s=i.decode(e,t);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,r),a+o.encode(e[o.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new $W(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}},$W=class extends Gn{constructor(e,t,r,i){if(!(e instanceof fT))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Gn))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};function uh(n){return 0>n&&(n+=4294967296),n}class pT extends Gn{constructor(e,t,r){if(!(e instanceof pc||e instanceof nu))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let i=0;this._packedSetValue=function(s){return i=uh(s),this},this._packedGetValue=function(){return i}}decode(e,t){const r=this.makeDestinationObject();t===void 0&&(t=0);const i=this.word.decode(e,t);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(i));return r}encode(e,t,r){r===void 0&&(r=0);const i=this.word.decode(t,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new ay(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new qW(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class ay{constructor(e,t,r){if(!(e instanceof pT))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(t+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-t),this.wordMask=uh(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return uh(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==uh(e&this.valueMask))throw new TypeError(lT("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=uh(e<<this.start);this.container._packedSetValue(uh(t&~this.wordMask)|r)}}let qW=class extends ay{constructor(e,t){super(e,1,t)}decode(e,t){return!!ay.prototype.decode.call(this,e,t)}encode(e){return typeof e=="boolean"&&(e=+e),ay.prototype.encode.call(this,e)}},zW=class extends Gn{constructor(e,t){if(!(e instanceof Ls&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Ls||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Ls&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(lT("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Ls&&this.length.encode(i,t,r),i}};class DW extends Gn{constructor(e){super(-1,e)}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");t===void 0&&(t=0);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t,r){t===void 0&&(t=0);let i=this.getSpan(e,t);return e.slice(t,t+i-1).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),s=i.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,r),t[r+s]=0,s+1}}class UW extends Gn{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return t===void 0&&(t=0),e.length-t}decode(e,t,r){t===void 0&&(t=0);let i=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+i).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const i=new Buffer(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(t,r),s}}class KW extends Gn{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}nt.ExternalLayout=Ls;nt.GreedyCount=BW;nt.OffsetLayout=dT;nt.UInt=pc;nt.UIntBE=nu;nt.Int=Ud;nt.IntBE=Up;nt.Float=TW;nt.FloatBE=CW;nt.Double=MW;nt.DoubleBE=LW;nt.Sequence=OW;nt.Structure=NW;nt.UnionDiscriminator=hT;nt.UnionLayoutDiscriminator=Ww;nt.Union=fT;nt.VariantLayout=$W;nt.BitStructure=pT;nt.BitField=ay;nt.Boolean=qW;nt.Blob=zW;nt.CString=DW;nt.UTF8=UW;nt.Constant=KW;nt.greedy=(n,e)=>new BW(n,e);nt.offset=(n,e,t)=>new dT(n,e,t);nt.u8=n=>new pc(1,n);nt.u16=n=>new pc(2,n);nt.u24=n=>new pc(3,n);nt.u32=n=>new pc(4,n);nt.u40=n=>new pc(5,n);nt.u48=n=>new pc(6,n);nt.nu64=n=>new Obe(n);nt.u16be=n=>new nu(2,n);nt.u24be=n=>new nu(3,n);nt.u32be=n=>new nu(4,n);nt.u40be=n=>new nu(5,n);nt.u48be=n=>new nu(6,n);nt.nu64be=n=>new Nbe(n);nt.s8=n=>new Ud(1,n);nt.s16=n=>new Ud(2,n);nt.s24=n=>new Ud(3,n);nt.s32=n=>new Ud(4,n);nt.s40=n=>new Ud(5,n);nt.s48=n=>new Ud(6,n);nt.ns64=n=>new $be(n);nt.s16be=n=>new Up(2,n);nt.s24be=n=>new Up(3,n);nt.s32be=n=>new Up(4,n);nt.s40be=n=>new Up(5,n);nt.s48be=n=>new Up(6,n);nt.ns64be=n=>new qbe(n);nt.f32=n=>new TW(n);nt.f32be=n=>new CW(n);nt.f64=n=>new MW(n);nt.f64be=n=>new LW(n);nt.struct=(n,e,t)=>new NW(n,e,t);nt.bits=(n,e,t)=>new pT(n,e,t);nt.seq=(n,e,t)=>new OW(n,e,t);nt.union=(n,e,t)=>new fT(n,e,t);nt.unionLayoutDiscriminator=(n,e)=>new Ww(n,e);nt.blob=(n,e)=>new zW(n,e);nt.cstr=n=>new DW(n);nt.utf8=(n,e)=>new UW(n,e);nt.const=(n,e)=>new KW(n,e);const zbe=la(tX);(function(n){var e=ce&&ce.__importDefault||function(oe){return oe&&oe.__esModule?oe:{default:oe}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=nt,r=zbe,i=e(Fs);var s=nt;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return s.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return s.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return s.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return s.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return s.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return s.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return s.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return s.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return s.struct}});class o extends t.Layout{constructor(z,m,v){super(z,v),this.blob=(0,t.blob)(z),this.signed=m}decode(z,m=0){const v=new i.default(this.blob.decode(z,m),10,"le");return this.signed?v.fromTwos(this.span*8).clone():v}encode(z,m,v=0){return this.signed&&(z=z.toTwos(this.span*8)),this.blob.encode(z.toArrayLike(Buffer,"le",this.span),m,v)}}function a(oe){return new o(8,!1,oe)}n.u64=a;function c(oe){return new o(8,!0,oe)}n.i64=c;function u(oe){return new o(16,!1,oe)}n.u128=u;function l(oe){return new o(16,!0,oe)}n.i128=l;function d(oe){return new o(32,!1,oe)}n.u256=d;function b(oe){return new o(32,!0,oe)}n.i256=b;class p extends t.Layout{constructor(z,m,v,T){super(z.span,T),this.layout=z,this.decoder=m,this.encoder=v}decode(z,m){return this.decoder(this.layout.decode(z,m))}encode(z,m,v){return this.layout.encode(this.encoder(z),m,v)}getSpan(z,m){return this.layout.getSpan(z,m)}}function g(oe){return new p((0,t.blob)(32),z=>new r.PublicKey(z),z=>z.toBuffer(),oe)}n.publicKey=g;class y extends t.Layout{constructor(z,m){super(-1,m),this.layout=z,this.discriminator=(0,t.u8)()}encode(z,m,v=0){return z==null?this.discriminator.encode(0,m,v):(this.discriminator.encode(1,m,v),this.layout.encode(z,m,v+1)+1)}decode(z,m=0){const v=this.discriminator.decode(z,m);if(v===0)return null;if(v===1)return this.layout.decode(z,m+1);throw new Error("Invalid option "+this.property)}getSpan(z,m=0){const v=this.discriminator.decode(z,m);if(v===0)return 1;if(v===1)return this.layout.getSpan(z,m+1)+1;throw new Error("Invalid option "+this.property)}}function S(oe,z){return new y(oe,z)}n.option=S;function w(oe){return new p((0,t.u8)(),_,R,oe)}n.bool=w;function _(oe){if(oe===0)return!1;if(oe===1)return!0;throw new Error("Invalid bool: "+oe)}function R(oe){return oe?1:0}function x(oe,z){const m=(0,t.u32)("length"),v=(0,t.struct)([m,(0,t.seq)(oe,(0,t.offset)(m,-m.span),"values")]);return new p(v,({values:T})=>T,T=>({values:T}),z)}n.vec=x;function K(oe,z,m){const v=(0,t.struct)([a("tag"),z.replicate("data")]);function T({tag:V,data:C}){if(!V.eq(oe))throw new Error("Invalid tag, expected: "+oe.toString("hex")+", got: "+V.toString("hex"));return C}return new p(v,T,V=>({tag:oe,data:V}),m)}n.tagged=K;function G(oe){const z=(0,t.u32)("length"),m=(0,t.struct)([z,(0,t.blob)((0,t.offset)(z,-z.span),"data")]);return new p(m,({data:v})=>v,v=>({data:v}),oe)}n.vecU8=G;function M(oe){return new p(G(),z=>z.toString("utf-8"),z=>Buffer.from(z,"utf-8"),oe)}n.str=M;function Q(oe,z,m){const v=(0,t.union)(m??(0,t.u8)(),z);return oe.forEach((T,V)=>v.addVariant(V,T,T.property)),v}n.rustEnum=Q;function ie(oe,z,m){const v=(0,t.struct)([(0,t.seq)(oe,z,"values")]);return new p(v,({values:T})=>T,T=>({values:T}),m)}n.array=ie;class ee extends t.Layout{constructor(z,m,v){super(z.span+m.span,v),this.keyLayout=z,this.valueLayout=m}decode(z,m){m=m||0;const v=this.keyLayout.decode(z,m),T=this.valueLayout.decode(z,m+this.keyLayout.getSpan(z,m));return[v,T]}encode(z,m,v){v=v||0;const T=this.keyLayout.encode(z[0],m,v),V=this.valueLayout.encode(z[1],m,v+T);return T+V}getSpan(z,m){return this.keyLayout.getSpan(z,m)+this.valueLayout.getSpan(z,m)}}function X(oe,z,m){const v=(0,t.u32)("length"),T=(0,t.struct)([v,(0,t.seq)(new ee(oe,z),(0,t.offset)(v,-v.span),"values")]);return new p(T,({values:V})=>new Map(V),V=>({values:Array.from(V.entries())}),m)}n.map=X})(Gi);/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Dbe=4,VO=0,jO=1,Ube=2;function Kp(n){let e=n.length;for(;--e>=0;)n[e]=0}const Kbe=0,WW=1,Wbe=2,Fbe=3,Vbe=258,gT=29,Gm=256,um=Gm+1+gT,Kh=30,yT=19,FW=2*um+1,Ul=15,Uv=16,jbe=7,mT=256,VW=16,jW=17,HW=18,KR=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),X1=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Hbe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),YW=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ybe=512,Pc=new Array((um+2)*2);Kp(Pc);const cy=new Array(Kh*2);Kp(cy);const lm=new Array(Ybe);Kp(lm);const dm=new Array(Vbe-Fbe+1);Kp(dm);const bT=new Array(gT);Kp(bT);const Fw=new Array(Kh);Kp(Fw);function Kv(n,e,t,r,i){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=i,this.has_stree=n&&n.length}let GW,JW,QW;function Wv(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const ZW=n=>n<256?lm[n]:lm[256+(n>>>7)],hm=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},Ns=(n,e,t)=>{n.bi_valid>Uv-t?(n.bi_buf|=e<<n.bi_valid&65535,hm(n,n.bi_buf),n.bi_buf=e>>Uv-n.bi_valid,n.bi_valid+=t-Uv):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},Ha=(n,e,t)=>{Ns(n,t[e*2],t[e*2+1])},XW=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},Gbe=n=>{n.bi_valid===16?(hm(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},Jbe=(n,e)=>{const t=e.dyn_tree,r=e.max_code,i=e.stat_desc.static_tree,s=e.stat_desc.has_stree,o=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,d,b,p,g,y=0;for(b=0;b<=Ul;b++)n.bl_count[b]=0;for(t[n.heap[n.heap_max]*2+1]=0,u=n.heap_max+1;u<FW;u++)l=n.heap[u],b=t[t[l*2+1]*2+1]+1,b>c&&(b=c,y++),t[l*2+1]=b,!(l>r)&&(n.bl_count[b]++,p=0,l>=a&&(p=o[l-a]),g=t[l*2],n.opt_len+=g*(b+p),s&&(n.static_len+=g*(i[l*2+1]+p)));if(y!==0){do{for(b=c-1;n.bl_count[b]===0;)b--;n.bl_count[b]--,n.bl_count[b+1]+=2,n.bl_count[c]--,y-=2}while(y>0);for(b=c;b!==0;b--)for(l=n.bl_count[b];l!==0;)d=n.heap[--u],!(d>r)&&(t[d*2+1]!==b&&(n.opt_len+=(b-t[d*2+1])*t[d*2],t[d*2+1]=b),l--)}},e6=(n,e,t)=>{const r=new Array(Ul+1);let i=0,s,o;for(s=1;s<=Ul;s++)i=i+t[s-1]<<1,r[s]=i;for(o=0;o<=e;o++){let a=n[o*2+1];a!==0&&(n[o*2]=XW(r[a]++,a))}},Qbe=()=>{let n,e,t,r,i;const s=new Array(Ul+1);for(t=0,r=0;r<gT-1;r++)for(bT[r]=t,n=0;n<1<<KR[r];n++)dm[t++]=r;for(dm[t-1]=r,i=0,r=0;r<16;r++)for(Fw[r]=i,n=0;n<1<<X1[r];n++)lm[i++]=r;for(i>>=7;r<Kh;r++)for(Fw[r]=i<<7,n=0;n<1<<X1[r]-7;n++)lm[256+i++]=r;for(e=0;e<=Ul;e++)s[e]=0;for(n=0;n<=143;)Pc[n*2+1]=8,n++,s[8]++;for(;n<=255;)Pc[n*2+1]=9,n++,s[9]++;for(;n<=279;)Pc[n*2+1]=7,n++,s[7]++;for(;n<=287;)Pc[n*2+1]=8,n++,s[8]++;for(e6(Pc,um+1,s),n=0;n<Kh;n++)cy[n*2+1]=5,cy[n*2]=XW(n,5);GW=new Kv(Pc,KR,Gm+1,um,Ul),JW=new Kv(cy,X1,0,Kh,Ul),QW=new Kv(new Array(0),Hbe,0,yT,jbe)},t6=n=>{let e;for(e=0;e<um;e++)n.dyn_ltree[e*2]=0;for(e=0;e<Kh;e++)n.dyn_dtree[e*2]=0;for(e=0;e<yT;e++)n.bl_tree[e*2]=0;n.dyn_ltree[mT*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},n6=n=>{n.bi_valid>8?hm(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},HO=(n,e,t,r)=>{const i=e*2,s=t*2;return n[i]<n[s]||n[i]===n[s]&&r[e]<=r[t]},Fv=(n,e,t)=>{const r=n.heap[t];let i=t<<1;for(;i<=n.heap_len&&(i<n.heap_len&&HO(e,n.heap[i+1],n.heap[i],n.depth)&&i++,!HO(e,r,n.heap[i],n.depth));)n.heap[t]=n.heap[i],t=i,i<<=1;n.heap[t]=r},YO=(n,e,t)=>{let r,i,s=0,o,a;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+s++]&255,r+=(n.pending_buf[n.sym_buf+s++]&255)<<8,i=n.pending_buf[n.sym_buf+s++],r===0?Ha(n,i,e):(o=dm[i],Ha(n,o+Gm+1,e),a=KR[o],a!==0&&(i-=bT[o],Ns(n,i,a)),r--,o=ZW(r),Ha(n,o,t),a=X1[o],a!==0&&(r-=Fw[o],Ns(n,r,a)));while(s<n.sym_next);Ha(n,mT,e)},WR=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,i=e.stat_desc.has_stree,s=e.stat_desc.elems;let o,a,c=-1,u;for(n.heap_len=0,n.heap_max=FW,o=0;o<s;o++)t[o*2]!==0?(n.heap[++n.heap_len]=c=o,n.depth[o]=0):t[o*2+1]=0;for(;n.heap_len<2;)u=n.heap[++n.heap_len]=c<2?++c:0,t[u*2]=1,n.depth[u]=0,n.opt_len--,i&&(n.static_len-=r[u*2+1]);for(e.max_code=c,o=n.heap_len>>1;o>=1;o--)Fv(n,t,o);u=s;do o=n.heap[1],n.heap[1]=n.heap[n.heap_len--],Fv(n,t,1),a=n.heap[1],n.heap[--n.heap_max]=o,n.heap[--n.heap_max]=a,t[u*2]=t[o*2]+t[a*2],n.depth[u]=(n.depth[o]>=n.depth[a]?n.depth[o]:n.depth[a])+1,t[o*2+1]=t[a*2+1]=u,n.heap[1]=u++,Fv(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],Jbe(n,e),e6(t,c,n.bl_count)},GO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)&&(a<u?n.bl_tree[s*2]+=a:s!==0?(s!==i&&n.bl_tree[s*2]++,n.bl_tree[VW*2]++):a<=10?n.bl_tree[jW*2]++:n.bl_tree[HW*2]++,a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4))},JO=(n,e,t)=>{let r,i=-1,s,o=e[0*2+1],a=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=t;r++)if(s=o,o=e[(r+1)*2+1],!(++a<c&&s===o)){if(a<u)do Ha(n,s,n.bl_tree);while(--a!==0);else s!==0?(s!==i&&(Ha(n,s,n.bl_tree),a--),Ha(n,VW,n.bl_tree),Ns(n,a-3,2)):a<=10?(Ha(n,jW,n.bl_tree),Ns(n,a-3,3)):(Ha(n,HW,n.bl_tree),Ns(n,a-11,7));a=0,i=s,o===0?(c=138,u=3):s===o?(c=6,u=3):(c=7,u=4)}},Zbe=n=>{let e;for(GO(n,n.dyn_ltree,n.l_desc.max_code),GO(n,n.dyn_dtree,n.d_desc.max_code),WR(n,n.bl_desc),e=yT-1;e>=3&&n.bl_tree[YW[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},Xbe=(n,e,t,r)=>{let i;for(Ns(n,e-257,5),Ns(n,t-1,5),Ns(n,r-4,4),i=0;i<r;i++)Ns(n,n.bl_tree[YW[i]*2+1],3);JO(n,n.dyn_ltree,e-1),JO(n,n.dyn_dtree,t-1)},e1e=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return VO;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return jO;for(t=32;t<Gm;t++)if(n.dyn_ltree[t*2]!==0)return jO;return VO};let QO=!1;const t1e=n=>{QO||(Qbe(),QO=!0),n.l_desc=new Wv(n.dyn_ltree,GW),n.d_desc=new Wv(n.dyn_dtree,JW),n.bl_desc=new Wv(n.bl_tree,QW),n.bi_buf=0,n.bi_valid=0,t6(n)},r6=(n,e,t,r)=>{Ns(n,(Kbe<<1)+(r?1:0),3),n6(n),hm(n,t),hm(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},n1e=n=>{Ns(n,WW<<1,3),Ha(n,mT,Pc),Gbe(n)},r1e=(n,e,t,r)=>{let i,s,o=0;n.level>0?(n.strm.data_type===Ube&&(n.strm.data_type=e1e(n)),WR(n,n.l_desc),WR(n,n.d_desc),o=Zbe(n),i=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=i&&(i=s)):i=s=t+5,t+4<=i&&e!==-1?r6(n,e,t,r):n.strategy===Dbe||s===i?(Ns(n,(WW<<1)+(r?1:0),3),YO(n,Pc,cy)):(Ns(n,(Wbe<<1)+(r?1:0),3),Xbe(n,n.l_desc.max_code+1,n.d_desc.max_code+1,o+1),YO(n,n.dyn_ltree,n.dyn_dtree)),t6(n),r&&n6(n)},i1e=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(dm[t]+Gm+1)*2]++,n.dyn_dtree[ZW(e)*2]++),n.sym_next===n.sym_end);var s1e=t1e,o1e=r6,a1e=r1e,c1e=i1e,u1e=n1e,l1e={_tr_init:s1e,_tr_stored_block:o1e,_tr_flush_block:a1e,_tr_tally:c1e,_tr_align:u1e};const d1e=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,o=0;for(;t!==0;){o=t>2e3?2e3:t,t-=o;do i=i+e[r++]|0,s=s+i|0;while(--o);i%=65521,s%=65521}return i|s<<16|0};var fm=d1e;const h1e=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},f1e=new Uint32Array(h1e()),p1e=(n,e,t,r)=>{const i=f1e,s=r+t;n^=-1;for(let o=r;o<s;o++)n=n>>>8^i[(n^e[o])&255];return n^-1};var Ai=p1e,pm={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rA={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:g1e,_tr_stored_block:FR,_tr_flush_block:y1e,_tr_tally:Ku,_tr_align:m1e}=l1e,{Z_NO_FLUSH:Wu,Z_PARTIAL_FLUSH:b1e,Z_FULL_FLUSH:w1e,Z_FINISH:To,Z_BLOCK:ZO,Z_OK:Ni,Z_STREAM_END:XO,Z_STREAM_ERROR:nc,Z_DATA_ERROR:k1e,Z_BUF_ERROR:Vv,Z_DEFAULT_COMPRESSION:S1e,Z_FILTERED:A1e,Z_HUFFMAN_ONLY:Ub,Z_RLE:_1e,Z_FIXED:v1e,Z_DEFAULT_STRATEGY:E1e,Z_UNKNOWN:I1e,Z_DEFLATED:iA}=rA,R1e=9,P1e=15,x1e=8,B1e=29,T1e=256,VR=T1e+1+B1e,C1e=30,M1e=19,L1e=2*VR+1,O1e=15,cn=3,Eu=258,rc=Eu+cn+1,N1e=32,bp=42,wT=57,jR=69,HR=73,YR=91,GR=103,Kl=113,Ng=666,ds=1,Wp=2,bd=3,Fp=4,$1e=3,Wl=(n,e)=>(n.msg=pm[e],e),eN=n=>n*2-(n>4?9:0),wu=n=>{let e=n.length;for(;--e>=0;)n[e]=0},q1e=n=>{let e,t,r,i=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=i?t-i:0;while(--e);e=i,r=e;do t=n.prev[--r],n.prev[r]=t>=i?t-i:0;while(--e)};let z1e=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,Fu=z1e;const Xs=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},co=(n,e)=>{y1e(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,Xs(n.strm)},Bn=(n,e)=>{n.pending_buf[n.pending++]=e},Sg=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},JR=(n,e,t,r)=>{let i=n.avail_in;return i>r&&(i=r),i===0?0:(n.avail_in-=i,e.set(n.input.subarray(n.next_in,n.next_in+i),t),n.state.wrap===1?n.adler=fm(n.adler,e,i,t):n.state.wrap===2&&(n.adler=Ai(n.adler,e,i,t)),n.next_in+=i,n.total_in+=i,i)},i6=(n,e)=>{let t=n.max_chain_length,r=n.strstart,i,s,o=n.prev_length,a=n.nice_match;const c=n.strstart>n.w_size-rc?n.strstart-(n.w_size-rc):0,u=n.window,l=n.w_mask,d=n.prev,b=n.strstart+Eu;let p=u[r+o-1],g=u[r+o];n.prev_length>=n.good_match&&(t>>=2),a>n.lookahead&&(a=n.lookahead);do if(i=e,!(u[i+o]!==g||u[i+o-1]!==p||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<b);if(s=Eu-(b-r),r=b-Eu,s>o){if(n.match_start=e,o=s,s>=a)break;p=u[r+o-1],g=u[r+o]}}while((e=d[e&l])>c&&--t!==0);return o<=n.lookahead?o:n.lookahead},wp=n=>{const e=n.w_size;let t,r,i;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-rc)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),q1e(n),r+=e),n.strm.avail_in===0)break;if(t=JR(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=cn)for(i=n.strstart-n.insert,n.ins_h=n.window[i],n.ins_h=Fu(n,n.ins_h,n.window[i+1]);n.insert&&(n.ins_h=Fu(n,n.ins_h,n.window[i+cn-1]),n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,n.insert--,!(n.lookahead+n.insert<cn)););}while(n.lookahead<rc&&n.strm.avail_in!==0)},s6=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,i,s,o=0,a=n.strm.avail_in;do{if(r=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,i=n.strstart-n.block_start,r>i+n.strm.avail_in&&(r=i+n.strm.avail_in),r>s&&(r=s),r<t&&(r===0&&e!==To||e===Wu||r!==i+n.strm.avail_in)))break;o=e===To&&r===i+n.strm.avail_in?1:0,FR(n,0,0,o),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,Xs(n.strm),i&&(i>r&&(i=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+i),n.strm.next_out),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i,n.block_start+=i,r-=i),r&&(JR(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(o===0);return a-=n.strm.avail_in,a&&(a>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=a&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-a,n.strm.next_in),n.strstart),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),o?Fp:e!==Wu&&e!==To&&n.strm.avail_in===0&&n.strstart===n.block_start?Wp:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(JR(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,i=n.strstart-n.block_start,(i>=t||(i||e===To)&&e!==Wu&&n.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,o=e===To&&n.strm.avail_in===0&&r===i?1:0,FR(n,n.block_start,r,o),n.block_start+=r,Xs(n.strm)),o?bd:ds)},jv=(n,e)=>{let t,r;for(;;){if(n.lookahead<rc){if(wp(n),n.lookahead<rc&&e===Wu)return ds;if(n.lookahead===0)break}if(t=0,n.lookahead>=cn&&(n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+cn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-rc&&(n.match_length=i6(n,t)),n.match_length>=cn)if(r=Ku(n,n.strstart-n.match_start,n.match_length-cn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=cn){n.match_length--;do n.strstart++,n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+cn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+1]);else r=Ku(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(co(n,!1),n.strm.avail_out===0))return ds}return n.insert=n.strstart<cn-1?n.strstart:cn-1,e===To?(co(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(co(n,!1),n.strm.avail_out===0)?ds:Wp},Qd=(n,e)=>{let t,r,i;for(;;){if(n.lookahead<rc){if(wp(n),n.lookahead<rc&&e===Wu)return ds;if(n.lookahead===0)break}if(t=0,n.lookahead>=cn&&(n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+cn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=cn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-rc&&(n.match_length=i6(n,t),n.match_length<=5&&(n.strategy===A1e||n.match_length===cn&&n.strstart-n.match_start>4096)&&(n.match_length=cn-1)),n.prev_length>=cn&&n.match_length<=n.prev_length){i=n.strstart+n.lookahead-cn,r=Ku(n,n.strstart-1-n.prev_match,n.prev_length-cn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=i&&(n.ins_h=Fu(n,n.ins_h,n.window[n.strstart+cn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=cn-1,n.strstart++,r&&(co(n,!1),n.strm.avail_out===0))return ds}else if(n.match_available){if(r=Ku(n,0,n.window[n.strstart-1]),r&&co(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return ds}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=Ku(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<cn-1?n.strstart:cn-1,e===To?(co(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(co(n,!1),n.strm.avail_out===0)?ds:Wp},D1e=(n,e)=>{let t,r,i,s;const o=n.window;for(;;){if(n.lookahead<=Eu){if(wp(n),n.lookahead<=Eu&&e===Wu)return ds;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=cn&&n.strstart>0&&(i=n.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){s=n.strstart+Eu;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<s);n.match_length=Eu-(s-i),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=cn?(t=Ku(n,1,n.match_length-cn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=Ku(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(co(n,!1),n.strm.avail_out===0))return ds}return n.insert=0,e===To?(co(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(co(n,!1),n.strm.avail_out===0)?ds:Wp},U1e=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(wp(n),n.lookahead===0)){if(e===Wu)return ds;break}if(n.match_length=0,t=Ku(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(co(n,!1),n.strm.avail_out===0))return ds}return n.insert=0,e===To?(co(n,!0),n.strm.avail_out===0?bd:Fp):n.sym_next&&(co(n,!1),n.strm.avail_out===0)?ds:Wp};function ma(n,e,t,r,i){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=i}const $g=[new ma(0,0,0,0,s6),new ma(4,4,8,4,jv),new ma(4,5,16,8,jv),new ma(4,6,32,32,jv),new ma(4,4,16,16,Qd),new ma(8,16,32,32,Qd),new ma(8,16,128,128,Qd),new ma(8,32,128,256,Qd),new ma(32,128,258,1024,Qd),new ma(32,258,258,4096,Qd)],K1e=n=>{n.window_size=2*n.w_size,wu(n.head),n.max_lazy_match=$g[n.level].max_lazy,n.good_match=$g[n.level].good_length,n.nice_match=$g[n.level].nice_length,n.max_chain_length=$g[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=cn-1,n.match_available=0,n.ins_h=0};function W1e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=iA,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(L1e*2),this.dyn_dtree=new Uint16Array((2*C1e+1)*2),this.bl_tree=new Uint16Array((2*M1e+1)*2),wu(this.dyn_ltree),wu(this.dyn_dtree),wu(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(O1e+1),this.heap=new Uint16Array(2*VR+1),wu(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*VR+1),wu(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Jm=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==bp&&e.status!==wT&&e.status!==jR&&e.status!==HR&&e.status!==YR&&e.status!==GR&&e.status!==Kl&&e.status!==Ng?1:0},o6=n=>{if(Jm(n))return Wl(n,nc);n.total_in=n.total_out=0,n.data_type=I1e;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?wT:e.wrap?bp:Kl,n.adler=e.wrap===2?0:1,e.last_flush=-2,g1e(e),Ni},a6=n=>{const e=o6(n);return e===Ni&&K1e(n.state),e},F1e=(n,e)=>Jm(n)||n.state.wrap!==2?nc:(n.state.gzhead=e,Ni),c6=(n,e,t,r,i,s)=>{if(!n)return nc;let o=1;if(e===S1e&&(e=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>R1e||t!==iA||r<8||r>15||e<0||e>9||s<0||s>v1e||r===8&&o!==1)return Wl(n,nc);r===8&&(r=9);const a=new W1e;return n.state=a,a.strm=n,a.status=bp,a.wrap=o,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+cn-1)/cn),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=e,a.strategy=s,a.method=t,a6(n)},V1e=(n,e)=>c6(n,e,iA,P1e,x1e,E1e),j1e=(n,e)=>{if(Jm(n)||e>ZO||e<0)return n?Wl(n,nc):nc;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===Ng&&e!==To)return Wl(n,n.avail_out===0?Vv:nc);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(Xs(n),n.avail_out===0)return t.last_flush=-1,Ni}else if(n.avail_in===0&&eN(e)<=eN(r)&&e!==To)return Wl(n,Vv);if(t.status===Ng&&n.avail_in!==0)return Wl(n,Vv);if(t.status===bp&&t.wrap===0&&(t.status=Kl),t.status===bp){let i=iA+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=Ub||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,i|=s<<6,t.strstart!==0&&(i|=N1e),i+=31-i%31,Sg(t,i),t.strstart!==0&&(Sg(t,n.adler>>>16),Sg(t,n.adler&65535)),n.adler=1,t.status=Kl,Xs(n),t.pending!==0)return t.last_flush=-1,Ni}if(t.status===wT){if(n.adler=0,Bn(t,31),Bn(t,139),Bn(t,8),t.gzhead)Bn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Bn(t,t.gzhead.time&255),Bn(t,t.gzhead.time>>8&255),Bn(t,t.gzhead.time>>16&255),Bn(t,t.gzhead.time>>24&255),Bn(t,t.level===9?2:t.strategy>=Ub||t.level<2?4:0),Bn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Bn(t,t.gzhead.extra.length&255),Bn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Ai(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=jR;else if(Bn(t,0),Bn(t,0),Bn(t,0),Bn(t,0),Bn(t,0),Bn(t,t.level===9?2:t.strategy>=Ub||t.level<2?4:0),Bn(t,$1e),t.status=Kl,Xs(n),t.pending!==0)return t.last_flush=-1,Ni}if(t.status===jR){if(t.gzhead.extra){let i=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let a=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex+=a,Xs(n),t.pending!==0)return t.last_flush=-1,Ni;i=0,s-=a}let o=new Uint8Array(t.gzhead.extra);t.pending_buf.set(o.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=HR}if(t.status===HR){if(t.gzhead.name){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),Xs(n),t.pending!==0)return t.last_flush=-1,Ni;i=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Bn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),t.gzindex=0}t.status=YR}if(t.status===YR){if(t.gzhead.comment){let i=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i)),Xs(n),t.pending!==0)return t.last_flush=-1,Ni;i=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Bn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>i&&(n.adler=Ai(n.adler,t.pending_buf,t.pending-i,i))}t.status=GR}if(t.status===GR){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(Xs(n),t.pending!==0))return t.last_flush=-1,Ni;Bn(t,n.adler&255),Bn(t,n.adler>>8&255),n.adler=0}if(t.status=Kl,Xs(n),t.pending!==0)return t.last_flush=-1,Ni}if(n.avail_in!==0||t.lookahead!==0||e!==Wu&&t.status!==Ng){let i=t.level===0?s6(t,e):t.strategy===Ub?U1e(t,e):t.strategy===_1e?D1e(t,e):$g[t.level].func(t,e);if((i===bd||i===Fp)&&(t.status=Ng),i===ds||i===bd)return n.avail_out===0&&(t.last_flush=-1),Ni;if(i===Wp&&(e===b1e?m1e(t):e!==ZO&&(FR(t,0,0,!1),e===w1e&&(wu(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),Xs(n),n.avail_out===0))return t.last_flush=-1,Ni}return e!==To?Ni:t.wrap<=0?XO:(t.wrap===2?(Bn(t,n.adler&255),Bn(t,n.adler>>8&255),Bn(t,n.adler>>16&255),Bn(t,n.adler>>24&255),Bn(t,n.total_in&255),Bn(t,n.total_in>>8&255),Bn(t,n.total_in>>16&255),Bn(t,n.total_in>>24&255)):(Sg(t,n.adler>>>16),Sg(t,n.adler&65535)),Xs(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Ni:XO)},H1e=n=>{if(Jm(n))return nc;const e=n.state.status;return n.state=null,e===Kl?Wl(n,k1e):Ni},Y1e=(n,e)=>{let t=e.length;if(Jm(n))return nc;const r=n.state,i=r.wrap;if(i===2||i===1&&r.status!==bp||r.lookahead)return nc;if(i===1&&(n.adler=fm(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){i===0&&(wu(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(e.subarray(t-r.w_size,t),0),e=c,t=r.w_size}const s=n.avail_in,o=n.next_in,a=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,wp(r);r.lookahead>=cn;){let c=r.strstart,u=r.lookahead-(cn-1);do r.ins_h=Fu(r,r.ins_h,r.window[c+cn-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=cn-1,wp(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=cn-1,r.match_available=0,n.next_in=o,n.input=a,n.avail_in=s,r.wrap=i,Ni};var G1e=V1e,J1e=c6,Q1e=a6,Z1e=o6,X1e=F1e,e0e=j1e,t0e=H1e,n0e=Y1e,r0e="pako deflate (from Nodeca project)",uy={deflateInit:G1e,deflateInit2:J1e,deflateReset:Q1e,deflateResetKeep:Z1e,deflateSetHeader:X1e,deflate:e0e,deflateEnd:t0e,deflateSetDictionary:n0e,deflateInfo:r0e};const i0e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var s0e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)i0e(t,r)&&(n[r]=t[r])}}return n},o0e=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let o=n[r];t.set(o,i),i+=o.length}return t},sA={assign:s0e,flattenChunks:o0e};let u6=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u6=!1}const gm=new Uint8Array(256);for(let n=0;n<256;n++)gm[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;gm[254]=gm[254]=1;var a0e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,o=n.length,a=0;for(i=0;i<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),a+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(a),s=0,i=0;s<a;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<o&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const c0e=(n,e)=>{if(e<65534&&n.subarray&&u6)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var u0e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let o=n[r++];if(o<128){s[i++]=o;continue}let a=gm[o];if(a>4){s[i++]=65533,r+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&r<t;)o=o<<6|n[r++]&63,a--;if(a>1){s[i++]=65533;continue}o<65536?s[i++]=o:(o-=65536,s[i++]=55296|o>>10&1023,s[i++]=56320|o&1023)}return c0e(s,i)},l0e=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+gm[n[t]]>e?t:e},ym={string2buf:a0e,buf2string:u0e,utf8border:l0e};function d0e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var l6=d0e;const d6=Object.prototype.toString,{Z_NO_FLUSH:h0e,Z_SYNC_FLUSH:f0e,Z_FULL_FLUSH:p0e,Z_FINISH:g0e,Z_OK:Vw,Z_STREAM_END:y0e,Z_DEFAULT_COMPRESSION:m0e,Z_DEFAULT_STRATEGY:b0e,Z_DEFLATED:w0e}=rA;function kT(n){this.options=sA.assign({level:m0e,method:w0e,chunkSize:16384,windowBits:15,memLevel:8,strategy:b0e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l6,this.strm.avail_out=0;let t=uy.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Vw)throw new Error(pm[t]);if(e.header&&uy.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=ym.string2buf(e.dictionary):d6.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=uy.deflateSetDictionary(this.strm,r),t!==Vw)throw new Error(pm[t]);this._dict_set=!0}}kT.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?g0e:h0e,typeof n=="string"?t.input=ym.string2buf(n):d6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(s===f0e||s===p0e)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(i=uy.deflate(t,s),i===y0e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),i=uy.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Vw;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};kT.prototype.onData=function(n){this.chunks.push(n)};kT.prototype.onEnd=function(n){n===Vw&&(this.result=sA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const Kb=16209,k0e=16191;var S0e=function(e,t){let r,i,s,o,a,c,u,l,d,b,p,g,y,S,w,_,R,x,K,G,M,Q,ie,ee;const X=e.state;r=e.next_in,ie=e.input,i=r+(e.avail_in-5),s=e.next_out,ee=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=X.dmax,u=X.wsize,l=X.whave,d=X.wnext,b=X.window,p=X.hold,g=X.bits,y=X.lencode,S=X.distcode,w=(1<<X.lenbits)-1,_=(1<<X.distbits)-1;e:do{g<15&&(p+=ie[r++]<<g,g+=8,p+=ie[r++]<<g,g+=8),R=y[p&w];t:for(;;){if(x=R>>>24,p>>>=x,g-=x,x=R>>>16&255,x===0)ee[s++]=R&65535;else if(x&16){K=R&65535,x&=15,x&&(g<x&&(p+=ie[r++]<<g,g+=8),K+=p&(1<<x)-1,p>>>=x,g-=x),g<15&&(p+=ie[r++]<<g,g+=8,p+=ie[r++]<<g,g+=8),R=S[p&_];n:for(;;){if(x=R>>>24,p>>>=x,g-=x,x=R>>>16&255,x&16){if(G=R&65535,x&=15,g<x&&(p+=ie[r++]<<g,g+=8,g<x&&(p+=ie[r++]<<g,g+=8)),G+=p&(1<<x)-1,G>c){e.msg="invalid distance too far back",X.mode=Kb;break e}if(p>>>=x,g-=x,x=s-o,G>x){if(x=G-x,x>l&&X.sane){e.msg="invalid distance too far back",X.mode=Kb;break e}if(M=0,Q=b,d===0){if(M+=u-x,x<K){K-=x;do ee[s++]=b[M++];while(--x);M=s-G,Q=ee}}else if(d<x){if(M+=u+d-x,x-=d,x<K){K-=x;do ee[s++]=b[M++];while(--x);if(M=0,d<K){x=d,K-=x;do ee[s++]=b[M++];while(--x);M=s-G,Q=ee}}}else if(M+=d-x,x<K){K-=x;do ee[s++]=b[M++];while(--x);M=s-G,Q=ee}for(;K>2;)ee[s++]=Q[M++],ee[s++]=Q[M++],ee[s++]=Q[M++],K-=3;K&&(ee[s++]=Q[M++],K>1&&(ee[s++]=Q[M++]))}else{M=s-G;do ee[s++]=ee[M++],ee[s++]=ee[M++],ee[s++]=ee[M++],K-=3;while(K>2);K&&(ee[s++]=ee[M++],K>1&&(ee[s++]=ee[M++]))}}else if(x&64){e.msg="invalid distance code",X.mode=Kb;break e}else{R=S[(R&65535)+(p&(1<<x)-1)];continue n}break}}else if(x&64)if(x&32){X.mode=k0e;break e}else{e.msg="invalid literal/length code",X.mode=Kb;break e}else{R=y[(R&65535)+(p&(1<<x)-1)];continue t}break}}while(r<i&&s<a);K=g>>3,r-=K,g-=K<<3,p&=(1<<g)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<a?257+(a-s):257-(s-a),X.hold=p,X.bits=g};const Zd=15,tN=852,nN=592,rN=0,Hv=1,iN=2,A0e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_0e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),v0e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),E0e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),I0e=(n,e,t,r,i,s,o,a)=>{const c=a.bits;let u=0,l=0,d=0,b=0,p=0,g=0,y=0,S=0,w=0,_=0,R,x,K,G,M,Q=null,ie;const ee=new Uint16Array(Zd+1),X=new Uint16Array(Zd+1);let oe=null,z,m,v;for(u=0;u<=Zd;u++)ee[u]=0;for(l=0;l<r;l++)ee[e[t+l]]++;for(p=c,b=Zd;b>=1&&ee[b]===0;b--);if(p>b&&(p=b),b===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,a.bits=1,0;for(d=1;d<b&&ee[d]===0;d++);for(p<d&&(p=d),S=1,u=1;u<=Zd;u++)if(S<<=1,S-=ee[u],S<0)return-1;if(S>0&&(n===rN||b!==1))return-1;for(X[1]=0,u=1;u<Zd;u++)X[u+1]=X[u]+ee[u];for(l=0;l<r;l++)e[t+l]!==0&&(o[X[e[t+l]]++]=l);if(n===rN?(Q=oe=o,ie=20):n===Hv?(Q=A0e,oe=_0e,ie=257):(Q=v0e,oe=E0e,ie=0),_=0,l=0,u=d,M=s,g=p,y=0,K=-1,w=1<<p,G=w-1,n===Hv&&w>tN||n===iN&&w>nN)return 1;for(;;){z=u-y,o[l]+1<ie?(m=0,v=o[l]):o[l]>=ie?(m=oe[o[l]-ie],v=Q[o[l]-ie]):(m=96,v=0),R=1<<u-y,x=1<<g,d=x;do x-=R,i[M+(_>>y)+x]=z<<24|m<<16|v|0;while(x!==0);for(R=1<<u-1;_&R;)R>>=1;if(R!==0?(_&=R-1,_+=R):_=0,l++,--ee[u]===0){if(u===b)break;u=e[t+o[l]]}if(u>p&&(_&G)!==K){for(y===0&&(y=p),M+=d,g=u-y,S=1<<g;g+y<b&&(S-=ee[g+y],!(S<=0));)g++,S<<=1;if(w+=1<<g,n===Hv&&w>tN||n===iN&&w>nN)return 1;K=_&G,i[K]=p<<24|g<<16|M-s|0}}return _!==0&&(i[M+_]=u-y<<24|64<<16|0),a.bits=p,0};var ly=I0e;const R0e=0,h6=1,f6=2,{Z_FINISH:sN,Z_BLOCK:P0e,Z_TREES:Wb,Z_OK:wd,Z_STREAM_END:x0e,Z_NEED_DICT:B0e,Z_STREAM_ERROR:zo,Z_DATA_ERROR:p6,Z_MEM_ERROR:g6,Z_BUF_ERROR:T0e,Z_DEFLATED:oN}=rA,oA=16180,aN=16181,cN=16182,uN=16183,lN=16184,dN=16185,hN=16186,fN=16187,pN=16188,gN=16189,jw=16190,wc=16191,Yv=16192,yN=16193,Gv=16194,mN=16195,bN=16196,wN=16197,kN=16198,Fb=16199,Vb=16200,SN=16201,AN=16202,_N=16203,vN=16204,EN=16205,Jv=16206,IN=16207,RN=16208,Cr=16209,y6=16210,m6=16211,C0e=852,M0e=592,L0e=15,O0e=L0e,PN=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function N0e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Kd=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<oA||e.mode>m6?1:0},b6=n=>{if(Kd(n))return zo;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=oA,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(C0e),e.distcode=e.distdyn=new Int32Array(M0e),e.sane=1,e.back=-1,wd},w6=n=>{if(Kd(n))return zo;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,b6(n)},k6=(n,e)=>{let t;if(Kd(n))return zo;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zo:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,w6(n))},S6=(n,e)=>{if(!n)return zo;const t=new N0e;n.state=t,t.strm=n,t.window=null,t.mode=oA;const r=k6(n,e);return r!==wd&&(n.state=null),r},$0e=n=>S6(n,O0e);let xN=!0,Qv,Zv;const q0e=n=>{if(xN){Qv=new Int32Array(512),Zv=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(ly(h6,n.lens,0,288,Qv,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;ly(f6,n.lens,0,32,Zv,0,n.work,{bits:5}),xN=!1}n.lencode=Qv,n.lenbits=9,n.distcode=Zv,n.distbits=5},A6=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},z0e=(n,e)=>{let t,r,i,s,o,a,c,u,l,d,b,p,g,y,S=0,w,_,R,x,K,G,M,Q;const ie=new Uint8Array(4);let ee,X;const oe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Kd(n)||!n.output||!n.input&&n.avail_in!==0)return zo;t=n.state,t.mode===wc&&(t.mode=Yv),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,u=t.hold,l=t.bits,d=a,b=c,Q=wd;e:for(;;)switch(t.mode){case oA:if(t.wrap===0){t.mode=Yv;break}for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.wrap&2&&u===35615){t.wbits===0&&(t.wbits=15),t.check=0,ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0),u=0,l=0,t.mode=aN;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((u&255)<<8)+(u>>8))%31){n.msg="incorrect header check",t.mode=Cr;break}if((u&15)!==oN){n.msg="unknown compression method",t.mode=Cr;break}if(u>>>=4,l-=4,M=(u&15)+8,t.wbits===0&&(t.wbits=M),M>15||M>t.wbits){n.msg="invalid window size",t.mode=Cr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=u&512?gN:wc,u=0,l=0;break;case aN:for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.flags=u,(t.flags&255)!==oN){n.msg="unknown compression method",t.mode=Cr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Cr;break}t.head&&(t.head.text=u>>8&1),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0)),u=0,l=0,t.mode=cN;case cN:for(;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.head&&(t.head.time=u),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,ie[2]=u>>>16&255,ie[3]=u>>>24&255,t.check=Ai(t.check,ie,4,0)),u=0,l=0,t.mode=uN;case uN:for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.head&&(t.head.xflags=u&255,t.head.os=u>>8),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0)),u=0,l=0,t.mode=lN;case lN:if(t.flags&1024){for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.length=u,t.head&&(t.head.extra_len=u),t.flags&512&&t.wrap&4&&(ie[0]=u&255,ie[1]=u>>>8&255,t.check=Ai(t.check,ie,2,0)),u=0,l=0}else t.head&&(t.head.extra=null);t.mode=dN;case dN:if(t.flags&1024&&(p=t.length,p>a&&(p=a),p&&(t.head&&(M=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+p),M)),t.flags&512&&t.wrap&4&&(t.check=Ai(t.check,r,p,s)),a-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=hN;case hN:if(t.flags&2048){if(a===0)break e;p=0;do M=r[s+p++],t.head&&M&&t.length<65536&&(t.head.name+=String.fromCharCode(M));while(M&&p<a);if(t.flags&512&&t.wrap&4&&(t.check=Ai(t.check,r,p,s)),a-=p,s+=p,M)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=fN;case fN:if(t.flags&4096){if(a===0)break e;p=0;do M=r[s+p++],t.head&&M&&t.length<65536&&(t.head.comment+=String.fromCharCode(M));while(M&&p<a);if(t.flags&512&&t.wrap&4&&(t.check=Ai(t.check,r,p,s)),a-=p,s+=p,M)break e}else t.head&&(t.head.comment=null);t.mode=pN;case pN:if(t.flags&512){for(;l<16;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.wrap&4&&u!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Cr;break}u=0,l=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=wc;break;case gN:for(;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}n.adler=t.check=PN(u),u=0,l=0,t.mode=jw;case jw:if(t.havedict===0)return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=u,t.bits=l,B0e;n.adler=t.check=1,t.mode=wc;case wc:if(e===P0e||e===Wb)break e;case Yv:if(t.last){u>>>=l&7,l-=l&7,t.mode=Jv;break}for(;l<3;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}switch(t.last=u&1,u>>>=1,l-=1,u&3){case 0:t.mode=yN;break;case 1:if(q0e(t),t.mode=Fb,e===Wb){u>>>=2,l-=2;break e}break;case 2:t.mode=bN;break;case 3:n.msg="invalid block type",t.mode=Cr}u>>>=2,l-=2;break;case yN:for(u>>>=l&7,l-=l&7;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if((u&65535)!==(u>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Cr;break}if(t.length=u&65535,u=0,l=0,t.mode=Gv,e===Wb)break e;case Gv:t.mode=mN;case mN:if(p=t.length,p){if(p>a&&(p=a),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),o),a-=p,s+=p,c-=p,o+=p,t.length-=p;break}t.mode=wc;break;case bN:for(;l<14;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.nlen=(u&31)+257,u>>>=5,l-=5,t.ndist=(u&31)+1,u>>>=5,l-=5,t.ncode=(u&15)+4,u>>>=4,l-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Cr;break}t.have=0,t.mode=wN;case wN:for(;t.have<t.ncode;){for(;l<3;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.lens[oe[t.have++]]=u&7,u>>>=3,l-=3}for(;t.have<19;)t.lens[oe[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ee={bits:t.lenbits},Q=ly(R0e,t.lens,0,19,t.lencode,0,t.work,ee),t.lenbits=ee.bits,Q){n.msg="invalid code lengths set",t.mode=Cr;break}t.have=0,t.mode=kN;case kN:for(;t.have<t.nlen+t.ndist;){for(;S=t.lencode[u&(1<<t.lenbits)-1],w=S>>>24,_=S>>>16&255,R=S&65535,!(w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(R<16)u>>>=w,l-=w,t.lens[t.have++]=R;else{if(R===16){for(X=w+2;l<X;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(u>>>=w,l-=w,t.have===0){n.msg="invalid bit length repeat",t.mode=Cr;break}M=t.lens[t.have-1],p=3+(u&3),u>>>=2,l-=2}else if(R===17){for(X=w+3;l<X;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=w,l-=w,M=0,p=3+(u&7),u>>>=3,l-=3}else{for(X=w+7;l<X;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=w,l-=w,M=0,p=11+(u&127),u>>>=7,l-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Cr;break}for(;p--;)t.lens[t.have++]=M}}if(t.mode===Cr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Cr;break}if(t.lenbits=9,ee={bits:t.lenbits},Q=ly(h6,t.lens,0,t.nlen,t.lencode,0,t.work,ee),t.lenbits=ee.bits,Q){n.msg="invalid literal/lengths set",t.mode=Cr;break}if(t.distbits=6,t.distcode=t.distdyn,ee={bits:t.distbits},Q=ly(f6,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ee),t.distbits=ee.bits,Q){n.msg="invalid distances set",t.mode=Cr;break}if(t.mode=Fb,e===Wb)break e;case Fb:t.mode=Vb;case Vb:if(a>=6&&c>=258){n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=u,t.bits=l,S0e(n,b),o=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,a=n.avail_in,u=t.hold,l=t.bits,t.mode===wc&&(t.back=-1);break}for(t.back=0;S=t.lencode[u&(1<<t.lenbits)-1],w=S>>>24,_=S>>>16&255,R=S&65535,!(w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(_&&!(_&240)){for(x=w,K=_,G=R;S=t.lencode[G+((u&(1<<x+K)-1)>>x)],w=S>>>24,_=S>>>16&255,R=S&65535,!(x+w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=x,l-=x,t.back+=x}if(u>>>=w,l-=w,t.back+=w,t.length=R,_===0){t.mode=EN;break}if(_&32){t.back=-1,t.mode=wc;break}if(_&64){n.msg="invalid literal/length code",t.mode=Cr;break}t.extra=_&15,t.mode=SN;case SN:if(t.extra){for(X=t.extra;l<X;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.length+=u&(1<<t.extra)-1,u>>>=t.extra,l-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=AN;case AN:for(;S=t.distcode[u&(1<<t.distbits)-1],w=S>>>24,_=S>>>16&255,R=S&65535,!(w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(!(_&240)){for(x=w,K=_,G=R;S=t.distcode[G+((u&(1<<x+K)-1)>>x)],w=S>>>24,_=S>>>16&255,R=S&65535,!(x+w<=l);){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}u>>>=x,l-=x,t.back+=x}if(u>>>=w,l-=w,t.back+=w,_&64){n.msg="invalid distance code",t.mode=Cr;break}t.offset=R,t.extra=_&15,t.mode=_N;case _N:if(t.extra){for(X=t.extra;l<X;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}t.offset+=u&(1<<t.extra)-1,u>>>=t.extra,l-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Cr;break}t.mode=vN;case vN:if(c===0)break e;if(p=b-c,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Cr;break}p>t.wnext?(p-=t.wnext,g=t.wsize-p):g=t.wnext-p,p>t.length&&(p=t.length),y=t.window}else y=i,g=o-t.offset,p=t.length;p>c&&(p=c),c-=p,t.length-=p;do i[o++]=y[g++];while(--p);t.length===0&&(t.mode=Vb);break;case EN:if(c===0)break e;i[o++]=t.length,c--,t.mode=Vb;break;case Jv:if(t.wrap){for(;l<32;){if(a===0)break e;a--,u|=r[s++]<<l,l+=8}if(b-=c,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?Ai(t.check,i,b,o-b):fm(t.check,i,b,o-b)),b=c,t.wrap&4&&(t.flags?u:PN(u))!==t.check){n.msg="incorrect data check",t.mode=Cr;break}u=0,l=0}t.mode=IN;case IN:if(t.wrap&&t.flags){for(;l<32;){if(a===0)break e;a--,u+=r[s++]<<l,l+=8}if(t.wrap&4&&u!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Cr;break}u=0,l=0}t.mode=RN;case RN:Q=x0e;break e;case Cr:Q=p6;break e;case y6:return g6;case m6:default:return zo}return n.next_out=o,n.avail_out=c,n.next_in=s,n.avail_in=a,t.hold=u,t.bits=l,(t.wsize||b!==n.avail_out&&t.mode<Cr&&(t.mode<Jv||e!==sN))&&A6(n,n.output,n.next_out,b-n.avail_out),d-=n.avail_in,b-=n.avail_out,n.total_in+=d,n.total_out+=b,t.total+=b,t.wrap&4&&b&&(n.adler=t.check=t.flags?Ai(t.check,i,b,n.next_out-b):fm(t.check,i,b,n.next_out-b)),n.data_type=t.bits+(t.last?64:0)+(t.mode===wc?128:0)+(t.mode===Fb||t.mode===Gv?256:0),(d===0&&b===0||e===sN)&&Q===wd&&(Q=T0e),Q},D0e=n=>{if(Kd(n))return zo;let e=n.state;return e.window&&(e.window=null),n.state=null,wd},U0e=(n,e)=>{if(Kd(n))return zo;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,wd):zo},K0e=(n,e)=>{const t=e.length;let r,i,s;return Kd(n)||(r=n.state,r.wrap!==0&&r.mode!==jw)?zo:r.mode===jw&&(i=1,i=fm(i,e,t,0),i!==r.check)?p6:(s=A6(n,e,t,t),s?(r.mode=y6,g6):(r.havedict=1,wd))};var W0e=w6,F0e=k6,V0e=b6,j0e=$0e,H0e=S6,Y0e=z0e,G0e=D0e,J0e=U0e,Q0e=K0e,Z0e="pako inflate (from Nodeca project)",xc={inflateReset:W0e,inflateReset2:F0e,inflateResetKeep:V0e,inflateInit:j0e,inflateInit2:H0e,inflate:Y0e,inflateEnd:G0e,inflateGetHeader:J0e,inflateSetDictionary:Q0e,inflateInfo:Z0e};function X0e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var ewe=X0e;const _6=Object.prototype.toString,{Z_NO_FLUSH:twe,Z_FINISH:nwe,Z_OK:mm,Z_STREAM_END:Xv,Z_NEED_DICT:eE,Z_STREAM_ERROR:rwe,Z_DATA_ERROR:BN,Z_MEM_ERROR:iwe}=rA;function ST(n){this.options=sA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l6,this.strm.avail_out=0;let t=xc.inflateInit2(this.strm,e.windowBits);if(t!==mm)throw new Error(pm[t]);if(this.header=new ewe,xc.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ym.string2buf(e.dictionary):_6.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=xc.inflateSetDictionary(this.strm,e.dictionary),t!==mm)))throw new Error(pm[t])}ST.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?nwe:twe,_6.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=xc.inflate(t,o),s===eE&&i&&(s=xc.inflateSetDictionary(t,i),s===mm?s=xc.inflate(t,o):s===BN&&(s=eE));t.avail_in>0&&s===Xv&&t.state.wrap>0&&n[t.next_in]!==0;)xc.inflateReset(t),s=xc.inflate(t,o);switch(s){case rwe:case BN:case eE:case iwe:return this.onEnd(s),this.ended=!0,!1}if(a=t.avail_out,t.next_out&&(t.avail_out===0||s===Xv))if(this.options.to==="string"){let c=ym.utf8border(t.output,t.next_out),u=t.next_out-c,l=ym.buf2string(t.output,c);t.next_out=u,t.avail_out=r-u,u&&t.output.set(t.output.subarray(c,c+u),0),this.onData(l)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===mm&&a===0)){if(s===Xv)return s=xc.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};ST.prototype.onData=function(n){this.chunks.push(n)};ST.prototype.onEnd=function(n){n===mm&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=sA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};Gi.struct([Gi.publicKey("authority"),Gi.vecU8("data")]);class swe extends TypeError{constructor(e,t){let r;const{message:i,...s}=e,{path:o}=e,a=o.length===0?i:"At path: "+o.join(".")+" -- "+i;super(a),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,s),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function owe(n){return Wh(n)&&typeof n[Symbol.iterator]=="function"}function Wh(n){return typeof n=="object"&&n!=null}function el(n){return typeof n=="string"?JSON.stringify(n):""+n}function awe(n){const{done:e,value:t}=n.next();return e?void 0:t}function cwe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:i,branch:s}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+el(r)+"`"}=n;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...n,message:c}}function*TN(n,e,t,r){owe(n)||(n=[n]);for(const i of n){const s=cwe(i,e,t,r);s&&(yield s)}}function*AT(n,e,t){t===void 0&&(t={});const{path:r=[],branch:i=[n],coerce:s=!1,mask:o=!1}=t,a={path:r,branch:i};if(s&&(n=e.coercer(n,a),o&&e.type!=="type"&&Wh(e.schema)&&Wh(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const b=AT(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o});for(const p of b)p[0]?(c=!1,yield[p[0],void 0]):s&&(l=p[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Wh(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class al{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return TN(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return TN(l,u,this,c)}:this.refiner=()=>[]}assert(e){return uwe(e,this)}create(e){return v6(e,this)}is(e){return E6(e,this)}mask(e){return lwe(e,this)}validate(e,t){return t===void 0&&(t={}),Qm(e,this,t)}}function uwe(n,e){const t=Qm(n,e);if(t[0])throw t[0]}function v6(n,e){const t=Qm(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function lwe(n,e){const t=Qm(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function E6(n,e){return!Qm(n,e)[0]}function Qm(n,e,t){t===void 0&&(t={});const r=AT(n,e,t),i=awe(r);return i[0]?[new swe(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Zm(n,e){return new al({type:n,schema:null,validator:e})}function dwe(){return Zm("any",()=>!0)}function tE(n){return new al({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+el(e)}})}function hwe(){return Zm("boolean",n=>typeof n=="boolean")}function CN(n){const e=el(n);return new al({type:"literal",schema:n,validator(t){return t===n||"Expected the literal `"+e+"`, but received: "+el(t)}})}function jb(n){return new al({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function e0(){return Zm("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+el(n))}function t0(n){return new al({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Fl(){return Zm("string",n=>typeof n=="string"||"Expected a string, but received: "+el(n))}function Vu(n){const e=Object.keys(n);return new al({type:"type",schema:n,*entries(t){if(Wh(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Wh(t)||"Expected an object, but received: "+el(t)}})}function I6(n){const e=n.map(t=>t.type).join(" | ");return new al({type:"union",schema:null,coercer(t,r){return(n.find(s=>{const[o]=s.validate(t,{coerce:!0});return!o})||_T()).coercer(t,r)},validator(t,r){const i=[];for(const s of n){const[...o]=AT(t,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+el(t),...i]}})}function _T(){return Zm("unknown",()=>!0)}function fwe(n,e,t){return new al({...n,coercer:(r,i)=>E6(r,e)?n.coercer(t(r,i),i):n.coercer(r,i)})}function pwe(n){return fwe(R6(n),gwe,e=>"error"in e?e:{...e,result:v6(e.result,n)})}const gwe=R6(_T());function R6(n){return I6([Vu({jsonrpc:CN("2.0"),id:Fl(),result:n}),Vu({jsonrpc:CN("2.0"),id:Fl(),error:Vu({code:_T(),message:Fl(),data:t0(dwe())})})])}function ywe(n){return pwe(Vu({context:Vu({slot:e0()}),value:n}))}ywe(Vu({err:jb(I6([Vu({}),Fl()])),logs:jb(tE(Fl())),accounts:t0(jb(tE(jb(Vu({executable:hwe(),owner:Fl(),lamports:e0(),data:tE(Fl()),rentEpoch:t0(e0())}))))),unitsConsumed:t0(e0())}));var mwe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};class Ws{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var aA=Ws;function bwe(n,e){return e.property?n+"["+e.property+"]":n}class Vl extends Ws{isCount(){throw new Error("ExternalLayout is abstract")}}class P6 extends Vl{constructor(e,t,r){if(!(e instanceof Ws))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof cA||this.layout instanceof x6}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class cA extends Ws{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class x6 extends Ws{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const QR=Math.pow(2,32);function B6(n){const e=Math.floor(n/QR),t=n-e*QR;return{hi32:e,lo32:t}}function T6(n,e){return n*QR+e}class wwe extends Ws{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readUInt32LE(t+4);return T6(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=B6(e);return t.writeUInt32LE(i.lo32,r),t.writeUInt32LE(i.hi32,r+4),8}}class kwe extends Ws{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),i=e.readInt32LE(t+4);return T6(i,r)}encode(e,t,r){r===void 0&&(r=0);const i=B6(e);return t.writeUInt32LE(i.lo32,r),t.writeInt32LE(i.hi32,r+4),8}}class Swe extends Ws{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ws,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,t);return t+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,t)),t+=i.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const i=r;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}s=r,r+=c}return s+o-i}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class C6{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class MN extends C6{constructor(e,t){if(!(e instanceof Vl&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class M6 extends Ws{constructor(e,t,r){const i=e instanceof cA||e instanceof x6;if(i)e=new MN(new P6(e));else if(e instanceof Vl&&e.isCount())e=new MN(e);else if(!(e instanceof C6))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Ws))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let s=-1;t&&(s=t.span,0<=s&&i&&(s+=e.layout.span)),super(s,r),this.discriminator=e,this.usesPrefixDiscriminator=i,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const i=this.discriminator,s=i.decode(e,t);let o=this.registry[s];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],t,r),a+o.encode(e[o.property],t,r+a)}return i.encode(e,t,r)}addVariant(e,t,r){const i=new Awe(this,e,t,r);return this.registry[e]=i,i}getVariant(e,t){let r=e;return Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class Awe extends Ws{constructor(e,t,r,i){if(!(e instanceof M6))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ws))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],t,r+i),s+=this.layout.getSpan(t,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class _we extends Ws{constructor(e,t){if(!(e instanceof Vl&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Vl||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let i=this.length;if(this.length instanceof Vl&&(i=e.length),!(Buffer.isBuffer(e)&&i===e.length))throw new TypeError(bwe("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,i,"hex"),this.length instanceof Vl&&this.length.encode(i,t,r),i}}var vwe=(n,e,t)=>new P6(n,e,t),Ewe=n=>new cA(1,n),qc=n=>new cA(4,n),Iwe=n=>new wwe(n),Zc=n=>new kwe(n),wi=(n,e,t)=>new Swe(n,e,t),L6=(n,e,t)=>new M6(n,e,t),Xm=(n,e)=>new _we(n,e);class Rwe extends aA{constructor(e){super(-1,e),this.property=e,this.layout=wi([qc("length"),qc("lengthPadding"),Xm(vwe(qc(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const i={chars:Buffer.from(e,"utf8")};return this.layout.encode(i,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return qc().span+qc().span+new Zi(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function uA(n){return new Rwe(n)}function Do(n){return Xm(32,n)}const ko=L6(qc("instruction"));ko.addVariant(0,wi([Zc("lamports"),Zc("space"),Do("owner")]),"createAccount");ko.addVariant(1,wi([Do("owner")]),"assign");ko.addVariant(2,wi([Zc("lamports")]),"transfer");ko.addVariant(3,wi([Do("base"),uA("seed"),Zc("lamports"),Zc("space"),Do("owner")]),"createAccountWithSeed");ko.addVariant(4,wi([Do("authorized")]),"advanceNonceAccount");ko.addVariant(5,wi([Zc("lamports")]),"withdrawNonceAccount");ko.addVariant(6,wi([Do("authorized")]),"initializeNonceAccount");ko.addVariant(7,wi([Do("authorized")]),"authorizeNonceAccount");ko.addVariant(8,wi([Zc("space")]),"allocate");ko.addVariant(9,wi([Do("base"),uA("seed"),Zc("space"),Do("owner")]),"allocateWithSeed");ko.addVariant(10,wi([Do("base"),uA("seed"),Do("owner")]),"assignWithSeed");ko.addVariant(11,wi([Zc("lamports"),uA("seed"),Do("owner")]),"transferWithSeed");Math.max(...Object.values(ko.registry).map(n=>n.span));class Pwe extends aA{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function LN(n){return new Pwe(Xm(32),e=>new ke(e),e=>e.toBuffer(),n)}wi([qc("version"),qc("state"),LN("authorizedPubkey"),LN("nonce"),wi([Iwe("lamportsPerSignature")],"feeCalculator")]);new ke("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new ke("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ON={exports:{}};(function(n,e){var t=typeof self<"u"?self:mwe,r=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(m){return m&&DataView.prototype.isPrototypeOf(m)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(m){return m&&u.indexOf(Object.prototype.toString.call(m))>-1};function d(m){if(typeof m!="string"&&(m=String(m)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(m))throw new TypeError("Invalid character in header field name");return m.toLowerCase()}function b(m){return typeof m!="string"&&(m=String(m)),m}function p(m){var v={next:function(){var T=m.shift();return{done:T===void 0,value:T}}};return a.iterable&&(v[Symbol.iterator]=function(){return v}),v}function g(m){this.map={},m instanceof g?m.forEach(function(v,T){this.append(T,v)},this):Array.isArray(m)?m.forEach(function(v){this.append(v[0],v[1])},this):m&&Object.getOwnPropertyNames(m).forEach(function(v){this.append(v,m[v])},this)}g.prototype.append=function(m,v){m=d(m),v=b(v);var T=this.map[m];this.map[m]=T?T+", "+v:v},g.prototype.delete=function(m){delete this.map[d(m)]},g.prototype.get=function(m){return m=d(m),this.has(m)?this.map[m]:null},g.prototype.has=function(m){return this.map.hasOwnProperty(d(m))},g.prototype.set=function(m,v){this.map[d(m)]=b(v)},g.prototype.forEach=function(m,v){for(var T in this.map)this.map.hasOwnProperty(T)&&m.call(v,this.map[T],T,this)},g.prototype.keys=function(){var m=[];return this.forEach(function(v,T){m.push(T)}),p(m)},g.prototype.values=function(){var m=[];return this.forEach(function(v){m.push(v)}),p(m)},g.prototype.entries=function(){var m=[];return this.forEach(function(v,T){m.push([T,v])}),p(m)},a.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function y(m){if(m.bodyUsed)return Promise.reject(new TypeError("Already read"));m.bodyUsed=!0}function S(m){return new Promise(function(v,T){m.onload=function(){v(m.result)},m.onerror=function(){T(m.error)}})}function w(m){var v=new FileReader,T=S(v);return v.readAsArrayBuffer(m),T}function _(m){var v=new FileReader,T=S(v);return v.readAsText(m),T}function R(m){for(var v=new Uint8Array(m),T=new Array(v.length),V=0;V<v.length;V++)T[V]=String.fromCharCode(v[V]);return T.join("")}function x(m){if(m.slice)return m.slice(0);var v=new Uint8Array(m.byteLength);return v.set(new Uint8Array(m)),v.buffer}function K(){return this.bodyUsed=!1,this._initBody=function(m){this._bodyInit=m,m?typeof m=="string"?this._bodyText=m:a.blob&&Blob.prototype.isPrototypeOf(m)?this._bodyBlob=m:a.formData&&FormData.prototype.isPrototypeOf(m)?this._bodyFormData=m:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)?this._bodyText=m.toString():a.arrayBuffer&&a.blob&&c(m)?(this._bodyArrayBuffer=x(m.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(m)||l(m))?this._bodyArrayBuffer=x(m):this._bodyText=m=Object.prototype.toString.call(m):this._bodyText="",this.headers.get("content-type")||(typeof m=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(m)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var m=y(this);if(m)return m;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?y(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(w)}),this.text=function(){var m=y(this);if(m)return m;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(ie)}),this.json=function(){return this.text().then(JSON.parse)},this}var G=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(m){var v=m.toUpperCase();return G.indexOf(v)>-1?v:m}function Q(m,v){v=v||{};var T=v.body;if(m instanceof Q){if(m.bodyUsed)throw new TypeError("Already read");this.url=m.url,this.credentials=m.credentials,v.headers||(this.headers=new g(m.headers)),this.method=m.method,this.mode=m.mode,this.signal=m.signal,!T&&m._bodyInit!=null&&(T=m._bodyInit,m.bodyUsed=!0)}else this.url=String(m);if(this.credentials=v.credentials||this.credentials||"same-origin",(v.headers||!this.headers)&&(this.headers=new g(v.headers)),this.method=M(v.method||this.method||"GET"),this.mode=v.mode||this.mode||null,this.signal=v.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&T)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(T)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function ie(m){var v=new FormData;return m.trim().split("&").forEach(function(T){if(T){var V=T.split("="),C=V.shift().replace(/\+/g," "),N=V.join("=").replace(/\+/g," ");v.append(decodeURIComponent(C),decodeURIComponent(N))}}),v}function ee(m){var v=new g,T=m.replace(/\r?\n[\t ]+/g," ");return T.split(/\r?\n/).forEach(function(V){var C=V.split(":"),N=C.shift().trim();if(N){var Z=C.join(":").trim();v.append(N,Z)}}),v}K.call(Q.prototype);function X(m,v){v||(v={}),this.type="default",this.status=v.status===void 0?200:v.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in v?v.statusText:"OK",this.headers=new g(v.headers),this.url=v.url||"",this._initBody(m)}K.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},X.error=function(){var m=new X(null,{status:0,statusText:""});return m.type="error",m};var oe=[301,302,303,307,308];X.redirect=function(m,v){if(oe.indexOf(v)===-1)throw new RangeError("Invalid status code");return new X(null,{status:v,headers:{location:m}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(v,T){this.message=v,this.name=T;var V=Error(v);this.stack=V.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function z(m,v){return new Promise(function(T,V){var C=new Q(m,v);if(C.signal&&C.signal.aborted)return V(new o.DOMException("Aborted","AbortError"));var N=new XMLHttpRequest;function Z(){N.abort()}N.onload=function(){var L={status:N.status,statusText:N.statusText,headers:ee(N.getAllResponseHeaders()||"")};L.url="responseURL"in N?N.responseURL:L.headers.get("X-Request-URL");var E="response"in N?N.response:N.responseText;T(new X(E,L))},N.onerror=function(){V(new TypeError("Network request failed"))},N.ontimeout=function(){V(new TypeError("Network request failed"))},N.onabort=function(){V(new o.DOMException("Aborted","AbortError"))},N.open(C.method,C.url,!0),C.credentials==="include"?N.withCredentials=!0:C.credentials==="omit"&&(N.withCredentials=!1),"responseType"in N&&a.blob&&(N.responseType="blob"),C.headers.forEach(function(L,E){N.setRequestHeader(E,L)}),C.signal&&(C.signal.addEventListener("abort",Z),N.onreadystatechange=function(){N.readyState===4&&C.signal.removeEventListener("abort",Z)}),N.send(typeof C._bodyInit>"u"?null:C._bodyInit)})}return z.polyfill=!0,s.fetch||(s.fetch=z,s.Headers=g,s.Request=Q,s.Response=X),o.Headers=g,o.Request=Q,o.Response=X,o.fetch=z,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,n.exports=e})(ON,ON.exports);Gi.rustEnum([Gi.struct([],"uninitialized"),Gi.struct([Gi.option(Gi.publicKey(),"authorityAddress")],"buffer"),Gi.struct([Gi.publicKey("programdataAddress")],"program"),Gi.struct([Gi.u64("slot"),Gi.option(Gi.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,Gi.u32());function nE(n){return new O6(Xm(8),e=>vT.fromBuffer(e),e=>e.toBuffer(),n)}function Hb(n){return new O6(Xm(32),e=>new ke(e),e=>e.toBuffer(),n)}function rE(n,e){return new xwe(n,e)}class O6 extends aA{constructor(e,t,r,i){super(e.span,i),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class xwe extends aA{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=qc()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class vT extends Zi{toBuffer(){const e=super.toArray().reverse(),t=Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new vT([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}wi([Hb("mint"),Hb("owner"),nE("amount"),rE(Hb(),"delegate"),(n=>{const e=L6(Ewe("discriminator"),null,n);return e.addVariant(0,wi([]),"uninitialized"),e.addVariant(1,wi([]),"initialized"),e.addVariant(2,wi([]),"frozen"),e})("state"),rE(nE(),"isNative"),nE("delegatedAmount"),rE(Hb(),"closeAuthority")]);new ke("11111111111111111111111111111111");const iE="https://quick-thrilling-forest.solana-mainnet.quiknode.pro/e05e21d04ef26915bae3de205414b25df14b5d1b/",Bwe={EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:!0,Dn4noZ5jgGfkntzcQSUZ8czkreiZ1ForXYoV2H8Dm7S1:!0,"75oMBjDFXA4mxg4M9xM3Z5fqmApVtsSZWssRFyA6qTho":!0,"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk":!0,So11111111111111111111111111111111111111112:!0},NN="H2dovpqu6bjyPyY9nDVM4Z9C8uPi51vZbXe6QPCj4XQS",Ag=()=>{if(window.solana&&window.phantom){const n=window.phantom.solana;if(n!=null&&n.isPhantom)return n}else window.open("https://phantom.app/","_blank")},Twe=async(n,e,t)=>new Promise((r,i)=>{const s=new sn(n,e,Cs,t);console.log(e.toString(),t.toString()),s.getOrCreateAssociatedAccountInfo(t).then(o=>{r(o)}).catch(o=>{console.log(o),i(null)})}),Cwe=function(n){return n.slice(0,5)+"..."+n.slice(n.length-5,n.length)},Mwe="/assets/5-Dhciu4OE.png",Lwe="/assets/1-BfkTqIuF.png",Owe="/assets/2-CrECtg2z.png",Nwe="/assets/12-BZTW9xrm.png",$we="/assets/Phantom-Ch6fC34c.png",qwe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAaCAYAAABPY4eKAAAAAXNSR0IArs4c6QAAAQJJREFUSA3llWEOgyAMhWHZvfRocjM5GdurdHEIDl6jf0aCDZX2a6GAd7aWDObeG4zTsvDWsH2S5ilJzvgg/jEZwkZ9kHABelm45EalMtllN2WeN9u255oBIdmkCVTDpCcC5jj1+JVSbcQl6rSu69n/wz/MX7Yz+DOAs2qnwIdoThQt+OVgxFSD3wIGvNwXM7h3v0v4reA9XMDTNEHX1YJe0Hn2SMYK+HpYYoyqH5IMGIBawQl4nmeHjnOL3mosGP6qcEDxcgCanVcDsIDLZHCNSn+DUQOfseorsvRhGoO7B5ucjRj/HxirI1lDjiyVdS6qHWDHnnFrAJqtSqs/yv52+As4F6M8VWFaEAAAAABJRU5ErkJggg==";var zwe={637:function(n,e,t){var r=t(537),i=t.n(r),s=t(645),o=t.n(s),a=o()(i());a.push([n.id,":host{display:inline-block;border:solid 8px #bdbdbd;max-width:100%;font-size:0;white-space:nowrap}*,*::after,*::before{-webkit-box-sizing:border-box;box-sizing:border-box}.svg-container{height:0;width:0;overflow:hidden;display:inline-block}.sweeper-container{display:-webkit-box;display:-ms-flexbox;display:flex;border:3px solid;border-color:#7b7b7b #fff #fff #7b7b7b;background-color:#bdbdbd;overflow-x:auto}.sweeper-container:not(.show-hover-elements) .sweeper-field>*:nth-child(2),.sweeper-container.show-hover-elements .sweeper-field:not(:hover)>*:nth-child(2){display:none}.sweeper-box{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;place-items:center;place-content:center}.sweeper-row{display:inline-block}.sweeper-field{display:inline-block;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-webkit-touch-callout:none;height:40px;width:40px;overflow:hidden;position:relative;-o-object-position:center;object-position:center;-o-object-fit:cover;object-fit:cover;cursor:pointer}.sweeper-field.unselectable{cursor:default}.sweeper-field>*{position:absolute;inset:0}.sweeper-field>*:nth-child(2){opacity:.25}","",{version:3,sources:["webpack://./src/minesweeper.scss"],names:[],mappings:"AAAA,MACE,oBAAA,CACA,wBAAA,CACA,cAAA,CAGA,WAAA,CACA,kBAAA,CAGF,qBAGE,6BAAA,CAAA,qBAAA,CAGF,eACE,QAAA,CACA,OAAA,CACA,eAAA,CACA,oBAAA,CAGF,mBACE,mBAAA,CAAA,mBAAA,CAAA,YAAA,CACA,gBAAA,CACA,sCAAA,CACA,wBAAA,CACA,eAAA,CAIE,4JACE,YAAA,CAKN,aACE,0BAAA,CAAA,0BAAA,CAAA,mBAAA,CACA,2BAAA,CAAA,4BAAA,CAAA,yBAAA,CAAA,qBAAA,CACA,kBAAA,CACA,oBAAA,CAGF,aACE,oBAAA,CAGF,eACE,oBAAA,CACA,qBAAA,CAAA,oBAAA,CAAA,gBAAA,CACA,yCAAA,CACA,wBAAA,CACA,0BAAA,CACA,WAAA,CACA,UAAA,CACA,eAAA,CACA,iBAAA,CACA,yBAAA,CAAA,sBAAA,CACA,mBAAA,CAAA,gBAAA,CACA,cAAA,CAEA,4BACE,cAAA,CAGF,iBACE,iBAAA,CACA,OAAA,CAEA,8BACE,WAAA",sourcesContent:[`:host {
  display: inline-block;
  border: solid 8px #bdbdbd;
  max-width: 100%;

  // Fontsize of 0 to remove white space between inline-block childs
  font-size: 0;
  white-space: nowrap;
}

*,
*::after,
*::before {
  box-sizing: border-box;
}

.svg-container {
  height: 0;
  width: 0;
  overflow: hidden;
  display: inline-block;
}

.sweeper-container {
  display: flex;
  border: 3px solid;
  border-color: rgb(123 123 123) white white rgb(123 123 123);
  background-color: #bdbdbd;
  overflow-x: auto;

  &:not(.show-hover-elements) .sweeper-field,
  &.show-hover-elements .sweeper-field:not(:hover) {
    > *:nth-child(2) {
      display: none;
    }
  }
}

.sweeper-box {
  display: inline-flex;
  flex-direction: column;
  place-items: center;
  place-content: center;
}

.sweeper-row {
  display: inline-block;
}

.sweeper-field {
  display: inline-block;
  user-select: none;
  -webkit-tap-highlight-color: transparent; /* for removing the highlight */
  -webkit-user-select: none; /* disable selection/Copy of UIWebView */
  -webkit-touch-callout: none; /* disable the IOS popup when long-press on a link */
  height: 40px;
  width: 40px;
  overflow: hidden;
  position: relative;
  object-position: center;
  object-fit: cover;
  cursor: pointer;

  &.unselectable {
    cursor: default;
  }

  > * {
    position: absolute;
    inset: 0;

    &:nth-child(2) {
      opacity: 0.25;
    }
  }
}
`],sourceRoot:""}]),e.Z=a},645:function(n){n.exports=function(e){var t=[];return t.toString=function(){return this.map(function(i){var s="",o=typeof i[5]<"u";return i[4]&&(s+="@supports (".concat(i[4],") {")),i[2]&&(s+="@media ".concat(i[2]," {")),o&&(s+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),s+=e(i),o&&(s+="}"),i[2]&&(s+="}"),i[4]&&(s+="}"),s}).join("")},t.i=function(i,s,o,a,c){typeof i=="string"&&(i=[[null,i,void 0]]);var u={};if(o)for(var l=0;l<this.length;l++){var d=this[l][0];d!=null&&(u[d]=!0)}for(var b=0;b<i.length;b++){var p=[].concat(i[b]);o&&u[p[0]]||(typeof c<"u"&&(typeof p[5]>"u"||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=c),s&&(p[2]&&(p[1]="@media ".concat(p[2]," {").concat(p[1],"}")),p[2]=s),a&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=a):p[4]="".concat(a)),t.push(p))}},t}},537:function(n){n.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if(typeof btoa=="function"){var i=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(s," */");return[t].concat([o]).join(`
`)}return[t].join(`
`)}},528:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><defs><path d="M2 74L2 2L74 2L74 74L74 74L2 74Z" id="e1cjUtGijV"></path><mask id="maske5Vz1Zki6" x="-2" y="-2" width="80" height="80" maskUnits="userSpaceOnUse"><rect x="-2" y="-2" width="80" height="80" fill="white"></rect><use xlink:href="#e1cjUtGijV" opacity="1" fill="black"></use></mask></defs><g id="bomb-explode"><g><use xlink:href="#e1cjUtGijV" opacity="1" fill="#ff0000" fill-opacity="1"></use><g mask="url(#maske5Vz1Zki6)"><use xlink:href="#e1cjUtGijV" opacity="1" fill-opacity="0" stroke="#757575" stroke-width="4" stroke-opacity="1"></use></g></g><use xlink:href="#bomb-element"></use></g></svg>'},726:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><defs><path d="M2 74L2 2L74 2L74 74L74 74L2 74Z" id="e2iiwvZd6v"></path><mask id="maskaXtlGt3qy" x="-2" y="-2" width="80" height="80" maskUnits="userSpaceOnUse"><rect x="-2" y="-2" width="80" height="80" fill="white"></rect><use xlink:href="#e2iiwvZd6v" opacity="1" fill="black"></use></mask><path d="M35.6 6.8L40.4 6.8L40.4 69.2L35.6 69.2L35.6 6.8Z" id="c9eN9knBh"></path><clipPath id="clipd1zPYXGAwy"><use xlink:href="#c9eN9knBh" opacity="1"></use></clipPath><path d="M40.4 16.4L50 16.4L50 59.6L40.4 59.6L40.4 16.4Z" id="gx4drqHvY"></path><clipPath id="clipa2yM9RkR6"><use xlink:href="#gx4drqHvY" opacity="1"></use></clipPath><path d="M50 21.2L54.8 21.2L54.8 54.8L50 54.8L50 21.2Z" id="fgtYUnw8A"></path><clipPath id="clipk32QKT1MaU"><use xlink:href="#fgtYUnw8A" opacity="1"></use></clipPath><path d="M54.8 26L59.6 26L59.6 50L54.8 50L54.8 26Z" id="cgzxabwz1"></path><clipPath id="cliph2KpOi7P9O"><use xlink:href="#cgzxabwz1" opacity="1"></use></clipPath><path d="M59.6 35.6L69.2 35.6L69.2 40.4L59.6 40.4L59.6 35.6Z" id="b3gPwqEoX"></path><clipPath id="clipe23gtVrUJ"><use xlink:href="#b3gPwqEoX" opacity="1"></use></clipPath><path d="M26 16.4L35.6 16.4L35.6 59.6L26 59.6L26 16.4Z" id="ad99VAl8I"></path><clipPath id="clipd1v1rV6sj4"><use xlink:href="#ad99VAl8I" opacity="1"></use></clipPath><path d="M21.2 21.2L26 21.2L26 54.8L21.2 54.8L21.2 21.2Z" id="c13ZaXjO2p"></path><clipPath id="cliph399Xr21VH"><use xlink:href="#c13ZaXjO2p" opacity="1"></use></clipPath><path d="M16.4 26L21.2 26L21.2 50L16.4 50L16.4 26Z" id="b2SwHVIyUf"></path><clipPath id="clipbgmy6Y3Gb"><use xlink:href="#b2SwHVIyUf" opacity="1"></use></clipPath><path d="M6.8 35.6L16.4 35.6L16.4 40.4L6.8 40.4L6.8 35.6Z" id="g3CI8RzO6L"></path><clipPath id="clipb4iPMKkLd9"><use xlink:href="#g3CI8RzO6L" opacity="1"></use></clipPath><path d="M54.8 16.4L59.6 16.4L59.6 21.2L54.8 21.2L54.8 16.4Z" id="bVu929Gr"></path><clipPath id="clipb5eim9AY4T"><use xlink:href="#bVu929Gr" opacity="1"></use></clipPath><path d="M16.4 16.4L21.2 16.4L21.2 21.2L16.4 21.2L16.4 16.4Z" id="bbmkl5w40"></path><clipPath id="clipdILmNb1DZ"><use xlink:href="#bbmkl5w40" opacity="1"></use></clipPath><path d="M54.8 54.8L59.6 54.8L59.6 59.6L54.8 59.6L54.8 54.8Z" id="afRzpmA7F"></path><clipPath id="clipa1MHsUZSGO"><use xlink:href="#afRzpmA7F" opacity="1"></use></clipPath><path d="M16.4 54.8L21.2 54.8L21.2 59.6L16.4 59.6L16.4 54.8Z" id="f34Z0Cg2H2"></path><clipPath id="clipaiMYuA5gL"><use xlink:href="#f34Z0Cg2H2" opacity="1"></use></clipPath><path d="M26 26L35.6 26L35.6 35.6L26 35.6L26 26Z" id="a7XCqe2jKp"></path></defs><g id="bomb"><g id="bomb-background"><use xlink:href="#e2iiwvZd6v" opacity="1" fill="#b9b9b9" fill-opacity="1"></use><g mask="url(#maskaXtlGt3qy)"><use xlink:href="#e2iiwvZd6v" opacity="1" fill-opacity="0" stroke="#757575" stroke-width="4" stroke-opacity="1"></use></g></g><g id="bomb-element"><g><use xlink:href="#c9eN9knBh" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipd1zPYXGAwy)"><use xlink:href="#c9eN9knBh" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#gx4drqHvY" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipa2yM9RkR6)"><use xlink:href="#gx4drqHvY" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#fgtYUnw8A" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipk32QKT1MaU)"><use xlink:href="#fgtYUnw8A" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#cgzxabwz1" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#cliph2KpOi7P9O)"><use xlink:href="#cgzxabwz1" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#b3gPwqEoX" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipe23gtVrUJ)"><use xlink:href="#b3gPwqEoX" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#ad99VAl8I" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipd1v1rV6sj4)"><use xlink:href="#ad99VAl8I" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#c13ZaXjO2p" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#cliph399Xr21VH)"><use xlink:href="#c13ZaXjO2p" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#b2SwHVIyUf" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipbgmy6Y3Gb)"><use xlink:href="#b2SwHVIyUf" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#g3CI8RzO6L" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipb4iPMKkLd9)"><use xlink:href="#g3CI8RzO6L" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#bVu929Gr" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipb5eim9AY4T)"><use xlink:href="#bVu929Gr" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#bbmkl5w40" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipdILmNb1DZ)"><use xlink:href="#bbmkl5w40" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#afRzpmA7F" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipa1MHsUZSGO)"><use xlink:href="#afRzpmA7F" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#f34Z0Cg2H2" opacity="1" fill="#000000" fill-opacity="1"></use><g clip-path="url(#clipaiMYuA5gL)"><use xlink:href="#f34Z0Cg2H2" opacity="1" fill-opacity="0" stroke="#000000" stroke-width="2" stroke-opacity="1"></use></g></g><g><use xlink:href="#a7XCqe2jKp" opacity="1" fill="#ffffff" fill-opacity="1"></use></g></g></g></svg>'},202:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="flag-missed"><use href="#bomb"></use><line stroke-width="4" stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_78" y2="72" x2="72" y1="4" x1="4" stroke="#ff0000" fill="none"></line><line stroke-linecap="undefined" stroke-linejoin="undefined" id="svg_79" y2="72" x2="4" y1="4" x1="72" stroke-width="4" stroke="#ff0000" fill="none"></line></g></svg>'},379:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="flag"><use href="#unopened-square"></use><g><polygon points="35.999,55.5 35.999,16.5 40,16.5 40,55.5 35.999,55.5 "></polygon><polygon fill="#FF0000" points="40,13.875 19.375,27 40,40.125 "></polygon><rect x="28.571" y="51.625" width="18.857" height="5.5"></rect><rect x="20.222" y="56.459" width="35.555" height="7.041"></rect></g></g></svg>'},885:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="blank"><polygon fill="#B9B9B9" points="75.001,75.001 1,75.001 1,1 75.001,1 75.001,75.001 "></polygon><path fill="#757575" d="M75.991,0C75.996,0,76,0.004,76,0.009V75.99c0,0.006-0.004,0.01-0.009,0.01H0.009 C0.004,76,0,75.996,0,75.99V0.009C0,0.004,0.004,0,0.009,0H75.991 M74,2H2v72h72V2L74,2z"></path></g></svg>'},113:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-1"><use href="#blank"></use><polygon fill="#0000FF" points="40.857,8.928 18,26.071 18,31.785 32.286,31.785 32.286,54.644 18,54.644 18,66.071 58,66.071 58,54.644 46.571,54.644 46.571,8.928 "></polygon></g></svg>'},877:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-2"><use href="#blank"></use><path fill="#008200" d="M51.256,26.134v-4.545c0-1.545-1.293-2.796-2.892-2.796H27.393c-1.593,0-2.892,1.251-2.892,2.796v4.545 H8.593v-5.942C8.593,14.011,13.778,9,20.163,9h35.433c6.388,0,11.569,5.011,11.569,11.191c0,4.064,1.287,8.448-2.521,11.417 c-2.649,2.062-5.948,3.822-8.757,5.743c-6.993,4.777-14.083,9.431-21.093,14.188c-0.91,0.621-3.707,3.276-4.87,3.276 c0.012,0,37.602,0,37.602,0V66H8.774c0-4.529-1.605-9.863,2.609-13.253c2.949-2.372,6.773-4.315,9.932-6.502 c8-5.557,16.259-10.779,24.287-16.306C46.188,29.535,51.256,26.874,51.256,26.134z"></path></g></svg>'},389:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-3"><use href="#blank"></use><path fill="#FF0000" d="M66.322,20.4c0-6.295-5.104-11.4-11.4-11.4H9.678v10.688H48.51c1.575,0,2.85,1.275,2.85,2.85v6.413 c0,1.569-1.274,2.85-2.85,2.85H26.778v12.825H48.51c1.575,0,2.85,1.274,2.85,2.85v6.413c0,1.569-1.274,2.85-2.85,2.85H9.678V66 h45.244c6.296,0,11.4-5.11,11.4-11.4V43.912c0-2.376-0.729-4.586-1.977-6.412c1.247-1.832,1.977-4.036,1.977-6.413V20.4z"></path></g></svg>'},527:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-4"><use href="#blank"></use><polygon fill="#000084" points="25.8,9 6.922,42.765 47.584,42.765 47.584,66 63.559,65.637 63.559,42.765 69.078,42.765 69.078,31.873 63.559,31.873 63.559,9 47.584,9 47.584,32.236 29.192,32.236 41.774,9 "></polygon></g></svg>'},434:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-5"><use href="#blank"></use><path fill="#840000" d="M60.78,32.065c1.765,0.757,3.006,1.726,3.869,2.922c1.324,1.837,1.736,4.211,1.736,7.139 c0,0.012,0,10.689,0,10.689c0,6.291-2.494,12.48-11.401,13.182H9.497V54.953h39.074c1.576,0,2.851-1.279,2.851-2.85v-6.412 c0-1.57-1.274-2.852-2.851-2.852L9.497,42.852V9.001l57.006,0v11.396H26.031v11.668"></path></g></svg>'},287:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-6"><use href="#blank"></use><path fill="#008284" d="M66.856,23.967v-3.565c0-6.296-5.109-11.4-11.399-11.4H20.544c-6.29,0-11.4,5.104-11.4,11.4v34.197 c0,6.29,5.11,11.4,11.4,11.4h34.913c6.29,0,11.399-5.11,11.399-11.4V43.911c0-4.984-4.921-12.11-11.405-12.11H27.669 c-1.569,0-2.85-1.28-2.85-2.85v-6.412c0-1.575,1.28-2.851,2.85-2.851h20.663c1.569,0,2.85,1.275,2.85,2.851v1.005L66.856,23.967z M25.531,47.474c0-1.569,1.28-2.85,2.851-2.85h20.662c1.57,0,2.851,1.28,2.851,2.85v6.412c0,1.57-1.28,2.851-2.851,2.851H28.382 c-1.57,0-2.851-1.28-2.851-2.851V47.474z"></path></g></svg>'},312:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-7"><use href="#blank"></use><polygon fill="#840084" points="10.363,9.001 10.363,21.783 44.834,21.78 10.018,65.999 30.464,65.999 65.291,21.78 65.982,9.001 "></polygon></g></svg>'},835:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="number-8"><use href="#blank"></use><path fill="#757575" d="M66.856,31.087c0,2.377-0.729,4.581-1.977,6.413c1.247,1.826,1.977,4.036,1.977,6.412V54.6 c0,6.29-5.104,11.4-11.4,11.4H20.544c-6.29,0-11.4-5.11-11.4-11.4V43.912c0-2.376,0.729-4.586,1.982-6.412 c-1.252-1.832-1.982-4.036-1.982-6.413V20.4c0-6.295,5.11-11.4,11.4-11.4h34.912c6.296,0,11.4,5.104,11.4,11.4V31.087z M51.182,22.538c0-1.575-1.275-2.85-2.851-2.85H27.669c-1.57,0-2.851,1.275-2.851,2.85v6.413c0,1.569,1.28,2.85,2.851,2.85h20.662 c1.575,0,2.851-1.28,2.851-2.85V22.538z M51.182,46.05c0-1.575-1.275-2.85-2.851-2.85H27.669c-1.57,0-2.851,1.274-2.851,2.85v6.413 c0,1.569,1.28,2.85,2.851,2.85h20.662c1.575,0,2.851-1.28,2.851-2.85V46.05z"></path></g></svg>'},177:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="question-mark"><use href="#unopened-square"></use><path d="M24.684,28.694c0-4.57,1.569-8.347,4.716-11.338c2.219-2.109,5.175-3.164,8.877-3.164c4.065,0,7.213,1.055,9.433,3.164 c2.4,2.285,3.606,5.186,3.606,8.701c0,2.991-1.109,5.537-3.329,7.646c-1.295,1.23-3.052,2.9-5.271,5.01 c-1.664,1.582-2.497,3.955-2.497,7.119h-4.993c0-3.864,0.647-6.765,1.942-8.701c0.924-1.406,2.678-3.337,5.271-5.801 c1.479-1.406,2.22-3.073,2.22-5.01c0-2.461-0.65-4.307-1.942-5.537c-1.109-1.055-2.681-1.582-4.716-1.582 c-1.665,0-3.052,0.527-4.161,1.582c-1.85,1.758-2.774,4.395-2.774,7.91H24.684z M34.671,53.479h6.104v6.328h-6.104V53.479z"></path></g></svg>'},100:function(n){n.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><g id="unopened-square"><path id="rect1313_65_" fill="#FDFCFD" d="M0.009,0h75.982C75.996,0,76,0.004,76,0.009V75.99c0,0.006-0.004,0.01-0.009,0.01H0.009 C0.004,76,0,75.996,0,75.99V0.009C0,0.004,0.004,0,0.009,0z"></path><path id="path1341_65_" fill="#757575" d="M75.99,0C75.995,0,76,0.005,76,0.01v75.981C76,75.996,75.995,76,75.99,76H0.009 C0.004,76,0,75.996,0,75.991L75.99,0z"></path><polygon id="rect1311_65_" fill="#B9B9B9" points="8.508,8.5 67.492,8.5 67.5,8.508 67.5,67.491 67.492,67.5 8.508,67.5 8.5,67.491 8.5,8.508 "></polygon></g></svg>'},887:function(n,e,t){t.d(e,{A:function(){return Ui}});function r(pe,B,j,re){var ge=arguments.length,Ie=ge<3?B:re===null?re=Object.getOwnPropertyDescriptor(B,j):re,$e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ie=Reflect.decorate(pe,B,j,re);else for(var It=pe.length-1;It>=0;It--)($e=pe[It])&&(Ie=(ge<3?$e(Ie):ge>3?$e(B,j,Ie):$e(B,j))||Ie);return ge>3&&Ie&&Object.defineProperty(B,j,Ie),Ie}function i(pe,B,j,re){if(j==="a"&&!re)throw new TypeError("Private accessor was defined without a getter");if(typeof B=="function"?pe!==B||!re:!B.has(pe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return j==="m"?re:j==="a"?re.call(pe):re?re.value:B.get(pe)}function s(pe,B,j,re,ge){if(typeof B=="function"?pe!==B||!ge:!B.has(pe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return B.set(pe,j),j}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o=window,a=o.ShadowRoot&&(o.ShadyCSS===void 0||o.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,c=Symbol(),u=new WeakMap;class l{constructor(B,j,re){if(this._$cssResult$=!0,re!==c)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=B,this.t=j}get styleSheet(){let B=this.o;const j=this.t;if(a&&B===void 0){const re=j!==void 0&&j.length===1;re&&(B=u.get(j)),B===void 0&&((this.o=B=new CSSStyleSheet).replaceSync(this.cssText),re&&u.set(j,B))}return B}toString(){return this.cssText}}const d=pe=>new l(typeof pe=="string"?pe:pe+"",void 0,c),b=(pe,B)=>{a?pe.adoptedStyleSheets=B.map(j=>j instanceof CSSStyleSheet?j:j.styleSheet):B.forEach(j=>{const re=document.createElement("style"),ge=o.litNonce;ge!==void 0&&re.setAttribute("nonce",ge),re.textContent=j.cssText,pe.appendChild(re)})},p=a?pe=>pe:pe=>pe instanceof CSSStyleSheet?(B=>{let j="";for(const re of B.cssRules)j+=re.cssText;return d(j)})(pe):pe;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var g;const y=window,S=y.trustedTypes,w=S?S.emptyScript:"",_=y.reactiveElementPolyfillSupport,R={toAttribute(pe,B){switch(B){case Boolean:pe=pe?w:null;break;case Object:case Array:pe=pe==null?pe:JSON.stringify(pe)}return pe},fromAttribute(pe,B){let j=pe;switch(B){case Boolean:j=pe!==null;break;case Number:j=pe===null?null:Number(pe);break;case Object:case Array:try{j=JSON.parse(pe)}catch{j=null}}return j}},x=(pe,B)=>B!==pe&&(B==B||pe==pe),K={attribute:!0,type:String,converter:R,reflect:!1,hasChanged:x};class G extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(B){var j;this.finalize(),((j=this.h)!==null&&j!==void 0?j:this.h=[]).push(B)}static get observedAttributes(){this.finalize();const B=[];return this.elementProperties.forEach((j,re)=>{const ge=this._$Ep(re,j);ge!==void 0&&(this._$Ev.set(ge,re),B.push(ge))}),B}static createProperty(B,j=K){if(j.state&&(j.attribute=!1),this.finalize(),this.elementProperties.set(B,j),!j.noAccessor&&!this.prototype.hasOwnProperty(B)){const re=typeof B=="symbol"?Symbol():"__"+B,ge=this.getPropertyDescriptor(B,re,j);ge!==void 0&&Object.defineProperty(this.prototype,B,ge)}}static getPropertyDescriptor(B,j,re){return{get(){return this[j]},set(ge){const Ie=this[B];this[j]=ge,this.requestUpdate(B,Ie,re)},configurable:!0,enumerable:!0}}static getPropertyOptions(B){return this.elementProperties.get(B)||K}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const B=Object.getPrototypeOf(this);if(B.finalize(),B.h!==void 0&&(this.h=[...B.h]),this.elementProperties=new Map(B.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const j=this.properties,re=[...Object.getOwnPropertyNames(j),...Object.getOwnPropertySymbols(j)];for(const ge of re)this.createProperty(ge,j[ge])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(B){const j=[];if(Array.isArray(B)){const re=new Set(B.flat(1/0).reverse());for(const ge of re)j.unshift(p(ge))}else B!==void 0&&j.push(p(B));return j}static _$Ep(B,j){const re=j.attribute;return re===!1?void 0:typeof re=="string"?re:typeof B=="string"?B.toLowerCase():void 0}u(){var B;this._$E_=new Promise(j=>this.enableUpdating=j),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(B=this.constructor.h)===null||B===void 0||B.forEach(j=>j(this))}addController(B){var j,re;((j=this._$ES)!==null&&j!==void 0?j:this._$ES=[]).push(B),this.renderRoot!==void 0&&this.isConnected&&((re=B.hostConnected)===null||re===void 0||re.call(B))}removeController(B){var j;(j=this._$ES)===null||j===void 0||j.splice(this._$ES.indexOf(B)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((B,j)=>{this.hasOwnProperty(j)&&(this._$Ei.set(j,this[j]),delete this[j])})}createRenderRoot(){var B;const j=(B=this.shadowRoot)!==null&&B!==void 0?B:this.attachShadow(this.constructor.shadowRootOptions);return b(j,this.constructor.elementStyles),j}connectedCallback(){var B;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(B=this._$ES)===null||B===void 0||B.forEach(j=>{var re;return(re=j.hostConnected)===null||re===void 0?void 0:re.call(j)})}enableUpdating(B){}disconnectedCallback(){var B;(B=this._$ES)===null||B===void 0||B.forEach(j=>{var re;return(re=j.hostDisconnected)===null||re===void 0?void 0:re.call(j)})}attributeChangedCallback(B,j,re){this._$AK(B,re)}_$EO(B,j,re=K){var ge;const Ie=this.constructor._$Ep(B,re);if(Ie!==void 0&&re.reflect===!0){const $e=(((ge=re.converter)===null||ge===void 0?void 0:ge.toAttribute)!==void 0?re.converter:R).toAttribute(j,re.type);this._$El=B,$e==null?this.removeAttribute(Ie):this.setAttribute(Ie,$e),this._$El=null}}_$AK(B,j){var re;const ge=this.constructor,Ie=ge._$Ev.get(B);if(Ie!==void 0&&this._$El!==Ie){const $e=ge.getPropertyOptions(Ie),It=typeof $e.converter=="function"?{fromAttribute:$e.converter}:((re=$e.converter)===null||re===void 0?void 0:re.fromAttribute)!==void 0?$e.converter:R;this._$El=Ie,this[Ie]=It.fromAttribute(j,$e.type),this._$El=null}}requestUpdate(B,j,re){let ge=!0;B!==void 0&&(((re=re||this.constructor.getPropertyOptions(B)).hasChanged||x)(this[B],j)?(this._$AL.has(B)||this._$AL.set(B,j),re.reflect===!0&&this._$El!==B&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(B,re))):ge=!1),!this.isUpdatePending&&ge&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(j){Promise.reject(j)}const B=this.scheduleUpdate();return B!=null&&await B,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var B;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((ge,Ie)=>this[Ie]=ge),this._$Ei=void 0);let j=!1;const re=this._$AL;try{j=this.shouldUpdate(re),j?(this.willUpdate(re),(B=this._$ES)===null||B===void 0||B.forEach(ge=>{var Ie;return(Ie=ge.hostUpdate)===null||Ie===void 0?void 0:Ie.call(ge)}),this.update(re)):this._$Ek()}catch(ge){throw j=!1,this._$Ek(),ge}j&&this._$AE(re)}willUpdate(B){}_$AE(B){var j;(j=this._$ES)===null||j===void 0||j.forEach(re=>{var ge;return(ge=re.hostUpdated)===null||ge===void 0?void 0:ge.call(re)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(B)),this.updated(B)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(B){return!0}update(B){this._$EC!==void 0&&(this._$EC.forEach((j,re)=>this._$EO(re,this[re],j)),this._$EC=void 0),this._$Ek()}updated(B){}firstUpdated(B){}}G.finalized=!0,G.elementProperties=new Map,G.elementStyles=[],G.shadowRootOptions={mode:"open"},_==null||_({ReactiveElement:G}),((g=y.reactiveElementVersions)!==null&&g!==void 0?g:y.reactiveElementVersions=[]).push("1.5.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var M;const Q=window,ie=Q.trustedTypes,ee=ie?ie.createPolicy("lit-html",{createHTML:pe=>pe}):void 0,X=`lit$${(Math.random()+"").slice(9)}$`,oe="?"+X,z=`<${oe}>`,m=document,v=(pe="")=>m.createComment(pe),T=pe=>pe===null||typeof pe!="object"&&typeof pe!="function",V=Array.isArray,C=pe=>V(pe)||typeof(pe==null?void 0:pe[Symbol.iterator])=="function",N=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Z=/-->/g,L=/>/g,E=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Y=/'/g,be=/"/g,Ae=/^(?:script|style|textarea|title)$/i,ve=pe=>(B,...j)=>({_$litType$:pe,strings:B,values:j}),De=ve(1),Ge=Symbol.for("lit-noChange"),Ke=Symbol.for("lit-nothing"),Pn=new WeakMap,wt=m.createTreeWalker(m,129,null,!1),yt=(pe,B)=>{const j=pe.length-1,re=[];let ge,Ie=B===2?"<svg>":"",$e=N;for(let ut=0;ut<j;ut++){const vt=pe[ut];let Fr,un,Er=-1,jo=0;for(;jo<vt.length&&($e.lastIndex=jo,un=$e.exec(vt),un!==null);)jo=$e.lastIndex,$e===N?un[1]==="!--"?$e=Z:un[1]!==void 0?$e=L:un[2]!==void 0?(Ae.test(un[2])&&(ge=RegExp("</"+un[2],"g")),$e=E):un[3]!==void 0&&($e=E):$e===E?un[0]===">"?($e=ge??N,Er=-1):un[1]===void 0?Er=-2:(Er=$e.lastIndex-un[2].length,Fr=un[1],$e=un[3]===void 0?E:un[3]==='"'?be:Y):$e===be||$e===Y?$e=E:$e===Z||$e===L?$e=N:($e=E,ge=void 0);const nb=$e===E&&pe[ut+1].startsWith("/>")?" ":"";Ie+=$e===N?vt+z:Er>=0?(re.push(Fr),vt.slice(0,Er)+"$lit$"+vt.slice(Er)+X+nb):vt+X+(Er===-2?(re.push(void 0),ut):nb)}const It=Ie+(pe[j]||"<?>")+(B===2?"</svg>":"");if(!Array.isArray(pe)||!pe.hasOwnProperty("raw"))throw Error("invalid template strings array");return[ee!==void 0?ee.createHTML(It):It,re]};class kt{constructor({strings:B,_$litType$:j},re){let ge;this.parts=[];let Ie=0,$e=0;const It=B.length-1,ut=this.parts,[vt,Fr]=yt(B,j);if(this.el=kt.createElement(vt,re),wt.currentNode=this.el.content,j===2){const un=this.el.content,Er=un.firstChild;Er.remove(),un.append(...Er.childNodes)}for(;(ge=wt.nextNode())!==null&&ut.length<It;){if(ge.nodeType===1){if(ge.hasAttributes()){const un=[];for(const Er of ge.getAttributeNames())if(Er.endsWith("$lit$")||Er.startsWith(X)){const jo=Fr[$e++];if(un.push(Er),jo!==void 0){const nb=ge.getAttribute(jo.toLowerCase()+"$lit$").split(X),rb=/([.?@])?(.*)/.exec(jo);ut.push({type:1,index:Ie,name:rb[2],strings:nb,ctor:rb[1]==="."?On:rb[1]==="?"?wn:rb[1]==="@"?nn:Ht})}else ut.push({type:6,index:Ie})}for(const Er of un)ge.removeAttribute(Er)}if(Ae.test(ge.tagName)){const un=ge.textContent.split(X),Er=un.length-1;if(Er>0){ge.textContent=ie?ie.emptyScript:"";for(let jo=0;jo<Er;jo++)ge.append(un[jo],v()),wt.nextNode(),ut.push({type:2,index:++Ie});ge.append(un[Er],v())}}}else if(ge.nodeType===8)if(ge.data===oe)ut.push({type:2,index:Ie});else{let un=-1;for(;(un=ge.data.indexOf(X,un+1))!==-1;)ut.push({type:7,index:Ie}),un+=X.length-1}Ie++}}static createElement(B,j){const re=m.createElement("template");return re.innerHTML=B,re}}function bt(pe,B,j=pe,re){var ge,Ie,$e,It;if(B===Ge)return B;let ut=re!==void 0?(ge=j._$Co)===null||ge===void 0?void 0:ge[re]:j._$Cl;const vt=T(B)?void 0:B._$litDirective$;return(ut==null?void 0:ut.constructor)!==vt&&((Ie=ut==null?void 0:ut._$AO)===null||Ie===void 0||Ie.call(ut,!1),vt===void 0?ut=void 0:(ut=new vt(pe),ut._$AT(pe,j,re)),re!==void 0?(($e=(It=j)._$Co)!==null&&$e!==void 0?$e:It._$Co=[])[re]=ut:j._$Cl=ut),ut!==void 0&&(B=bt(pe,ut._$AS(pe,B.values),ut,re)),B}class tn{constructor(B,j){this.u=[],this._$AN=void 0,this._$AD=B,this._$AM=j}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(B){var j;const{el:{content:re},parts:ge}=this._$AD,Ie=((j=B==null?void 0:B.creationScope)!==null&&j!==void 0?j:m).importNode(re,!0);wt.currentNode=Ie;let $e=wt.nextNode(),It=0,ut=0,vt=ge[0];for(;vt!==void 0;){if(It===vt.index){let Fr;vt.type===2?Fr=new dr($e,$e.nextSibling,this,B):vt.type===1?Fr=new vt.ctor($e,vt.name,vt.strings,this,B):vt.type===6&&(Fr=new an($e,this,B)),this.u.push(Fr),vt=ge[++ut]}It!==(vt==null?void 0:vt.index)&&($e=wt.nextNode(),It++)}return Ie}p(B){let j=0;for(const re of this.u)re!==void 0&&(re.strings!==void 0?(re._$AI(B,re,j),j+=re.strings.length-2):re._$AI(B[j])),j++}}class dr{constructor(B,j,re,ge){var Ie;this.type=2,this._$AH=Ke,this._$AN=void 0,this._$AA=B,this._$AB=j,this._$AM=re,this.options=ge,this._$Cm=(Ie=ge==null?void 0:ge.isConnected)===null||Ie===void 0||Ie}get _$AU(){var B,j;return(j=(B=this._$AM)===null||B===void 0?void 0:B._$AU)!==null&&j!==void 0?j:this._$Cm}get parentNode(){let B=this._$AA.parentNode;const j=this._$AM;return j!==void 0&&B.nodeType===11&&(B=j.parentNode),B}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(B,j=this){B=bt(this,B,j),T(B)?B===Ke||B==null||B===""?(this._$AH!==Ke&&this._$AR(),this._$AH=Ke):B!==this._$AH&&B!==Ge&&this.g(B):B._$litType$!==void 0?this.$(B):B.nodeType!==void 0?this.T(B):C(B)?this.k(B):this.g(B)}O(B,j=this._$AB){return this._$AA.parentNode.insertBefore(B,j)}T(B){this._$AH!==B&&(this._$AR(),this._$AH=this.O(B))}g(B){this._$AH!==Ke&&T(this._$AH)?this._$AA.nextSibling.data=B:this.T(m.createTextNode(B)),this._$AH=B}$(B){var j;const{values:re,_$litType$:ge}=B,Ie=typeof ge=="number"?this._$AC(B):(ge.el===void 0&&(ge.el=kt.createElement(ge.h,this.options)),ge);if(((j=this._$AH)===null||j===void 0?void 0:j._$AD)===Ie)this._$AH.p(re);else{const $e=new tn(Ie,this),It=$e.v(this.options);$e.p(re),this.T(It),this._$AH=$e}}_$AC(B){let j=Pn.get(B.strings);return j===void 0&&Pn.set(B.strings,j=new kt(B)),j}k(B){V(this._$AH)||(this._$AH=[],this._$AR());const j=this._$AH;let re,ge=0;for(const Ie of B)ge===j.length?j.push(re=new dr(this.O(v()),this.O(v()),this,this.options)):re=j[ge],re._$AI(Ie),ge++;ge<j.length&&(this._$AR(re&&re._$AB.nextSibling,ge),j.length=ge)}_$AR(B=this._$AA.nextSibling,j){var re;for((re=this._$AP)===null||re===void 0||re.call(this,!1,!0,j);B&&B!==this._$AB;){const ge=B.nextSibling;B.remove(),B=ge}}setConnected(B){var j;this._$AM===void 0&&(this._$Cm=B,(j=this._$AP)===null||j===void 0||j.call(this,B))}}class Ht{constructor(B,j,re,ge,Ie){this.type=1,this._$AH=Ke,this._$AN=void 0,this.element=B,this.name=j,this._$AM=ge,this.options=Ie,re.length>2||re[0]!==""||re[1]!==""?(this._$AH=Array(re.length-1).fill(new String),this.strings=re):this._$AH=Ke}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(B,j=this,re,ge){const Ie=this.strings;let $e=!1;if(Ie===void 0)B=bt(this,B,j,0),$e=!T(B)||B!==this._$AH&&B!==Ge,$e&&(this._$AH=B);else{const It=B;let ut,vt;for(B=Ie[0],ut=0;ut<Ie.length-1;ut++)vt=bt(this,It[re+ut],j,ut),vt===Ge&&(vt=this._$AH[ut]),$e||($e=!T(vt)||vt!==this._$AH[ut]),vt===Ke?B=Ke:B!==Ke&&(B+=(vt??"")+Ie[ut+1]),this._$AH[ut]=vt}$e&&!ge&&this.j(B)}j(B){B===Ke?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,B??"")}}class On extends Ht{constructor(){super(...arguments),this.type=3}j(B){this.element[this.name]=B===Ke?void 0:B}}const So=ie?ie.emptyScript:"";class wn extends Ht{constructor(){super(...arguments),this.type=4}j(B){B&&B!==Ke?this.element.setAttribute(this.name,So):this.element.removeAttribute(this.name)}}class nn extends Ht{constructor(B,j,re,ge,Ie){super(B,j,re,ge,Ie),this.type=5}_$AI(B,j=this){var re;if((B=(re=bt(this,B,j,0))!==null&&re!==void 0?re:Ke)===Ge)return;const ge=this._$AH,Ie=B===Ke&&ge!==Ke||B.capture!==ge.capture||B.once!==ge.once||B.passive!==ge.passive,$e=B!==Ke&&(ge===Ke||Ie);Ie&&this.element.removeEventListener(this.name,this,ge),$e&&this.element.addEventListener(this.name,this,B),this._$AH=B}handleEvent(B){var j,re;typeof this._$AH=="function"?this._$AH.call((re=(j=this.options)===null||j===void 0?void 0:j.host)!==null&&re!==void 0?re:this.element,B):this._$AH.handleEvent(B)}}class an{constructor(B,j,re){this.element=B,this.type=6,this._$AN=void 0,this._$AM=j,this.options=re}get _$AU(){return this._$AM._$AU}_$AI(B){bt(this,B)}}const Bt=Q.litHtmlPolyfillSupport;Bt==null||Bt(kt,dr),((M=Q.litHtmlVersions)!==null&&M!==void 0?M:Q.litHtmlVersions=[]).push("2.5.0");const mn=(pe,B,j)=>{var re,ge;const Ie=(re=j==null?void 0:j.renderBefore)!==null&&re!==void 0?re:B;let $e=Ie._$litPart$;if($e===void 0){const It=(ge=j==null?void 0:j.renderBefore)!==null&&ge!==void 0?ge:null;Ie._$litPart$=$e=new dr(B.insertBefore(v(),It),It,void 0,j??{})}return $e._$AI(pe),$e};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var xn,Tt;class A extends G{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var B,j;const re=super.createRenderRoot();return(B=(j=this.renderOptions).renderBefore)!==null&&B!==void 0||(j.renderBefore=re.firstChild),re}update(B){const j=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(B),this._$Do=mn(j,this.renderRoot,this.renderOptions)}connectedCallback(){var B;super.connectedCallback(),(B=this._$Do)===null||B===void 0||B.setConnected(!0)}disconnectedCallback(){var B;super.disconnectedCallback(),(B=this._$Do)===null||B===void 0||B.setConnected(!1)}render(){return Ge}}A.finalized=!0,A._$litElement$=!0,(xn=globalThis.litElementHydrateSupport)===null||xn===void 0||xn.call(globalThis,{LitElement:A});const h=globalThis.litElementPolyfillSupport;h==null||h({LitElement:A}),((Tt=globalThis.litElementVersions)!==null&&Tt!==void 0?Tt:globalThis.litElementVersions=[]).push("3.2.2");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const f=(pe,B)=>B.kind==="method"&&B.descriptor&&!("value"in B.descriptor)?{...B,finisher(j){j.createProperty(B.key,pe)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:B.key,initializer(){typeof B.initializer=="function"&&(this[B.key]=B.initializer.call(this))},finisher(j){j.createProperty(B.key,pe)}};function I(pe){return(B,j)=>j!==void 0?((re,ge,Ie)=>{ge.constructor.createProperty(Ie,re)})(pe,B,j):f(pe,B)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function q(pe){return I({...pe,state:!0})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const J=({finisher:pe,descriptor:B})=>(j,re)=>{var ge;if(re===void 0){const Ie=(ge=j.originalKey)!==null&&ge!==void 0?ge:j.key,$e=B!=null?{kind:"method",placement:"prototype",key:Ie,descriptor:B(j.key)}:{...j,key:Ie};return pe!=null&&($e.finisher=function(It){pe(It,Ie)}),$e}{const Ie=j.constructor;B!==void 0&&Object.defineProperty(j,re,B(re)),pe==null||pe(Ie,re)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function te(pe){return J({finisher:(B,j)=>{Object.assign(B.prototype[j],pe)}})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Le;((Le=window.HTMLSlotElement)===null||Le===void 0?void 0:Le.prototype.assignedElements)!=null;/**
* @license
* Copyright 2017 Google LLC
* SPDX-License-Identifier: BSD-3-Clause
*/const Xe={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},We=pe=>(...B)=>({_$litDirective$:pe,values:B});class mt{constructor(B){}get _$AU(){return this._$AM._$AU}_$AT(B,j,re){this._$Ct=B,this._$AM=j,this._$Ci=re}_$AS(B,j){return this.update(B,j)}update(B,j){return this.render(...j)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Oe extends mt{constructor(B){if(super(B),this.it=Ke,B.type!==Xe.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(B){if(B===Ke||B==null)return this._t=void 0,this.it=B;if(B===Ge)return B;if(typeof B!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(B===this.it)return this._t;this.it=B;const j=[B];return j.raw=j,this._t={_$litType$:this.constructor.resultType,strings:j,values:[]}}}Oe.directiveName="unsafeHTML",Oe.resultType=1;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Qn extends Oe{}Qn.directiveName="unsafeSVG",Qn.resultType=2;const mc=We(Qn);var Nn;(function(pe){pe.Unveiled="UNVEILED",pe.FlagAction="FLAG_ACTION",pe.QuestionMarkAction="QUESTION_MARK_ACTION"})(Nn||(Nn={}));var Zn;(function(pe){pe.Placed="PLACED",pe.Removed="REMOVED",pe.NoChange="NO_CHANGE"})(Zn||(Zn={}));var ii;(function(pe){pe.FLAG="FLAG",pe.QUESTION_MARK="QUESTION_MARK",pe.BOMB="BOMB",pe.BOMB_EXPLODE="BOMB_EXPLODE"})(ii||(ii={}));var rn,se,le,de,Se;class et{constructor(B){rn.set(this,void 0),se.set(this,void 0),le.set(this,0),de.set(this,void 0),Se.set(this,void 0),this.gameModeConfiguration=B,s(this,rn,this.generate2dFields(0)),s(this,se,this.generate2dFields(!1)),s(this,de,this.generate2dFields(!1)),s(this,Se,this.generate2dFields(!1)),this.placeBombs(),this.applyFieldNumbers()}get rows(){return this.gameModeConfiguration.rows}get columns(){return this.gameModeConfiguration.columns}get bombs(){return this.gameModeConfiguration.bombs}get positions(){return i(this,rn,"f")}get flags(){return i(this,se,"f")}get flagCounter(){return i(this,le,"f")}get questionMarks(){return i(this,de,"f")}get revealedFields(){return i(this,Se,"f")}generate2dFields(B){return Array.from({length:this.rows}).fill([B]).map(()=>Array.from({length:this.columns}).fill(B))}placeBombs(){const B=this.calculateRandomBombIndices();let j=0;for(let re=0;re<this.rows;re+=1)for(let ge=0;ge<this.columns;ge+=1)B.includes(j)&&(i(this,rn,"f")[re][ge]=ii.BOMB),j+=1}calculateRandomBombIndices(){const B=[],j=this.rows*this.columns,re=Math.min(this.bombs,j);for(;B.length!==re;){const ge=Math.floor(Math.random()*j);B.includes(ge)||B.push(ge)}return B}applyFieldNumbers(){for(let B=0;B<this.rows;B+=1)for(let j=0;j<this.columns;j+=1)if(i(this,rn,"f")[B][j]!==ii.BOMB){const re=this.getNeighbors(B,j).filter(ge=>i(this,rn,"f")[ge[0]][ge[1]]===ii.BOMB).length;i(this,rn,"f")[B][j]=re}}revealField(B,j){if(i(this,se,"f")[B][j])return ii.FLAG;i(this,de,"f")[B][j]&&(i(this,de,"f")[B][j]=!1);const re=i(this,rn,"f")[B][j];return re===ii.BOMB?i(this,rn,"f")[B][j]=ii.BOMB_EXPLODE:re===0?this.expand(B,j):i(this,Se,"f")[B][j]=!0,re}expand(B,j){const re=i(this,rn,"f")[B][j];if(!(re===ii.BOMB||i(this,Se,"f")[B][j])&&(i(this,Se,"f")[B][j]=!0,i(this,se,"f")[B][j]&&this.removeFlag(B,j),i(this,de,"f")[B][j]&&this.removeQuestionMark(B,j),re===0)){const ge=this.getNeighbors(B,j);for(const Ie of ge)this.expand(Ie[0],Ie[1])}}getNeighbors(B,j){const re=[];return B>0&&j>0&&re.push([B-1,j-1]),B>0&&re.push([B-1,j]),B>0&&j<this.columns-1&&re.push([B-1,j+1]),j<this.columns-1&&re.push([B,j+1]),B<this.rows-1&&j<this.columns-1&&re.push([B+1,j+1]),B<this.rows-1&&re.push([B+1,j]),B<this.rows-1&&j>0&&re.push([B+1,j-1]),j>0&&re.push([B,j-1]),re}addFlag(B,j){i(this,se,"f")[B][j]||(i(this,se,"f")[B][j]=!0,s(this,le,i(this,le,"f")+1),this.removeQuestionMark(B,j))}removeFlag(B,j){i(this,se,"f")[B][j]&&(i(this,se,"f")[B][j]=!1,s(this,le,i(this,le,"f")-1))}addQuestionMark(B,j){i(this,de,"f")[B][j]||(i(this,de,"f")[B][j]=!0,this.removeFlag(B,j))}removeQuestionMark(B,j){i(this,de,"f")[B][j]&&(i(this,de,"f")[B][j]=!1)}revealBombs(B=!1){for(let j=0;j<this.rows;j+=1)for(let re=0;re<this.columns;re+=1)i(this,rn,"f")[j][re]===ii.BOMB&&(i(this,Se,"f")[j][re]=!0,B?this.addFlag(j,re):i(this,de,"f")[j][re]&&this.removeQuestionMark(j,re)),(i(this,se,"f")[j][re]||i(this,rn,"f")[j][re]===ii.BOMB_EXPLODE)&&(i(this,Se,"f")[j][re]=!0)}}rn=new WeakMap,se=new WeakMap,le=new WeakMap,de=new WeakMap,Se=new WeakMap;var Ne;class Fe{constructor(B=()=>{},j=()=>{}){Ne.set(this,void 0),this.isGameOver=!0,this.onWinCallback=B,this.onLoseCallback=j}get board(){return i(this,Ne,"f")}createBoard(B=9,j=9,re=10){this.gameModeConfiguration={columns:B,rows:j,bombs:re},this.restart()}restart(){s(this,Ne,new et(this.gameModeConfiguration)),this.isGameOver=!1}toggleFlag(B,j){return i(this,Ne,"f").revealedFields[B][j]?0:i(this,Ne,"f").flags[B][j]?(i(this,Ne,"f").removeFlag(B,j),-1):i(this,Ne,"f").flagCounter<i(this,Ne,"f").bombs?(i(this,Ne,"f").addFlag(B,j),1):0}toggleQuestionMark(B,j){return i(this,Ne,"f").revealedFields[B][j]?0:i(this,Ne,"f").questionMarks[B][j]?(i(this,Ne,"f").removeQuestionMark(B,j),-1):(i(this,Ne,"f").addQuestionMark(B,j),1)}selectField(B,j){const re=i(this,Ne,"f").revealField(B,j);return re===ii.BOMB?(i(this,Ne,"f").revealBombs(),this.onLoseCallback(),this.isGameOver=!0,re):(i(this,Ne,"f").revealedFields.flat().filter(Ie=>!Ie).length===i(this,Ne,"f").bombs&&(i(this,Ne,"f").revealBombs(!0),this.onWinCallback(),this.isGameOver=!0),re)}}Ne=new WeakMap;var it=t(726),ct=t.n(it),st=t(528),Wr=t.n(st),Ct=t(379),rt=t.n(Ct),Wn=t(202),xt=t.n(Wn),Xn=t(177),Ys=t.n(Xn),Fn=t(100),Vn=t.n(Fn),Ao=t(885),Di=t.n(Ao),ha=t(113),fa=t.n(ha),pa=t(877),Mt=t.n(pa),ti=t(389),Si=t.n(ti),Nr=t(527),Vo=t.n(Nr),ru=t(434),cl=t.n(ru),Vp=t(287),jp=t.n(Vp),Hp=t(312),Yp=t.n(Hp),Gp=t(835),Jp=t.n(Gp),Qp={Bomb:ct(),BombExplode:Wr(),Flag:rt(),FlagMissed:xt(),QuestionMark:Ys(),UnopenedSquare:Vn(),Number0:Di(),Number1:fa(),Number2:Mt(),Number3:Si(),Number4:Vo(),Number5:cl(),Number6:jp(),Number7:Yp(),Number8:Jp()};function es(pe){return`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76 76" preserveAspectRatio="xMidYMid meet" enable-background="new 0 0 76 76"><use href="#${pe}" /></svg>`}function mA(pe){return pe>0?Zn.Placed:pe<0?Zn.Removed:Zn.NoChange}function bA(pe){if(Array.isArray(pe))return pe.map(B=>bA(B));if(pe instanceof Date)return new Date(pe.getTime());if(pe&&typeof pe=="object"){const B=Object.entries(Object.getOwnPropertyDescriptors(Object.getPrototypeOf(pe))).filter(([re,ge])=>typeof ge.get=="function"&&re!=="__proto__").map(([re])=>re),j={};for(const re of[...Object.keys(pe),...B])j[re]=bA(pe[re]);return j}return pe}class Zp extends CustomEvent{constructor(B,j,re={}){const{detail:ge,...Ie}=re;super(`minesweeper:${B}`,{detail:{board:bA(j),...ge},bubbles:!0,composed:!0,cancelable:!1,...Ie})}}class cF extends Zp{constructor(B,j,re){super("field-click",B,{cancelable:!0,detail:{target:j,field:re}})}}class tb extends Zp{constructor(B,j,re){super("field-interaction",B,{detail:{target:j,interaction:re}})}}class uF extends Zp{constructor(B,j,re){super("field-long-press",B,{cancelable:!0,detail:{target:j,field:re}})}}class lF extends Zp{constructor(B){super("game-lost",B)}}class dF extends Zp{constructor(B){super("game-won",B)}}var hF=t(637);const ts={BOMB:es("bomb"),BOMB_EXPLODE:es("bomb-explode"),FLAG:es("flag"),FLAG_MISSED:es("flag-missed"),QUESTION_MARK:es("question-mark"),UNOPENED_SQUARE:es("unopened-square"),NUMBER_0:es("blank"),NUMBER_1:es("number-1"),NUMBER_2:es("number-2"),NUMBER_3:es("number-3"),NUMBER_4:es("number-4"),NUMBER_5:es("number-5"),NUMBER_6:es("number-6"),NUMBER_7:es("number-7"),NUMBER_8:es("number-8")};class Ui extends A{static get styles(){return d(hF.Z)}constructor(){super(),this.flagPlacementMode=!1,this.disableQuestionMarks=!1,this.longPressThreshold=500,this.columns=9,this.rows=9,this.bombs=10,this.isPressingFlagKey=!1,this.engine=new Fe(this.gameWonCallback.bind(this),this.gameLostCallback.bind(this))}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this.restartSelector&&document.querySelectorAll(this.restartSelector).forEach(j=>{j.addEventListener("click",this.restartGame.bind(this))}),this.createGameBoard(),this.handleDocumentKeydown=this.handleDocumentKeydown.bind(this),this.handleDocumentKeyup=this.handleDocumentKeyup.bind(this),this.handleScroll=this.handleScroll.bind(this),document.addEventListener("keydown",this.handleDocumentKeydown),document.addEventListener("keyup",this.handleDocumentKeyup),document.addEventListener("scroll",this.handleScroll)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),document.removeEventListener("keydown",this.handleDocumentKeydown),document.removeEventListener("keyup",this.handleDocumentKeyup),document.removeEventListener("scroll",this.handleScroll)}handleDocumentKeydown(B){this.isPressingFlagKey=B.ctrlKey||B.altKey||B.metaKey}handleDocumentKeyup(){this.isPressingFlagKey=!1}handleSweeperContainerMouseMove(B){this.isPressingFlagKey=B.ctrlKey||B.altKey||B.metaKey}createGameBoard(){this.engine&&(this.engine.createBoard(this.columns,this.rows,this.bombs),this.requestUpdate())}gameWonCallback(){this.dispatchEvent(new dF(this.engine.board))}gameLostCallback(){this.dispatchEvent(new lF(this.engine.board))}setGameModeConfiguration(B){this.columns=B.columns,this.rows=B.rows,this.bombs=B.bombs,this.createGameBoard()}restartGame(){this.engine&&(this.engine.restart(),this.requestUpdate())}get isLongPressDisabled(){return!this.longPressThreshold||this.longPressThreshold<=0}resetLongPressStates(){this.isLongPressDisabled||window.clearTimeout(this.longPressTimerId)}handleScroll(){this.resetLongPressStates()}handleLongPress(B){const{row:j,column:re}=B.dataset;if(!j||!re){console.error(new Error('Provided sweeper field does not contain the "row" and "column" data attribute.'));return}const ge=Number.parseInt(j,10),Ie=Number.parseInt(re,10);if(!this.dispatchEvent(new uF(this.engine.board,{row:ge,column:Ie},B)))return;let It;const ut=B.querySelector("svg");if(!ut){console.error(new Error("Svg child of the provided sweeper field not found."));return}let vt=1;const Fr=()=>{vt>=1.25?(window.clearInterval(It),ut.style.transform="none",this.triggerSecondActionClick(ge,Ie),this.requestUpdate()):(vt+=.01,ut.style.transform=`scale(${vt})`)};It=window.setInterval(Fr,2),typeof window.navigator.vibrate=="function"&&window.navigator.vibrate(100)}handleFieldClickStart(B){if(window.ontouchstart!==void 0&&B.type==="mousedown"){this.resetLongPressStates();return}const j=B.currentTarget;this.pressStartSweeperField=j,!this.isLongPressDisabled&&(this.pressStartTimestamp=B.timeStamp,this.engine&&this.engine.board&&!this.engine.isGameOver&&(this.longPressTimerId=window.setTimeout(()=>this.handleLongPress(j),this.longPressThreshold)))}handleFieldClickLeave(){this.resetLongPressStates()}handleFieldClickEnd(B){const j=B.currentTarget,re=!this.isLongPressDisabled&&B.timeStamp-(this.pressStartTimestamp||B.timeStamp)>this.longPressThreshold,ge=this.pressStartSweeperField===j;if(this.resetLongPressStates(),!this.engine||!this.engine.board||this.engine.isGameOver||!ge||re)return;const{row:Ie,column:$e}=j.dataset;if(!Ie||!$e){console.error(new Error('Provided sweeper field does not contain the "row" and "column" data attribute.'));return}const It=Number.parseInt(Ie,10),ut=Number.parseInt($e,10);if(!this.dispatchEvent(new cF(this.engine.board,{row:It,column:ut},j)))return;const{flags:Fr}=this.engine.board,un=Fr[It][ut];if(B.ctrlKey||B.altKey||B.metaKey||this.flagPlacementMode)this.triggerSecondActionClick(It,ut);else if(!un){const Er=this.engine.selectField(It,ut);this.dispatchEvent(new tb(this.engine.board,{row:It,column:ut},{type:Nn.Unveiled,value:Er}))}this.requestUpdate()}triggerSecondActionClick(B,j){const{flags:re,questionMarks:ge}=this.engine.board,Ie=re[B][j],$e=ge[B][j],It={row:B,column:j};if(!this.flagPlacementMode&&!this.disableQuestionMarks&&($e||Ie)){const ut=this.engine.toggleQuestionMark(B,j);Ie&&ut===1&&this.dispatchEvent(new tb(this.engine.board,It,{type:Nn.FlagAction,action:mA(-1)})),this.dispatchEvent(new tb(this.engine.board,It,{type:Nn.QuestionMarkAction,action:mA(ut)}))}else{const ut=this.engine.toggleFlag(B,j);this.dispatchEvent(new tb(this.engine.board,It,{type:Nn.FlagAction,action:mA(ut)}))}}render(){var B;if(!(!((B=this.engine)===null||B===void 0)&&B.board))return De`No Board :(`;const{bombs:j,flagCounter:re,positions:ge}=this.engine.board;return this.bombCounterSelector&&document.querySelectorAll(this.bombCounterSelector).forEach($e=>{$e.textContent=`${j-re}`}),De`
      <div
        class="sweeper-container${this.flagPlacementMode||this.isPressingFlagKey?" show-hover-elements":""}"
        @mousemove="${this.handleSweeperContainerMouseMove}"
        @scroll="${this.handleScroll}"
      >
        <div class="sweeper-box" @click="${Ie=>Ie.preventDefault()}">
          ${ge.map((Ie,$e)=>De`
                <div class="sweeper-row">
                  ${Ie.map((It,ut)=>this.getSweeperFieldHtml($e,ut))}
                </div>
              `)}
        </div>
        <div class="svg-container">
          ${Object.values(Qp).map(Ie=>mc(Ie))}
        </div>
      </div>
    `}getSweeperFieldSvg(B,j){const{revealedFields:re,questionMarks:ge,flags:Ie,positions:$e}=this.engine.board,It=re[B][j],ut=ge[B][j],vt=Ie[B][j];let Fr=ts.UNOPENED_SQUARE;if(It){const un=$e[B][j];if(un===ii.BOMB)Fr=vt?ts.FLAG:ts.BOMB;else if(un===ii.BOMB_EXPLODE)Fr=ts.BOMB_EXPLODE;else if(vt)Fr=ts.FLAG_MISSED;else{const Er=`NUMBER_${un}`;Fr=ts[Er]}}else ut?Fr=ts.QUESTION_MARK:vt&&(Fr=ts.FLAG);return Fr}getHoverSweeperFieldSvg(B){switch(B){case ts.FLAG:return this.disableQuestionMarks||this.flagPlacementMode?ts.UNOPENED_SQUARE:ts.QUESTION_MARK;case ts.QUESTION_MARK:return ts.UNOPENED_SQUARE;case ts.UNOPENED_SQUARE:return ts.FLAG;default:return B}}getSweeperFieldHtml(B,j){const{isGameOver:re,board:{revealedFields:ge,flags:Ie}}=this.engine,$e=ge[B][j],It=Ie[B][j],ut=this.getSweeperFieldSvg(B,j),vt=$e||It&&!(this.flagPlacementMode||this.isPressingFlagKey)||re?" unselectable":"";return!$e&&!re?De`
        <div
          class="sweeper-field${vt}"
          @touchstart="${this.handleFieldClickStart}"
          @touchend="${this.handleFieldClickLeave}"
          @touchcancel="${this.handleFieldClickLeave}"
          @mousedown="${this.handleFieldClickStart}"
          @mouseup="${this.handleFieldClickLeave}"
          @mouseleave="${this.handleFieldClickLeave}"
          @click="${this.handleFieldClickEnd}"
          data-row="${B}"
          data-column="${j}"
        >
          ${mc(ut)} ${mc(this.getHoverSweeperFieldSvg(ut))}
        </div>
      `:De`
      <div
        class="sweeper-field${vt}"
        data-row="${B}"
        data-column="${j}"
      >
        ${mc(ut)}
      </div>
    `}}r([I({attribute:"restart-selector",type:String})],Ui.prototype,"restartSelector",void 0),r([I({attribute:"bomb-counter-selector",type:String})],Ui.prototype,"bombCounterSelector",void 0),r([I({attribute:"flag-placement-mode",type:Boolean,reflect:!0})],Ui.prototype,"flagPlacementMode",void 0),r([I({attribute:"disable-question-marks",type:Boolean})],Ui.prototype,"disableQuestionMarks",void 0),r([I({attribute:"long-press-threshold",type:Number})],Ui.prototype,"longPressThreshold",void 0),r([I({type:Number})],Ui.prototype,"columns",void 0),r([I({type:Number})],Ui.prototype,"rows",void 0),r([I({type:Number})],Ui.prototype,"bombs",void 0),r([q({})],Ui.prototype,"engine",void 0),r([q({})],Ui.prototype,"pressStartTimestamp",void 0),r([q({})],Ui.prototype,"pressStartSweeperField",void 0),r([q({})],Ui.prototype,"longPressTimerId",void 0),r([q({})],Ui.prototype,"isPressingFlagKey",void 0),r([te({passive:!0})],Ui.prototype,"handleFieldClickStart",null),r([te({passive:!0})],Ui.prototype,"handleFieldClickLeave",null)}},$N={};function ju(n){var e=$N[n];if(e!==void 0)return e.exports;var t=$N[n]={id:n,exports:{}};return zwe[n](t,t.exports,ju),t.exports}(function(){ju.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return ju.d(e,{a:e}),e}})();(function(){ju.d=function(n,e){for(var t in e)ju.o(e,t)&&!ju.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})}})();(function(){ju.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}})();(function(){var n=ju(887);window.customElements.define("minesweeper-game",n.A)})();var lA={exports:{}},N6={},$6={exports:{}},Dwe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uwe=Dwe,Kwe=Uwe;function q6(){}function z6(){}z6.resetWarningCache=q6;var Wwe=function(){function n(r,i,s,o,a,c){if(c!==Kwe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:z6,resetWarningCache:q6};return t.PropTypes=t,t};$6.exports=Wwe();var D6=$6.exports;function U6(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=U6(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function qN(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=U6(n))&&(r&&(r+=" "),r+=e);return r}const Fwe=Object.freeze(Object.defineProperty({__proto__:null,clsx:qN,default:qN},Symbol.toStringTag,{value:"Module"})),Vwe=la(Fwe);var ei={},gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.dontSetMe=Jwe;gc.findInArray=jwe;gc.int=Gwe;gc.isFunction=Hwe;gc.isNum=Ywe;function jwe(n,e){for(let t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function Hwe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function Ywe(n){return typeof n=="number"&&!isNaN(n)}function Gwe(n){return parseInt(n,10)}function Jwe(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))}var Wd={};Object.defineProperty(Wd,"__esModule",{value:!0});Wd.browserPrefixToKey=W6;Wd.browserPrefixToStyle=Qwe;Wd.default=void 0;Wd.getPrefix=K6;const sE=["Moz","Webkit","O","ms"];function K6(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!t||e in t)return"";for(let r=0;r<sE.length;r++)if(W6(e,sE[r])in t)return sE[r];return""}function W6(n,e){return e?"".concat(e).concat(Zwe(n)):n}function Qwe(n,e){return e?"-".concat(e.toLowerCase(),"-").concat(n):n}function Zwe(n){let e="",t=!0;for(let r=0;r<n.length;r++)t?(e+=n[r].toUpperCase(),t=!1):n[r]==="-"?t=!0:e+=n[r];return e}Wd.default=K6();Object.defineProperty(ei,"__esModule",{value:!0});ei.addClassName=j6;ei.addEvent=tke;ei.addUserSelectStyles=hke;ei.createCSSTransform=cke;ei.createSVGTransform=uke;ei.getTouch=lke;ei.getTouchIdentifier=dke;ei.getTranslation=ET;ei.innerHeight=ske;ei.innerWidth=oke;ei.matchesSelector=V6;ei.matchesSelectorAndParentsTo=eke;ei.offsetXYFromParent=ake;ei.outerHeight=rke;ei.outerWidth=ike;ei.removeClassName=H6;ei.removeEvent=nke;ei.removeUserSelectStyles=fke;var ho=gc,zN=Xwe(Wd);function F6(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(F6=function(r){return r?t:e})(n)}function Xwe(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=F6(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}let Yb="";function V6(n,e){return Yb||(Yb=(0,ho.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,ho.isFunction)(n[t])})),(0,ho.isFunction)(n[Yb])?n[Yb](e):!1}function eke(n,e,t){let r=n;do{if(V6(r,e))return!0;if(r===t)return!1;r=r.parentNode}while(r);return!1}function tke(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.addEventListener?n.addEventListener(e,t,i):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function nke(n,e,t,r){if(!n)return;const i={capture:!0,...r};n.removeEventListener?n.removeEventListener(e,t,i):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function rke(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,ho.int)(t.borderTopWidth),e+=(0,ho.int)(t.borderBottomWidth),e}function ike(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,ho.int)(t.borderLeftWidth),e+=(0,ho.int)(t.borderRightWidth),e}function ske(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,ho.int)(t.paddingTop),e-=(0,ho.int)(t.paddingBottom),e}function oke(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,ho.int)(t.paddingLeft),e-=(0,ho.int)(t.paddingRight),e}function ake(n,e,t){const i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-i.left)/t,o=(n.clientY+e.scrollTop-i.top)/t;return{x:s,y:o}}function cke(n,e){const t=ET(n,e,"px");return{[(0,zN.browserPrefixToKey)("transform",zN.default)]:t}}function uke(n,e){return ET(n,e,"")}function ET(n,e,t){let{x:r,y:i}=n,s="translate(".concat(r).concat(t,",").concat(i).concat(t,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+t),a="".concat(typeof e.y=="string"?e.y:e.y+t);s="translate(".concat(o,", ").concat(a,")")+s}return s}function lke(n,e){return n.targetTouches&&(0,ho.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,ho.findInArray)(n.changedTouches,t=>e===t.identifier)}function dke(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function hke(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&j6(n.body,"react-draggable-transparent-selection")}function fke(n){if(n)try{if(n.body&&H6(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function j6(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(n.className+=" ".concat(e))}function H6(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.canDragX=yke;yc.canDragY=mke;yc.createCoreData=wke;yc.createDraggableData=kke;yc.getBoundPosition=pke;yc.getControlPosition=bke;yc.snapToGrid=gke;var Zs=gc,Ch=ei;function pke(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:r}=n.props;r=typeof r=="string"?r:Ske(r);const i=IT(n);if(typeof r=="string"){const{ownerDocument:s}=i,o=s.defaultView;let a;if(r==="parent"?a=i.parentNode:a=s.querySelector(r),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');const c=a,u=o.getComputedStyle(i),l=o.getComputedStyle(c);r={left:-i.offsetLeft+(0,Zs.int)(l.paddingLeft)+(0,Zs.int)(u.marginLeft),top:-i.offsetTop+(0,Zs.int)(l.paddingTop)+(0,Zs.int)(u.marginTop),right:(0,Ch.innerWidth)(c)-(0,Ch.outerWidth)(i)-i.offsetLeft+(0,Zs.int)(l.paddingRight)-(0,Zs.int)(u.marginRight),bottom:(0,Ch.innerHeight)(c)-(0,Ch.outerHeight)(i)-i.offsetTop+(0,Zs.int)(l.paddingBottom)-(0,Zs.int)(u.marginBottom)}}return(0,Zs.isNum)(r.right)&&(e=Math.min(e,r.right)),(0,Zs.isNum)(r.bottom)&&(t=Math.min(t,r.bottom)),(0,Zs.isNum)(r.left)&&(e=Math.max(e,r.left)),(0,Zs.isNum)(r.top)&&(t=Math.max(t,r.top)),[e,t]}function gke(n,e,t){const r=Math.round(e/n[0])*n[0],i=Math.round(t/n[1])*n[1];return[r,i]}function yke(n){return n.props.axis==="both"||n.props.axis==="x"}function mke(n){return n.props.axis==="both"||n.props.axis==="y"}function bke(n,e,t){const r=typeof e=="number"?(0,Ch.getTouch)(n,e):null;if(typeof e=="number"&&!r)return null;const i=IT(t),s=t.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Ch.offsetXYFromParent)(r||n,s,t.props.scale)}function wke(n,e,t){const r=!(0,Zs.isNum)(n.lastX),i=IT(n);return r?{node:i,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:i,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function kke(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function Ske(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function IT(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var dA={},hA={};Object.defineProperty(hA,"__esModule",{value:!0});hA.default=Ake;function Ake(){}Object.defineProperty(dA,"__esModule",{value:!0});dA.default=void 0;var oE=vke(we),ms=RT(D6),_ke=RT(Em),Yi=ei,lu=yc,aE=gc,_g=RT(hA);function RT(n){return n&&n.__esModule?n:{default:n}}function Y6(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(Y6=function(r){return r?t:e})(n)}function vke(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=Y6(e);if(t&&t.has(n))return t.get(n);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=i?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(r,s,o):r[s]=n[s]}return r.default=n,t&&t.set(n,r),r}function ns(n,e,t){return e=Eke(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Eke(n){var e=Ike(n,"string");return typeof e=="symbol"?e:String(e)}function Ike(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const Go={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let du=Go.mouse,fA=class extends oE.Component{constructor(){super(...arguments),ns(this,"dragging",!1),ns(this,"lastX",NaN),ns(this,"lastY",NaN),ns(this,"touchIdentifier",null),ns(this,"mounted",!1),ns(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:r}=t;if(this.props.disabled||!(e.target instanceof r.defaultView.Node)||this.props.handle&&!(0,Yi.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,Yi.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&e.preventDefault();const i=(0,Yi.getTouchIdentifier)(e);this.touchIdentifier=i;const s=(0,lu.getControlPosition)(e,i,this);if(s==null)return;const{x:o,y:a}=s,c=(0,lu.createCoreData)(this,o,a);(0,_g.default)("DraggableCore: handleDragStart: %j",c),(0,_g.default)("calling",this.props.onStart),!(this.props.onStart(e,c)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Yi.addUserSelectStyles)(r),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Yi.addEvent)(r,du.move,this.handleDrag),(0,Yi.addEvent)(r,du.stop,this.handleDragStop))}),ns(this,"handleDrag",e=>{const t=(0,lu.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let a=r-this.lastX,c=i-this.lastY;if([a,c]=(0,lu.snapToGrid)(this.props.grid,a,c),!a&&!c)return;r=this.lastX+a,i=this.lastY+c}const s=(0,lu.createCoreData)(this,r,i);if((0,_g.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const c=document.createEvent("MouseEvents");c.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(c)}return}this.lastX=r,this.lastY=i}),ns(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,lu.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:r,y:i}=t;if(Array.isArray(this.props.grid)){let c=r-this.lastX||0,u=i-this.lastY||0;[c,u]=(0,lu.snapToGrid)(this.props.grid,c,u),r=this.lastX+c,i=this.lastY+u}const s=(0,lu.createCoreData)(this,r,i);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Yi.removeUserSelectStyles)(a.ownerDocument),(0,_g.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,_g.default)("DraggableCore: Removing handlers"),(0,Yi.removeEvent)(a.ownerDocument,du.move,this.handleDrag),(0,Yi.removeEvent)(a.ownerDocument,du.stop,this.handleDragStop))}),ns(this,"onMouseDown",e=>(du=Go.mouse,this.handleDragStart(e))),ns(this,"onMouseUp",e=>(du=Go.mouse,this.handleDragStop(e))),ns(this,"onTouchStart",e=>(du=Go.touch,this.handleDragStart(e))),ns(this,"onTouchEnd",e=>(du=Go.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Yi.addEvent)(e,Go.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,Yi.removeEvent)(t,Go.mouse.move,this.handleDrag),(0,Yi.removeEvent)(t,Go.touch.move,this.handleDrag),(0,Yi.removeEvent)(t,Go.mouse.stop,this.handleDragStop),(0,Yi.removeEvent)(t,Go.touch.stop,this.handleDragStop),(0,Yi.removeEvent)(e,Go.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Yi.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:_ke.default.findDOMNode(this)}render(){return oE.cloneElement(oE.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};dA.default=fA;ns(fA,"displayName","DraggableCore");ns(fA,"propTypes",{allowAnyClick:ms.default.bool,children:ms.default.node.isRequired,disabled:ms.default.bool,enableUserSelectHack:ms.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ms.default.arrayOf(ms.default.number),handle:ms.default.string,cancel:ms.default.string,nodeRef:ms.default.object,onStart:ms.default.func,onDrag:ms.default.func,onStop:ms.default.func,onMouseDown:ms.default.func,scale:ms.default.number,className:aE.dontSetMe,style:aE.dontSetMe,transform:aE.dontSetMe});ns(fA,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),n.default=void 0;var e=b(we),t=l(D6),r=l(Em),i=l(Vwe),s=ei,o=yc,a=gc,c=l(dA),u=l(hA);function l(_){return _&&_.__esModule?_:{default:_}}function d(_){if(typeof WeakMap!="function")return null;var R=new WeakMap,x=new WeakMap;return(d=function(K){return K?x:R})(_)}function b(_,R){if(_&&_.__esModule)return _;if(_===null||typeof _!="object"&&typeof _!="function")return{default:_};var x=d(R);if(x&&x.has(_))return x.get(_);var K={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in _)if(M!=="default"&&Object.prototype.hasOwnProperty.call(_,M)){var Q=G?Object.getOwnPropertyDescriptor(_,M):null;Q&&(Q.get||Q.set)?Object.defineProperty(K,M,Q):K[M]=_[M]}return K.default=_,x&&x.set(_,K),K}function p(){return p=Object.assign?Object.assign.bind():function(_){for(var R=1;R<arguments.length;R++){var x=arguments[R];for(var K in x)Object.prototype.hasOwnProperty.call(x,K)&&(_[K]=x[K])}return _},p.apply(this,arguments)}function g(_,R,x){return R=y(R),R in _?Object.defineProperty(_,R,{value:x,enumerable:!0,configurable:!0,writable:!0}):_[R]=x,_}function y(_){var R=S(_,"string");return typeof R=="symbol"?R:String(R)}function S(_,R){if(typeof _!="object"||_===null)return _;var x=_[Symbol.toPrimitive];if(x!==void 0){var K=x.call(_,R||"default");if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(_)}class w extends e.Component{static getDerivedStateFromProps(R,x){let{position:K}=R,{prevPropsPosition:G}=x;return K&&(!G||K.x!==G.x||K.y!==G.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:K,prevPropsPosition:G}),{x:K.x,y:K.y,prevPropsPosition:{...K}}):null}constructor(R){super(R),g(this,"onDragStart",(x,K)=>{if((0,u.default)("Draggable: onDragStart: %j",K),this.props.onStart(x,(0,o.createDraggableData)(this,K))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(x,K)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",K);const G=(0,o.createDraggableData)(this,K),M={x:G.x,y:G.y,slackX:0,slackY:0};if(this.props.bounds){const{x:ie,y:ee}=M;M.x+=this.state.slackX,M.y+=this.state.slackY;const[X,oe]=(0,o.getBoundPosition)(this,M.x,M.y);M.x=X,M.y=oe,M.slackX=this.state.slackX+(ie-M.x),M.slackY=this.state.slackY+(ee-M.y),G.x=M.x,G.y=M.y,G.deltaX=M.x-this.state.x,G.deltaY=M.y-this.state.y}if(this.props.onDrag(x,G)===!1)return!1;this.setState(M)}),g(this,"onDragStop",(x,K)=>{if(!this.state.dragging||this.props.onStop(x,(0,o.createDraggableData)(this,K))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",K);const M={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:ie,y:ee}=this.props.position;M.x=ie,M.y=ee}this.setState(M)}),this.state={dragging:!1,dragged:!1,x:R.position?R.position.x:R.defaultPosition.x,y:R.position?R.position.y:R.defaultPosition.y,prevPropsPosition:{...R.position},slackX:0,slackY:0,isElementSVG:!1},R.position&&!(R.onDrag||R.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var R,x;return(R=(x=this.props)===null||x===void 0||(x=x.nodeRef)===null||x===void 0?void 0:x.current)!==null&&R!==void 0?R:r.default.findDOMNode(this)}render(){const{axis:R,bounds:x,children:K,defaultPosition:G,defaultClassName:M,defaultClassNameDragging:Q,defaultClassNameDragged:ie,position:ee,positionOffset:X,scale:oe,...z}=this.props;let m={},v=null;const V=!!!ee||this.state.dragging,C=ee||G,N={x:(0,o.canDragX)(this)&&V?this.state.x:C.x,y:(0,o.canDragY)(this)&&V?this.state.y:C.y};this.state.isElementSVG?v=(0,s.createSVGTransform)(N,X):m=(0,s.createCSSTransform)(N,X);const Z=(0,i.default)(K.props.className||"",M,{[Q]:this.state.dragging,[ie]:this.state.dragged});return e.createElement(c.default,p({},z,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(K),{className:Z,style:{...K.props.style,...m},transform:v}))}}n.default=w,g(w,"displayName","Draggable"),g(w,"propTypes",{...c.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),g(w,"defaultProps",{...c.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(N6);const{default:G6,DraggableCore:Rke}=N6;lA.exports=G6;lA.exports.default=G6;lA.exports.DraggableCore=Rke;var Pke=lA.exports;const xke=Uo(Pke);var J6={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(J6);var Bke=J6.exports;const eb=Uo(Bke);var Q6="r95_1bzq74l0";function Tke(n){var e=n.match(/^var\((.*)\)$/);return e?e[1]:n}function Cke(n,e){var t={};{var r=n;for(var i in r){var s=r[i];s!=null&&(t[Tke(i)]=s)}}return Object.defineProperty(t,"toString",{value:function(){return Object.keys(this).map(a=>"".concat(a,":").concat(this[a])).join(";")},writable:!1}),t}function ZR(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Z6(n,e){if(n){if(typeof n=="string")return ZR(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZR(n,e)}}function Mke(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Lke(n){var e=Mke(n,"string");return typeof e=="symbol"?e:String(e)}function Oke(n,e,t){return e=Lke(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Nke(n){if(Array.isArray(n))return ZR(n)}function $ke(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X6(n){return Nke(n)||$ke(n)||Z6(n)||qke()}var eF=/(-)?\B\$([\w\-.]+)/g;function DN(n,e,t){if(Array.isArray(t)&&t.indexOf(n)>-1)return!1;var r=!1,i=n.replace(eF,function(s){for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];var u=a[0],l=a[1],d="".concat(u?"-":"").concat(l);return t!=null&&t[d]?(r=!0,s):e!=null&&e[d]?e[d]:s});return r?!1:i}function zke(n,e){for(var t,r=[];t=eF.exec(n);)r.push.apply(r,X6(t.slice(1)));if(r.length===2){var i=r[0],s=r[1],o="".concat(i?"-":"").concat(s);if(o in e)return e[o]}return null}function UN(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=Z6(n))||e){t&&(n=t);var r=0,i=function(){};return{s:i,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){t=t.call(n)},n:function(){var c=t.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(o)throw a}}}}function KN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function cE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KN(Object(t),!0).forEach(function(r){Oke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Dke(n,e,t){if(!e&&e!==0)return"";if(typeof e=="string"||typeof e=="number")return WN(n,"".concat(e),t);var r=Object.keys(e);if(r.length<1)return"";var i=r.map(function(s){var o="".concat(e[s]);return WN(n,o,t,s)}).filter(Boolean);return i.join(" ").trim()}function WN(n,e,t,r){var i=n.dynamic,s=n.values,o=n.name,a=n.staticScale,c=r?"".concat(r).concat(e):e;if(t.has(c))return t.get(c);if(s){if(Array.isArray(a)&&a.includes(e)){var u=r?s[e].conditions[r]:s[e].default;return t.set(c,u),u}var l=zke(e,s);if(l){var d=r?l.conditions[r]:l.default;return t.set(c,d),d}}if(i){var b=r?i.conditions[r]:i.default;return t.set(c,b),b}return console.error("Rainbow Sprinkles: invalid value provided to prop '".concat(o,"'. Expected one of ").concat(Object.keys(s).map(function(p){return'"'.concat(p,'"')}).join(", "),". Received: ").concat(JSON.stringify(e),".")),""}function Uke(n,e){return function(r,i){var s=r.vars,o=r.dynamicScale,a=r.staticScale;r.values;var c=r.dynamic;if(!c)return n;if(typeof i=="string"||typeof i=="number"){var u;return e.has(i)?u=e.get(i):(u=DN("".concat(i),o,a),e.set(i,u)),u&&(n[s.default]=u),n}if(i&&Object.keys(i).length<1||i==null)return n;for(var l in i){var d=i[l];if(typeof d=="string"||typeof d=="number"){var b=void 0;if(e.has(d)?b=e.get(d):(b=DN("".concat(d),o,a),e.set(d,b)),!b)continue;n[s.conditions[l]]=b}}return n}}var Kke=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Object.assign.apply(Object,[{}].concat(X6(t.map(function(l){return l.config})))),s=Object.keys(i),o=new Set(s),a=s.filter(function(l){return"mappings"in i[l]}),c=new Map,u=function(d){var b={},p=[],g={},y={},S=cE({},d),w=!1,_=UN(a),R;try{for(_.s();!(R=_.n()).done;){var x=R.value,K=d[x];if(K!=null){var G=i[x];w=!0;var M=UN(G.mappings),Q;try{for(M.s();!(Q=M.n()).done;){var ie=Q.value;y[ie]=K,S[ie]==null&&delete S[ie]}}catch(N){M.e(N)}finally{M.f()}}}}catch(N){_.e(N)}finally{_.f()}var ee=w?cE(cE({},y),S):d;for(var X in ee){if(!o.has(X)){g[X]=d[X];continue}var oe=i[X],z=ee[X];if(!("mappings"in oe)){var m=void 0,v=void 0;if(oe){if(c.has(X)){var T=c.get(X);m=T.get("class"),v=T.get("style")}else{var V=new Map;m=new Map,v=new Map,V.set("class",m),V.set("style",v),c.set(X,V)}var C=Uke(b,v);p.push(Dke(oe,z,m)),C(oe,z)}}}return{className:p.join(" ").trim(),style:Cke(b),otherProps:g}};return Object.assign(u,{properties:o})},Wke=Kke(function(){var n={config:{bgColor:{mappings:["backgroundColor"]},backgroundColor:{vars:{default:"var(--r95_iuzg893o)"},dynamic:{default:"r95_iuzg893p"},dynamicScale:{anchor:"var(--r95-color-anchor)",anchorVisited:"var(--r95-color-anchorVisited)",borderDark:"var(--r95-color-borderDark)",borderDarkest:"var(--r95-color-borderDarkest)",borderLight:"var(--r95-color-borderLight)",borderLighter:"var(--r95-color-borderLighter)",borderLightest:"var(--r95-color-borderLightest)",canvas:"var(--r95-color-canvas)",canvasText:"var(--r95-color-canvasText)",headerBackground:"var(--r95-color-headerBackground)",headerNotActiveBackground:"var(--r95-color-headerNotActiveBackground)",headerNotActiveText:"var(--r95-color-headerNotActiveText)",headerText:"var(--r95-color-headerText)",material:"var(--r95-color-material)",materialText:"var(--r95-color-materialText)",materialTextDisabled:"var(--r95-color-materialTextDisabled)",materialTextDisabledShadow:"var(--r95-color-materialTextDisabledShadow)",materialTextInvert:"var(--r95-color-materialTextInvert)",progress:"var(--r95-color-progress)",inputBackground:"var(--r95-color-inputBackground)",inputBackgroundDisabled:"var(--r95-color-inputBackgroundDisabled)"},name:"backgroundColor"},color:{vars:{default:"var(--r95_iuzg893q)"},dynamic:{default:"r95_iuzg893r"},dynamicScale:void 0,name:"color"}}};return n.config.color.dynamicScale=n.config.backgroundColor.dynamicScale,n}(),{config:{boxShadow:{vars:{default:"var(--r95_iuzg895y)"},dynamic:{default:"r95_iuzg895z"},dynamicScale:{out:"var(--r95-shadow-out)",in:"var(--r95-shadow-in)",input:"var(--r95-shadow-input)"},name:"boxShadow"}}},{config:{zIndex:{vars:{default:"var(--r95_iuzg897c)"},dynamic:{default:"r95_iuzg897d"},dynamicScale:{modal:"var(--r95-zIndex-modal)",tooltip:"var(--r95-zIndex-tooltip)",taskbar:"var(--r95-zIndex-taskbar)"},name:"zIndex"}}},function(){var n={config:{size:{mappings:["height","width"]},h:{mappings:["height"]},w:{mappings:["width"]},minH:{mappings:["minHeight"]},minW:{mappings:["minWidth"]},m:{mappings:["margin"]},mr:{mappings:["marginRight"]},ml:{mappings:["marginLeft"]},mt:{mappings:["marginTop"]},mb:{mappings:["marginBottom"]},marginX:{mappings:["marginLeft","marginRight"]},marginY:{mappings:["marginTop","marginBottom"]},mx:{mappings:["marginLeft","marginRight"]},my:{mappings:["marginTop","marginBottom"]},p:{mappings:["padding"]},pr:{mappings:["paddingRight"]},pl:{mappings:["paddingLeft"]},pt:{mappings:["paddingTop"]},pb:{mappings:["paddingBottom"]},paddingX:{mappings:["paddingLeft","paddingRight"]},paddingY:{mappings:["paddingTop","paddingBottom"]},px:{mappings:["paddingLeft","paddingRight"]},py:{mappings:["paddingTop","paddingBottom"]},display:{vars:{default:"var(--r95_iuzg890)"},dynamic:{default:"r95_iuzg891"},dynamicScale:!0,name:"display"},overflow:{vars:{default:"var(--r95_iuzg892)"},dynamic:{default:"r95_iuzg893"},dynamicScale:!0,name:"overflow"},boxSizing:{vars:{default:"var(--r95_iuzg894)"},dynamic:{default:"r95_iuzg895"},dynamicScale:!0,name:"boxSizing"},grid:{vars:{default:"var(--r95_iuzg896)"},dynamic:{default:"r95_iuzg897"},dynamicScale:!0,name:"grid"},gridArea:{vars:{default:"var(--r95_iuzg898)"},dynamic:{default:"r95_iuzg899"},dynamicScale:!0,name:"gridArea"},gridAutoColumns:{vars:{default:"var(--r95_iuzg89a)"},dynamic:{default:"r95_iuzg89b"},dynamicScale:!0,name:"gridAutoColumns"},gridAutoFlow:{vars:{default:"var(--r95_iuzg89c)"},dynamic:{default:"r95_iuzg89d"},dynamicScale:!0,name:"gridAutoFlow"},gridAutoRows:{vars:{default:"var(--r95_iuzg89e)"},dynamic:{default:"r95_iuzg89f"},dynamicScale:!0,name:"gridAutoRows"},gridColumn:{vars:{default:"var(--r95_iuzg89g)"},dynamic:{default:"r95_iuzg89h"},dynamicScale:!0,name:"gridColumn"},gridColumnEnd:{vars:{default:"var(--r95_iuzg89i)"},dynamic:{default:"r95_iuzg89j"},dynamicScale:!0,name:"gridColumnEnd"},gridColumnStart:{vars:{default:"var(--r95_iuzg89k)"},dynamic:{default:"r95_iuzg89l"},dynamicScale:!0,name:"gridColumnStart"},gridRow:{vars:{default:"var(--r95_iuzg89m)"},dynamic:{default:"r95_iuzg89n"},dynamicScale:!0,name:"gridRow"},gridRowEnd:{vars:{default:"var(--r95_iuzg89o)"},dynamic:{default:"r95_iuzg89p"},dynamicScale:!0,name:"gridRowEnd"},gridRowStart:{vars:{default:"var(--r95_iuzg89q)"},dynamic:{default:"r95_iuzg89r"},dynamicScale:!0,name:"gridRowStart"},gridTemplate:{vars:{default:"var(--r95_iuzg89s)"},dynamic:{default:"r95_iuzg89t"},dynamicScale:!0,name:"gridTemplate"},gridTemplateAreas:{vars:{default:"var(--r95_iuzg89u)"},dynamic:{default:"r95_iuzg89v"},dynamicScale:!0,name:"gridTemplateAreas"},gridTemplateColumns:{vars:{default:"var(--r95_iuzg89w)"},dynamic:{default:"r95_iuzg89x"},dynamicScale:!0,name:"gridTemplateColumns"},gridTemplateRows:{vars:{default:"var(--r95_iuzg89y)"},dynamic:{default:"r95_iuzg89z"},dynamicScale:!0,name:"gridTemplateRows"},flex:{vars:{default:"var(--r95_iuzg8910)"},dynamic:{default:"r95_iuzg8911"},dynamicScale:!0,name:"flex"},flexBasis:{vars:{default:"var(--r95_iuzg8912)"},dynamic:{default:"r95_iuzg8913"},dynamicScale:!0,name:"flexBasis"},flexDirection:{vars:{default:"var(--r95_iuzg8914)"},dynamic:{default:"r95_iuzg8915"},dynamicScale:!0,name:"flexDirection"},flexFlow:{vars:{default:"var(--r95_iuzg8916)"},dynamic:{default:"r95_iuzg8917"},dynamicScale:!0,name:"flexFlow"},flexGrow:{vars:{default:"var(--r95_iuzg8918)"},dynamic:{default:"r95_iuzg8919"},dynamicScale:!0,name:"flexGrow"},flexShrink:{vars:{default:"var(--r95_iuzg891a)"},dynamic:{default:"r95_iuzg891b"},dynamicScale:!0,name:"flexShrink"},flexWrap:{vars:{default:"var(--r95_iuzg891c)"},dynamic:{default:"r95_iuzg891d"},dynamicScale:!0,name:"flexWrap"},justifyContent:{vars:{default:"var(--r95_iuzg891e)"},dynamic:{default:"r95_iuzg891f"},dynamicScale:!0,name:"justifyContent"},justifyItems:{vars:{default:"var(--r95_iuzg891g)"},dynamic:{default:"r95_iuzg891h"},dynamicScale:!0,name:"justifyItems"},justifySelf:{vars:{default:"var(--r95_iuzg891i)"},dynamic:{default:"r95_iuzg891j"},dynamicScale:!0,name:"justifySelf"},alignContent:{vars:{default:"var(--r95_iuzg891k)"},dynamic:{default:"r95_iuzg891l"},dynamicScale:!0,name:"alignContent"},alignItems:{vars:{default:"var(--r95_iuzg891m)"},dynamic:{default:"r95_iuzg891n"},dynamicScale:!0,name:"alignItems"},alignSelf:{vars:{default:"var(--r95_iuzg891o)"},dynamic:{default:"r95_iuzg891p"},dynamicScale:!0,name:"alignSelf"},gap:{vars:{default:"var(--r95_iuzg891q)"},dynamic:{default:"r95_iuzg891r"},dynamicScale:{0:"var(--r95-space-0)",1:"var(--r95-space-1)",2:"var(--r95-space-2)",3:"var(--r95-space-3)",4:"var(--r95-space-4)",5:"var(--r95-space-5)",6:"var(--r95-space-6)",7:"var(--r95-space-7)",8:"var(--r95-space-8)",9:"var(--r95-space-9)",10:"var(--r95-space-10)",11:"var(--r95-space-11)",12:"var(--r95-space-12)",13:"var(--r95-space-13)",14:"var(--r95-space-14)",15:"var(--r95-space-15)",16:"var(--r95-space-16)",17:"var(--r95-space-17)",18:"var(--r95-space-18)",19:"var(--r95-space-19)",20:"var(--r95-space-20)"},name:"gap"},width:{vars:{default:"var(--r95_iuzg891s)"},dynamic:{default:"r95_iuzg891t"},dynamicScale:void 0,name:"width"},maxWidth:{vars:{default:"var(--r95_iuzg891u)"},dynamic:{default:"r95_iuzg891v"},dynamicScale:void 0,name:"maxWidth"},minWidth:{vars:{default:"var(--r95_iuzg891w)"},dynamic:{default:"r95_iuzg891x"},dynamicScale:void 0,name:"minWidth"},height:{vars:{default:"var(--r95_iuzg891y)"},dynamic:{default:"r95_iuzg891z"},dynamicScale:void 0,name:"height"},maxHeight:{vars:{default:"var(--r95_iuzg8920)"},dynamic:{default:"r95_iuzg8921"},dynamicScale:void 0,name:"maxHeight"},minHeight:{vars:{default:"var(--r95_iuzg8922)"},dynamic:{default:"r95_iuzg8923"},dynamicScale:void 0,name:"minHeight"},margin:{vars:{default:"var(--r95_iuzg8924)"},dynamic:{default:"r95_iuzg8925"},dynamicScale:void 0,name:"margin"},marginBlock:{vars:{default:"var(--r95_iuzg8926)"},dynamic:{default:"r95_iuzg8927"},dynamicScale:void 0,name:"marginBlock"},marginBlockEnd:{vars:{default:"var(--r95_iuzg8928)"},dynamic:{default:"r95_iuzg8929"},dynamicScale:void 0,name:"marginBlockEnd"},marginBlockStart:{vars:{default:"var(--r95_iuzg892a)"},dynamic:{default:"r95_iuzg892b"},dynamicScale:void 0,name:"marginBlockStart"},marginBottom:{vars:{default:"var(--r95_iuzg892c)"},dynamic:{default:"r95_iuzg892d"},dynamicScale:void 0,name:"marginBottom"},marginInline:{vars:{default:"var(--r95_iuzg892e)"},dynamic:{default:"r95_iuzg892f"},dynamicScale:void 0,name:"marginInline"},marginInlineEnd:{vars:{default:"var(--r95_iuzg892g)"},dynamic:{default:"r95_iuzg892h"},dynamicScale:void 0,name:"marginInlineEnd"},marginInlineStart:{vars:{default:"var(--r95_iuzg892i)"},dynamic:{default:"r95_iuzg892j"},dynamicScale:void 0,name:"marginInlineStart"},marginLeft:{vars:{default:"var(--r95_iuzg892k)"},dynamic:{default:"r95_iuzg892l"},dynamicScale:void 0,name:"marginLeft"},marginRight:{vars:{default:"var(--r95_iuzg892m)"},dynamic:{default:"r95_iuzg892n"},dynamicScale:void 0,name:"marginRight"},marginTop:{vars:{default:"var(--r95_iuzg892o)"},dynamic:{default:"r95_iuzg892p"},dynamicScale:void 0,name:"marginTop"},padding:{vars:{default:"var(--r95_iuzg892q)"},dynamic:{default:"r95_iuzg892r"},dynamicScale:void 0,name:"padding"},paddingBlock:{vars:{default:"var(--r95_iuzg892s)"},dynamic:{default:"r95_iuzg892t"},dynamicScale:void 0,name:"paddingBlock"},paddingBlockEnd:{vars:{default:"var(--r95_iuzg892u)"},dynamic:{default:"r95_iuzg892v"},dynamicScale:void 0,name:"paddingBlockEnd"},paddingBlockStart:{vars:{default:"var(--r95_iuzg892w)"},dynamic:{default:"r95_iuzg892x"},dynamicScale:void 0,name:"paddingBlockStart"},paddingBottom:{vars:{default:"var(--r95_iuzg892y)"},dynamic:{default:"r95_iuzg892z"},dynamicScale:void 0,name:"paddingBottom"},paddingInline:{vars:{default:"var(--r95_iuzg8930)"},dynamic:{default:"r95_iuzg8931"},dynamicScale:void 0,name:"paddingInline"},paddingInlineEnd:{vars:{default:"var(--r95_iuzg8932)"},dynamic:{default:"r95_iuzg8933"},dynamicScale:void 0,name:"paddingInlineEnd"},paddingInlineStart:{vars:{default:"var(--r95_iuzg8934)"},dynamic:{default:"r95_iuzg8935"},dynamicScale:void 0,name:"paddingInlineStart"},paddingLeft:{vars:{default:"var(--r95_iuzg8936)"},dynamic:{default:"r95_iuzg8937"},dynamicScale:void 0,name:"paddingLeft"},paddingRight:{vars:{default:"var(--r95_iuzg8938)"},dynamic:{default:"r95_iuzg8939"},dynamicScale:void 0,name:"paddingRight"},paddingTop:{vars:{default:"var(--r95_iuzg893a)"},dynamic:{default:"r95_iuzg893b"},dynamicScale:void 0,name:"paddingTop"}}};return n.config.width.dynamicScale=n.config.gap.dynamicScale,n.config.maxWidth.dynamicScale=n.config.gap.dynamicScale,n.config.minWidth.dynamicScale=n.config.gap.dynamicScale,n.config.height.dynamicScale=n.config.gap.dynamicScale,n.config.maxHeight.dynamicScale=n.config.gap.dynamicScale,n.config.minHeight.dynamicScale=n.config.gap.dynamicScale,n.config.margin.dynamicScale=n.config.gap.dynamicScale,n.config.marginBlock.dynamicScale=n.config.gap.dynamicScale,n.config.marginBlockEnd.dynamicScale=n.config.gap.dynamicScale,n.config.marginBlockStart.dynamicScale=n.config.gap.dynamicScale,n.config.marginBottom.dynamicScale=n.config.gap.dynamicScale,n.config.marginInline.dynamicScale=n.config.gap.dynamicScale,n.config.marginInlineEnd.dynamicScale=n.config.gap.dynamicScale,n.config.marginInlineStart.dynamicScale=n.config.gap.dynamicScale,n.config.marginLeft.dynamicScale=n.config.gap.dynamicScale,n.config.marginRight.dynamicScale=n.config.gap.dynamicScale,n.config.marginTop.dynamicScale=n.config.gap.dynamicScale,n.config.padding.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBlock.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBlockEnd.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBlockStart.dynamicScale=n.config.gap.dynamicScale,n.config.paddingBottom.dynamicScale=n.config.gap.dynamicScale,n.config.paddingInline.dynamicScale=n.config.gap.dynamicScale,n.config.paddingInlineEnd.dynamicScale=n.config.gap.dynamicScale,n.config.paddingInlineStart.dynamicScale=n.config.gap.dynamicScale,n.config.paddingLeft.dynamicScale=n.config.gap.dynamicScale,n.config.paddingRight.dynamicScale=n.config.gap.dynamicScale,n.config.paddingTop.dynamicScale=n.config.gap.dynamicScale,n}(),{config:{position:{vars:{default:"var(--r95_iuzg893c)"},dynamic:{default:"r95_iuzg893d"},dynamicScale:!0,name:"position"},top:{vars:{default:"var(--r95_iuzg893e)"},dynamic:{default:"r95_iuzg893f"},dynamicScale:!0,name:"top"},right:{vars:{default:"var(--r95_iuzg893g)"},dynamic:{default:"r95_iuzg893h"},dynamicScale:!0,name:"right"},bottom:{vars:{default:"var(--r95_iuzg893i)"},dynamic:{default:"r95_iuzg893j"},dynamicScale:!0,name:"bottom"},left:{vars:{default:"var(--r95_iuzg893k)"},dynamic:{default:"r95_iuzg893l"},dynamicScale:!0,name:"left"},pointerEvents:{vars:{default:"var(--r95_iuzg893m)"},dynamic:{default:"r95_iuzg893n"},dynamicScale:!0,name:"pointerEvents"}}},{config:{bg:{mappings:["background"]},background:{vars:{default:"var(--r95_iuzg893s)"},dynamic:{default:"r95_iuzg893t"},dynamicScale:!0,name:"background"},backgroundAttachment:{vars:{default:"var(--r95_iuzg893u)"},dynamic:{default:"r95_iuzg893v"},dynamicScale:!0,name:"backgroundAttachment"},backgroundImage:{vars:{default:"var(--r95_iuzg893w)"},dynamic:{default:"r95_iuzg893x"},dynamicScale:!0,name:"backgroundImage"},backgroundPosition:{vars:{default:"var(--r95_iuzg893y)"},dynamic:{default:"r95_iuzg893z"},dynamicScale:!0,name:"backgroundPosition"},backgroundRepeat:{vars:{default:"var(--r95_iuzg8940)"},dynamic:{default:"r95_iuzg8941"},dynamicScale:!0,name:"backgroundRepeat"},backgroundSize:{vars:{default:"var(--r95_iuzg8942)"},dynamic:{default:"r95_iuzg8943"},dynamicScale:!0,name:"backgroundSize"},backgroundOrigin:{vars:{default:"var(--r95_iuzg8944)"},dynamic:{default:"r95_iuzg8945"},dynamicScale:!0,name:"backgroundOrigin"},backgroundClip:{vars:{default:"var(--r95_iuzg8946)"},dynamic:{default:"r95_iuzg8947"},dynamicScale:!0,name:"backgroundClip"}}},function(){var n={config:{border:{vars:{default:"var(--r95_iuzg8948)"},dynamic:{default:"r95_iuzg8949"},dynamicScale:!0,name:"border"},borderStyle:{vars:{default:"var(--r95_iuzg894a)"},dynamic:{default:"r95_iuzg894b"},dynamicScale:!0,name:"borderStyle"},borderWidth:{vars:{default:"var(--r95_iuzg894c)"},dynamic:{default:"r95_iuzg894d"},dynamicScale:!0,name:"borderWidth"},borderColor:{vars:{default:"var(--r95_iuzg894e)"},dynamic:{default:"r95_iuzg894f"},dynamicScale:{anchor:"var(--r95-color-anchor)",anchorVisited:"var(--r95-color-anchorVisited)",borderDark:"var(--r95-color-borderDark)",borderDarkest:"var(--r95-color-borderDarkest)",borderLight:"var(--r95-color-borderLight)",borderLighter:"var(--r95-color-borderLighter)",borderLightest:"var(--r95-color-borderLightest)",canvas:"var(--r95-color-canvas)",canvasText:"var(--r95-color-canvasText)",headerBackground:"var(--r95-color-headerBackground)",headerNotActiveBackground:"var(--r95-color-headerNotActiveBackground)",headerNotActiveText:"var(--r95-color-headerNotActiveText)",headerText:"var(--r95-color-headerText)",material:"var(--r95-color-material)",materialText:"var(--r95-color-materialText)",materialTextDisabled:"var(--r95-color-materialTextDisabled)",materialTextDisabledShadow:"var(--r95-color-materialTextDisabledShadow)",materialTextInvert:"var(--r95-color-materialTextInvert)",progress:"var(--r95-color-progress)",inputBackground:"var(--r95-color-inputBackground)",inputBackgroundDisabled:"var(--r95-color-inputBackgroundDisabled)"},name:"borderColor"},borderTop:{vars:{default:"var(--r95_iuzg894g)"},dynamic:{default:"r95_iuzg894h"},dynamicScale:!0,name:"borderTop"},borderTopColor:{vars:{default:"var(--r95_iuzg894i)"},dynamic:{default:"r95_iuzg894j"},dynamicScale:void 0,name:"borderTopColor"},borderTopStyle:{vars:{default:"var(--r95_iuzg894k)"},dynamic:{default:"r95_iuzg894l"},dynamicScale:!0,name:"borderTopStyle"},borderTopWidth:{vars:{default:"var(--r95_iuzg894m)"},dynamic:{default:"r95_iuzg894n"},dynamicScale:!0,name:"borderTopWidth"},borderRight:{vars:{default:"var(--r95_iuzg894o)"},dynamic:{default:"r95_iuzg894p"},dynamicScale:!0,name:"borderRight"},borderRightColor:{vars:{default:"var(--r95_iuzg894q)"},dynamic:{default:"r95_iuzg894r"},dynamicScale:void 0,name:"borderRightColor"},borderRightStyle:{vars:{default:"var(--r95_iuzg894s)"},dynamic:{default:"r95_iuzg894t"},dynamicScale:!0,name:"borderRightStyle"},borderRightWidth:{vars:{default:"var(--r95_iuzg894u)"},dynamic:{default:"r95_iuzg894v"},dynamicScale:!0,name:"borderRightWidth"},borderBottom:{vars:{default:"var(--r95_iuzg894w)"},dynamic:{default:"r95_iuzg894x"},dynamicScale:!0,name:"borderBottom"},borderBottomColor:{vars:{default:"var(--r95_iuzg894y)"},dynamic:{default:"r95_iuzg894z"},dynamicScale:void 0,name:"borderBottomColor"},borderBottomStyle:{vars:{default:"var(--r95_iuzg8950)"},dynamic:{default:"r95_iuzg8951"},dynamicScale:!0,name:"borderBottomStyle"},borderBottomWidth:{vars:{default:"var(--r95_iuzg8952)"},dynamic:{default:"r95_iuzg8953"},dynamicScale:!0,name:"borderBottomWidth"},borderLeft:{vars:{default:"var(--r95_iuzg8954)"},dynamic:{default:"r95_iuzg8955"},dynamicScale:!0,name:"borderLeft"},borderLeftColor:{vars:{default:"var(--r95_iuzg8956)"},dynamic:{default:"r95_iuzg8957"},dynamicScale:void 0,name:"borderLeftColor"},borderLeftStyle:{vars:{default:"var(--r95_iuzg8958)"},dynamic:{default:"r95_iuzg8959"},dynamicScale:!0,name:"borderLeftStyle"},borderLeftWidth:{vars:{default:"var(--r95_iuzg895a)"},dynamic:{default:"r95_iuzg895b"},dynamicScale:!0,name:"borderLeftWidth"}}};return n.config.borderTopColor.dynamicScale=n.config.borderColor.dynamicScale,n.config.borderRightColor.dynamicScale=n.config.borderColor.dynamicScale,n.config.borderBottomColor.dynamicScale=n.config.borderColor.dynamicScale,n.config.borderLeftColor.dynamicScale=n.config.borderColor.dynamicScale,n}(),{config:{borderBottomLeftRadius:{vars:{default:"var(--r95_iuzg895c)"},dynamic:{default:"r95_iuzg895d"},dynamicScale:!0,name:"borderBottomLeftRadius"},borderBottomRightRadius:{vars:{default:"var(--r95_iuzg895e)"},dynamic:{default:"r95_iuzg895f"},dynamicScale:!0,name:"borderBottomRightRadius"},borderImage:{vars:{default:"var(--r95_iuzg895g)"},dynamic:{default:"r95_iuzg895h"},dynamicScale:!0,name:"borderImage"},borderImageOutset:{vars:{default:"var(--r95_iuzg895i)"},dynamic:{default:"r95_iuzg895j"},dynamicScale:!0,name:"borderImageOutset"},borderImageRepeat:{vars:{default:"var(--r95_iuzg895k)"},dynamic:{default:"r95_iuzg895l"},dynamicScale:!0,name:"borderImageRepeat"},borderImageSlice:{vars:{default:"var(--r95_iuzg895m)"},dynamic:{default:"r95_iuzg895n"},dynamicScale:!0,name:"borderImageSlice"},borderImageSource:{vars:{default:"var(--r95_iuzg895o)"},dynamic:{default:"r95_iuzg895p"},dynamicScale:!0,name:"borderImageSource"},borderImageWidth:{vars:{default:"var(--r95_iuzg895q)"},dynamic:{default:"r95_iuzg895r"},dynamicScale:!0,name:"borderImageWidth"},borderRadius:{vars:{default:"var(--r95_iuzg895s)"},dynamic:{default:"r95_iuzg895t"},dynamicScale:!0,name:"borderRadius"},borderTopLeftRadius:{vars:{default:"var(--r95_iuzg895u)"},dynamic:{default:"r95_iuzg895v"},dynamicScale:!0,name:"borderTopLeftRadius"},borderTopRightRadius:{vars:{default:"var(--r95_iuzg895w)"},dynamic:{default:"r95_iuzg895x"},dynamicScale:!0,name:"borderTopRightRadius"}}},{config:{outline:{vars:{default:"var(--r95_iuzg8960)"},dynamic:{default:"r95_iuzg8961"},dynamicScale:!0,name:"outline"},outlineColor:{vars:{default:"var(--r95_iuzg8962)"},dynamic:{default:"r95_iuzg8963"},dynamicScale:!0,name:"outlineColor"},outlineStyle:{vars:{default:"var(--r95_iuzg8964)"},dynamic:{default:"r95_iuzg8965"},dynamicScale:!0,name:"outlineStyle"},outlineWidth:{vars:{default:"var(--r95_iuzg8966)"},dynamic:{default:"r95_iuzg8967"},dynamicScale:!0,name:"outlineWidth"}}},{config:{font:{vars:{default:"var(--r95_iuzg8968)"},dynamic:{default:"r95_iuzg8969"},dynamicScale:!0,name:"font"},fontFamily:{vars:{default:"var(--r95_iuzg896a)"},dynamic:{default:"r95_iuzg896b"},dynamicScale:!0,name:"fontFamily"},fontStyle:{vars:{default:"var(--r95_iuzg896c)"},dynamic:{default:"r95_iuzg896d"},dynamicScale:!0,name:"fontStyle"},fontSize:{vars:{default:"var(--r95_iuzg896e)"},dynamic:{default:"r95_iuzg896f"},dynamicScale:!0,name:"fontSize"},fontWeight:{vars:{default:"var(--r95_iuzg896g)"},dynamic:{default:"r95_iuzg896h"},dynamicScale:!0,name:"fontWeight"},fontVariant:{vars:{default:"var(--r95_iuzg896i)"},dynamic:{default:"r95_iuzg896j"},dynamicScale:!0,name:"fontVariant"},fontSizeAdjust:{vars:{default:"var(--r95_iuzg896k)"},dynamic:{default:"r95_iuzg896l"},dynamicScale:!0,name:"fontSizeAdjust"}}},{config:{color:{vars:{default:"var(--r95_iuzg896m)"},dynamic:{default:"r95_iuzg896n"},dynamicScale:{anchor:"var(--r95-color-anchor)",anchorVisited:"var(--r95-color-anchorVisited)",borderDark:"var(--r95-color-borderDark)",borderDarkest:"var(--r95-color-borderDarkest)",borderLight:"var(--r95-color-borderLight)",borderLighter:"var(--r95-color-borderLighter)",borderLightest:"var(--r95-color-borderLightest)",canvas:"var(--r95-color-canvas)",canvasText:"var(--r95-color-canvasText)",headerBackground:"var(--r95-color-headerBackground)",headerNotActiveBackground:"var(--r95-color-headerNotActiveBackground)",headerNotActiveText:"var(--r95-color-headerNotActiveText)",headerText:"var(--r95-color-headerText)",material:"var(--r95-color-material)",materialText:"var(--r95-color-materialText)",materialTextDisabled:"var(--r95-color-materialTextDisabled)",materialTextDisabledShadow:"var(--r95-color-materialTextDisabledShadow)",materialTextInvert:"var(--r95-color-materialTextInvert)",progress:"var(--r95-color-progress)",inputBackground:"var(--r95-color-inputBackground)",inputBackgroundDisabled:"var(--r95-color-inputBackgroundDisabled)"},name:"color"},direction:{vars:{default:"var(--r95_iuzg896o)"},dynamic:{default:"r95_iuzg896p"},dynamicScale:!0,name:"direction"},letterSpacing:{vars:{default:"var(--r95_iuzg896q)"},dynamic:{default:"r95_iuzg896r"},dynamicScale:!0,name:"letterSpacing"},lineHeight:{vars:{default:"var(--r95_iuzg896s)"},dynamic:{default:"r95_iuzg896t"},dynamicScale:!0,name:"lineHeight"},textAlign:{vars:{default:"var(--r95_iuzg896u)"},dynamic:{default:"r95_iuzg896v"},dynamicScale:!0,name:"textAlign"},textDecoration:{vars:{default:"var(--r95_iuzg896w)"},dynamic:{default:"r95_iuzg896x"},dynamicScale:!0,name:"textDecoration"},textIndent:{vars:{default:"var(--r95_iuzg896y)"},dynamic:{default:"r95_iuzg896z"},dynamicScale:!0,name:"textIndent"},textShadow:{vars:{default:"var(--r95_iuzg8970)"},dynamic:{default:"r95_iuzg8971"},dynamicScale:!0,name:"textShadow"},textTransform:{vars:{default:"var(--r95_iuzg8972)"},dynamic:{default:"r95_iuzg8973"},dynamicScale:!0,name:"textTransform"},verticalAlign:{vars:{default:"var(--r95_iuzg8974)"},dynamic:{default:"r95_iuzg8975"},dynamicScale:!0,name:"verticalAlign"},whiteSpace:{vars:{default:"var(--r95_iuzg8976)"},dynamic:{default:"r95_iuzg8977"},dynamicScale:!0,name:"whiteSpace"},wordSpacing:{vars:{default:"var(--r95_iuzg8978)"},dynamic:{default:"r95_iuzg8979"},dynamicScale:!0,name:"wordSpacing"},wordBreak:{vars:{default:"var(--r95_iuzg897a)"},dynamic:{default:"r95_iuzg897b"},dynamicScale:!0,name:"wordBreak"}}});const tF=we.forwardRef,Fke=(n,e)=>{const{as:t,children:r,...i}=n,s=t||"div",{className:o,style:a,otherProps:c}=Wke(i);return Re.createElement(s,{...c,style:{...a,...c.style},className:eb(o,c.className),ref:e},r)},kd=tF(Fke),XR=tF((n,e)=>Re.createElement(kd,{as:"button",...n,className:eb(Q6,n.className),ref:e}));function Vke(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jke(n){var e=Vke(n,"string");return typeof e=="symbol"?e:String(e)}function Hke(n,e,t){return e=jke(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FN(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function VN(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FN(Object(t),!0).forEach(function(r){Hke(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FN(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jN(n,e){var t={};for(var r in n)t[r]=e(n[r],r);return t}var Yke=(n,e,t)=>{for(var r of Object.keys(n)){var i;if(n[r]!==((i=e[r])!==null&&i!==void 0?i:t[r]))return!1}return!0},pA=n=>{var e=t=>{var r=n.defaultClassName,i=VN(VN({},n.defaultVariants),t);for(var s in i){var o,a=(o=i[s])!==null&&o!==void 0?o:n.defaultVariants[s];if(a!=null){var c=a;typeof c=="boolean"&&(c=c===!0?"true":"false");var u=n.variantClassNames[s][c];u&&(r+=" "+u)}}for(var[l,d]of n.compoundVariants)Yke(l,i,n.defaultVariants)&&(r+=" "+d);return r};return e.variants=()=>Object.keys(n.variantClassNames),e.classNames={get base(){return n.defaultClassName.split(" ")[0]},get variants(){return jN(n.variantClassNames,t=>jN(t,r=>r.split(" ")[0]))}},e},Gke="r95_1kpzw681",Jke="r95_1kpzw680",Qke="r95_1kpzw685",Zke=pA({defaultClassName:"r95_1kpzw682",variantClassNames:{active:{true:"r95_1kpzw683",false:"r95_1kpzw684"}},defaultVariants:{},compoundVariants:[]});const Xke=we.forwardRef((n,e)=>Re.createElement(kd,{...n,ref:e,className:eb(Jke,n.className)})),eSe=we.forwardRef((n,e)=>Re.createElement(kd,{...n,ref:e,as:"button",className:eb(Q6,Gke,n.className)})),tSe=({children:n,title:e="UNKNOWN.EXE",icon:t,active:r=!0,...i},s)=>Re.createElement(kd,{...i,className:eb(Zke({active:r}),i.className),ref:s},t&&t,Re.createElement("div",{className:Qke},e),n),Gb=Object.assign(we.forwardRef(tSe),{Option:eSe,OptionsBox:Xke}),nSe=we.createContext({windows:{},addWindows:()=>{},removeWindow:()=>{},updateWindow:()=>{},setActiveWindow:()=>{},activeWindow:""});var rSe="r95_1txblt62",iSe="r95_1txblt63",sSe=pA({defaultClassName:"r95_1txblt65",variantClassNames:{active:{true:"r95_1txblt66"}},defaultVariants:{},compoundVariants:[]}),oSe="r95_1txblt64",aSe=pA({defaultClassName:"r95_1txblt60",variantClassNames:{active:{true:"r95_1txblt61"}},defaultVariants:{},compoundVariants:[]});const cSe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nOCcgaGVpZ2h0PSc3JyBmaWxsPSdjdXJyZW50Q29sb3InIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00wIDBoMnYxaDF2MWgyVjFoMVYwaDJ2MUg3djFINnYxSDV2MWgxdjFoMXYxaDF2MUg2VjZINVY1SDN2MUgydjFIMFY2aDFWNWgxVjRoMVYzSDJWMkgxVjFIMFYweicgLz48L3N2Zz4=",uSe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nNicgaGVpZ2h0PSc5JyBmaWxsPSdjdXJyZW50Q29sb3InIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTTAgMWgydjJIMHpNMSAwaDR2MUgxek00IDFoMnYySDR6TTMgM2gydjFIM3pNMiA0aDJ2Mkgyek0yIDdoMnYySDJ6Jy8+PC9zdmc+",lSe=({hasWindowButton:n=!0,buttons:e=[],buttonsAlignment:t="flex-end",children:r,onClose:i=()=>{},onHelp:s,defaultPosition:o={x:0,y:0},positionOffset:a,height:c,icon:u,menu:l=[],title:d,width:b,...p},g)=>{const{addWindows:y,removeWindow:S,updateWindow:w,setActiveWindow:_,activeWindow:R}=we.useContext(nSe),[x,K]=we.useState(null),[G,M]=we.useState(""),[Q,ie]=we.useState(!1);return we.useEffect(()=>{if(x)w(x,{icon:u,title:d,hasButton:n});else{const ee=y({icon:u,title:d,hasButton:n});ee&&(K(ee),_(ee))}},[x,u,d,n]),we.useEffect(()=>()=>{x&&S(x)},[x]),we.useEffect(()=>ie(x===R),[x,R]),Re.createElement(xke,{handle:".draggable",defaultPosition:o,positionOffset:a,onMouseDown:x?()=>_(x):void 0},Re.createElement(kd,{...p,width:b,height:c,className:aSe({active:Q}),ref:g},Re.createElement(Gb,{active:Q,icon:u,title:d,className:"draggable"},Re.createElement(Gb.OptionsBox,null,s&&Re.createElement(Gb.Option,null,Re.createElement("img",{src:uSe,alt:"help",onClick:s})),Re.createElement(Gb.Option,{onClick:i},Re.createElement("img",{src:cSe,alt:"close"})))),l&&l.length>0&&Re.createElement("ul",{className:oSe},l.map(({name:ee,list:X})=>{const oe=G===ee;return Re.createElement("li",{key:ee,onMouseDown:()=>M(ee),className:sSe({active:oe})},ee,oe&&X)})),Re.createElement("div",{className:iSe,onClick:()=>M("")},r),e&&e.length>0&&Re.createElement(kd,{className:rSe,justifyContent:t},e.map(ee=>Re.createElement(XR,{key:ee.value,onClick:ee.onClick,value:ee.value},ee.value)))))},jl=we.forwardRef(lSe);jl.displayName="Modal";jl.defaultProps={icon:void 0,title:"Modal",children:null,defaultPosition:{x:0,y:0},buttons:[],menu:[],width:void 0,height:void 0,onClose:()=>{}};var dSe=["variant"];function hSe(n,e){if(n==null)return{};var t=fSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function fSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Hw(){return Hw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hw.apply(this,arguments)}var pSe=function(e){return Re.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M13 0h3m-4 1h1m2 0h2m-6 1h1m4 0h2m-7 1h1m5 0h1m-8 1h1m6 0h2m-9 1h1m7 0h1M9 6h1m8 0h2M9 7h1m9 0h1M8 8h1m10 0h2M8 9h1m4 0h3m4 0h1M7 10h1m4 0h5m3 0h2M7 11h1m4 0h5m4 0h1M6 12h1m5 0h5m4 0h2M6 13h1m5 0h5m5 0h1M5 14h1m6 0h5m5 0h2M5 15h1m7 0h3m7 0h1M4 16h1m8 0h3m7 0h2M4 17h1m8 0h3m8 0h1M3 18h1m10 0h1m9 0h2M3 19h1m10 0h1m10 0h1M2 20h1m11 0h1m10 0h2M2 21h1m23 0h1M1 22h1m12 0h2m10 0h2M1 23h1m11 0h4m10 0h1M0 24h1m12 0h4m10 0h2M0 25h1m13 0h2m12 0h1M0 26h1m27 0h1M0 27h1m26 0h2M1 28h1m24 0h2M2 29h25"}),Re.createElement("path",{stroke:"#fff",d:"M13 1h2m-3 1h4m-4 1h5m-6 1h6m-6 1h7m-8 1h8m-8 1h9M9 8h10M9 9h4m3 0h4M8 10h4m5 0h3M8 11h4m5 0h4M7 12h5m5 0h4M7 13h5m5 0h5M6 14h6m5 0h5M6 15h7m3 0h7M5 16h8m3 0h7M5 17h8m3 0h8M4 18h10m1 0h9M4 19h10m1 0h10M3 20h11m1 0h10M3 21h23M2 22h12m2 0h10M2 23h11m4 0h10M1 24h12m4 0h10M1 25h13m2 0h12M1 26h27M1 27h26M2 28h24"}))},gSe=function(e){return Re.createElement("svg",Hw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"olive",d:"M13 0h3m-4 1h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1M9 6h1M9 7h1M8 8h1M8 9h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m6 0h1m3 0h1M4 16h1m-1 1h1m-2 1h1m9 0h1m1 0h1M3 19h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1m-1 1h1m-1 1h1m-1 1h1m0 1h1m0 1h1"}),Re.createElement("path",{stroke:"#ff0",d:"M13 1h2m-3 1h4m-4 1h5m-6 1h6m-6 1h7m-8 1h8m-8 1h9M9 8h10M9 9h3m5 0h3M8 10h4m5 0h3M8 11h4m5 0h4M7 12h5m5 0h4M7 13h5m5 0h5M6 14h6m5 0h5M6 15h6m5 0h6M5 16h7m5 0h6M5 17h8m3 0h8M4 18h9m3 0h8M4 19h9m3 0h9M3 20h11m1 0h10M3 21h23M2 22h11m4 0h9M2 23h11m4 0h10M1 24h12m4 0h10M1 25h12m4 0h11M1 26h27M1 27h26M2 28h24"}),Re.createElement("path",{stroke:"silver",d:"M15 1h1m0 1h1m0 2h1m0 2h1m0 2h1m-8 1h1m3 0h1m3 1h1m0 2h1m0 2h1m-11 2h1m3 0h1m6 0h1m0 2h1m-12 1h1m1 0h1m9 1h1m-13 2h1m2 0h1m9 0h1m0 2h1m-15 1h1m2 0h1m10 2h1m-2 1h1"}),Re.createElement("path",{stroke:"#000",d:"M16 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m0 1h1m-8 1h3m4 0h1m-9 1h5m4 0h1m-10 1h5m4 0h1m-10 1h5m5 0h1m-11 1h5m5 0h1m-11 1h5m6 0h1m-11 1h3m7 0h1m-11 1h3m8 0h1m-12 1h3m8 0h1m-11 1h1m10 0h1m-12 1h1m10 0h1m-12 1h1m11 0h1m-1 1h1m-13 1h2m11 0h1m-15 1h4m10 0h1m-15 1h4m11 0h1m-15 1h2m12 0h1m-1 1h1m-1 1h1m-2 1h1M3 29h24"}),Re.createElement("path",{stroke:"gray",d:"M18 2h1m-1 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-1 1h2m-2 1h2m-2 1h3m-3 1h3m-4 1h4m-5 1h5M4 30h27M5 31h25"}))},ySe={"32x32_1":pSe,"32x32_4":gSe},mSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=hSe(e,dSe),s=ySe[r];return Re.createElement(s,i)},bSe=["variant"];function wSe(n,e){if(n==null)return{};var t=kSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Yw(){return Yw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yw.apply(this,arguments)}var SSe=function(e){return Re.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M11 0h8M8 1h4m6 0h4M6 2h3m12 0h3M5 3h2m16 0h2M4 4h1m20 0h1M3 5h1m8 0h6m8 0h1M2 6h1m8 0h1m3 0h4m8 0h1M1 7h2m7 0h2m4 0h4m7 0h2M1 8h1m8 0h4m2 0h4m8 0h1M0 9h2m8 0h4m2 0h4m8 0h2M0 10h1m10 0h2m2 0h4m10 0h1M0 11h1m14 0h3m11 0h1M0 12h1m13 0h3m12 0h1M0 13h1m13 0h2m13 0h1M0 14h1m13 0h2m13 0h1M0 15h2m26 0h2M1 16h1m12 0h2m12 0h1M1 17h2m10 0h4m10 0h2M2 18h1m10 0h4m10 0h1M3 19h1m10 0h2m10 0h1M4 20h1m20 0h1M5 21h2m16 0h2M6 22h3m12 0h3M8 23h4m6 0h4m-11 1h4m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h20M4 5h8m6 0h8M3 6h8m1 0h3m4 0h8M3 7h7m2 0h4m4 0h7M2 8h8m4 0h2m4 0h8M2 9h8m4 0h2m4 0h8M1 10h10m2 0h2m4 0h10M1 11h14m3 0h11M1 12h13m3 0h12M1 13h13m2 0h13M1 14h13m2 0h13M2 15h26M2 16h12m2 0h12M3 17h10m4 0h10M3 18h10m4 0h10M4 19h10m2 0h10M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}))},ASe=function(e){return Re.createElement("svg",Yw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"gray",d:"M11 0h8M8 1h3m8 0h3M6 2h2m14 0h2M5 3h1m18 0h1M4 4h1M3 5h1M2 6h1M1 7h1M1 8h1m27 0h1M0 9h1m29 0h1M0 10h1m29 0h1M0 11h1m29 0h2M0 12h1m29 0h2M0 13h1m29 0h2M0 14h1m29 0h2M0 15h1m29 0h2M1 16h1m27 0h3M1 17h1m27 0h3M2 18h1m25 0h3m-4 1h4m-5 1h4m-5 1h4m-5 1h4M7 23h1m14 0h5M8 24h3m8 0h7m-16 1h4m5 0h5m-11 1h1m5 0h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-2 1h2"}),Re.createElement("path",{stroke:"silver",d:"M11 1h1m6 0h1M8 2h1m12 0h1M6 3h1m16 0h1M11 5h1m6 0h1m-9 1h1m1 0h1m6 0h1M2 7h1m24 0h1M1 9h1m13 0h1m12 0h1m-19 1h1m2 0h1m0 1h1m1 2h1M1 15h1m26 0h1m-16 1h1m2 0h1M2 17h1m24 0h1m-15 2h1m2 0h1M6 21h1m16 0h1M8 22h1m12 0h1m-11 1h1m6 0h1m-5 1h1"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h20M4 5h7m8 0h7M3 6h7m3 0h2m5 0h7M3 7h7m2 0h4m4 0h7M2 8h8m4 0h2m4 0h8M2 9h8m4 0h1m5 0h8M1 10h9m4 0h1m4 0h10M1 11h13m4 0h11M1 12h13m3 0h12M1 13h13m3 0h12M1 14h13m2 0h13M2 15h26M2 16h11m4 0h11M3 17h10m4 0h10M3 18h10m4 0h10M4 19h9m4 0h9M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}),Re.createElement("path",{stroke:"#000",d:"M25 4h1m0 1h1m0 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1M3 19h1m22 0h1M4 20h1m20 0h1M5 21h1m18 0h1M6 22h2m14 0h2M8 23h3m8 0h3m-11 1h3m4 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}),Re.createElement("path",{stroke:"#00f",d:"M12 5h6m-7 1h1m3 0h4m-9 1h2m4 0h4M10 8h4m2 0h4M10 9h4m2 0h4m-9 1h2m2 0h4m-4 1h3m-4 1h3m-3 1h2m-2 1h2m-2 2h2m-3 1h4m-4 1h4m-3 1h2"}))},_Se={"32x32_1":SSe,"32x32_4":ASe},vSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=wSe(e,bSe),s=_Se[r];return Re.createElement(s,i)},ESe=["variant"];function ISe(n,e){if(n==null)return{};var t=RSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function RSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Gw(){return Gw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gw.apply(this,arguments)}var PSe=function(e){return Re.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M11 0h8M8 1h3m8 0h3M7 2h1m14 0h1M5 3h2m16 0h2M4 4h1m20 0h1M3 5h1m22 0h1M3 6h1m22 0h1M2 7h1m6 0h1m10 0h1m6 0h1M1 8h1m6 0h3m8 0h3m6 0h1M1 9h1m5 0h5m6 0h5m5 0h1M1 10h1m6 0h5m4 0h5m6 0h1M0 11h1m8 0h5m2 0h5m8 0h1M0 12h1m9 0h10m9 0h1M0 13h1m10 0h8m10 0h1M0 14h1m11 0h6m11 0h1M0 15h1m11 0h6m11 0h1M0 16h1m10 0h8m10 0h1M0 17h1m9 0h10m9 0h1M0 18h1m8 0h5m2 0h5m8 0h1M1 19h1m6 0h5m4 0h5m6 0h1M1 20h1m5 0h5m6 0h5m5 0h1M1 21h1m6 0h3m8 0h3m6 0h1M2 22h1m6 0h1m10 0h1m6 0h1M3 23h1m22 0h1M3 24h1m22 0h1M4 25h1m20 0h1M5 26h2m16 0h2M7 27h1m14 0h1M8 28h3m8 0h3m-11 1h8"}),Re.createElement("path",{stroke:"#fff",d:"M11 1h8M8 2h14M7 3h16M5 4h20M4 5h22M4 6h22M3 7h6m1 0h10m1 0h6M2 8h6m3 0h8m3 0h6M2 9h5m5 0h6m5 0h5M2 10h6m5 0h4m5 0h6M1 11h8m5 0h2m5 0h8M1 12h9m10 0h9M1 13h10m8 0h10M1 14h11m6 0h11M1 15h11m6 0h11M1 16h10m8 0h10M1 17h9m10 0h9M1 18h8m5 0h2m5 0h8M2 19h6m5 0h4m5 0h6M2 20h5m5 0h6m5 0h5M2 21h6m3 0h8m3 0h6M3 22h6m1 0h10m1 0h6M4 23h22M4 24h22M5 25h20M7 26h16M8 27h14m-11 1h8"}))},xSe=function(e){return Re.createElement("svg",Gw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"maroon",d:"M11 0h8M8 1h3m8 0h3M7 2h1m14 0h1M5 3h2m16 0h2M4 4h1m20 0h1M3 5h1m22 0h1M3 6h1m22 0h1M2 7h1m24 0h1M1 8h1m26 0h1M1 9h1m26 0h1M1 10h1m26 0h1M0 11h1m28 0h1M0 12h1m28 0h1M0 13h1m28 0h1M0 14h1m28 0h1M0 15h1m28 0h1M0 16h1m28 0h1M0 17h1m28 0h1M0 18h1m28 0h1M1 19h1m26 0h1M1 20h1m26 0h1M1 21h1m26 0h1M2 22h1m24 0h1M3 23h1m22 0h1M3 24h1m22 0h1M4 25h1m20 0h1M5 26h2m16 0h2M7 27h1m14 0h1M8 28h3m8 0h3m-11 1h8"}),Re.createElement("path",{stroke:"red",d:"M11 1h8M8 2h14M7 3h16M5 4h20M4 5h22M4 6h22M3 7h6m1 0h10m1 0h6M2 8h6m3 0h8m3 0h6M2 9h5m5 0h6m5 0h5M2 10h6m5 0h4m5 0h6M1 11h8m5 0h2m5 0h8M1 12h9m10 0h9M1 13h10m8 0h10M1 14h11m6 0h11M1 15h11m6 0h11M1 16h10m8 0h10M1 17h9m10 0h9M1 18h8m5 0h2m5 0h8M2 19h6m5 0h4m5 0h6M2 20h5m5 0h6m5 0h5M2 21h6m3 0h8m3 0h6M3 22h6m1 0h10m1 0h6M4 23h22M4 24h22M5 25h20M7 26h16M8 27h14m-11 1h8"}),Re.createElement("path",{stroke:"gray",d:"M27 6h1m0 1h1m0 2h1m-1 1h2m-1 1h1m-1 1h1m-1 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-3 1h3m-3 1h2m-3 1h3m-4 1h4m-4 1h3m-4 1h3m-4 1h4M6 27h1m16 0h5M7 28h1m14 0h5M9 29h2m8 0h6m-15 1h14m-11 1h8"}),Re.createElement("path",{stroke:"#fff",d:"M9 7h1m10 0h1M8 8h3m8 0h3M7 9h5m6 0h5M8 10h5m4 0h5M9 11h5m2 0h5m-11 1h10m-9 1h8m-7 1h6m-6 1h6m-7 1h8m-9 1h10M9 18h5m2 0h5M8 19h5m4 0h5M7 20h5m6 0h5M8 21h3m8 0h3M9 22h1m10 0h1"}))},BSe={"32x32_1":PSe,"32x32_4":xSe},TSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=ISe(e,ESe),s=BSe[r];return Re.createElement(s,i)},CSe=["variant"];function MSe(n,e){if(n==null)return{};var t=LSe(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function LSe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function Jw(){return Jw=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jw.apply(this,arguments)}var OSe=function(e){return Re.createElement("svg",Jw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"#000",d:"M11 0h8M8 1h4m6 0h4M6 2h3m12 0h3M5 3h2m16 0h2M4 4h1m8 0h4m8 0h1M3 5h1m8 0h6m8 0h1M2 6h1m9 0h6m9 0h1M1 7h2m10 0h4m10 0h2M1 8h1m26 0h1M0 9h2m26 0h2M0 10h1m10 0h7m11 0h1M0 11h1m12 0h5m11 0h1M0 12h1m12 0h5m11 0h1M0 13h1m12 0h5m11 0h1M0 14h1m12 0h5m11 0h1M0 15h2m11 0h5m10 0h2M1 16h1m11 0h5m10 0h1M1 17h2m10 0h5m9 0h2M2 18h1m8 0h9m7 0h1M3 19h1m22 0h1M4 20h1m20 0h1M5 21h2m16 0h2M6 22h3m12 0h3M8 23h4m6 0h4m-11 1h4m3 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h8m4 0h8M4 5h8m6 0h8M3 6h9m6 0h9M3 7h10m4 0h10M2 8h26M2 9h26M1 10h10m7 0h11M1 11h12m5 0h11M1 12h12m5 0h11M1 13h12m5 0h11M1 14h12m5 0h11M2 15h11m5 0h10M2 16h11m5 0h10M3 17h10m5 0h9M3 18h8m9 0h7M4 19h22M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}))},NSe=function(e){return Re.createElement("svg",Jw({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",shapeRendering:"crispEdges",viewBox:"0 -0.5 32 32"},e),Re.createElement("path",{stroke:"gray",d:"M11 0h8M8 1h3m8 0h3M6 2h2m14 0h2M5 3h1m18 0h1M4 4h1M3 5h1M2 6h1M1 7h1M1 8h1m27 0h1M0 9h1m29 0h1M0 10h1m29 0h1M0 11h1m29 0h2M0 12h1m29 0h2M0 13h1m29 0h2M0 14h1m29 0h2M0 15h1m29 0h2M1 16h1m27 0h3M1 17h1m27 0h3M2 18h1m25 0h3m-4 1h4m-5 1h4m-5 1h4m-5 1h4M7 23h1m14 0h5M8 24h3m8 0h7m-16 1h4m5 0h5m-11 1h1m5 0h2m-2 1h2m-2 1h2m-2 1h2m-3 1h3m-2 1h2"}),Re.createElement("path",{stroke:"silver",d:"M11 1h1m6 0h1M8 2h1m12 0h1M6 3h1m16 0h1M12 4h1m4 0h1M2 7h1m9 0h1m4 0h1m9 0h1M1 9h1m26 0h1M1 15h1m26 0h1M2 17h1m24 0h1M6 21h1m16 0h1M8 22h1m12 0h1m-11 1h1m6 0h1m-5 1h1"}),Re.createElement("path",{stroke:"#fff",d:"M12 1h6M9 2h12M7 3h16M5 4h7m6 0h7M4 5h8m6 0h8M3 6h9m6 0h9M3 7h9m6 0h9M2 8h26M2 9h26M1 10h10m7 0h11M1 11h12m5 0h11M1 12h12m5 0h11M1 13h12m5 0h11M1 14h12m5 0h11M2 15h11m5 0h10M2 16h11m5 0h10M3 17h10m5 0h9M3 18h8m9 0h7M4 19h22M5 20h20M7 21h16M9 22h12m-9 1h6m-3 1h3m-3 1h3m-3 1h3m-2 1h2m-1 1h1"}),Re.createElement("path",{stroke:"#00f",d:"M13 4h4m-5 1h6m-6 1h6m-5 1h4m-6 3h7m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-5 1h5m-7 1h9"}),Re.createElement("path",{stroke:"#000",d:"M25 4h1m0 1h1m0 1h1m0 1h1m-1 1h1m0 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-1 1h1m-2 1h1m-1 1h1m-2 1h1M3 19h1m22 0h1M4 20h1m20 0h1M5 21h1m18 0h1M6 22h2m14 0h2M8 23h3m8 0h3m-11 1h3m4 0h1m-5 1h1m3 0h1m-5 1h1m3 0h1m-4 1h1m2 0h1m-3 1h1m1 0h1m-2 1h2"}))},$Se={"32x32_1":OSe,"32x32_4":NSe},qSe=function(e){var t=e.variant,r=t===void 0?"32x32_1":t,i=MSe(e,CSe),s=$Se[r];return Re.createElement(s,i)},zSe="r95_lcz1rw2",DSe="r95_lcz1rw1",USe="r95_lcz1rw0";const KSe="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU4LjQ1LjEwMAAAAAAAAAAAAAAA//uQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAtAABLGQALCxAQFhYbGyEhISYmLCwyMjc3PT09QkJISE1NU1NTWVleXmRkaWlvb290dHp6f3+FhYWLi5CQlpabm6GhoaamrKyysre3t729wsLIyM3N09PT2dne3uTk6enp7+/09Pr6//8AAAAATGF2YzU4LjkxAAAAAAAAAAAAAAAAJAVqAAAAAAAASxmpyp/VAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQZAAAA2A6r7UlgAIAAA0goAABGijvWbnfFBgAADSDAAAAAGBAAAbNkABAwyRhtYEycoFBQ4jJ5GatgwMIjs/sZvwHDnXvN7zlKdMzMzNKUmnNr7sGB5CYRHYlv4cHlVkTa9+A4PISYoOxLP4BAJiGBw0HMCYjoQAgDFoEB8K4ExHaCQDiIkHkJ2v9Ys4AuNx2Gx+m5+extUkAAAkUOHt0WG0vTpmPXzA+Fb8wwKuAs6GHzSE+TAsTpfDDf0pphnomVaJy4FpdaB8sMJILwxDQXDEOFIXhOSSXwu9LzIoEyMdYqAy+DIjL4Ge7yzPr/hynceCDGRC9BAThhpA7FYPIsBbMZP5L32lkgrQ5AmZgsgpmGUBcYI4RJhjhGmJEAoYQ4K9bn5XdfjWlkmpocLqCwMZgmA4GBUASMgamBIEUYGgEM/hjZuf2c7hz///MDYA8wFwAg4ChHFPuxhz5bXyVAIAAAAAUA4ADLHNlhNE0gUimWBbEe3M4J4XVEDpfxYFfKnSAFLYAzctXtDGpbDMTkDwTr2vshC5jNF+sf903//uSZB+G9CYzT9dnAAQAAA0g4AABHDjzNm5jRAAAADSAAAAE3jbhMciU/A0ESu5HIaj8titNeoovGpiH3o7KKWB55+aGS3bMnr0kMZuHlYxqUkVa3EsIEszMHS+bymM+Z3bFmu4Jhog7oA4BlYSGUlYcKMxqh4HLGgY/OIH8dXkMw0Ks8PM3pUakCywCrAQJDk4CRhcKZ80bbgaY2ZEUlCXeMsVOOxNMUM0GMWRMqTCHZo2ZxT5CWDIDAwqCJpoJBq2BdYIq4KxGKRBV4ImYGfG4XMfNQaMCPMIgAIE0Y8xwhIBOgxC4qyzVhzTgjrGiYIsoSUFBcGnzTuTFhgEYBQ9egNBiig2xIzNsDc0JZkwpkSpUAlCMiICyE358ElSJGYlSaNGCpBhhCJAoSM4CGQYGBq1slXLBSpIEduvUqSy12UyOGIcq38NfYwUAAAUAwggPWETYV4EQqVIeeGBlBpJsVFcAkoK/PUEgBFgjWvBxxfMGoGeOYx6WZ3mmSaZAq5wqqCSC+RKeHBjIIfcnYHTG+2ZYxdAFACbYLKMbdlCfCf/7kmQrD/ZrOtCbedJyAAANIAAAAQ6M0VoMPY3QAAA0gAAABMxgkAROSCMzFtzaJk8gTDHrBghEYDHZcRCcFjLLAAFMmZNAOMsoZgARIMGjydKAxYUUAmANiShBMXyHAIGkCRMxYMvgDBK6gEfYEqx0kcDECAYVbqDULbMfM6Ld1BYsAh0LFFku0yKC5Rg9cPQNUh+hhjHWNr6RTwi2lQgiB7MW4QZAQUvIS8jr8fVFZubA3EeZSQKg9i8tigpBkPtStUxey6HKnYisVSlOfRvE9Ok4oK4JfVkLEh6GpdOkMJzAQshTOHKrVXoDx8RB+JQYNJ0a+B9EnEdrnCekQlxXE0zxSeRxqm7XmsQMm0+lAAAEAXiEgi1zA8BoCz0VWSBNiHAcTaSB7ATsRcF7URq1DGDEK0hJAh/rR+Gs7OFSoIDRJFHZIx0iKQKXOZVnqapokc5ronzMXRaydxjcx1rADUeCw/VCqRCjOIVDLFdsb3KuJyN2LBP5JWZGg3UlBhmK46iwpYwFBQ89y3aAOA1APXClrpAToMunOB7AwbAWYJr/+5JkSQ7z7DJVmzh4JAAADSAAAAEPtNFUbOHigAAANIAAAAQwE8ADo0MNU3DzN8n4DxFcy7GkxGkrEMWznJ8MIu7AcRLleT1UuL1KB9nuPpFKCRGIS+KhhOcmpL0NQk6TkBeIBSFlEO4u0JCQyYBdCHpPVV2pm9DbxIbMk3TMRLxqTdsXxqbNZn5ZyfQqAAAFAXAAtETCUgPDMNBZyE8UGbgnMqx4oiBgcHFGZAgNBiEIWk4qzxVrCoW4X6JL0EfOhlbxuIUc6/HmSypYx7q0/4S0ctUlGXyTpPRDT5TIbbnHPYuSdOA/T/cG8eyuyyUYFSwo1pUsdePVkVUjVDcWeLqL5GwIETrPmFoGFpZ885OFDrgKEKGFk09lIL+93QUKYjrDDmNGCb4UBCHp2nktPDbsR6RPcchpmVg+oxOktC2Up/wxdE4nG03yhgnulCQm0SheYzWOgvyHQz+NRmJzdTq+OfzkUeOrmAXIjYpJimbgtry5aSD6kCxOZBIyIfrqTEFNRTMuMTAwqgAABAGcjljI4CIH2gk5dREJCFyYmiTV//uSZIoP8+Ay1RssexQAAA0gAAABDsjDVAw9j9AAADSAAAAEfQujQvotU+1EpxOQNyjQRPC9I4jS8pVUe64BypRU4eMo9DLM3oeO1xJm5w2VFuaaMFxN8+0NiP2LYQVKsKILysHw3p1CrqUXj1LqudWCS/ZdarYFTwsKVRbVdMZpYkFTf0AcABBTMXzjoDZkBPUba2bIZqphfJEAJfIruPgcIzjPqV1oBygBPxUgBoGm4ZHRk912JvJA09hBtRIKKLxccwEqboFjuRTMqVuUXc0dEn9XbCrASAhKYjByoEtQ0WGiAMQX2eWI5y5bCt8RU5vJ/RpkjIyy7ltCmZAwdJBWJ1Wvxh9c0vl7MxduA59xIHm5NVsdispsXL4MBHG7qkxBTUUzLjEwAAIAEgnAzRuxEZYyip8eFFG/Wn2JmVvmRFCxM6Ad0goFOcTEgJYBmOTAYWnOg2IjgJmDTcuSxJWJpphzqRVsgMRDgYQ6YQoi7MNA4FgQKrQTu2w4FOmLWXgEZZnDl5oWIGmVowDASQwiPB0YyZD4y20ouERskSlMrP/7kmTKjvPFMVUbD2P0AAANIAAAARNU1UZtZwWAAAA0gAAABIvFEksjOCJBoKfhCWFkkdEumGEoIEDBwzXWht6wpk7JQAMv4u815x2kJyz0DRGV13hmK12KT28bJ0VCWg0Q8Pgnzz3w8Z4Pg1THNI0ALMkhDqRAR1NoZP2KAoMaSAekYkOYgMfw2ZcKIxmRVJCD0VzUEYVMl8DDgTIBy6aAoSTgwKyUKzAqKDCZhCAEc4jTZyCwCNAjJFmhzkiEEShHmXJc8BHhUkeGbItQxBxRRAOlwGKiE9DkHlmgOwVdBiIuo0R+AS48UVU7N6dDoBgpBBYs8LYDT7bOAwUt+TEgUQlGM58WIUpVqTZeeDb0GPw4ll8YxB8Vg+5D9uyrXftMQU1FMy4xMDBVVVVVVVVVAAIDEhg7EyNIpwVNnQq5ssidQGfcyYVwioGCzlBwufWwGVGRg0YJU0oi/7WBgMAJAticgvYCr5QFBigpVIorQZCBRT8dJRGL3iMQMNOYNqsCtIKBBlcBMIdXIJgmzlR1IhPxEeSOCDR2dqPM+Ltl6BD/+5Jk+4/1qjbPk3rJZAAADSAAAAEYFN84DesnyAAANIAAAAQQxNJVciES1xYeALIWCbo/hihQS9F9CaZABMeup8ZYhPZKrZAaOYscoO11m5fCnu6d+B2RUbwzUXjMivy7l8mU3mWB4LxDHy44hpMAyDO+kzEPMpTzCYsw0SAoob2cGEmhBczY9M1oRtSwkWh4vKFTphrxQqMIGFXQYma+Yk8BmDBB6eAgZjAxupgyOGgqsBhh4GLGUJv6pUnND4UamADF6EgaRRIIAAoMhOdJlCxUviaLpJpIsK3naYuBapIGdRuM2acgSZhtPBhE0UQn6XkzkvIX+S+lNVihMROoFPd0RCY8mqF1Kwv1BaVjhzkug54XYvvlTTFTO3Y7utiqTEFNRTMuMTAwqjLBM+ddMb6TXYw/BYNFkDUUg2qiMFOEd05yg4jkzUEInmOSJFg1CJTzLikgWZGMamRgBgZraqBvEPSDHwNKrUVuqGiJ4x4UiwYMpMG2gZ44XCKZeqq66jARMYFCaAgU4XAC0AFDJkRw9FZfoVFBRb9jWYt4jKYZ//uSZPeP9Y83zxN6yWQAAA0gAAABF2jpOA3rC8AAADSAAAAEhEcXcQeVuBSgNMc8VLTzZ4I5BCAmo4bAGWghg0lIQrBkMAqbLUCyUBKB9hwvmlYuhYBHGdeWROJHolWopBGKl35pBKbACnZSRvjYcyDn9jZr9wO5jSFThLNK48LgIUIgg8o38zZSELZwfHGUNBmWEooa7jHzTTVyCU3OCjglemA4RqAhDgDaU0ZyOEHoGlCYhMLhiBH3EBJZlAKJbCTa7EMwoWIQzUQUkYRIOeVjLPkqAsSkcZADDkJSYY8IXXQ2CxI5eCskZU5zKFYcqW6qsARwabByAdEddy8EKxY9qaKC/0OxdALCrVYmiPuTy+EulA7L5XDs1hc+nzytCExBTUUzLjEwMDWFY6nTEu8zxrA0UZEDmPBRiV2ZcuiI4MTEQ4jGUIx8uCyAHEgcEAsZFl8BKA0IjRWYaCTQo1jR/IomCSF1i6hegtm4gcIFDkAWIi0VlC0UAznA1waEzoSwQvJywrTQxEMzHChFIEqWsicFLxY4RtQkAPNahXJJg//7kmT6j/XTOE2DesnSAAANIAAAARc05zQN6yQIAAA0gAAABMRwqUShF9EaA+8uigyYYBdtLgoCTmESJg2DxstQBOm6rziNRZqIizo0EHoJGaxAuNEGWRhmruROvL4xErcr5GWAM0wMMSzDoLw5t4OMOk04bxU8gFGGSTQBBCcsZ9GmvsDvwBfGwLEDnzPJOsMmzMCgkMCJA5gh0NBZTlHtgpjqBAZdsEAnAIq1EtaF8PPLXPlFhg8mXa2gLIlAYKVCFFwSGq9OQFOqQaw9aAxuptwBYhSBzqBkyf6FYv3NGKSgNEAg8+1gWbMYRkCliZoYKDTwu0rA3RNVRJowwKMnlv0k0qlDQYbNQ87aJDC42+bZrryZwBfkk1hRzGf/a7VMQU1FVVU1IPNeqzm4wzZ3PRoR6YAqU2fYzC8xhoLIQWLAqQRKTIsAKCHQRSvBo5xKByJYkNowMUApxjkAPEBFCJ1gBgFESSVpawHdl4kEiyguKTRBwQYMuAmIAgxiEOy66aQkGswUREQJdtCJhgXOAIwk+WAw7QxnlkANwZCa0YD/+5Jk+w/1zDhMg3jMUgAADSAAAAEXXOsyDfMigAAANIAAAARIG6GCB41MIYiNJJ/lLRwsIVRUfISAMIoHHDy6xom1R+mggwKAwqEvRRQKqIuL+ctiyYr2Usohmjd+7LrGN2XVc93rPDMBhNPpIykDB58GbYUYQBRhAJGNmmZBkFwQUhiTggkEDgirMwYwKQFUYowxaUCGLqbVBRygiAhZnnqcBBaUhf4oOSPUkCkBoVgbplUIvgJgKZqCGEADkQqMAi2DmGuXQRPIQASGDRhV1KlRQDBggRiRhgUYhBWWoQPFJbhxxWKFiICFDgFyMCFShD6XLYhUOIiAopYy+HKZciPDZRMDQFAZYswxTUy3coGDsusW+x1zX/gKj/X0tfidNUBs4kyQMnjJAOONOAWIRrNEbsKG/pRloKZmMhjOZgvBzOY0TAkFMEBTqBIzcQNPLgU5GQEoynGVAKSo8SCzwOsEa5jjiF5PsGCLAg7YaWLnllDMYcI26oaQLgUfGDJTJJIBREIY6aBRpKCSQOqCtQVVRKIiwoMDAzHoBcSaYxAP//uSZPyP9fg6zAN6yUAAAA0gAAABFxjhMA5rJkgAADSAAAAEMINLMBVYlvDSHxhGGQC1gyxAoeiMoYk8nkM7GekLONWdEYBVI9SoxCCoDOqqj5KVDewy8zU1fM5dJ/oHct95bIJbKqufdYTRoohHB0AYIepnAagKbGGwkYwFBndbHKqloDAtC3wM6ARSaMWWjMUiNoxNOQG2IYZEQEA3A5At6CMjGehAVDGjhgwISMoURiDYgKFVsRCVODATvLVDBRnAkThCYEbBhQOlGpFAgrQmExIAiNOGBQuIhLARItYCSHEMZ9XCdwFNAoIWFTTcl5l6o/BQ0xiBgB7kG3NMe0KxLHWkhEmsX0SoQ5suLxKSaUsGzta8REg3IhMPwh9X6Z3jLpimmdRO/us2EWjpyvMlJc0+2jSJ7NzrsxC2QbEzJyUMjjkxYPgcbzBawMeGYxoAAEMQEEijfGvOHndmHOAFWaWQTRTEjzP6k+AIKM4cCB4BMBGIyplN0JnAkcgsoilSZ4GegyVhlbTGFkSAqMLzGQOGHhyyOABbOJlGUSeAUP/7kmT/j/ZFOksDm8lgAAANIAAAARfs5S4OaycIAAA0gAAABIraOKt3gYykQIwbApvxOchUBKQMiELGWKIAlbg41ZpjblU04S2lN1M00x9zCZMYJMNhhbOGx1Y5hjFWLxtNQDQApyh0VeYoCEpU4FFZojO0lg6umDtgdCKQLJs6kwasInSmBpL+a2onIX5kpKI354DJvd4YAQzBYpi2HAQGDgakhRM2QxyxB0ZIILQNGBLlGQSTLmwISuMrJFkK1h5EGOgIGkjRe9M0zRmAMJnBpsDBA5IYGBJKSjdTPBaKCABkdVVcShyi0/IQyYhFGzGMLOY+j6ARE/YuwQsAg4FJ5Couy0tS2EmUS27JHdY4XsW+7alUNFqFrNPmCIC0sxOFsNtleEss00WlVBOUWdaSRTZSBOgEY2QjjRJNMINExOJhGVzQsINBA0xIIjSSEIDDDRU3BNM6BjHSsZKSkgMtGzqlkyYoMGhgomAQOBQYliFA15QwGHhgqEAYKGIDIBDQoNGElAsJqzAgVYqaiEl4lKyyYsEBjpvgmYeI2ki0UxH/+5Jk+o/2ozlKA5rLwAAADSAAAAEWBOEwDeskSAAANIAAAAQSLlGU2IkQICDBQNAHDvOZQI8sHFg9IxwQsAZA5IKFUAuuCQEkwzpEYQ7Co5WOXGjK8k1wE0BAVMgwFAYGHmS6FD0fzRDeNHweEUpWMoEIg6ZZq1mAsugeggF+Xv1Ds9D8tB6OHSDp58SbPJGXuxCjG1MxhjEcCymElAR6YgOaIaMuTkHiKuDjQjRB6UFUz+iBGOMmTMAwFIAEYwnAEEy0ILHlTJUZoKhkhBuRgR1WCNG+WiuPSK1MNARQKDFGjXNGSAiEdLZaBjC0SSAGER7QZc5TaCCAlMxrp8Bowl3S/w1mpokSh4IUB6uNlznCVoUCbgFQWsAYtQVlDsI9oJES2pSNuhfVeqn5AzZliebPp6gdqxBcAW7VnH6l1ZKqF3g1TSMoaDE8kz1WOcXDGFw3xvMXWzEA81UEqQApvLRArYUXQbANWzAw8NeGJAGCGiRhfadYEiCodUZhACMQgHApWFxJghhrzhg2iDzZx4oIhwDMINAQGZUCIhgVDBIA//uSZPcP9qE4ygObynIAAA0gAAABFyDhLA3rJwgAADSAAAAEBfBV4gKQKCxxhkmEuh2L3GQ6leCBnyDs26FrR8dLwkXLaiNJxzAiBxYWGMsRk0NiTohBjUbEKBhigBtGpuqApVRXrvQgtiDk1er2Gn2czSn48/bL67dqGUxuJSmipKSiuIMTlDgy+pM1jjbHIHGRmSmSEBh1UZQjDBYZQAmHF46rmBjZMJCSuRB5xYQKvG+2TOkJgiMhlW8w1AeTHAMMTMIcx7MvWYiJgomDCgSYCSFlg45aQUGBU0EIIJwOcDNRYRBGWEFvkUi4yryLIE2WzaSDGjTUcWAmTi5a6dq7UJKC5dwcAlzGU2yMhmQ0xPpB9CkCDT4TIRfLWp1l/ge1rapmRSsuQ+SsK3Flw7EmhZPHAsud6lxypcq9qyoDypvXMaOpnATBklOFd80ecivkMw2q80CA+PgEUyLeBiplRhgSJ7EQNMGdqGxUDp1UIHMIgjLLChwEKEYJXsucINM6cDCG58ByDRALLAIsCmhsQ82YSZfcKKBAQ02BEQQua//7kmTvD/YUOEqDespyAAANIAAAARcY4ywN5w8AAAA0gAAABBDdzJbNK8z5QsKmCaSq0jaFAAplFqoBUc4ny9AISRXO81bwgbYMqNAALGGQ2uwCgqqkQAiBBFD1KWtRRVZUmg0g9Zk7i9rDBUAwgXibmnOLHLkeyDJ2C7EvhrKnxltNGOWeXeHqH5wGKbEJGTSIgezf3I1u3Myiwsgig0ASYzWFBAmc2NGIAJmhgUMGUtgEEeBqZZGaoiGBzYAC0RENLXjQdVoOImQAGSACh+GQbdARMHAhkoKGBRk/qBoIAkg81SYihBjogEMk4z3CzJktA5cBbAEp/SA8BjiqSF4BheEwTTpWHkRkIs2UHpGBhQYAYjoJNTkLAafBkHAoGAAIODR0Y1yxtYOAmR0CY6qhbx91LghoSNT7MIN1GQIuOK90GwB8ejfvpE8oItct4zxlM5FqOBjTaIgxYNONhhpNNUhDPxgxVCQQGASBikwLxDRMZMGDgf+NPnWoBiTrmEBIG5AIJbQIeYMDW0TjDUFjEvx5EcqHoGmkoAJcUENqNFT/+5Jk8A/2LTrJg3rJUAAADSAAAAEZCOkmDestAAAANIAAAARHtI8vK3AKBltwMuZUpf80JjOABoKLYsSqQhUWusIY5KShoino24JckdXZXDaApuArCNfJrCEe6xsiQY8WwEpB5gOXdNLNYpdRb5Cag4NFixbO0jlh17PyXFcLNx3fb6bsUsYpqa5SdnLEQ/4EOwdT0LM5eZM2ZDnxUzYWPRJDFlsZFjKRgqy5VyHFBmaLCMkFyJnQph1ZmiZk0giGmMAnEBoUjIwHC2xgkG1kYQDQsWRhhQ06koTwWXuAAAONBoZ2RCLMUaWYnKBAkhDgYM+ROoRKGCa8AkEw8yGj1LMs9W4YHFlAIOeIhWGFBwtSGBsjDrH1YMPnF6goOAQw6kHIroQ5pRr9NFCuVSVYlIlQAKjQyBBGdBAwGVR4SFL+qwrvVetuNRWB8X8jTxVNSC/VzuRFFUxBTT9Ij+kjmgzNVWnnE3mJRGdogEUjaJPzMTAbIaGYkKqQOAgYwAjrkETwvM01J2l3GPFuIkIAkx4Ui2wwhGAHBQKFCaYXIAjo//uSZOgP9eQ5SgN6yoIAAA0gAAABGRjnJg3rK4gAADSAAAAEPPAo+gc6zxu864JOkS4wxVrjLUr4MchDBJxTKJegRNQFMWbM/U2l6PUQTdIvKTbgXWQFq0O5I2Ghd2HrLM0FYcgLIIACmKdOmMGSW5PSNabnb7q1dWmzXU2+TAbYNcH5TiAMWIumP5HhgiguOG0JZAcZRNJwLlVQGkl6M1UPhHzuVJeFlWDuQgaSsJoeIcZpLUUKhdCMu37Er+S0+SENiWNxJpV6yk8DVwGRDiTFzQ1PtyjJcyqrZ1nmkDQSsWfdRvE1XbWdZXH9zdOZYpBR96zKRlgUheWRyzP//4sYUds0V9m4hVOt1VvzI2rEE0ON0E8DbSwP5g77rRNoFQAC870JTWZjNp7gz2mTRJ9NfS4iJ5iwyGakeZIEZpzJsLhtTAQfJq5yYIElGlOAJ8fswZESYKwYlubIoAi5i2A92EBwzwInODBIHdDDkwoVOUeM8VRDNABS0McFDUfx4Qy6TNsAFBscDtRw5m+EbwRk6nnECLR4IyXzIkORg5i10v/7kmTijvUPOEuDWHvyAAANIAAAARQs0zhs4eNYAAA0gAAABC9IO+NYs4zgMSWTJaAuKHVI1HI2QmJNEWBizGfQYOaKJiiAWM4AACGXiTBUyByzCxIF+Ad+DqQAGaiT9BB4km5Ik2oAVho7MOEYLlrISoXa5bNKehgXssqZXxRP/+r9X/5s5IbTHg+MqSTmlYz0sOHVjmkgxzvMUojBTEwUPNhGQwhAiIYKrhxstkBc4ECAwFMGGQFErKLwlBakkxiEYEsqHAmCLniokoW/C9jGAwg/4jLFGpktS4RhkGIeZxgkGSHmTEDkVimgIDkE/DJZJlwQUSygqwHNgwVAowFzHALZgJsaFChAcGaD5cct6XITLL/A0RmKPzyEhpijBx5ISXTDB1LIcGHAMGWFAF8hk7AULU+yVPAvszNDgnYnGvdeMCwhpEsex+ZTEsuZXbVMQU1FVRdhC52Yg2CKIOFEMv5DB5nzxyzoQTByQaQhAAKiDGEDFBxoOUdx1wZZCcSOQxH5oBGFgpEIAkE8AMQSugAC4U4hAVk69Dskvem8wRD/+5Jk/4/3FjrHk5rKYAAADSAAAAEZYOkiDm8hwAAANIAAAAQMX3SHWsX8LxWiIyA4ZMPbGEvI4CdxJYFOQTF/EyFclKY0s0RmTOWgpIuM5xfGRqqJsLfhDWy4Jbl7k1FGlpuum1CHAQed5AI8gUQ3N/3BkzdHTgaSyCQ00bo+dtX9ilQLsEyA0owWwYqkQFjUZyyyFjIVBBYaMiIEvemeyFRhobuMwLbNQjTOuVrCOkTet4GGxJXrTF2Ioi1WdKwqaQNl2XZ9GmnSjZCfHQmkOFhUbK1IkoTjWZHisShPmMtypZj7XTw30tlaRySb1qC+Tiqc2/N1S6ftz+FDwRzKhDnLv/e39v+03ey33V66iz01OZwkvlqhFX4YovZH2WOqTEFNAAADkOLDgywoTLgGMiEc1uQjGjEIjsZoYJtcBnRQgQGoEgVibgkZ7gYYAASoGSiUY2BMza0UjnQKCixAKh2MI9ZA1+DBF7AKVOYiANUgafTVMUY3WVnm2mWpFmxVEviZrILbXUXKLrNzAypsWgGMKjIHJwAXSHUBRZAB9mrW//uSZOUO9V44SoN6wNIAAA0gAAABE41JOGy8txgAADSAAAAENjPuKgNOT6YgY6o0qCkSLlcQXlL1BcFqzcCRdwDKOIA0ZgaunSlaXcQDlRJ7jHLZoXMfQLCF8gwsOCwSPR1Yy2WYeyEtq9+ESmKaj2fe///91//3G/06AUA/4nEIRjBVLplDiIRexoCdrN1BGyDI8FCM1qrTodb5v8GQq4a2VKwJFYYU40UbxaWRjdnajxTGJuNPsJO4CpLWdRq9OKJxmHSSpmO880SfUz1RqBWxFGiYTewoQrUPZ04uE3I+hKFKpZYl8j9dR5mFuC4ExEGheVQZoWQ1f/04x440tqNWYmeru2terP/rl5WCJMYcocqQ8rv32997Nn+4lJevlTggzMeEU08eCQNmGFCARGYkDJm8UAZOmHASDQALFAAocwKJwsuAjAYZD+xAOLCJWAQIHBAtpIcRlloTGUwEQnkqC/44ESQYrFQ7WFyAqJlMj6KtVOyMmSMRM4Ad0t0VgpQSUwYIQ063VYTjoQxGBIRuSskjchAzAwvAA0mhILDwrP/7kmT+AvaqOcibmsnAAAANIAAAARSlSzrsvRHYAAA0gAAABFdtZIUImhq+qgChQUwQsC4lrDiHGZkgRkimjWUwn4UtpSAYcEZan/Byx17Mea5ba/BT7P/qQQdMzqw/H8VU4+ZmZPxzooYhGmQiZgpGjSIihZJjYOVF8w0GFatH4VAzOApKQFEBAKmAkYiJAdHtMfQUIRsALQGgb0SuBAZiAG5eY4iPcnS3L3Aa5ZKUHcQhKKnA7ocUyUuVKlTKQVwvmoGDDEXAyK+y7TVkVUWF0BYIginKrGrEDBjoUfoilwXjL7soTGLhIDwhTYC8iQ7JCLaKQUM0ZfClDS0jICEArLE4CkshhxY0tTGmWtU+u5VPtm6A+va5W6+6hbKr/rxqcU8c0uoWAAADcOcDYFMI0UNzQYJM+JQzUJDI4fNRBEULqJpg4fkIuFCuGL8Ctwu8MCDnGxQAeUurMY5KZ+YRwi+gJKFyy4g4nNUDGS5mxg4PM0QO2UavDyTY8FHCpjERcsCCjBhwaCC4Tq0uqm+xFZZioAXIBy3CYwwA3qFjLtX/+5Jk/4711jlJA5nDIAAADSAAAAEZSOUmTecSUAAANIAAAARyIZktwb1ZgwAuOABEASyqqxgOoEjeDBBYwHQIMC5gtQHaAqEIVyJHqUlkQiFIWVXUMJHklQIWQw2GB0LG4uxeMRiJtenKe3H7s5Jvxt8Jo///+36U/+1qQOlAYQzMYDMSBoy4cM8mgYuGduxgzkYgPmIE41FmSFpr5aZl2hzSYUDCW8YMAmGJw0GiJaCr0aqHKSFApd0WGZyJJNMHQDIoMNM4c0WgQ+lmZy5Wmj4aQRdMxziHFoZJGPBkj6qAkAXCTxHrQuoYJK7jeEMFE2EwqOcaCw43mJHGgEHilyRQEEuBBIlGo7BBiiAclDEDBoXqHGuAjKVCHnTGKgAZMiHGnlSWRQBIKfiUCZYC9CE0iwcgjANBI0xdyZQyFpUBOBDkQfUikTpQPGj6ZYCwQvzRIoBwXDFwaFHYsNDBBCJgYJHgiIpi8GGR28JBNwTFIMBgOMMD0uiNBIwkgh4zmFQcIgIPOhxJlNNAEA4WXZafggMmMAMYCQxOEVkQgfTA//uSZPwP9pI6SJuaw1AAAA0gAAABGZDjIA5vI8gAADSAAAAEFjknxDEAmltkjxcACGbCEAlFEo3lQ1ODR7yCWG1qj+2DtkDim4JbALqAwAMg1oPJRsAJQnMR/UUE5AjBcwQJAwxFVS85xQgUoEWAYJcwiIANpMhRAgOgU7oyNYccisVni32Qp1NNbk78qZPOybG3etzgdNStC8QAQzbGDVITChTCA1kIAgSKMWTGQgOpG4no1BYtTZ/zPILqhYEg0G431WYuB0WFosrmTnWaNABV9Yz1Mhf4uAUHPPCXLCwLCQgdvmeowo6ILJqJqTqmatoiILAzKWML/Xu1aCGfxtKKGF0ygmYL4K8cNmieDTk4H0SPplqFooaL0vuyCNLNa+8LPJqAkALhqNwWwZ0X9cWGZTDr+ym1S7osLPUAAAOQj7TUQ0ZXTIDM0B5FEEUFzeEBYwBQmnEGajDlIUUnv9JCmJDlAgHCykY7hgFRJKN2CSuYs/yt4XJrfFgQRCMAAJlhYUOkWbTlYWtE3cFRiqWaGMCY6ai6QCguAiuhJHiraf/7kmTrj/ZTOkgDmcSiAAANIAAAARTs5yoN6yFAAAA0gAAABAyUIKyEJUN0YhoxOEsuCnIOJZthUgwNHxShiALY5CSLJWjDBBQKSYRAdaj8rCxMu2zQFCEbDIUsATlQKKTqRSuJtM4mVooc4bdtx5bKJZVdeR1681rdbf///Wz/vOaBoKj4xUnBkqAKtGKhCYrFyVBhoDBcEmfMGCdjvg0ho/FsvusoO4CoQ4K1aYkjMY+Es6CghBg46ARAQMQmEwoGBiUgjcCVoVEKxF/AK0LzBxAFFC4yOaRoN6FGK8QDByVdmbJnCAoJZBwS/w4RXyabPQ8pexQFPRrBEkhgmOcxuupMyAEQxEUE3EAypQQiGVjKDPQKhRWVWKACMQEAmSBBs4JTp7FnDFExCBBkaQYERggSLsNZw7TcW1jsGPLLc43N0WaVP0HgAVmD+nUHmUrAyMWDxzyZlz74ixA0y4xbA0Qw9bZyxAMcQ6UAgyCxYNJHDheYQEAwQzTEsAcU5QBPBzZkBNCOp5CeXNYaOEF0AwMmCDAhJlSocDBMhb5Dqrn/+5Jk8Y/2DjpJG3rB8AAADSAAAAEYmOkiDmsJwAAANIAAAARZ6GQEDJi0uy2qaiT6Rg8OoAnOXtBjwOFaaWpEYgXDQHiAsIEeqTJfmWQhExEu0YBQ8+NVKDJljILczCGgJCWulPiLl+jDBHQi/yL7is/kJMqrxvpI161FnpfaHb25JNdudAko/QFiAAABQwFgQjDJgoTkexAN1U62Lh4Q3MDITlvwIXddBnKLjUpp/V1y2G7UBPHTvuDjva9h2D9JyEaO8JcY7KrT/LgXB6uUixnKQQbyQMYQI7jkH+UxwI1lKYXRVmqTRdqm6daBbjweCXOcuJIwvBxRUoUQPgR9QtJLTnQsHNY8DvonjdYFRSCxqx61/OJ0ShOjb/5tjrPgQBWi0clLQsGkEoWSKBt2gIBmIWuDSAa+RGl3ZnxicwRKDmIApjgGAqQVWzShAbFyJUEQWaqCExYa6AGDhZAFhRAAQMCB8wgOQiQpOQwADiooDHKrRovnE8XyYuYo5rCABEWIbqTAmMdGBUI0AC+QCjAxJlDCIYxmkMhAwNXIhmAW//uQZO0O9e46yQN6yFAAAA0gAAABFQTlMG1h59AAADSAAAAEJEI8gLgsiIBQd2CgjNJCiKQoYkyI3jjBsBTBACQtAg8yQjnAMCEzSEMnoPoEziwgNdpnZQ2RvGAKRIqpD4gFWGGCJ1lij5lDpNgIZrau4ikMxBa8WaA/rVoAmJwPFaKSoZlCplgxt8ZnCBpL4CjmcXmVFgwsVtACRMxJMABAbRC5AWsYzhQewXMBgIgyBMgAHLJBizzAHASTgAXKTlUrPEcKAoOBcJJ5+mhhAqUSm6YRCYhJakIniVpQAueEIiSoqIXHX1Do0qpkBiwQIkaCpSAoGBAYZVRpqXhIESmF9gEQm6a50CBDCC5E4GBQa3BizXBUYaBkoCFNBYBMF4GUoqjyYJALTDICAYv+vlLcmNa8jk3qJsPP9GIe1ao7TFVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVUQkAAAABtyeDoI3xJFVbDElY3FUshxdro3lfkpEEBSPi2tEIxfLqY5uc1VktsIEzU1Vj6MX2JriEVndOqkCKljwnJT0HLt//uSZPiP9pQ5R4ObyPIAAA0gAAABF/TnIg5rIUgAADSAAAAECBBbk08VFCMSG8YAoLSJwVQ4NGxPKhgfUOnUZxMZUpmWwYLBb0rU+jPbmEFwk14tc2l4SMDgWB5B0QhcVQeWDRw8MEQZP+HC1pjJBqVJo65l7BkjBxRwXbKoA0YIQZgwoCDm2DEzRoAAGAVKVImGCRhoElYssM2zZRSKizsF70MlYC4TKXeQjZ4NFQwZIKiIjpytCL+s0ABEiFtOolsHFCwxIkPEoDBUCFAQg5IpFiaRLBB0Ih0QkcoYIYopvKKKXP6XsgNmpYEIVlylYxUYt5JNLgKDLmlvxYpucpuu0AiSIC9SsaqgJWNKXIXGVc5Cj0cgCWOPG5fDkm+wpQCBb5JhQamQTeRoOa2CgoD5AWucIB4kIgGyaVnHuaaIYOGOtIwDQcwaYBkuAU4aNTWGXgFki+WzDhzJkApYQoSiAx8KIAYkehQCCRZhGPMylI4BCJIggcGAg48SPRrHRDJFBxKsAYqOmHMahsWoLvAwVYUmuL6iwbIAsyQlFUFSpv/7kmTiB/RYNc/TDEtEAAANIAAAARbw6SQN6wFAAAA0gAAABASNYhQEtJoOwFQAcMOOGDeYZowKxZYQ3XwU6LbHI6YSILNAJqQQy0S7JQnGIZKps0gIwCpOSjIJBF+mcJmsKYwjUyJ5Iy7FPXHo///sAUp+AGAggwgEwCA1hQztkLhDtADCEwqCTvQHiIWk8Z4AhsEBQAiSQFhsVB0WELDrbW0LHYYZgKhQmg6TKZSGjEZ0G2Ql2lutq6gc9aK9hYit4GMWsWAEhpNK2MgXwhe60AqMkwWIpoMEVqQpYFDj4L8QzGHiM6u00k5G9U+E0Mo08DJQtAlSbCu4ssEIKNFri9RbEauBjkk0TASA3ITTMZlDG7wKxZ9mXt3cfrqtcXa8khrbtJR//VZ/77aP2l/NKjpxBARvNmWCgQ1dQzQUy5s0q0LygujJiZhBYkZAxY058SEmEMHADiyTD2smcIFBDBFaqWEw4kv6FS0fTFDHqg5ZCgxFjOKGQ25jTQtkLLiMkBABYJczIh49RkGitBS+MENBOXjIg0HDAJLUmOelipT/+5Jk/472cDpHi5rIFAAADSAAAAEYBOkkbesBgAAANIAAAAQ44cpBAGSLA5FEbwpIGFADRGB4BjAltzGBLcl9wa0FFhkIzRCJFP9EBYQsyjgsACRjHHRYAQZzmAXlQAeOKCjKGB0ZuEg4QmEISUEaeMqgB+HoaTOOa509LbVfoBkB94W8MOOyZ1MlKDJ1YKjnWWFw1hg5MyABIgSCAaCS6QhlSiQmUpeq8SYgWRJT1HlxsOaW5VMtdKVwGCPq5KVqABAKpeGEV7D7qBgmXESnSCh1h3BSfT3LarRVGj2VRNeEjK6ZUmYxlUSCFvkeE1EzUmlhVHGAw8imoGmYZwO+FoLoHQJ9DJC64FIAFIGI0LqC7REEwoSYQmrkQFl7XRUHaCXqchn6TD9SxyX8gTWF2rnd//d//0VMQU1FMy4xMDBVVVVVVVVVVVUgAAAA2wa5LX2S/KxFY06WkKYwHgzNYCD2bx121vRVyK0fhF+SXRedKC6RIBJWVIhLa6JpcOhULdiwnWoRYRlAvnjahgqF8kqjkWi8SE7A9kA6LjRSH2rh//uSZPcO9ls7SAOayGAAAA0gAAABFwjrJm3nBMAAADSAAAAEOLi5QWy6TyQPAlnw/Ec1OgBQ5D8J4ASJSJKuLy8/sidmerv7MzKQ9pC5Fz5D/VD7cj/fy9f9bD5HcYv8O5tBcbdh5HDk0ELAtoa8EIMwQVrJYPgEqy5CEto6KiC7iqCZyChKvHRcB5l3snX2oY50eZYex/mEeLiaSLXYc6EHQq3BChyKZQt5I1C7ajDULiWFlOV4ZT+Yc6uVKlTsZStBkihSRez5FdjwSPP5ELT1pEOEwUgpe0nOTMjZD0JB9E9ABapYxDR/H+Xfl6USolZJ21icY1Yl63/4Uz5bVf75Fm/6amCrGUr7JP/I381t3SndHXP/hGtrmR65whtzKgAAB/wWel8AToTOZzlCiUQImATpuBYJcUKySAItJWw8NUwLyKwCEZKB/litNf99kQ5Io0hc3zjJ7MRYHADAXdLsKteNureMObRa7Yl1uQtFMGcnl1MTjrAoCYw2r9o4LlonIQAvWqeGHqUzWM4TD1oNdTkeNsTkAoKaAFAshr5YGv/7kmTrBvT6V047LBz2AAANIAAAARadmzBtPHPYAAA0gAAABD8mSNUbosEqVq6AQv4BnK2hwWctDT7jMbkS63r7BdBEZByu2sjZTW2lKHVNsdf7nnbbwklKm3tUsHzwBXM5jkSgiQE2hAxKIHCjmzAESKVBwxVCCshiGguU0SyE4EhmaEYmIUWFUQTEyRQJa2YqeYC4MKAAo9ujwW5EZ5AwYawIHL/FsQBGx9CaJGgrNTUoiCLAsWRjIGmyCzxcBblS5MkukcIwEBAwLnEUpkAIqQ6QGAkFrIp2b7AQs7hZAEtGAiYoxowGWWKBICDaVBVjLQFYFiDVWDijKRO1kZPEizLTOSsyR2oAKwEEGKKZBhfw1AVahKxSws4iGmgsOud+5NHItG7VGtv/+vZ/v+++v1U58FTKAVMmiM2cBsgYKCaBt6GowZB5lqAkQwVDEDBZYFOAR4L+MJk/zAUCnqCQg68KgI3FxjNFGQE/ZaJNDg4AOW2MjlAA0CVpiBNS0szDsw+JsEl1UWjIJBzEBLEZEjk3qCqeDKVphcqMpvl9wEH/+5Jk/471zDnKm3jAAAAADSAAAAEaxOseTmsggAAANIAAAASjgqxeAJLJThGMBRgxgYQAVgBBVnMkc3WBA8YYhljoQBl4gEMU8iGEaYWsBgoKCFCDRUASpvApmGmqVUQSihxCCBCEwtRwBCFwEMJl/oCaLD7Z4s/eNbIadCFgcTzBHDEmDU1jKKSgOaxeGFXITVBx0BAgVANEEMwUQFihQEChcCCjYGCSQoziiVarhQxW9pYEWGimsjhCh7LisZPQYHRlIhlF4YFRkTUh0GwuYne8wUDR6QTlr1WAQx+nVMQcvlBwYoFwASAtsMIQcRnGBkZRwVmzvByAsiBhwaoKyjgCCwhbMNsmJKBAQIFiDCAEJJgABAiI4WUBCAcSdwgiRQlBD4SY44OhS4TDWahWyJSbXFFZSwBrcO1oxaVVTEFNRVUEIAAAABbQkAjwl4hJaQhSjItBv3hR6XixmBX7hTwNWfNMN1r4iCGYjibE8cXCCJzPg4dtBQB7jMQxx4vo8H5xIpgjKa4SPGzBZLI+BsDNcuFCAhAYiWEkRRBIZzik//uSZPaP9jc6yAOayBIAAA0gAAABGEzpIA5rIcgAADSAAAAEnF5cmIXM9j9ZkoyHGK+uC8oaNMWJaSioEmZC+KWAdGnyoyxYtmu//49CDBw0XqLFMvY9aR9XTasoLWwKtFLQm5lygJIB+pgAKPRUMKhUNHjiUkrVpqZKjBpRwMUspzBg0H0dEllZiAjfu1GWGsHZExKIVWSNyWPLnUfds8PwW27Y3Ao2rt6y6HX0WMndRvu06iVG9rvwSmUztkDTEQGqZQ0wNfrCVbYbdpsrrqQWGeB8HVXO1NpqY7A1lJnQG4aZiV84mCAsR9nqOrPHjXC119nhfx1ozDUloqKe72kO+tDRg6bT9+/5dOvjx/cu+tde+39U+2sdW3iov11uKkxBTUUzLjEwMKqqqqqqqqqqAAAG/OqCRAIGcGBZ1Ky/xrmm+FHy1YVSIxkVElkXoY0NrVrYWAjq0puJqskeVRuVTCpy7aYzpsNdVMJp6D7qKXQiAlKmQtagBUqMzWVYWXtSTBa4ymdTyVTRgcpjFDUfZaEJXaydZaWkrV2ggZC9S//7kmTuBvUCPM1TTHxkAAANIAAAARc85yxtYwAYAAA0gAAABFm2ZYrclytIsAHRIdxgA0NUgYUuSmsX9NgxG9/0ODtwEBpkCJUoQkCzSHGIRh4G7QHt8obxzvJOm2doavoe6kJs0KbObzrHIsUhdsKiJVBAEC2jcVBKPDVXaUXiTJRhQfkAdxbaqaxsX/ZpPPwGCYBEyEL7GnVMlGQ/3o/ycJQQ5iVh54WUMZD5Qhjfn0XBdmqWAzjyUq6Ok+C4KNkLePMuD1tw1lhYEgaaNJSShD5SfqVRnAchTnSTom5oDsJwrW5IEvEnKbYRJbRjBCA6ROTpJunezItiSilWINoXxQBkgcS9bwMEouQdZPECZ7CIqKT7nAgbWZEnIDhYhXU9wJDKZKNgfMbKEdgJBAg4ZMQCERjjhKxCyQDDgFbMiVMWRMUCDRghVHUDDxJYEGgDYYRGYxQJeMEg1hw5oxJlChGYMFJ6GWaNBmu0l0WsZaX8AXodGDgTHNA4BiBGCGu8MaMJkyjFuM3EiyEdMU0gQKSokhsBIA5gCGpUFzS7Qob/+5Jk9wb1/jnKG3nAAAAADSAAAAEVlOcw7WHh0AAANIAAAASX1NcA2SCKEtYA4wIoJKqDt1R1FyTaaN5gqsiCcNKNUk5jmaAxQRlj/Bq0nA6cHQBYMSwDqmlsHaAcMQiA51BdTBYcGgLcRAR1Rwbk2kCu5Grd0DflJ6PCgk4R9Q4RNCBDUxE4sEcRVcRAMpJQsOwJW1GIIHBqt8LaqX7VgamvBl7kzi9qGJoVJHr8dFib9NLlLkxC4vFrjdl2MpeN/WBv00R0EA6ykxYDcxrrrMVepp70sFRzb9sMLbg2rtKGQ0t5oy9YIVprFUirGWJjrULzqpFZgdEOAlkpciq8yaSILlsQdpfMjWHvvfLZLUkchsgyLU6tL+7Ql6mFo6Tcu+naKrYXooVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVTEAAAC7E7Dbq8TagYiEVqa/Im5z7fLkh+LNMsNuVQOGwhp0h2br4061MbH5TBqo9FA00dLnj6OCYVVDYZOMsqiQEj5q4hKSggEkRGBwRpy4fRnKUUm4ljgfiqU6//uSZP+O9pw7RwOayHAAAA0gAAABFkDjKm3LAAAAADSAAAAEcbIQ9mZLrEZSGykSXrKJwhqoVbxc2dwGuCa1O/z1Lf/4///7BioiVo4cfZ6S6U+fPwjSRD2mXbuqffOcTOpjQMMdPfz9FNxAAFmZ8NKmMOwk1pzFUTrNYwPbQ5m+4KGjD4sAu0tmocWQBhYADBihAOj2kwFQkBxghOqQmsyTnHi3IU1dBAQxwUAROQmICU6w4EmIRNCw40C2xfpkqdaYyOIkIX3HhjCLYIzhbN0ChpY0g0KLcKyGcKVDlMzUCMdUxDQEmSMAFIqJCpSFYIZMcMDGiABiiUBGUY1gssEUG0CaJinKFCO5qjhUMRhrjQJzyaaIj7w2/LtQBVpKvExBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUwYQAAABdg/q01iFzVeyqy6LTnodlGKGIq578wS5gVWNiIE2DCi9AiSgCRRgVTKw46YBs6hRWXLoFBmBVBa8ScSSVMmUwQVRQbVIWzemxQpaI2gTyrkV0J6oYCjP/7kmTtA/S+Ns47LHv2AAANIAAAARgo7SAOYyAAAAA0gAAABNzbBtcDtZ53kR8q0JxAhKISDHH9v9BtNI4IqB5jGLKraLsFxY0ReIjkzxGsZc9YFBJIMVEYMTiOgYcJv2m4mC1wbaWfLCKFpmNGAUDiFQBjprGgIMwEWoM4HUQw8RCFVQKDJ2NOEQ6eTvBgZEwQkBhzUUOTWRkIGDLwEJ6vCyilLSB0lfa6VpJ8PqXNR6SGQ9d9VJNphqQwFCM880xGWLRL9udDy8iI0HCqEobBBY4CJHI/A08VVKLBqAwB5cYg4sgYhAGcMrEIHMFwEICK0IDNHoHBg0MSBMsA2zV1DwRUAREQgWqqospzrkrn34+nMkf/0aO3s2085U/iyJdMQU1FMy4xMDBVVVU4sKjBIPCxYFpPVI2ZUKTzkS5KojFTTPEABFIBxhCjNKwOgDgiJxNJOFdy0B0B6xQBkKCBuoc0NLPaZCbDFtMQGj7hggDQLvsgGhguAhygB90kAYoDllGRIFrsBiMlrCPAkFDiWyML2qXrZU6XkZIoOflwgLX/+5Jk7QL0VTXO0wl79AAADSAAAAEZzOkgTmsgEAAANIAAAASI3FMYaIIiDECBgSUgGKaEW3aSJIjgIQWXWHlFoRNDYwmCxWlEFa1whdA0CmIhZEEkqsYOslaqLzPFcuDJIEjUrrS+x0DkgHA5pQ/QpZBWgVpKppEOg8FEAxEvMg2fwhunBZIHTrdYUgABoywrhCAUBHgI0iOFg0ekDU2SAQSaiJiFRQDChyr/OvFREIogikw5OhOZlCky3q4GUjxceUg0pMZh6lkFJfomq4CoZKK7hbFAwLrPmk8Ai0mi0gjAASAc2t0qgl6GCKWKrDpLtmkGZIwtAXRDqDTPOQEs8gOZDMg68swaJ6RQZ6lK2aAFxo/ix02/j8tdjVHbv3xiPvAozsDggfmQR0DS+FyoZMGxkQZhxNMCCQw4OwqLjDgRMiBszaEwgJlQDixGMhAo3FTg7Y4BLi8y0o2JAhgugEdagBUNpsyIiKkwiwodBRmNESJgFGEKgyYKCKgIGSoSoEKS3l6BnYzCDiw6wVKMAgtQWnTUQXMcUYDNCIlSQPLL//uSZPmP9co7SIOZyAAAAA0gAAABFwzrIg5jIAgAADSAAAAEhkpqphhokkTEg0VfpkEsYCxwNgMpRoAKRKDylhgwA8LNlSMe1NoaMOIHsAsPBBZCYEqjF2hABMy/Ji5mRwGJmbIGVCAV0JCgqLFBqJgABo/g4SPBEGMI+/FLb2kC2kZlA5KlAKme9zMlLmrNJoWSwO8Zeh3ZdLHkV7A7ll9GKEJEVz8JBUThzUAeHuNOWSsokblwOmqG2qMoGZzLctE4bIadUbOZK5PQ625oORQNKjPUk+D3bl8tiHLBCEARopjfMIsZKT+TB5F4PcxkPMcvA8QbpYHIYbMwMjdhoYGCLJGBgziSHVhhIkcxa2VpKKEVig+YtAOdNOTVUdMuWLLcQkxBTRMSDRJEngMhS4ONiTALCNZRBMYpQGzSTUYPcMLpFvlGy+jEyhwu6KijgZIApMYHXiVQEz0F0+1NwsOrY2NDFKhCwWOEh28CgMCJMjRKqjtt8wxYZHRYrKHUYhHAEiYo77orJUEwhggFuH7CJGbNwRua8kOARWSqZsrQIP/7kmT/jvboO0aDmdPwAAANIAAAARR44TJtMfDQAAA0gAAABGY8SClkzRKQoRyMYss4KEGVahWjQpcONkJggIMF5DQwlQoE0EuaJMEVy807AULRg0FTRkDW1irrjtil5KgOlAYWJ4UFEogtSSDigGAFrKDECjBIwMQEZsvgcxYhQLTFIZQiOKBwQVlM5Oyv9C8AlDU4yCvsvkOiA4RP0WPYQY5qEKvQcC6BZJAKrSWmTcpncj6GyqoVBRyQ3BBKplBkWS3BfYviDB2Zw+0dzWYA59D0mgWkIyUkwi9n5oLBBQJBCJSzhiEK3KzJ+CEsySVG1gRAWIcRoQxfg4AyQ4PEjAYYYZ4NmDoV2GUOkmIQAqDIoFRzbrJVjQTKKfGzXQVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU/QGHiAydxIgBLCz5bIBqGaCYYaVStYODUUPU8FHIll4lURYCHcRhQ/ehThJosqutOZTpM2II7pcoKipEeWaEgGLL/+5Jk/I/1wjnIg5jIAgAADSAAAAEX7OsgDmshSAAANIAAAAQ6KgbK5CYLLlB01FmMmQiZGtIKiDHl2B46maLFubVEz11n3S8JiojJNhBUB6E1N4vwI2lZkwIcRXCBongJiGi9AYMs8WcLrLqEI0gz3BnocM2OGcG7JfpVyU7+pzMaZw0qFvhL2cSj4KdO9WAyaRAAuw/2GAMBCYiRIJUoipBPV1mqvDClSMObCqzCehOiQaksccPoIXFWn8aWFaeRLTNFpWXFbUp88cTKM0JT5TRJly+K5ygxoRzh0qHsvKqII/HBmJIkpiuP5kSQaj2dkp44H0kCcLSMrMgrbgdccRO9R+eccn2eABQPGCMWcljFxwqfDpqKjQ64mo1cQ4oqAAAAr2O2BIQjk6ULQhDHBAYZZHBg8IGKx8YCIBh8AmIwmFwgYvCwGEhgImmLBaYRJZiYHQAYsUCZ5rRpboziEdKCMcZkMpSCSYKgJCmGDmBCAZKY0mh6jSY04AgAQwFCCB7LVRI9IopCGGCpIAgYYIYgPNKJcsefjwExYszQ5wHm//uSZOAC9XQ5yQN5wFIAAA0gAAABEfTjO1WGABAAADSCgAAELRIupJjyM0x0zAcHLDHgioiIkogWlrwYPNMNElxgEJUVtMNmiR5BSI15MzY00SdLREc1okwCkRGzCwDevDSDjTDxJwISIqEM6iIt5kWZtTgGoIpgoLPPzT/5jRhCTMWKLrMgytf6liw6YaEyExnf3fZMp8Xq9C/ssSkQkGzId+R64HXAa5gGKRSWNFZVLo6piXdLSlyUAqgSplAkVkAyAZIpYzXodltmUv61lnLOWGs6Xcu5nTlP8/zlOVOyq++qwqYqxX5xlTlM6Z0u5YZQJFZIp+X2Yk/UdUxQklsS5KxpG4KpViwKyItUAhMFZkiskU06PrlQkl3VTNel2b6pylnTEUzJMIiyRZIskWSLTF4kHkVl2tdh3mVNaCpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqv/7kmT/gAfYPkgWc0AAAAANIMAAABQ45xIdnAAIAAA0g4AABKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqpMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+5JkQI/wAABpAAAACAAADSAAAAEAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqTEFNRTMuMTAwqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq//uSZECP8AAAaQAAAAgAAA0gAAABAAABpAAAACAAADSAAAAEqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",WSe=({option:n})=>{switch(n){case"info":return Re.createElement(qSe,{width:32,height:32,variant:"32x32_4"});case"question":return Re.createElement(vSe,{width:32,height:32,variant:"32x32_4"});case"warning":return Re.createElement(mSe,{width:32,height:32,variant:"32x32_4"});case"error":default:return Re.createElement(TSe,{width:32,height:32,variant:"32x32_4"})}},nF=we.forwardRef(({type:n="error",message:e,hasSound:t,...r},i)=>(t&&we.useEffect(()=>{new Audio(KSe).play()},[]),Re.createElement(jl,{height:"120",hasWindowButton:!1,...r,ref:i},Re.createElement("div",{className:zSe},Re.createElement("div",{className:DSe},Re.createElement(WSe,{option:n})),Re.createElement("div",{className:USe},e)))));nF.defaultProps={type:"error",buttons:[{value:"OK",onClick:()=>{}}],buttonsAlignment:"center",positionOffset:{x:typeof window>"u"?0:Math.floor(window.innerWidth/2)-150,y:typeof window>"u"?0:Math.floor(window.innerHeight/2)-100},hasSound:!1};var FSe=pA({defaultClassName:"r95_vljy2n0",variantClassNames:{circle:{true:"r95_vljy2n1"}},defaultVariants:{},compoundVariants:[]}),VSe="r95_vljy2n2";const jSe=we.forwardRef(({src:n,srcSet:e,alt:t,circle:r,children:i,size:s="48px",...o},a)=>Re.createElement(kd,{className:FSe({circle:r}),ref:a,...o,size:s},n||e?Re.createElement("img",{className:VSe,src:n,srcSet:e,alt:t}):i));var HSe="r95_6vt7xv2",YSe="r95_6vt7xv0",GSe="r95_6vt7xv3",JSe="r95_6vt7xv1";const QSe=we.forwardRef(({children:n,style:e,label:t,disabled:r=!1,...i},s)=>Re.createElement("label",{style:e,className:GSe},Re.createElement("input",{className:HSe,type:"checkbox",disabled:r,...i,ref:s}),Re.createElement("span",{className:YSe}),Re.createElement("span",{className:JSe},n||t))),ZSe=()=>ye.jsx(ye.Fragment,{children:ye.jsxs("div",{className:"loading",children:[ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{}),ye.jsx("div",{})]})});function rF(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=rF(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Iu(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=rF(n))&&(r&&(r+=" "),r+=e);return r}const bm=n=>typeof n=="number"&&!isNaN(n),Xl=n=>typeof n=="string",uo=n=>typeof n=="function",n0=n=>Xl(n)||uo(n)?n:null,eP=n=>we.isValidElement(n)||Xl(n)||uo(n)||bm(n);function XSe(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:i}=n;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${t}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,t)})})}function gA(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=n;return function(o){let{children:a,position:c,preventExitTransition:u,done:l,nodeRef:d,isIn:b,playToast:p}=o;const g=r?`${e}--${c}`:e,y=r?`${t}--${c}`:t,S=we.useRef(0);return we.useLayoutEffect(()=>{const w=d.current,_=g.split(" "),R=x=>{x.target===d.current&&(p(),w.removeEventListener("animationend",R),w.removeEventListener("animationcancel",R),S.current===0&&x.type!=="animationcancel"&&w.classList.remove(..._))};w.classList.add(..._),w.addEventListener("animationend",R),w.addEventListener("animationcancel",R)},[]),we.useEffect(()=>{const w=d.current,_=()=>{w.removeEventListener("animationend",_),i?XSe(w,l,s):l()};b||(u?_():(S.current=1,w.className+=` ${y}`,w.addEventListener("animationend",_)))},[b]),Re.createElement(Re.Fragment,null,a)}}function HN(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const cs=new Map;let wm=[];const tP=new Set,eAe=n=>tP.forEach(e=>e(n)),iF=()=>cs.size>0;function sF(n,e){var t;if(e)return!((t=cs.get(e))==null||!t.isToastActive(n));let r=!1;return cs.forEach(i=>{i.isToastActive(n)&&(r=!0)}),r}function oF(n,e){eP(n)&&(iF()||wm.push({content:n,options:e}),cs.forEach(t=>{t.buildToast(n,e)}))}function YN(n,e){cs.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function tAe(n){const{subscribe:e,getSnapshot:t,setProps:r}=we.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const c=function(l,d,b){let p=1,g=0,y=[],S=[],w=[],_=d;const R=new Map,x=new Set,K=()=>{w=Array.from(R.values()),x.forEach(Q=>Q())},G=Q=>{S=Q==null?[]:S.filter(ie=>ie!==Q),K()},M=Q=>{const{toastId:ie,onOpen:ee,updateId:X,children:oe}=Q.props,z=X==null;Q.staleId&&R.delete(Q.staleId),R.set(ie,Q),S=[...S,Q.props.toastId].filter(m=>m!==Q.staleId),K(),b(HN(Q,z?"added":"updated")),z&&uo(ee)&&ee(we.isValidElement(oe)&&oe.props)};return{id:l,props:_,observe:Q=>(x.add(Q),()=>x.delete(Q)),toggle:(Q,ie)=>{R.forEach(ee=>{ie!=null&&ie!==ee.props.toastId||uo(ee.toggle)&&ee.toggle(Q)})},removeToast:G,toasts:R,clearQueue:()=>{g-=y.length,y=[]},buildToast:(Q,ie)=>{if((E=>{let{containerId:Y,toastId:be,updateId:Ae}=E;const ve=Y?Y!==l:l!==1,De=R.has(be)&&Ae==null;return ve||De})(ie))return;const{toastId:ee,updateId:X,data:oe,staleId:z,delay:m}=ie,v=()=>{G(ee)},T=X==null;T&&g++;const V={..._,style:_.toastStyle,key:p++,...Object.fromEntries(Object.entries(ie).filter(E=>{let[Y,be]=E;return be!=null})),toastId:ee,updateId:X,data:oe,closeToast:v,isIn:!1,className:n0(ie.className||_.toastClassName),bodyClassName:n0(ie.bodyClassName||_.bodyClassName),progressClassName:n0(ie.progressClassName||_.progressClassName),autoClose:!ie.isLoading&&(C=ie.autoClose,N=_.autoClose,C===!1||bm(C)&&C>0?C:N),deleteToast(){const E=R.get(ee),{onClose:Y,children:be}=E.props;uo(Y)&&Y(we.isValidElement(be)&&be.props),b(HN(E,"removed")),R.delete(ee),g--,g<0&&(g=0),y.length>0?M(y.shift()):K()}};var C,N;V.closeButton=_.closeButton,ie.closeButton===!1||eP(ie.closeButton)?V.closeButton=ie.closeButton:ie.closeButton===!0&&(V.closeButton=!eP(_.closeButton)||_.closeButton);let Z=Q;we.isValidElement(Q)&&!Xl(Q.type)?Z=we.cloneElement(Q,{closeToast:v,toastProps:V,data:oe}):uo(Q)&&(Z=Q({closeToast:v,toastProps:V,data:oe}));const L={content:Z,props:V,staleId:z};_.limit&&_.limit>0&&g>_.limit&&T?y.push(L):bm(m)?setTimeout(()=>{M(L)},m):M(L)},setProps(Q){_=Q},setToggle:(Q,ie)=>{R.get(Q).toggle=ie},isToastActive:Q=>S.some(ie=>ie===Q),getSnapshot:()=>_.newestOnTop?w.reverse():w}}(o,s,eAe);cs.set(o,c);const u=c.observe(a);return wm.forEach(l=>oF(l.content,l.options)),wm=[],()=>{u(),cs.delete(o)}},setProps(a){var c;(c=cs.get(o))==null||c.setProps(a)},getSnapshot(){var a;return(a=cs.get(o))==null?void 0:a.getSnapshot()}}}(n)).current;r(n);const i=we.useSyncExternalStore(e,t,t);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:c}=a.props;o.has(c)||o.set(c,[]),o.get(c).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:sF,count:i==null?void 0:i.length}}function nAe(n){const[e,t]=we.useState(!1),[r,i]=we.useState(!1),s=we.useRef(null),o=we.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:c,closeToast:u,onClick:l,closeOnClick:d}=n;var b,p;function g(){t(!0)}function y(){t(!1)}function S(R){const x=s.current;o.canDrag&&x&&(o.didMove=!0,e&&y(),o.delta=n.draggableDirection==="x"?R.clientX-o.start:R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1),x.style.transform=`translate3d(${n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,x.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",w);const R=s.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),n.closeToast(),void n.collapseAll();R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}(p=cs.get((b={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||p.setToggle(b.id,b.fn),we.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",y)}},[n.pauseOnFocusLoss]);const _={onPointerDown:function(R){if(n.draggable===!0||n.draggable===R.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",w);const x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",n.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=x.offsetWidth*(n.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=x.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(R){const{top:x,bottom:K,left:G,right:M}=s.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&n.pauseOnHover&&R.clientX>=G&&R.clientX<=M&&R.clientY>=x&&R.clientY<=K?y():g()}};return a&&c&&(_.onMouseEnter=y,n.stacked||(_.onMouseLeave=g)),d&&(_.onClick=R=>{l&&l(R),o.canCloseOnClick&&u()}),{playToast:g,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:_}}function rAe(n){let{delay:e,isRunning:t,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:c,progress:u,rtl:l,isIn:d,theme:b}=n;const p=s||c&&u===0,g={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(g.transform=`scaleX(${u})`);const y=Iu("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${b}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":l}),S=uo(o)?o({rtl:l,type:i,defaultClassName:y}):Iu(y,o),w={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{d&&r()}};return Re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${b} Toastify__progress-bar--${i}`}),Re.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:S,style:g,...w}))}let iAe=1;const aF=()=>""+iAe++;function sAe(n){return n&&(Xl(n.toastId)||bm(n.toastId))?n.toastId:aF()}function dy(n,e){return oF(n,e),e.toastId}function Qw(n,e){return{...e,type:e&&e.type||n,toastId:sAe(e)}}function Jb(n){return(e,t)=>dy(e,Qw(n,t))}function jn(n,e){return dy(n,Qw("default",e))}jn.loading=(n,e)=>dy(n,Qw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),jn.promise=function(n,e,t){let r,{pending:i,error:s,success:o}=e;i&&(r=Xl(i)?jn.loading(i,t):jn.loading(i.render,{...t,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(l,d,b)=>{if(d==null)return void jn.dismiss(r);const p={type:l,...a,...t,data:b},g=Xl(d)?{render:d}:d;return r?jn.update(r,{...p,...g}):jn(g.render,{...p,...g}),b},u=uo(n)?n():n;return u.then(l=>c("success",o,l)).catch(l=>c("error",s,l)),u},jn.success=Jb("success"),jn.info=Jb("info"),jn.error=Jb("error"),jn.warning=Jb("warning"),jn.warn=jn.warning,jn.dark=(n,e)=>dy(n,Qw("default",{theme:"dark",...e})),jn.dismiss=function(n){(function(e){var t;if(iF()){if(e==null||Xl(t=e)||bm(t))cs.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=cs.get(e.containerId);r?r.removeToast(e.id):cs.forEach(i=>{i.removeToast(e.id)})}}else wm=wm.filter(r=>e!=null&&r.options.toastId!==e)})(n)},jn.clearWaitingQueue=function(n){n===void 0&&(n={}),cs.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},jn.isActive=sF,jn.update=function(n,e){e===void 0&&(e={});const t=((r,i)=>{var s;let{containerId:o}=i;return(s=cs.get(o||1))==null?void 0:s.toasts.get(r)})(n,e);if(t){const{props:r,content:i}=t,s={delay:100,...r,...e,toastId:e.toastId||n,updateId:aF()};s.toastId!==n&&(s.staleId=n);const o=s.render||i;delete s.render,dy(o,s)}},jn.done=n=>{jn.update(n,{progress:1})},jn.onChange=function(n){return tP.add(n),()=>{tP.delete(n)}},jn.play=n=>YN(!0,n),jn.pause=n=>YN(!1,n);const oAe=typeof window<"u"?we.useLayoutEffect:we.useEffect,Qb=n=>{let{theme:e,type:t,isLoading:r,...i}=n;return Re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...i})},uE={info:function(n){return Re.createElement(Qb,{...n},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Re.createElement(Qb,{...n},Re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Re.createElement(Qb,{...n},Re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Re.createElement(Qb,{...n},Re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Re.createElement("div",{className:"Toastify__spinner"})}},aAe=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:i,playToast:s}=nAe(n),{closeButton:o,children:a,autoClose:c,onClick:u,type:l,hideProgressBar:d,closeToast:b,transition:p,position:g,className:y,style:S,bodyClassName:w,bodyStyle:_,progressClassName:R,progressStyle:x,updateId:K,role:G,progress:M,rtl:Q,toastId:ie,deleteToast:ee,isIn:X,isLoading:oe,closeOnClick:z,theme:m}=n,v=Iu("Toastify__toast",`Toastify__toast-theme--${m}`,`Toastify__toast--${l}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":z}),T=uo(y)?y({rtl:Q,position:g,type:l,defaultClassName:v}):Iu(v,y),V=function(L){let{theme:E,type:Y,isLoading:be,icon:Ae}=L,ve=null;const De={theme:E,type:Y};return Ae===!1||(uo(Ae)?ve=Ae({...De,isLoading:be}):we.isValidElement(Ae)?ve=we.cloneElement(Ae,De):be?ve=uE.spinner():(Ge=>Ge in uE)(Y)&&(ve=uE[Y](De))),ve}(n),C=!!M||!c,N={closeToast:b,type:l,theme:m};let Z=null;return o===!1||(Z=uo(o)?o(N):we.isValidElement(o)?we.cloneElement(o,N):function(L){let{closeToast:E,theme:Y,ariaLabel:be="close"}=L;return Re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Y}`,type:"button",onClick:Ae=>{Ae.stopPropagation(),E(Ae)},"aria-label":be},Re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(N)),Re.createElement(p,{isIn:X,done:ee,position:g,preventExitTransition:t,nodeRef:r,playToast:s},Re.createElement("div",{id:ie,onClick:u,"data-in":X,className:T,...i,style:S,ref:r},Re.createElement("div",{...X&&{role:G},className:uo(w)?w({type:l}):Iu("Toastify__toast-body",w),style:_},V!=null&&Re.createElement("div",{className:Iu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!oe})},V),Re.createElement("div",null,a)),Z,Re.createElement(rAe,{...K&&!C?{key:`pb-${K}`}:{},rtl:Q,theme:m,delay:c,isRunning:e,isIn:X,closeToast:b,hide:d,type:l,style:x,className:R,controlledProgress:C,progress:M||0})))},yA=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},cAe=gA(yA("bounce",!0));gA(yA("slide",!0));gA(yA("zoom"));gA(yA("flip"));const uAe={position:"top-right",transition:cAe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function lAe(n){let e={...uAe,...n};const t=n.stacked,[r,i]=we.useState(!0),s=we.useRef(null),{getToastToRender:o,isToastActive:a,count:c}=tAe(e),{className:u,style:l,rtl:d,containerId:b}=e;function p(y){const S=Iu("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":d});return uo(u)?u({position:y,rtl:d,defaultClassName:S}):Iu(S,n0(u))}function g(){t&&(i(!0),jn.play())}return oAe(()=>{if(t){var y;const S=s.current.querySelectorAll('[data-in="true"]'),w=12,_=(y=e.position)==null?void 0:y.includes("top");let R=0,x=0;Array.from(S).reverse().forEach((K,G)=>{const M=K;M.classList.add("Toastify__toast--stacked"),G>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=_?"top":"bot");const Q=R*(r?.2:1)+(r?0:w*G);M.style.setProperty("--y",`${_?Q:-1*Q}px`),M.style.setProperty("--g",`${w}`),M.style.setProperty("--s",""+(1-(r?x:0))),R+=M.offsetHeight,x+=.025})}},[r,c,t]),Re.createElement("div",{ref:s,className:"Toastify",id:b,onMouseEnter:()=>{t&&(i(!1),jn.pause())},onMouseLeave:g},o((y,S)=>{const w=S.length?{...l}:{...l,pointerEvents:"none"};return Re.createElement("div",{className:p(y),style:w,key:`container-${y}`},S.map(_=>{let{content:R,props:x}=_;return Re.createElement(aAe,{...x,stacked:t,collapseAll:g,isIn:a(x.toastId,x.containerId),style:x.style,key:`toast-${x.key}`},R)}))}))}window.Buffer=H.Buffer;let Xd=!1;const dAe=()=>{const[n,e]=we.useState(!1),[t,r]=we.useState(),[,i]=we.useState(!1),[s,o]=we.useState([]),[a,c]=we.useState(!1),[u,l]=we.useState(!1),[d,b]=we.useState("Coming Soon!"),[p,g]=we.useState(!1),[y,S]=we.useState(!1),[w,_]=we.useState(0),[R,x]=we.useState(!1);we.useEffect(()=>{const X=Ag();return X!=null&&X.isConnected?(r({address:X.publicKey.toString()}),M(X.publicKey.toString()),i(!0)):localStorage.getItem("disconnect")=="false"&&(X==null||X.connect().then(m=>{r({address:m.publicKey.toString()}),M(m.publicKey.toString()),i(!0)}).catch(m=>{console.log(m)})),localStorage.getItem("webInit")||(g(!0),Xd=!0),document.addEventListener("keydown",ee),()=>{document.removeEventListener("keydown",ee)}},[]),we.useEffect(()=>{if(s.length==0)_(0);else{const X=s.filter(oe=>oe.active);X.length>0?_(X.length):_(0)}},[s]);const K=async(X,oe)=>{const z=new ke(X),[m]=await ke.findProgramAddress([H.Buffer.from("metadata"),Dv.metadata.MetadataProgram.PUBKEY.toBuffer(),z.toBuffer()],Dv.metadata.MetadataProgram.PUBKEY),v=await oe.getAccountInfo(m);if(v){const T=Dv.metadata.MetadataData.deserialize(v.data);try{return(await ri.get(T.data.uri)).data}catch{return null}}else return null},G=(X,oe)=>{oe&&oe=="success"?jn.success(X,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"}):oe&&oe=="error"?jn.error(X,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"}):oe&&oe=="warn"?jn.warn(X,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"}):jn(X,{position:"bottom-left",autoClose:3e3,toastId:"custom-id-yes"})},M=async X=>{e(!0);const oe=new p1(iE,{commitment:"confirmed",confirmTransactionInitialTimeout:6e4}),m=(await oe.getParsedTokenAccountsByOwner(new ke(X),{programId:Cs})).value.filter(L=>{const E=L.account.data.parsed.info.mint;if(!Bwe[E])return L});if(m.length==0)return;const T=`https://lite-api.jup.ag/price/v2?ids=${m.map(L=>L.account.data.parsed.info.mint).join(",")}`,C=(await ri.get(T)).data.data;let N=0;for(const L of m){const E=await K(L.account.data.parsed.info.mint,oe);E&&typeof E!="string"?L.info=E:L.info={symbol:C[L.account.data.parsed.info.mint].mintSymbol},C[L.account.data.parsed.info.mint]?(L.price=C[L.account.data.parsed.info.mint].price,L.totalPrice=C[L.account.data.parsed.info.mint].price*L.account.data.parsed.info.tokenAmount.uiAmount,L.totalPrice>.01?(L.active=!1,N++):(L.active=!0,N++)):(L.price=0,L.totalPrice=0,L.active=!0)}_(N);const Z=m.sort((L,E)=>L.totalPrice-E.totalPrice);o(Z),e(!1)},Q=async(X,oe,z)=>{const m=[];for(const V of X){const C=V;if(C.account.data.parsed.info.tokenAmount.uiAmount==0){const N=sn.createCloseAccountInstruction(Cs,C.pubkey,new ke(oe),new ke(oe),[]);m.push(N)}else{const N=new ke(C.account.data.parsed.info.mint),Z=C.pubkey,L=new ke(NN);let E;try{E=(await Twe(z,N,L)).address}catch{E=await sn.getAssociatedTokenAddress(qy,Cs,N,L);const ve=sn.createAssociatedTokenAccountInstruction(qy,Cs,N,E,L,new ke(oe));m.push(ve)}const Y=sn.createTransferCheckedInstruction(Cs,Z,N,E,new ke(oe),[],C.account.data.parsed.info.tokenAmount.uiAmount*Math.pow(10,C.account.data.parsed.info.tokenAmount.decimals),C.account.data.parsed.info.tokenAmount.decimals);m.push(Y);const be=sn.createCloseAccountInstruction(Cs,C.pubkey,new ke(oe),new ke(oe),[]);m.push(be)}}const v=306e3*X.length,T=br.transfer({fromPubkey:new ke(oe),toPubkey:new ke(NN),lamports:Math.floor(v)});return m.push(T),m},ie=async(X,oe,z)=>{const m=Ag();try{const{blockhash:v}=await z.getLatestBlockhash(),T=new r4({payerKey:new ke(oe),recentBlockhash:v,instructions:X}).compileToV0Message(),V=new s4(T),{signature:C}=await m.signAndSendTransaction(V);console.log(C)}catch(v){G(v.message,"error")}},ee=X=>{if(X.key==="Enter"&&Xd){const oe=Ag();oe!=null&&oe.isConnected?(g(!1),Xd=!1,S(!0),localStorage.setItem("webInit","true")):(g(!1),Xd=!1,l(!0),b("Connect your wallet"))}};return ye.jsxs("div",{className:"page home",children:[ye.jsxs("div",{className:"container",children:[ye.jsxs("ul",{className:"desktop-item",onDoubleClick:()=>{t!=null&&t.address?S(!0):(l(!0),b("Connect your wallet"))},children:[ye.jsx("img",{className:"scale",src:Nwe,alt:""}),ye.jsx("p",{children:"Boosh"})]}),ye.jsxs("ul",{className:"desktop-item",children:[ye.jsx("img",{src:Lwe,alt:"",onDoubleClick:()=>{l(!0),b("Coming Soon!")}}),ye.jsx("p",{children:"Referral"})]}),ye.jsxs("ul",{className:"desktop-item",onDoubleClick:()=>{x(!0)},children:[ye.jsx("img",{src:Owe,alt:""}),ye.jsx("p",{children:"Minesweeper"})]})]}),ye.jsx("div",{className:"ljt"}),ye.jsxs("div",{className:"bottom",children:[ye.jsxs("div",{className:"left",children:[ye.jsx("p",{className:"startbtn",onClick:()=>{g(!0),Xd=!0},children:ye.jsx("img",{src:Mwe,alt:"start"})}),ye.jsxs("div",{className:"content-btn",onClick:async()=>{t!=null&&t.address,c(!0)},children:[ye.jsx("span",{className:"btn-text"}),ye.jsx("img",{className:"btn-icon",src:qwe,alt:""}),ye.jsx("span",{className:"btn-text",children:t!=null&&t.address?Cwe(t==null?void 0:t.address):"Connect Wallet"})]})]}),ye.jsx("div",{className:"right",children:ye.jsxs("div",{className:"bottomIcon-btn-list",children:[ye.jsx("a",{className:"tg",href:"www.google.com",target:"_blank"}),ye.jsx("a",{className:"x",href:"www.google.com",target:"_blank"}),ye.jsx("a",{className:"dis",href:"www.google.com",target:"_blank"})]})})]}),u&&ye.jsx(nF,{title:"Message",type:"info",minWidth:"300px",message:d,onClose:()=>{l(!1)},hasSound:!0,buttons:[{value:"OK",onClick:()=>{l(!1),d=="Connect your wallet"&&c(!0)}}]}),p?ye.jsx(jl,{className:"game",width:"1051.7px",height:"600px",title:"Boosh",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-525,y:(window.innerHeight||document.documentElement.clientHeight)/2-400},onClose:()=>{g(!1),Xd=!1},children:ye.jsxs("div",{className:"dego-container",children:[ye.jsxs("pre",{children:[ye.jsx("pre",{className:"custom",children:"======================================================================================================"}),"##     ##",ye.jsx("br",{}),"##    ##",ye.jsx("br",{}),"##    ##",ye.jsx("br",{}),"##    ##",ye.jsx("br",{}),"##    ##",ye.jsx("br",{}),"##     ##",ye.jsx("pre",{className:"custom",children:"======================================================================================================"})]}),ye.jsxs("p",{className:"title-1 ",children:["A MESSAGE FROM THE ANTI-MEME MEME COIN",ye.jsx("br",{}),ye.jsx("br",{}),"Degens:",ye.jsx("br",{}),ye.jsx("br",{}),"- Had enough with all the shitcoin airdrops spamming your wallet?",ye.jsx("br",{}),"- Bought shitcoins, never made it, don't want to see them again?",ye.jsx("br",{}),"- Got rugged by your favorite celebrity, or your favorite PRESIDENT?",ye.jsx("br",{}),"- Did you know shitcoin devs paid fees for space on Solana to dump shit to your address?",ye.jsx("br",{}),ye.jsx("br",{}),"YOU HAVE FOUND YOUR SALVATION",ye.jsx("br",{}),ye.jsx("br",{}),"The Boox-of-Trash project is the recycle bin, the graveyard, the monumnet of shame, for all your good [yes/no?] memories.",ye.jsx("br",{}),"You will get free $SOL for every single kind of shitcoin you once hold.",ye.jsx("br",{}),"How do you empty your shitcoin balance?",ye.jsx("br",{}),"Burn it? Move somewhere else? Transfer to us?",ye.jsx("br",{}),"Dont care.",ye.jsx("br",{}),ye.jsx("br",{}),"Empty the balance, recover space with us, receive $SOL FOR FREE, and give your trashes another shot!",ye.jsx("br",{}),"We only take 15% of the rent fees you recover!",ye.jsx("br",{}),ye.jsx("br",{}),"YOU READY?",ye.jsx("br",{}),"[PRESS ENTER TO CONTINUE] ",ye.jsx("br",{})]})]})}):null,a?ye.jsx(jl,{className:"game",width:"auto",height:"auto",title:"Connect Wallet",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-242,y:(window.innerHeight||document.documentElement.clientHeight)/2-180},onClose:()=>{c(!1)},children:ye.jsx("div",{className:"account-container",children:ye.jsxs("div",{className:"account-main",children:[ye.jsxs("div",{className:"account-router",children:[ye.jsx("div",{className:"router-text",children:"Connect Wallet"}),t!=null&&t.address?ye.jsx(XR,{onClick:()=>{Ag().disconnect(),r({address:""}),localStorage.setItem("disconnect","true"),G("Wallet DisConnect Successfully","success")},children:"Disconnect"}):null]}),t!=null&&t.address?ye.jsx("div",{className:"address-bar",children:t==null?void 0:t.address}):ye.jsx(ye.Fragment,{children:ye.jsx(XR,{onClick:async()=>{const X=Ag();localStorage.setItem("disconnect","false"),X.isConnected||X.connect().then(oe=>{r({address:oe.publicKey.toString()}),c(!1),M(oe.publicKey.toString()),G("Wallet Connected Successfully","success")}).catch(oe=>{G(oe.message,"error")})},children:ye.jsxs("div",{className:"block",children:[ye.jsx("img",{className:"Phantom",src:$we,alt:""}),ye.jsx("span",{children:"Phantom"})]})})}),ye.jsxs("div",{className:"func-bar",children:[ye.jsx("p",{className:"func-item copy-btn",onClick:()=>{navigator.clipboard.writeText(t==null?void 0:t.address),c(!1)},children:"Copy Address"}),ye.jsx("a",{className:"func-item net",href:`https://solscan.io/account/${t==null?void 0:t.address}`,target:"_blank",children:"View On Solscan"})]})]})})}):null,y?ye.jsx(jl,{className:"game",width:"auto",height:"auto",title:"Boosh",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-500,y:(window.innerHeight||document.documentElement.clientHeight)/2-400},onClose:()=>{S(!1)},children:ye.jsx("div",{className:"account-container1",children:ye.jsxs("div",{className:"account-main",children:[ye.jsxs("div",{className:"table",children:[ye.jsxs("div",{className:"header",children:[ye.jsx("div",{className:"tb"}),ye.jsx("div",{className:"tb"}),ye.jsx("div",{className:"tb count",children:"VALUE"}),ye.jsx("div",{className:"tb count",children:"PRICE"}),ye.jsx("div",{className:"tb",style:{width:"50px"},children:"TOKEN"}),ye.jsx("div",{className:"tb name",children:"SYMBOL"}),ye.jsx("div",{className:"tb count",children:"AMOUNT"}),ye.jsx("div",{className:"tb"}),ye.jsx("div",{className:"tb"}),ye.jsx("div",{className:"tb"})]}),ye.jsxs("div",{className:"list",children:[s.map((X,oe)=>{var z,m;return ye.jsxs("div",{className:oe%2==0?"item line":"item",onClick:()=>{X.active?X.active=!1:X.active=!0,o([...s])},children:[ye.jsx(QSe,{checked:X.active,style:{width:"20px",height:"20px"}}),ye.jsxs("span",{className:"count",children:[X.totalPrice>.01?X.totalPrice.toFixed(2):"-"," "]}),ye.jsx("span",{className:"count",style:{width:"300px"},children:Number(X.price)>0?X.price:"-"}),ye.jsx(jSe,{width:"50px",height:"50px",src:(z=X==null?void 0:X.info)==null?void 0:z.image,alt:"photo",circle:!0}),ye.jsx("span",{className:"name",children:(m=X==null?void 0:X.info)==null?void 0:m.symbol}),ye.jsx("span",{className:"count",children:X.account.data.parsed.info.tokenAmount.uiAmount}),ye.jsx("div",{className:"btn",onClick:async v=>{v.stopPropagation();try{const T=new p1(iE,{commitment:"confirmed",confirmTransactionInitialTimeout:6e4}),V=s.filter(N=>N.account.data.parsed.info.mint==X.account.data.parsed.info.mint),C=t==null?void 0:t.address;if(C){const N=await Q(V,C,T);await ie(N,C,T)}}catch{}},children:"Clean Up"})]},oe)}),s.length==0?ye.jsx(ye.Fragment,{children:ye.jsxs("div",{className:"empty",children:[ye.jsx("span",{children:"NO DATA"}),n?ye.jsx(ZSe,{}):null]})}):null]})]}),ye.jsxs("div",{className:"bBottom",children:[ye.jsxs("div",{className:"max",children:["Max Selection ",w,"/20"]}),ye.jsx("button",{className:"btn",onClick:async()=>{try{const X=new p1(iE,{commitment:"confirmed",confirmTransactionInitialTimeout:6e4}),oe=s.filter(m=>m.active),z=t==null?void 0:t.address;if(z){const m=await Q(oe,z,X);await ie(m,z,X),G("Transaction Successful","success")}}catch(X){G(X.message,"error")}},children:"Clean Up"})]})]})})}):null,R&&ye.jsx(jl,{className:"game",width:"680px",height:"680px",title:"Minesweeper",defaultPosition:{x:(window.innerWidth||document.documentElement.clientWidth)/2-340,y:(window.innerHeight||document.documentElement.clientHeight)/2-380},onClose:()=>{x(!1)},onHelp:()=>{console.log("Help!")},buttons:[{value:"Ok",onClick:()=>{x(!1)}},{value:"Cancel",onClick:()=>{x(!1)}}],children:ye.jsx("minesweeper-game",{rows:"14",columns:"16",bombs:"99"})}),ye.jsx(lAe,{closeButton:!1,hideProgressBar:!1,theme:"light"})]})},hAe=tH([{path:"/",element:ye.jsx(dAe,{})}]);lE.createRoot(document.getElementById("root")).render(ye.jsx(Re.StrictMode,{children:ye.jsx(lH,{router:hAe})}));
